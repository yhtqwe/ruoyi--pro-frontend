import{b1 as d,S as i,L as n}from"./index-2b36f9e3.js";import"./index-238a0b12.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import"./index-ab29420a.js";import"./sortable.esm-f208c0d8.js";import{u as r}from"./useRender-e7048bde.js";import{D as t,g as o}from"./dict-d92cc9bc.js";const P=[{title:"模板编码",dataIndex:"code",width:180},{title:"模板名称",dataIndex:"name",width:100},{title:"模板内容",dataIndex:"content",width:300},{title:"短信类型",dataIndex:"type",width:180,customRender:({text:e})=>r.renderDict(e,t.SYSTEM_SMS_TEMPLATE_TYPE)},{title:"开启状态",dataIndex:"status",width:180,customRender:({text:e})=>r.renderDict(e,t.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"短信 API 的模板编号",dataIndex:"apiTemplateId",width:180},{title:"短信渠道",dataIndex:"channelCode",width:180,customRender:({text:e})=>r.renderDict(e,t.SYSTEM_SMS_CHANNEL_CODE)},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>r.renderDate(e)}],b=[{label:"短信类型",field:"type",component:"Select",componentProps:{options:o(t.SYSTEM_SMS_TEMPLATE_TYPE)},colProps:{span:8}},{label:"开启状态",field:"status",component:"Select",componentProps:{options:o(t.COMMON_STATUS)},colProps:{span:8}},{label:"模板编码",field:"code",component:"Input",colProps:{span:8}},{label:"短信 API 的模板编号",field:"apiTemplateId",component:"Input",colProps:{span:8}},{label:"短信渠道",field:"channelId",component:"Select",componentProps:{options:o(t.SYSTEM_SMS_CHANNEL_CODE)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],h=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"短信渠道编号",field:"channelId",required:!0,component:"Input"},{label:"短信类型",field:"type",component:"Select",componentProps:{options:o(t.SYSTEM_SMS_TEMPLATE_TYPE)}},{label:"模板编号",field:"code",required:!0,component:"Input"},{label:"模板名称",field:"name",required:!0,component:"Input"},{label:"模板内容",field:"content",required:!0,component:"Input"},{label:"开启状态",field:"status",component:"Select",componentProps:{options:o(t.COMMON_STATUS)}},{label:"短信 API 模板编号",field:"apiTemplateId",required:!0,component:"Input"},{label:"备注",field:"remark",component:"InputTextArea"}],s="key$-",E=[{field:"content",component:"Editor",label:"模板内容 ",required:!1,defaultValue:"",render({model:e}){let a=e.content;return Object.keys(e).forEach(l=>{if(!l.startsWith(s))return;const p=l.split(s)[1];a=a.replace(`{${p}}`,e[l])}),d(i,{innerHTML:a,style:{border:"1px solid #e8e8e8",borderRadius:"6px",padding:"10px"}})}},{field:"mobile",label:"手机号 ",component:"Input",componentProps:{placeholder:"请输入手机号"},required:!0}];function M(e){return n.get({url:"/system/sms-template/page",params:e})}function x(e){return n.get({url:`/system/sms-template/get?id=${e}`})}function _(e){return n.post({url:"/system/sms-template/create",data:e})}function y(e){return n.put({url:"/system/sms-template/update",data:e})}function g(e){return n.delete({url:`/system/sms-template/delete?id=${e}`})}function A(e){return n.post({url:"/system/sms-template/send-sms",data:e})}function w(e){return n.download({url:"/system/sms-template/export-excel",params:e},"短信模板.xls")}export{M as a,E as b,_ as c,P as d,b as e,h as f,x as g,w as h,g as i,A as s,y as u};
