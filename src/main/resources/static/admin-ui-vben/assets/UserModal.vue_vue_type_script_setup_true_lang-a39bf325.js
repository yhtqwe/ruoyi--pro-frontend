import{f as _,g as M,d as h}from"./index-0076101a.js";import{d as w,c as U,r as v,k as e,o as y,j as B,w as b,n as k,af as C,y as F}from"./index-2b36f9e3.js";import{u as R,_ as x}from"./useForm-2cb760a4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as L,B as P}from"./index-ab29420a.js";const A=w({name:"MemberUserModal",__name:"UserModal",emits:["success","register"],setup(S,{emit:n}){const i=n,{t}=U(),{createMessage:c}=F(),a=v(!0),[l,{setFieldsValue:m,resetFields:u,validate:d}]=R({labelWidth:120,baseColProps:{span:24},schemas:_,showActionButtonGroup:!1,actionColOptions:{span:23}}),[f,{setModalProps:o,closeModal:p}]=L(async s=>{if(u(),o({confirmLoading:!1}),a.value=!!s?.isUpdate,e(a)){const r=await M(s.record.id);m({...r})}});async function g(){try{const s=await d();o({confirmLoading:!0}),e(a)&&await h(s),p(),i("success"),c.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,r)=>(y(),B(e(P),C(s.$attrs,{title:a.value?e(t)("action.edit"):e(t)("action.create"),onRegister:e(f),onOk:g}),{default:b(()=>[k(e(x),{onRegister:e(l)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{A as _};
