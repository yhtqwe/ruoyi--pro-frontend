import{f as _}from"./app.data-dc2a1a3d.js";import{d as M,c as h,r as w,k as e,o as y,j as A,w as v,n as B,af as k,y as C}from"./index-2b36f9e3.js";import{u as F,_ as P}from"./useForm-2cb760a4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as R,B as b}from"./index-ab29420a.js";import{g as x,u as L,c as S}from"./index-6d9cd4eb.js";const N=M({name:"PayAppModal",__name:"AppModal",emits:["success","register"],setup(I,{emit:i}){const n=i,{t}=h(),{createMessage:c}=C(),a=w(!0),[l,{setFieldsValue:p,resetFields:m,validate:u}]=F({labelWidth:120,baseColProps:{span:24},schemas:_,showActionButtonGroup:!1,actionColOptions:{span:23}}),[d,{setModalProps:o,closeModal:f}]=R(async s=>{if(m(),o({confirmLoading:!1}),a.value=!!s?.isUpdate,e(a)){const r=await x(s.record.id);p({...r})}});async function g(){try{const s=await u();o({confirmLoading:!0}),e(a)?await L(s):await S(s),f(),n("success"),c.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,r)=>(y(),A(e(b),k(s.$attrs,{title:a.value?e(t)("action.edit"):e(t)("action.create"),onRegister:e(d),onOk:g}),{default:v(()=>[B(e(P),{onRegister:e(l)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{N as _};
