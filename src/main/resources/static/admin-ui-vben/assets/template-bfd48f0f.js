import{b1 as p,S as d,L as t}from"./index-2b36f9e3.js";import"./index-238a0b12.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import"./index-ab29420a.js";import"./sortable.esm-f208c0d8.js";import{u as a}from"./useRender-e7048bde.js";import{D as n,g as i}from"./dict-d92cc9bc.js";import{g as c}from"./index-0efdcaab.js";const h=[{title:"模板编码",dataIndex:"code",width:100},{title:"模板名称",dataIndex:"name",width:180},{title:"类型",dataIndex:"type",width:180,customRender:({text:e})=>a.renderDict(e,n.SYSTEM_NOTIFY_TEMPLATE_TYPE)},{title:"发送人名称",dataIndex:"nickname",width:100},{title:"模板内容",dataIndex:"content",width:300},{title:"开启状态",dataIndex:"status",width:180,customRender:({text:e})=>a.renderDict(e,n.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>a.renderDate(e)}],P=[{label:"模板名称",field:"name",component:"Input",colProps:{span:8}},{label:"模版编码",field:"code",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:i(n.COMMON_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],x=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"模版编码",field:"code",required:!0,component:"Input"},{label:"模板名称",field:"name",required:!0,component:"Input"},{label:"发件人名称",field:"nickname",required:!0,component:"Input"},{label:"模板内容",field:"content",required:!0,component:"InputTextArea"},{label:"类型",field:"type",component:"Select",componentProps:{options:i(n.SYSTEM_NOTIFY_TEMPLATE_TYPE)}},{label:"开启状态",field:"status",required:!0,component:"RadioGroup",componentProps:{options:i(n.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],l="key$-",g=[{field:"content",component:"Editor",label:"模板内容 ",required:!1,defaultValue:"",render({model:e}){let o=e.content;return Object.keys(e).forEach(r=>{if(!r.startsWith(l))return;const s=r.split(l)[1];o=o.replace(`{${s}}`,e[r])}),p(d,{innerHTML:o,style:{border:"1px solid #e8e8e8",borderRadius:"6px",padding:"10px"}})}},{field:"userId",component:"ApiSelect",label:"接收人 ",required:!0,componentProps:{api:c,labelField:"nickname",valueField:"id"}}];function E(e){return t.post({url:"/system/notify-template/create",data:e})}function M(e){return t.put({url:"/system/notify-template/update",data:e})}function N(e){return t.delete({url:`/system/notify-template/delete?id=${e}`})}function O(e){return t.get({url:`/system/notify-template/get?id=${e}`})}function _(e){return t.get({url:"/system/notify-template/page",params:e})}function w(e){return t.post({url:"/system/notify-template/send-notify",data:e})}export{_ as a,g as b,E as c,h as d,P as e,x as f,O as g,N as h,w as s,M as u};
