import{d as f,c as g,o as _,j as M,w as b,n as h,k as e,af as I,y}from"./index-2b36f9e3.js";import{u as F,_ as k}from"./useForm-2cb760a4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as w,B}from"./index-ab29420a.js";import{i as C}from"./index-8cd43c8d.js";const O=f({name:"ModelImportForm",__name:"ModelImportModal",emits:["success","register"],setup(x,{emit:t}){const a=t,n=[{label:"流程标识",field:"key",component:"Input",required:!0},{label:"流程名称",field:"name",component:"Input",required:!0},{label:"流程描述",field:"description",component:"Input"},{label:"流程文件",field:"bpmnFile",component:"FileUpload",componentProps:{maxCount:1,fileType:"file"}}],{t:r}=g(),{createMessage:i}=y(),[l,{resetFields:c,validate:m}]=F({labelWidth:120,baseColProps:{span:24},schemas:n,showActionButtonGroup:!1,actionColOptions:{span:23}}),[p,{setModalProps:o,closeModal:u}]=w(()=>{c(),o({confirmLoading:!1})});async function d(){try{const s=await m();o({confirmLoading:!0}),await C(s),u(),a("success"),i.success(r("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,P)=>(_(),M(e(B),I(s.$attrs,{title:"导入流程",onRegister:e(p),onOk:d}),{default:b(()=>[h(e(k),{onRegister:e(l)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{O as _};
