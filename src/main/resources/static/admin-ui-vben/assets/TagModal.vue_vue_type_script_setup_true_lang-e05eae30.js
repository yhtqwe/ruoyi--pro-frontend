import{d as h,c as _,r as b,k as e,o as w,j as I,w as T,n as R,af as x,y as P}from"./index-84bac5b8.js";import"./index-1beb4355.js";import"./BasicForm.vue_vue_type_style_index_0_lang-f40c69bb.js";import{a as k,B as v}from"./index-173d5d49.js";import"./sortable.esm-f208c0d8.js";import{u as y}from"./useRender-70a86cea.js";import{u as B,_ as F}from"./useForm-9e126d4c.js";import{g as C,u as S,c as L}from"./index-d5485fae.js";const N=[{title:"编号",dataIndex:"id",width:100},{title:"标签名称",dataIndex:"name",width:180},{title:"创建时间",dataIndex:"createTime",customRender:({text:n})=>y.renderDate(n)}],W=[{label:"标签名称",field:"name",component:"Input",colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],O=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"标签名称",field:"name",required:!0,component:"Input"}],z=h({name:"MemberTagModal",__name:"TagModal",emits:["success","register"],setup(n,{emit:i}){const c=i,{t}=_(),{createMessage:l}=P(),s=b(!0),[m,{setFieldsValue:d,resetFields:u,validate:p}]=B({labelWidth:120,baseColProps:{span:24},schemas:O,showActionButtonGroup:!1,actionColOptions:{span:23}}),[f,{setModalProps:o,closeModal:g}]=k(async a=>{if(u(),o({confirmLoading:!1}),s.value=!!a?.isUpdate,e(s)){const r=await C(a.record.id);d({...r})}});async function M(){try{const a=await p();o({confirmLoading:!0}),e(s)?await S(a):await L(a),g(),c("success"),l.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(a,r)=>(w(),I(e(v),x(a.$attrs,{title:s.value?e(t)("action.edit"):e(t)("action.create"),onRegister:e(f),onOk:M}),{default:T(()=>[R(e(F),{onRegister:e(m)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{z as _,N as c,W as s};
