import{d as x,a as S,_ as k}from"./DictDataModal.vue_vue_type_script_setup_true_lang-aaf65d56.js";import{d as v,c as w,g0 as E,a6 as T,v as M,G as R,o as n,h as $,n as p,w as s,D as B,j as f,k as e,I as i,x as N,t as V,l as j,g1 as F,y as O}from"./index-84bac5b8.js";import{u as U}from"./index-173d5d49.js";import{_ as A}from"./BasicTable.vue_vue_type_script_setup_true_lang-6c55bad0.js";import"./index-1beb4355.js";import{_ as G}from"./BasicForm.vue_vue_type_style_index_0_lang-f40c69bb.js";import{u as L}from"./useTable-2040b40a.js";import"./index-f29e621a.js";const X=v({name:"SystemDictData",__name:"DictData",props:{searchInfo:{type:Object,default:()=>({})}},setup(c){const r=c,{t}=w(),{createMessage:h}=O(),[_,{openModal:l}]=U(),[g,{reload:o}]=L({title:"字典数据列表",api:E,columns:x,formConfig:{labelWidth:120,schemas:S,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,showIndexColumn:!1,actionColumn:{width:140,title:t("common.action"),dataIndex:"action",fixed:"right"}});function D(){l(!0,{record:r.searchInfo.dictType,isUpdate:!1})}function b(a){l(!0,{record:a,isUpdate:!0})}async function y(a){await F(a.id),h.success(t("common.delSuccessText")),o()}return T(()=>r.searchInfo,a=>{a&&o()},{deep:!0}),(a,m)=>{const C=M("a-button"),I=R("auth");return n(),$("div",null,[p(e(A),{"search-info":c.searchInfo,onRegister:e(g)},{toolbar:s(()=>[B((n(),f(C,{type:"primary","pre-icon":e(i).ADD,onClick:D},{default:s(()=>[N(V(e(t)("action.create")),1)]),_:1},8,["pre-icon"])),[[I,["system:dict:create"]]])]),bodyCell:s(({column:u,record:d})=>[u.key==="action"?(n(),f(e(G),{key:0,actions:[{icon:e(i).EDIT,label:e(t)("action.edit"),auth:"system:dict:update",onClick:b.bind(null,d)},{icon:e(i).DELETE,danger:!0,label:e(t)("action.delete"),auth:"system:dict:delete",popConfirm:{title:e(t)("common.delMessage"),placement:"left",confirm:y.bind(null,d)}}]},null,8,["actions"])):j("",!0)]),_:1},8,["search-info","onRegister"]),p(k,{onRegister:e(_),onSuccess:m[0]||(m[0]=u=>e(o)())},null,8,["onRegister"])])}}});export{X as _};
