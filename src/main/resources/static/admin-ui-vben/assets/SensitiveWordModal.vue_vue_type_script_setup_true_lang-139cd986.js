import{L as o,d as M,c as x,r as I,k as t,o as P,j as T,w as b,n as y,af as O,y as R}from"./index-2b36f9e3.js";import"./index-238a0b12.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as W,B as C}from"./index-ab29420a.js";import"./sortable.esm-f208c0d8.js";import{u as i}from"./useRender-e7048bde.js";import{D as c,g as l}from"./dict-d92cc9bc.js";import{u as k,_ as A}from"./useForm-2cb760a4.js";const H=[{title:"编号",dataIndex:"id",width:100},{title:"敏感词",dataIndex:"name",width:180},{title:"状态",dataIndex:"status",width:180,customRender:({text:e})=>i.renderDict(e,c.COMMON_STATUS)},{title:"描述",dataIndex:"description",width:200},{title:"标签",dataIndex:"tags",width:180,customRender:({text:e})=>i.renderTags(e)},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>i.renderDate(e)}],Y=[{label:"敏感词",field:"name",component:"Input",colProps:{span:8}},{label:"标签",field:"tag",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(c.COMMON_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],B=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"敏感词",field:"name",required:!0,component:"Input"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(c.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"},{label:"标签",field:"tags",required:!0,component:"Select",componentProps:{mode:"tags",options:[]}}];function z(e){return o.get({url:"/system/sensitive-word/page",params:e})}function D(e){return o.get({url:`/system/sensitive-word/get?id=${e}`})}function F(e){return o.post({url:"/system/sensitive-word/create",data:e})}function U(e){return o.put({url:"/system/sensitive-word/update",data:e})}function J(e){return o.delete({url:`/system/sensitive-word/delete?id=${e}`})}function K(e){return o.download({url:"/system/sensitive-word/export-excel",params:e},"导出敏感词.xls")}const Q=M({name:"SystemSensitiveWordModal",__name:"SensitiveWordModal",emits:["success","register"],setup(e,{emit:u}){const m=u,{t:a}=x(),{createMessage:p}=R(),n=I(!0),[f,{setFieldsValue:g,resetFields:S,validate:w}]=k({labelWidth:120,baseColProps:{span:24},schemas:B,showActionButtonGroup:!1,actionColOptions:{span:23}}),[v,{setModalProps:r,closeModal:h}]=W(async s=>{if(S(),r({confirmLoading:!1}),n.value=!!s?.isUpdate,t(n)){const d=await D(s.record.id);g({...d})}});async function _(){try{const s=await w();r({confirmLoading:!0}),t(n)?await U(s):await F(s),h(),m("success"),p.success(a("common.saveSuccessText"))}finally{r({confirmLoading:!1})}}return(s,d)=>(P(),T(t(C),O(s.$attrs,{title:n.value?t(a)("action.edit"):t(a)("action.create"),onRegister:t(v),onOk:_}),{default:b(()=>[y(t(A),{onRegister:t(f)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{Q as _,H as c,J as d,K as e,z as g,Y as s};
