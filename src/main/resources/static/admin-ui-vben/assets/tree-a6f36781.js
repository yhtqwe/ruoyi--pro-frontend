import{d as Ee,as as Wt,f as N,aB as Xt,bL as q,n as $,bX as me,bM as Yt,_ as w,B as Jt,C as Qt,dK as Zt,d$ as en,bA as Q,bz as fe,aw as Nn,bK as Ge,cM as $n,cL as gt,r as de,ar as we,bG as Dn,a6 as ve,bQ as Pn,D as Tn,E as In,$ as _n,at as bt,F as An,b$ as mt,b5 as Ln,X as rt,cz as $e,T as Pe,bW as Fn,bw as Mn,bx as jn,bB as Bn,cj as Hn,bD as Rn,bC as zn,ck as $t,bF as Vn,bN as tn,c6 as ft,c4 as ce,cd as De,c8 as Re,c3 as qn,cN as Gn}from"./index-84bac5b8.js";import{L as Un}from"./List-9fcea96e.js";import{e as ue}from"./eagerComputed-aaf02481.js";import{g as Wn}from"./index-2dea95e5.js";import{d as Xn}from"./debounce-51e23acd.js";const nn=Symbol("TreeContextKey"),Yn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Wt(nn,N(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Kt=()=>Xt(nn,N(()=>({}))),on=Symbol("KeysStateKey"),Jn=e=>{Wt(on,e)},an=()=>Xt(on,{expandedKeys:q([]),selectedKeys:q([]),loadedKeys:q([]),loadingKeys:q([]),checkedKeys:q([]),halfCheckedKeys:q([]),expandedKeysSet:N(()=>new Set),selectedKeysSet:N(()=>new Set),loadedKeysSet:N(()=>new Set),loadingKeysSet:N(()=>new Set),checkedKeysSet:N(()=>new Set),halfCheckedKeysSet:N(()=>new Set),flattenNodes:q([])}),Qn=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const r=`${t}-indent-unit`,l=[];for(let i=0;i<n;i+=1)l.push($("span",{key:i,class:{[r]:!0,[`${r}-start`]:o[i],[`${r}-end`]:a[i]}},null));return $("span",{"aria-hidden":"true",class:`${t}-indent`},[l])},Zn=Qn,ln={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},eo={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},rn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var to=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Dt="open",Pt="close",no="---",vt=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:ln,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Yt(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(c=>"`v-slot:"+c+"` ")}instead`);const r=q(!1),l=Kt(),{expandedKeysSet:i,selectedKeysSet:y,loadedKeysSet:s,loadingKeysSet:h,checkedKeysSet:v,halfCheckedKeysSet:k}=an(),{dragOverNodeKey:x,dropPosition:C,keyEntities:m}=l.value,u=N(()=>ze(e.eventKey,{expandedKeysSet:i.value,selectedKeysSet:y.value,loadedKeysSet:s.value,loadingKeysSet:h.value,checkedKeysSet:v.value,halfCheckedKeysSet:k.value,dragOverNodeKey:x,dropPosition:C,keyEntities:m})),K=ue(()=>u.value.expanded),A=ue(()=>u.value.selected),_=ue(()=>u.value.checked),P=ue(()=>u.value.loaded),T=ue(()=>u.value.loading),W=ue(()=>u.value.halfChecked),U=ue(()=>u.value.dragOver),F=ue(()=>u.value.dragOverGapTop),p=ue(()=>u.value.dragOverGapBottom),E=ue(()=>u.value.pos),M=q(),J=N(()=>{const{eventKey:c}=e,{keyEntities:g}=l.value,{children:R}=g[c]||{};return!!(R||[]).length}),G=N(()=>{const{isLeaf:c}=e,{loadData:g}=l.value,R=J.value;return c===!1?!1:c||!g&&!R||g&&P.value&&!R}),oe=N(()=>G.value?null:K.value?Dt:Pt),te=N(()=>{const{disabled:c}=e,{disabled:g}=l.value;return!!(g||c)}),Ke=N(()=>{const{checkable:c}=e,{checkable:g}=l.value;return!g||c===!1?!1:g}),re=N(()=>{const{selectable:c}=e,{selectable:g}=l.value;return typeof c=="boolean"?c:g}),H=N(()=>{const{data:c,active:g,checkable:R,disableCheckbox:Y,disabled:Z,selectable:ee}=e;return w(w({active:g,checkable:R,disableCheckbox:Y,disabled:Z,selectable:ee},c),{dataRef:c,data:c,isLeaf:G.value,checked:_.value,expanded:K.value,loading:T.value,selected:A.value,halfChecked:W.value})}),ye=Nn(),X=N(()=>{const{eventKey:c}=e,{keyEntities:g}=l.value,{parent:R}=g[c]||{};return w(w({},Ve(w({},e,u.value))),{parent:R})}),ne=Jt({eventData:X,eventKey:N(()=>e.eventKey),selectHandle:M,pos:E,key:ye.vnode.key});a(ne);const ie=c=>{const{onNodeDoubleClick:g}=l.value;g(c,X.value)},he=c=>{if(te.value)return;const{onNodeSelect:g}=l.value;c.preventDefault(),g(c,X.value)},Se=c=>{if(te.value)return;const{disableCheckbox:g}=e,{onNodeCheck:R}=l.value;if(!Ke.value||g)return;c.preventDefault();const Y=!_.value;R(c,X.value,Y)},Ne=c=>{const{onNodeClick:g}=l.value;g(c,X.value),re.value?he(c):Se(c)},Te=c=>{const{onNodeMouseEnter:g}=l.value;g(c,X.value)},We=c=>{const{onNodeMouseLeave:g}=l.value;g(c,X.value)},Xe=c=>{const{onNodeContextMenu:g}=l.value;g(c,X.value)},Ye=c=>{const{onNodeDragStart:g}=l.value;c.stopPropagation(),r.value=!0,g(c,ne);try{c.dataTransfer.setData("text/plain","")}catch{}},Je=c=>{const{onNodeDragEnter:g}=l.value;c.preventDefault(),c.stopPropagation(),g(c,ne)},Qe=c=>{const{onNodeDragOver:g}=l.value;c.preventDefault(),c.stopPropagation(),g(c,ne)},Le=c=>{const{onNodeDragLeave:g}=l.value;c.stopPropagation(),g(c,ne)},Ze=c=>{const{onNodeDragEnd:g}=l.value;c.stopPropagation(),r.value=!1,g(c,ne)},et=c=>{const{onNodeDrop:g}=l.value;c.preventDefault(),c.stopPropagation(),r.value=!1,g(c,ne)},Fe=c=>{const{onNodeExpand:g}=l.value;T.value||g(c,X.value)},Me=()=>{const{data:c}=e,{draggable:g}=l.value;return!!(g&&(!g.nodeDraggable||g.nodeDraggable(c)))},je=()=>{const{draggable:c,prefixCls:g}=l.value;return c&&c?.icon?$("span",{class:`${g}-draggable-icon`},[c.icon]):null},tt=()=>{var c,g,R;const{switcherIcon:Y=o.switcherIcon||((c=l.value.slots)===null||c===void 0?void 0:c[(R=(g=e.data)===null||g===void 0?void 0:g.slots)===null||R===void 0?void 0:R.switcherIcon])}=e,{switcherIcon:Z}=l.value,ee=Y||Z;return typeof ee=="function"?ee(H.value):ee},Be=()=>{const{loadData:c,onNodeLoad:g}=l.value;T.value||c&&K.value&&!G.value&&!J.value&&!P.value&&g(X.value)};Qt(()=>{Be()}),Zt(()=>{Be()});const nt=()=>{const{prefixCls:c}=l.value,g=tt();if(G.value)return g!==!1?$("span",{class:fe(`${c}-switcher`,`${c}-switcher-noop`)},[g]):null;const R=fe(`${c}-switcher`,`${c}-switcher_${K.value?Dt:Pt}`);return g!==!1?$("span",{onClick:Fe,class:R},[g]):null},ot=()=>{var c,g;const{disableCheckbox:R}=e,{prefixCls:Y}=l.value,Z=te.value;return Ke.value?$("span",{class:fe(`${Y}-checkbox`,_.value&&`${Y}-checkbox-checked`,!_.value&&W.value&&`${Y}-checkbox-indeterminate`,(Z||R)&&`${Y}-checkbox-disabled`),onClick:Se},[(g=(c=l.value).customCheckable)===null||g===void 0?void 0:g.call(c)]):null},He=()=>{const{prefixCls:c}=l.value;return $("span",{class:fe(`${c}-iconEle`,`${c}-icon__${oe.value||"docu"}`,T.value&&`${c}-icon_loading`)},null)},Oe=()=>{const{disabled:c,eventKey:g}=e,{draggable:R,dropLevelOffset:Y,dropPosition:Z,prefixCls:ee,indent:d,dropIndicatorRender:f,dragOverNodeKey:b,direction:O}=l.value;return!c&&R!==!1&&b===g?f({dropPosition:Z,dropLevelOffset:Y,indent:d,prefixCls:ee,direction:O}):null},at=()=>{var c,g,R,Y,Z,ee;const{icon:d=o.icon,data:f}=e,b=o.title||((c=l.value.slots)===null||c===void 0?void 0:c[(R=(g=e.data)===null||g===void 0?void 0:g.slots)===null||R===void 0?void 0:R.title])||((Y=l.value.slots)===null||Y===void 0?void 0:Y.title)||e.title,{prefixCls:O,showIcon:I,icon:D,loadData:S}=l.value,j=te.value,V=`${O}-node-content-wrapper`;let L;if(I){const ae=d||((Z=l.value.slots)===null||Z===void 0?void 0:Z[(ee=f?.slots)===null||ee===void 0?void 0:ee.icon])||D;L=ae?$("span",{class:fe(`${O}-iconEle`,`${O}-icon__customize`)},[typeof ae=="function"?ae(H.value):ae]):He()}else S&&T.value&&(L=He());let B;typeof b=="function"?B=b(H.value):B=b,B=B===void 0?no:B;const z=$("span",{class:`${O}-title`},[B]);return $("span",{ref:M,title:typeof b=="string"?b:"",class:fe(`${V}`,`${V}-${oe.value||"normal"}`,!j&&(A.value||r.value)&&`${O}-node-selected`),onMouseenter:Te,onMouseleave:We,onContextmenu:Xe,onClick:Ne,onDblclick:ie},[L,z,Oe()])};return()=>{const c=w(w({},e),n),{eventKey:g,isLeaf:R,isStart:Y,isEnd:Z,domRef:ee,active:d,data:f,onMousemove:b,selectable:O}=c,I=to(c,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:D,filterTreeNode:S,keyEntities:j,dropContainerKey:V,dropTargetKey:L,draggingNodeKey:B}=l.value,z=te.value,ae=en(I,{aria:!0,data:!0}),{level:pe}=j[g]||{},se=Z[Z.length-1],le=Me(),ke=!z&&le,Ie=B===g,lt=O!==void 0?{"aria-selected":!!O}:void 0;return $("div",Q(Q({ref:ee,class:fe(n.class,`${D}-treenode`,{[`${D}-treenode-disabled`]:z,[`${D}-treenode-switcher-${K.value?"open":"close"}`]:!R,[`${D}-treenode-checkbox-checked`]:_.value,[`${D}-treenode-checkbox-indeterminate`]:W.value,[`${D}-treenode-selected`]:A.value,[`${D}-treenode-loading`]:T.value,[`${D}-treenode-active`]:d,[`${D}-treenode-leaf-last`]:se,[`${D}-treenode-draggable`]:ke,dragging:Ie,"drop-target":L===g,"drop-container":V===g,"drag-over":!z&&U.value,"drag-over-gap-top":!z&&F.value,"drag-over-gap-bottom":!z&&p.value,"filter-node":S&&S(X.value)}),style:n.style,draggable:ke,"aria-grabbed":Ie,onDragstart:ke?Ye:void 0,onDragenter:le?Je:void 0,onDragover:le?Qe:void 0,onDragleave:le?Le:void 0,onDrop:le?et:void 0,onDragend:le?Ze:void 0,onMousemove:b},lt),ae),[$(Zn,{prefixCls:D,level:pe,isStart:Y,isEnd:Z},null),je(),nt(),ot(),at()])}}});globalThis&&globalThis.__rest;function ge(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function xe(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function kt(e){return e.split("-")}function sn(e,t){return`${e}-${t}`}function oo(e){return e&&e.type&&e.type.isTreeNode}function ao(e,t){const n=[],o=t[e];function a(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(l=>{let{key:i,children:y}=l;n.push(i),a(y)})}return a(o.children),n}function lo(e){if(e.parent){const t=kt(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function ro(e){const t=kt(e.pos);return Number(t[t.length-1])===0}function Tt(e,t,n,o,a,r,l,i,y,s){var h;const{clientX:v,clientY:k}=e,{top:x,height:C}=e.target.getBoundingClientRect(),u=((s==="rtl"?-1:1)*((a?.x||0)-v)-12)/o;let K=i[n.eventKey];if(k<x+C/2){const E=l.findIndex(G=>G.key===K.key),M=E<=0?0:E-1,J=l[M].key;K=i[J]}const A=K.key,_=K,P=K.key;let T=0,W=0;if(!y.has(A))for(let E=0;E<u&&lo(K);E+=1)K=K.parent,W+=1;const U=t.eventData,F=K.node;let p=!0;return ro(K)&&K.level===0&&k<x+C/2&&r({dragNode:U,dropNode:F,dropPosition:-1})&&K.key===n.eventKey?T=-1:(_.children||[]).length&&y.has(P)?r({dragNode:U,dropNode:F,dropPosition:0})?T=0:p=!1:W===0?u>-1.5?r({dragNode:U,dropNode:F,dropPosition:1})?T=1:p=!1:r({dragNode:U,dropNode:F,dropPosition:0})?T=0:r({dragNode:U,dropNode:F,dropPosition:1})?T=1:p=!1:r({dragNode:U,dropNode:F,dropPosition:1})?T=1:p=!1,{dropPosition:T,dropLevelOffset:W,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:P,dropContainerKey:T===0?null:((h=K.parent)===null||h===void 0?void 0:h.key)||null,dropAllowed:p}}function It(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function it(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function yt(e,t){const n=new Set;function o(a){if(n.has(a))return;const r=t[a];if(!r)return;n.add(a);const{parent:l,node:i}=r;i.disabled||l&&o(l.key)}return(e||[]).forEach(a=>{o(a)}),[...n]}var io=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};function Ae(e,t){return e??t}function Ue(e){const{title:t,_title:n,key:o,children:a}=e||{},r=t||"title";return{title:r,_title:n||[r],key:o||"key",children:a||"children"}}function ht(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ge(n).map(a=>{var r,l,i,y;if(!oo(a))return null;const s=a.children||{},h=a.key,v={};for(const[E,M]of Object.entries(a.props))v[$n(E)]=M;const{isLeaf:k,checkable:x,selectable:C,disabled:m,disableCheckbox:u}=v,K={isLeaf:k||k===""||void 0,checkable:x||x===""||void 0,selectable:C||C===""||void 0,disabled:m||m===""||void 0,disableCheckbox:u||u===""||void 0},A=w(w({},v),K),{title:_=(r=s.title)===null||r===void 0?void 0:r.call(s,A),icon:P=(l=s.icon)===null||l===void 0?void 0:l.call(s,A),switcherIcon:T=(i=s.switcherIcon)===null||i===void 0?void 0:i.call(s,A)}=v,W=io(v,["title","icon","switcherIcon"]),U=(y=s.default)===null||y===void 0?void 0:y.call(s),F=w(w(w({},W),{title:_,icon:P,switcherIcon:T,key:h,isLeaf:k}),K),p=t(U);return p.length&&(F.children=p),F})}return t(e)}function so(e,t,n){const{_title:o,key:a,children:r}=Ue(n),l=new Set(t===!0?[]:t),i=[];function y(s){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map((v,k)=>{const x=sn(h?h.pos:"0",k),C=Ae(v[a],x);let m;for(let K=0;K<o.length;K+=1){const A=o[K];if(v[A]!==void 0){m=v[A];break}}const u=w(w({},gt(v,[...o,a,r])),{title:m,key:C,parent:h,pos:x,children:null,data:v,isStart:[...h?h.isStart:[],k===0],isEnd:[...h?h.isEnd:[],k===s.length-1]});return i.push(u),t===!0||l.has(C)?u.children=y(v[r]||[],u):u.children=[],u})}return y(e),i}function co(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:r,fieldNames:l}=o,{key:i,children:y}=Ue(l),s=a||y;let h;r?typeof r=="string"?h=k=>k[r]:typeof r=="function"&&(h=k=>r(k)):h=(k,x)=>Ae(k[i],x);function v(k,x,C,m){const u=k?k[s]:e,K=k?sn(C.pos,x):"0",A=k?[...m,k]:[];if(k){const _=h(k,K),P={node:k,index:x,pos:K,key:_,parentPos:C.node?C.pos:null,level:C.level+1,nodes:A};t(P)}u&&u.forEach((_,P)=>{v(_,P,{node:k,pos:K,level:C?C.level+1:-1},A)})}v(null)}function cn(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:r,fieldNames:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const y=a||i,s={},h={};let v={posEntities:s,keyEntities:h};return t&&(v=t(v)||v),co(e,k=>{const{node:x,index:C,pos:m,key:u,parentPos:K,level:A,nodes:_}=k,P={node:x,nodes:_,index:C,key:u,pos:m,level:A},T=Ae(u,m);s[m]=P,h[T]=P,P.parent=s[K],P.parent&&(P.parent.children=P.parent.children||[],P.parent.children.push(P)),n&&n(P,v)},{externalGetKey:y,childrenPropName:r,fieldNames:l}),o&&o(v),v}function ze(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:r,checkedKeysSet:l,halfCheckedKeysSet:i,dragOverNodeKey:y,dropPosition:s,keyEntities:h}=t;const v=h[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:r.has(e),checked:l.has(e),halfChecked:i.has(e),pos:String(v?v.pos:""),parent:v.parent,dragOver:y===e&&s===0,dragOverGapTop:y===e&&s===-1,dragOverGapBottom:y===e&&s===1}}function Ve(e){const{data:t,expanded:n,selected:o,checked:a,loaded:r,loading:l,halfChecked:i,dragOver:y,dragOverGapTop:s,dragOverGapBottom:h,pos:v,active:k,eventKey:x}=e,C=w(w({dataRef:t},t),{expanded:n,selected:o,checked:a,loaded:r,loading:l,halfChecked:i,dragOver:y,dragOverGapTop:s,dragOverGapBottom:h,pos:v,active:k,eventKey:x,key:x});return"props"in C||Object.defineProperty(C,"props",{get(){return e}}),C}function dn(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function uo(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function fo(e,t,n,o){const a=new Set(e),r=new Set;for(let i=0;i<=n;i+=1)(t.get(i)||new Set).forEach(s=>{const{key:h,node:v,children:k=[]}=s;a.has(h)&&!o(v)&&k.filter(x=>!o(x.node)).forEach(x=>{a.add(x.key)})});const l=new Set;for(let i=n;i>=0;i-=1)(t.get(i)||new Set).forEach(s=>{const{parent:h,node:v}=s;if(o(v)||!s.parent||l.has(s.parent.key))return;if(o(s.parent.node)){l.add(h.key);return}let k=!0,x=!1;(h.children||[]).filter(C=>!o(C.node)).forEach(C=>{let{key:m}=C;const u=a.has(m);k&&!u&&(k=!1),!x&&(u||r.has(m))&&(x=!0)}),k&&a.add(h.key),x&&r.add(h.key),l.add(h.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(dn(r,a))}}function vo(e,t,n,o,a){const r=new Set(e);let l=new Set(t);for(let y=0;y<=o;y+=1)(n.get(y)||new Set).forEach(h=>{const{key:v,node:k,children:x=[]}=h;!r.has(v)&&!l.has(v)&&!a(k)&&x.filter(C=>!a(C.node)).forEach(C=>{r.delete(C.key)})});l=new Set;const i=new Set;for(let y=o;y>=0;y-=1)(n.get(y)||new Set).forEach(h=>{const{parent:v,node:k}=h;if(a(k)||!h.parent||i.has(h.parent.key))return;if(a(h.parent.node)){i.add(v.key);return}let x=!0,C=!1;(v.children||[]).filter(m=>!a(m.node)).forEach(m=>{let{key:u}=m;const K=r.has(u);x&&!K&&(x=!1),!C&&(K||l.has(u))&&(C=!0)}),x||r.delete(v.key),C&&l.add(v.key),i.add(v.key)});return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(dn(l,r))}}function st(e,t,n,o,a,r){let l;r?l=r:l=uo;const i=new Set(e.filter(s=>!!n[s]));let y;return t===!0?y=fo(i,a,o,l):y=vo(i,t.halfCheckedKeys,a,o,l),y}function yo(e){const t=de(0),n=q();return we(()=>{const o=new Map;let a=0;const r=e.value||{};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const i=r[l],{level:y}=i;let s=o.get(y);s||(s=new Set,o.set(y,s)),s.add(i),a=Math.max(a,y)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}var _t=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const ho=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:w(w({},ln),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=q(!0),r=Kt(),l=q(!1),i=N(()=>e.motion?e.motion:Dn()),y=(s,h)=>{var v,k,x,C;h==="appear"?(k=(v=i.value)===null||v===void 0?void 0:v.onAfterEnter)===null||k===void 0||k.call(v,s):h==="leave"&&((C=(x=i.value)===null||x===void 0?void 0:x.onAfterLeave)===null||C===void 0||C.call(x,s)),l.value||e.onMotionEnd(),l.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&bt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Qt(()=>{e.motionNodes&&e.onMotionStart()}),Pn(()=>{e.motionNodes&&y()}),()=>{const{motion:s,motionNodes:h,motionType:v,active:k,eventKey:x}=e,C=_t(e,["motion","motionNodes","motionType","active","eventKey"]);return h?$(_n,Q(Q({},i.value),{},{appear:v==="show",onAfterAppear:m=>y(m,"appear"),onAfterLeave:m=>y(m,"leave")}),{default:()=>[Tn($("div",{class:`${r.value.prefixCls}-treenode-motion`},[h.map(m=>{const u=_t(m.data,[]),{title:K,key:A,isStart:_,isEnd:P}=m;return delete u.children,$(vt,Q(Q({},u),{},{title:K,active:k,data:m.data,key:A,eventKey:A,isStart:_,isEnd:P}),o)})]),[[In,a.value]])]}):$(vt,Q(Q({class:n.class,style:n.style},C),{},{active:k,eventKey:x}),o)}}});function po(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(r,l){const i=new Map;r.forEach(s=>{i.set(s,!0)});const y=l.filter(s=>!i.has(s));return y.length===1?y[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function At(e,t,n){const o=e.findIndex(l=>l.key===n),a=e[o+1],r=t.findIndex(l=>l.key===n);if(a){const l=t.findIndex(i=>i.key===a.key);return t.slice(r+1,l)}return t.slice(r+1)}var Lt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Ft={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},go=()=>{},Ce=`RC_TREE_MOTION_${Math.random()}`,pt={key:Ce},un={key:Ce,level:0,index:0,pos:"0",node:pt,nodes:[pt]},Mt={parent:null,children:[],pos:un.pos,data:pt,title:null,key:Ce,isStart:[],isEnd:[]};function jt(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function Bt(e){const{key:t,pos:n}=e;return Ae(t,n)}function bo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const mo=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:eo,setup(e,t){let{expose:n,attrs:o}=t;const a=de(),r=de(),{expandedKeys:l,flattenNodes:i}=an();n({scrollTo:m=>{a.value.scrollTo(m)},getIndentWidth:()=>r.value.offsetWidth});const y=q(i.value),s=q([]),h=de(null);function v(){y.value=i.value,s.value=[],h.value=null,e.onListChangeEnd()}const k=Kt();ve([()=>l.value.slice(),i],(m,u)=>{let[K,A]=m,[_,P]=u;const T=po(_,K);if(T.key!==null){const{virtual:W,height:U,itemHeight:F}=e;if(T.add){const p=P.findIndex(J=>{let{key:G}=J;return G===T.key}),E=jt(At(P,A,T.key),W,U,F),M=P.slice();M.splice(p+1,0,Mt),y.value=M,s.value=E,h.value="show"}else{const p=A.findIndex(J=>{let{key:G}=J;return G===T.key}),E=jt(At(A,P,T.key),W,U,F),M=A.slice();M.splice(p+1,0,Mt),y.value=M,s.value=E,h.value="hide"}}else P!==A&&(y.value=A)}),ve(()=>k.value.dragging,m=>{m||v()});const x=N(()=>e.motion===void 0?y.value:i.value),C=()=>{e.onActiveChange(null)};return()=>{const m=w(w({},e),o),{prefixCls:u,selectable:K,checkable:A,disabled:_,motion:P,height:T,itemHeight:W,virtual:U,focusable:F,activeItem:p,focused:E,tabindex:M,onKeydown:J,onFocus:G,onBlur:oe,onListChangeStart:te,onListChangeEnd:Ke}=m,re=Lt(m,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return $(An,null,[E&&p&&$("span",{style:Ft,"aria-live":"assertive"},[bo(p)]),$("div",null,[$("input",{style:Ft,disabled:F===!1||_,tabindex:F!==!1?M:null,onKeydown:J,onFocus:G,onBlur:oe,value:"",onChange:go,"aria-label":"for screen reader"},null)]),$("div",{class:`${u}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[$("div",{class:`${u}-indent`},[$("div",{ref:r,class:`${u}-indent-unit`},null)])]),$(Un,Q(Q({},gt(re,["onActiveChange"])),{},{data:x.value,itemKey:Bt,height:T,fullHeight:!1,virtual:U,itemHeight:W,prefixCls:`${u}-list`,ref:a,onVisibleChange:(H,ye)=>{const X=new Set(H);ye.filter(ie=>!X.has(ie)).some(ie=>Bt(ie)===Ce)&&v()}}),{default:H=>{const{pos:ye}=H,X=Lt(H.data,[]),{title:ne,key:ie,isStart:he,isEnd:Se}=H,Ne=Ae(ie,ye);return delete X.key,delete X.children,$(ho,Q(Q({},X),{},{eventKey:Ne,title:ne,active:!!p&&ie===p.key,data:H.data,isStart:he,isEnd:Se,motion:P,motionNodes:ie===Ce?s.value:null,motionType:h.value,onMotionStart:te,onMotionEnd:v,onMousemove:C}),null)}})])}}});function Ko(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return $("div",{style:a},null)}const ko=10,xo=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:mt(rn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Ko,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const r=q(!1);let l={};const i=q(),y=q([]),s=q([]),h=q([]),v=q([]),k=q([]),x=q([]),C={},m=Jt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),u=q([]);ve([()=>e.treeData,()=>e.children],()=>{u.value=e.treeData!==void 0?rt(e.treeData).slice():ht(rt(e.children))},{immediate:!0,deep:!0});const K=q({}),A=q(!1),_=q(null),P=q(!1),T=N(()=>Ue(e.fieldNames)),W=q();let U=null,F=null,p=null;const E=N(()=>({expandedKeysSet:M.value,selectedKeysSet:J.value,loadedKeysSet:G.value,loadingKeysSet:oe.value,checkedKeysSet:te.value,halfCheckedKeysSet:Ke.value,dragOverNodeKey:m.dragOverNodeKey,dropPosition:m.dropPosition,keyEntities:K.value})),M=N(()=>new Set(x.value)),J=N(()=>new Set(y.value)),G=N(()=>new Set(v.value)),oe=N(()=>new Set(k.value)),te=N(()=>new Set(s.value)),Ke=N(()=>new Set(h.value));we(()=>{if(u.value){const d=cn(u.value,{fieldNames:T.value});K.value=w({[Ce]:un},d.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,K],(d,f)=>{let[b,O]=d,[I,D]=f,S=x.value;if(e.expandedKeys!==void 0||re&&O!==D)S=e.autoExpandParent||!re&&e.defaultExpandParent?yt(e.expandedKeys,K.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const j=w({},K.value);delete j[Ce],S=Object.keys(j).map(V=>j[V].key)}else!re&&e.defaultExpandedKeys&&(S=e.autoExpandParent||e.defaultExpandParent?yt(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);S&&(x.value=S),re=!0},{immediate:!0});const H=q([]);we(()=>{H.value=so(u.value,x.value,T.value)}),we(()=>{e.selectable&&(e.selectedKeys!==void 0?y.value=It(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(y.value=It(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:X}=yo(K);we(()=>{if(e.checkable){let d;if(e.checkedKeys!==void 0?d=it(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?d=it(e.defaultCheckedKeys)||{}:u.value&&(d=it(e.checkedKeys)||{checkedKeys:s.value,halfCheckedKeys:h.value}),d){let{checkedKeys:f=[],halfCheckedKeys:b=[]}=d;e.checkStrictly||({checkedKeys:f,halfCheckedKeys:b}=st(f,!0,K.value,ye.value,X.value)),s.value=f,h.value=b}}}),we(()=>{e.loadedKeys&&(v.value=e.loadedKeys)});const ne=()=>{w(m,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=d=>{W.value.scrollTo(d)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(_.value=e.activeKey)},{immediate:!0}),ve(_,d=>{bt(()=>{d!==null&&ie({key:d})})},{immediate:!0,flush:"post"});const he=d=>{e.expandedKeys===void 0&&(x.value=d)},Se=()=>{m.draggingNodeKey!==null&&w(m,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),U=null,p=null},Ne=(d,f)=>{const{onDragend:b}=e;m.dragOverNodeKey=null,Se(),b?.({event:d,node:f.eventData}),F=null},Te=d=>{Ne(d,null),window.removeEventListener("dragend",Te)},We=(d,f)=>{const{onDragstart:b}=e,{eventKey:O,eventData:I}=f;F=f,U={x:d.clientX,y:d.clientY};const D=ge(x.value,O);m.draggingNodeKey=O,m.dragChildrenKeys=ao(O,K.value),i.value=W.value.getIndentWidth(),he(D),window.addEventListener("dragend",Te),b&&b({event:d,node:I})},Xe=(d,f)=>{const{onDragenter:b,onExpand:O,allowDrop:I,direction:D}=e,{pos:S,eventKey:j}=f;if(p!==j&&(p=j),!F){ne();return}const{dropPosition:V,dropLevelOffset:L,dropTargetKey:B,dropContainerKey:z,dropTargetPos:ae,dropAllowed:pe,dragOverNodeKey:se}=Tt(d,F,f,i.value,U,I,H.value,K.value,M.value,D);if(m.dragChildrenKeys.indexOf(B)!==-1||!pe){ne();return}if(l||(l={}),Object.keys(l).forEach(le=>{clearTimeout(l[le])}),F.eventKey!==f.eventKey&&(l[S]=window.setTimeout(()=>{if(m.draggingNodeKey===null)return;let le=x.value.slice();const ke=K.value[f.eventKey];ke&&(ke.children||[]).length&&(le=xe(x.value,f.eventKey)),he(le),O&&O(le,{node:f.eventData,expanded:!0,nativeEvent:d})},800)),F.eventKey===B&&L===0){ne();return}w(m,{dragOverNodeKey:se,dropPosition:V,dropLevelOffset:L,dropTargetKey:B,dropContainerKey:z,dropTargetPos:ae,dropAllowed:pe}),b&&b({event:d,node:f.eventData,expandedKeys:x.value})},Ye=(d,f)=>{const{onDragover:b,allowDrop:O,direction:I}=e;if(!F)return;const{dropPosition:D,dropLevelOffset:S,dropTargetKey:j,dropContainerKey:V,dropAllowed:L,dropTargetPos:B,dragOverNodeKey:z}=Tt(d,F,f,i.value,U,O,H.value,K.value,M.value,I);m.dragChildrenKeys.indexOf(j)!==-1||!L||(F.eventKey===j&&S===0?m.dropPosition===null&&m.dropLevelOffset===null&&m.dropTargetKey===null&&m.dropContainerKey===null&&m.dropTargetPos===null&&m.dropAllowed===!1&&m.dragOverNodeKey===null||ne():D===m.dropPosition&&S===m.dropLevelOffset&&j===m.dropTargetKey&&V===m.dropContainerKey&&B===m.dropTargetPos&&L===m.dropAllowed&&z===m.dragOverNodeKey||w(m,{dropPosition:D,dropLevelOffset:S,dropTargetKey:j,dropContainerKey:V,dropTargetPos:B,dropAllowed:L,dragOverNodeKey:z}),b&&b({event:d,node:f.eventData}))},Je=(d,f)=>{p===f.eventKey&&!d.currentTarget.contains(d.relatedTarget)&&(ne(),p=null);const{onDragleave:b}=e;b&&b({event:d,node:f.eventData})},Qe=function(d,f){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var O;const{dragChildrenKeys:I,dropPosition:D,dropTargetKey:S,dropTargetPos:j,dropAllowed:V}=m;if(!V)return;const{onDrop:L}=e;if(m.dragOverNodeKey=null,Se(),S===null)return;const B=w(w({},ze(S,rt(E.value))),{active:((O=R.value)===null||O===void 0?void 0:O.key)===S,data:K.value[S].node});I.indexOf(S);const z=kt(j),ae={event:d,node:Ve(B),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(I),dropToGap:D!==0,dropPosition:D+Number(z[z.length-1])};b||L?.(ae),F=null},Le=(d,f)=>{const{expanded:b,key:O}=f,I=H.value.filter(S=>S.key===O)[0],D=Ve(w(w({},ze(O,E.value)),{data:I.data}));he(b?ge(x.value,O):xe(x.value,O)),Oe(d,D)},Ze=(d,f)=>{const{onClick:b,expandAction:O}=e;O==="click"&&Le(d,f),b&&b(d,f)},et=(d,f)=>{const{onDblclick:b,expandAction:O}=e;(O==="doubleclick"||O==="dblclick")&&Le(d,f),b&&b(d,f)},Fe=(d,f)=>{let b=y.value;const{onSelect:O,multiple:I}=e,{selected:D}=f,S=f[T.value.key],j=!D;j?I?b=xe(b,S):b=[S]:b=ge(b,S);const V=K.value,L=b.map(B=>{const z=V[B];return z?z.node:null}).filter(B=>B);e.selectedKeys===void 0&&(y.value=b),O&&O(b,{event:"select",selected:j,node:f,selectedNodes:L,nativeEvent:d})},Me=(d,f,b)=>{const{checkStrictly:O,onCheck:I}=e,D=f[T.value.key];let S;const j={event:"check",node:f,checked:b,nativeEvent:d},V=K.value;if(O){const L=b?xe(s.value,D):ge(s.value,D),B=ge(h.value,D);S={checked:L,halfChecked:B},j.checkedNodes=L.map(z=>V[z]).filter(z=>z).map(z=>z.node),e.checkedKeys===void 0&&(s.value=L)}else{let{checkedKeys:L,halfCheckedKeys:B}=st([...s.value,D],!0,V,ye.value,X.value);if(!b){const z=new Set(L);z.delete(D),{checkedKeys:L,halfCheckedKeys:B}=st(Array.from(z),{checked:!1,halfCheckedKeys:B},V,ye.value,X.value)}S=L,j.checkedNodes=[],j.checkedNodesPositions=[],j.halfCheckedKeys=B,L.forEach(z=>{const ae=V[z];if(!ae)return;const{node:pe,pos:se}=ae;j.checkedNodes.push(pe),j.checkedNodesPositions.push({node:pe,pos:se})}),e.checkedKeys===void 0&&(s.value=L,h.value=B)}I&&I(S,j)},je=d=>{const f=d[T.value.key],b=new Promise((O,I)=>{const{loadData:D,onLoad:S}=e;if(!D||G.value.has(f)||oe.value.has(f))return null;D(d).then(()=>{const V=xe(v.value,f),L=ge(k.value,f);S&&S(V,{event:"load",node:d}),e.loadedKeys===void 0&&(v.value=V),k.value=L,O()}).catch(V=>{const L=ge(k.value,f);if(k.value=L,C[f]=(C[f]||0)+1,C[f]>=ko){const B=xe(v.value,f);e.loadedKeys===void 0&&(v.value=B),O()}I(V)}),k.value=xe(k.value,f)});return b.catch(()=>{}),b},tt=(d,f)=>{const{onMouseenter:b}=e;b&&b({event:d,node:f})},Be=(d,f)=>{const{onMouseleave:b}=e;b&&b({event:d,node:f})},nt=(d,f)=>{const{onRightClick:b}=e;b&&(d.preventDefault(),b({event:d,node:f}))},ot=d=>{const{onFocus:f}=e;A.value=!0,f&&f(d)},He=d=>{const{onBlur:f}=e;A.value=!1,g(null),f&&f(d)},Oe=(d,f)=>{let b=x.value;const{onExpand:O,loadData:I}=e,{expanded:D}=f,S=f[T.value.key];if(P.value)return;b.indexOf(S);const j=!D;if(j?b=xe(b,S):b=ge(b,S),he(b),O&&O(b,{node:f,expanded:j,nativeEvent:d}),j&&I){const V=je(f);V&&V.then(()=>{}).catch(L=>{const B=ge(x.value,S);he(B),Promise.reject(L)})}},at=()=>{P.value=!0},c=()=>{setTimeout(()=>{P.value=!1})},g=d=>{const{onActiveChange:f}=e;_.value!==d&&(e.activeKey!==void 0&&(_.value=d),d!==null&&ie({key:d}),f&&f(d))},R=N(()=>_.value===null?null:H.value.find(d=>{let{key:f}=d;return f===_.value})||null),Y=d=>{let f=H.value.findIndex(O=>{let{key:I}=O;return I===_.value});f===-1&&d<0&&(f=H.value.length),f=(f+d+H.value.length)%H.value.length;const b=H.value[f];if(b){const{key:O}=b;g(O)}else g(null)},Z=N(()=>Ve(w(w({},ze(_.value,E.value)),{data:R.value.data,active:!0}))),ee=d=>{const{onKeydown:f,checkable:b,selectable:O}=e;switch(d.which){case $e.UP:{Y(-1),d.preventDefault();break}case $e.DOWN:{Y(1),d.preventDefault();break}}const I=R.value;if(I&&I.data){const D=I.data.isLeaf===!1||!!(I.data.children||[]).length,S=Z.value;switch(d.which){case $e.LEFT:{D&&M.value.has(_.value)?Oe({},S):I.parent&&g(I.parent.key),d.preventDefault();break}case $e.RIGHT:{D&&!M.value.has(_.value)?Oe({},S):I.children&&I.children.length&&g(I.children[0].key),d.preventDefault();break}case $e.ENTER:case $e.SPACE:{b&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?Me({},S,!te.value.has(_.value)):!b&&O&&!S.disabled&&S.selectable!==!1&&Fe({},S);break}}}f&&f(d)};return a({onNodeExpand:Oe,scrollTo:ie,onKeydown:ee,selectedKeys:N(()=>y.value),checkedKeys:N(()=>s.value),halfCheckedKeys:N(()=>h.value),loadedKeys:N(()=>v.value),loadingKeys:N(()=>k.value),expandedKeys:N(()=>x.value)}),Ln(()=>{window.removeEventListener("dragend",Te),r.value=!0}),Jn({expandedKeys:x,selectedKeys:y,loadedKeys:v,loadingKeys:k,checkedKeys:s,halfCheckedKeys:h,expandedKeysSet:M,selectedKeysSet:J,loadedKeysSet:G,loadingKeysSet:oe,checkedKeysSet:te,halfCheckedKeysSet:Ke,flattenNodes:H}),()=>{const{draggingNodeKey:d,dropLevelOffset:f,dropContainerKey:b,dropTargetKey:O,dropPosition:I,dragOverNodeKey:D}=m,{prefixCls:S,showLine:j,focusable:V,tabindex:L=0,selectable:B,showIcon:z,icon:ae=o.icon,switcherIcon:pe,draggable:se,checkable:le,checkStrictly:ke,disabled:Ie,motion:lt,loadData:yn,filterTreeNode:hn,height:pn,itemHeight:gn,virtual:bn,dropIndicatorRender:mn,onContextmenu:Kn,onScroll:kn,direction:xn,rootClassName:Sn,rootStyle:On}=e,{class:wn,style:Cn}=n,En=en(w(w({},e),n),{aria:!0,data:!0});let _e;return se?typeof se=="object"?_e=se:typeof se=="function"?_e={nodeDraggable:se}:_e={}:_e=!1,$(Yn,{value:{prefixCls:S,selectable:B,showIcon:z,icon:ae,switcherIcon:pe,draggable:_e,draggingNodeKey:d,checkable:le,customCheckable:o.checkable,checkStrictly:ke,disabled:Ie,keyEntities:K.value,dropLevelOffset:f,dropContainerKey:b,dropTargetKey:O,dropPosition:I,dragOverNodeKey:D,dragging:d!==null,indent:i.value,direction:xn,dropIndicatorRender:mn,loadData:yn,filterTreeNode:hn,onNodeClick:Ze,onNodeDoubleClick:et,onNodeExpand:Oe,onNodeSelect:Fe,onNodeCheck:Me,onNodeLoad:je,onNodeMouseEnter:tt,onNodeMouseLeave:Be,onNodeContextMenu:nt,onNodeDragStart:We,onNodeDragEnter:Xe,onNodeDragOver:Ye,onNodeDragLeave:Je,onNodeDragEnd:Ne,onNodeDrop:Qe,slots:o}},{default:()=>[$("div",{role:"tree",class:fe(S,wn,Sn,{[`${S}-show-line`]:j,[`${S}-focused`]:A.value,[`${S}-active-focused`]:_.value!==null}),style:On},[$(mo,Q({ref:W,prefixCls:S,style:Cn,disabled:Ie,selectable:B,checkable:!!le,motion:lt,height:pn,itemHeight:gn,virtual:bn,focusable:V,focused:A.value,tabindex:L,activeItem:R.value,onFocus:ot,onBlur:He,onKeydown:ee,onActiveChange:g,onListChangeStart:at,onListChangeEnd:c,onContextmenu:Kn,onScroll:kn},En),null)])]})}}});var So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Oo=So;function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){wo(e,a,n[a])})}return e}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var o=Ht({},t,n.attrs);return $(Pe,Ht({},o,{icon:Oo}),null)};xt.displayName="FileOutlined";xt.inheritAttrs=!1;const fn=xt;var Co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Eo=Co;function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){No(e,a,n[a])})}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(t,n){var o=Rt({},t,n.attrs);return $(Pe,Rt({},o,{icon:Eo}),null)};St.displayName="MinusSquareOutlined";St.inheritAttrs=!1;const $o=St;var Do={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Po=Do;function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){To(e,a,n[a])})}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(t,n){var o=zt({},t,n.attrs);return $(Pe,zt({},o,{icon:Po}),null)};Ot.displayName="PlusSquareOutlined";Ot.inheritAttrs=!1;const Io=Ot;var _o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Ao=_o;function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Lo(e,a,n[a])})}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(t,n){var o=Vt({},t,n.attrs);return $(Pe,Vt({},o,{icon:Ao}),null)};wt.displayName="CaretDownFilled";wt.inheritAttrs=!1;const Fo=wt;function Mo(e,t,n,o,a){const{isLeaf:r,expanded:l,loading:i}=n;let y=t;if(i)return $(Fn,{class:`${e}-switcher-loading-icon`},null);let s;a&&typeof a=="object"&&(s=a.showLeafIcon);let h=null;const v=`${e}-switcher-icon`;return r?a?s&&o?o(n):(typeof a=="object"&&!s?h=$("span",{class:`${e}-switcher-leaf-line`},null):h=$(fn,{class:`${e}-switcher-line-icon`},null),h):null:(h=$(Fo,{class:v},null),a&&(h=l?$($o,{class:`${e}-switcher-line-icon`},null):$(Io,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?y=t(w(w({},n),{defaultIcon:h,switcherCls:v})):Mn(y)&&(y=jn(y,{class:v})),y||h)}const qt=4;function jo(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:a,direction:r="ltr"}=e,l=r==="ltr"?"left":"right",i=r==="ltr"?"right":"left",y={[l]:`${-n*a+qt}px`,[i]:0};switch(t){case-1:y.top="-3px";break;case 1:y.bottom="-3px";break;default:y.bottom="-3px",y[l]=`${a+qt}px`;break}return $("div",{style:y,class:`${o}-drop-indicator`},null)}const Bo=new Hn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Ho=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Ro=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),zo=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:r}=t,l=(r-t.fontSizeLG)/2,i=t.paddingXS;return{[n]:w(w({},Vn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:w({},$t(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Bo,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:w({},$t(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:r,lineHeight:`${r}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:w(w({},Ho(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:`${r}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r/2*.8,height:r/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:i,marginBlockStart:l},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${r}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:r,height:r,lineHeight:`${r}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:w({lineHeight:`${r}px`,userSelect:"none"},Ro(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${r/2}px !important`}}}}})}},Vo=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},qo=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,r=t.controlHeightSM,l=zn(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:r});return[zo(e,l),Vo(l)]},Go=Bn("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Wn(`${n}-checkbox`,e)},qo(n,e),Rn(e)]}),vn=()=>{const e=rn();return w(w({},e),{showLine:ft([Boolean,Object]),multiple:ce(),autoExpandParent:ce(),checkStrictly:ce(),checkable:ce(),disabled:ce(),defaultExpandAll:ce(),defaultExpandParent:ce(),defaultExpandedKeys:De(),expandedKeys:De(),checkedKeys:ft([Array,Object]),defaultCheckedKeys:De(),selectedKeys:De(),defaultSelectedKeys:De(),selectable:ce(),loadedKeys:De(),draggable:ce(),showIcon:ce(),icon:Re(),switcherIcon:me.any,prefixCls:String,replaceFields:qn(),blockNode:ce(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Re(),"onUpdate:checkedKeys":Re(),"onUpdate:expandedKeys":Re()})},qe=Ee({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:mt(vn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:o,emit:a,slots:r}=t;Yt(!(e.treeData===void 0&&r.default));const{prefixCls:l,direction:i,virtual:y}=tn("tree",e),[s,h]=Go(l),v=de();o({treeRef:v,onNodeExpand:function(){var u;(u=v.value)===null||u===void 0||u.onNodeExpand(...arguments)},scrollTo:u=>{var K;(K=v.value)===null||K===void 0||K.scrollTo(u)},selectedKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:N(()=>{var u;return(u=v.value)===null||u===void 0?void 0:u.expandedKeys})}),we(()=>{Gn(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const x=(u,K)=>{a("update:checkedKeys",u),a("check",u,K)},C=(u,K)=>{a("update:expandedKeys",u),a("expand",u,K)},m=(u,K)=>{a("update:selectedKeys",u),a("select",u,K)};return()=>{const{showIcon:u,showLine:K,switcherIcon:A=r.switcherIcon,icon:_=r.icon,blockNode:P,checkable:T,selectable:W,fieldNames:U=e.replaceFields,motion:F=e.openAnimation,itemHeight:p=28,onDoubleclick:E,onDblclick:M}=e,J=w(w(w({},n),gt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!K,dropIndicatorRender:jo,fieldNames:U,icon:_,itemHeight:p}),G=r.default?Ge(r.default()):void 0;return s($(xo,Q(Q({},J),{},{virtual:y.value,motion:F,ref:v,prefixCls:l.value,class:fe({[`${l.value}-icon-hide`]:!u,[`${l.value}-block-node`]:P,[`${l.value}-unselectable`]:!W,[`${l.value}-rtl`]:i.value==="rtl"},n.class,h.value),direction:i.value,checkable:T,selectable:W,switcherIcon:oe=>Mo(l.value,A,oe,r.leafIcon,K),onCheck:x,onExpand:C,onSelect:m,onDblclick:M||E,children:G}),w(w({},r),{checkable:()=>$("span",{class:`${l.value}-checkbox-inner`},null)})))}}});var Uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Wo=Uo;function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Xo(e,a,n[a])})}return e}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(t,n){var o=Gt({},t,n.attrs);return $(Pe,Gt({},o,{icon:Wo}),null)};Ct.displayName="FolderOpenOutlined";Ct.inheritAttrs=!1;const Yo=Ct;var Jo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Qo=Jo;function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Zo(e,a,n[a])})}return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(t,n){var o=Ut({},t,n.attrs);return $(Pe,Ut({},o,{icon:Qo}),null)};Et.displayName="FolderOutlined";Et.inheritAttrs=!1;const ea=Et;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function Nt(e,t,n){function o(a){const r=a[t.key],l=a[t.children];n(r,a)!==!1&&Nt(l||[],t,n)}e.forEach(o)}function ta(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:a,fieldNames:r={title:"title",key:"key",children:"children"}}=e;const l=[];let i=be.None;if(o&&o===a)return[o];if(!o||!a)return[];function y(s){return s===o||s===a}return Nt(t,r,s=>{if(i===be.End)return!1;if(y(s)){if(l.push(s),i===be.None)i=be.Start;else if(i===be.Start)return i=be.End,!1}else i===be.Start&&l.push(s);return n.includes(s)}),l}function ct(e,t,n){const o=[...t],a=[];return Nt(e,n,(r,l)=>{const i=o.indexOf(r);return i!==-1&&(a.push(l),o.splice(i,1)),!!o.length}),a}var na=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const oa=()=>w(w({},vn()),{expandAction:ft([Boolean,String])});function aa(e){const{isLeaf:t,expanded:n}=e;return t?$(fn,null,null):n?$(Yo,null,null):$(ea,null,null)}const dt=Ee({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:mt(oa(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:o,emit:a,expose:r}=t;var l;const i=de(e.treeData||ht(Ge((l=o.default)===null||l===void 0?void 0:l.call(o))));ve(()=>e.treeData,()=>{i.value=e.treeData}),Zt(()=>{bt(()=>{var p;e.treeData===void 0&&o.default&&(i.value=ht(Ge((p=o.default)===null||p===void 0?void 0:p.call(o))))})});const y=de(),s=de(),h=N(()=>Ue(e.fieldNames)),v=de();r({scrollTo:p=>{var E;(E=v.value)===null||E===void 0||E.scrollTo(p)},selectedKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.selectedKeys}),checkedKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.checkedKeys}),halfCheckedKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.halfCheckedKeys}),loadedKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.loadedKeys}),loadingKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.loadingKeys}),expandedKeys:N(()=>{var p;return(p=v.value)===null||p===void 0?void 0:p.expandedKeys})});const x=()=>{const{keyEntities:p}=cn(i.value,{fieldNames:h.value});let E;return e.defaultExpandAll?E=Object.keys(p):e.defaultExpandParent?E=yt(e.expandedKeys||e.defaultExpandedKeys||[],p):E=e.expandedKeys||e.defaultExpandedKeys,E},C=de(e.selectedKeys||e.defaultSelectedKeys||[]),m=de(x());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(C.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(m.value=e.expandedKeys)},{immediate:!0});const K=Xn((p,E)=>{const{isLeaf:M}=E;M||p.shiftKey||p.metaKey||p.ctrlKey||v.value.onNodeExpand(p,E)},200,{leading:!0}),A=(p,E)=>{e.expandedKeys===void 0&&(m.value=p),a("update:expandedKeys",p),a("expand",p,E)},_=(p,E)=>{const{expandAction:M}=e;M==="click"&&K(p,E),a("click",p,E)},P=(p,E)=>{const{expandAction:M}=e;(M==="dblclick"||M==="doubleclick")&&K(p,E),a("doubleclick",p,E),a("dblclick",p,E)},T=(p,E)=>{const{multiple:M}=e,{node:J,nativeEvent:G}=E,oe=J[h.value.key],te=w(w({},E),{selected:!0}),Ke=G?.ctrlKey||G?.metaKey,re=G?.shiftKey;let H;M&&Ke?(H=p,y.value=oe,s.value=H,te.selectedNodes=ct(i.value,H,h.value)):M&&re?(H=Array.from(new Set([...s.value||[],...ta({treeData:i.value,expandedKeys:m.value,startKey:oe,endKey:y.value,fieldNames:h.value})])),te.selectedNodes=ct(i.value,H,h.value)):(H=[oe],y.value=oe,s.value=H,te.selectedNodes=ct(i.value,H,h.value)),a("update:selectedKeys",H),a("select",H,te),e.selectedKeys===void 0&&(C.value=H)},W=(p,E)=>{a("update:checkedKeys",p),a("check",p,E)},{prefixCls:U,direction:F}=tn("tree",e);return()=>{const p=fe(`${U.value}-directory`,{[`${U.value}-directory-rtl`]:F.value==="rtl"},n.class),{icon:E=o.icon,blockNode:M=!0}=e,J=na(e,["icon","blockNode"]);return $(qe,Q(Q(Q({},n),{},{icon:E||aa,ref:v,blockNode:M},J),{},{prefixCls:U.value,class:p,expandedKeys:m.value,selectedKeys:C.value,onSelect:T,onClick:_,onDblclick:P,onExpand:A,onCheck:W}),o)}}}),ut=vt,da=w(qe,{DirectoryTree:dt,TreeNode:ut,install:e=>(e.component(qe.name,qe),e.component(ut.name,ut),e.component(dt.name,dt),e)});function ua(e,t,n,o){if(!Array.isArray(e))return[];const a={id:t||"id",parentId:n||"parentId",childrenList:o||"children"},r={},l={},i=[];for(const s of e){const h=s[a.parentId];r[h]==null&&(r[h]=[]),l[s[a.id]]=s,r[h].push(s)}for(const s of e){const h=s[a.parentId];l[h]==null&&i.push(s)}for(const s of i)y(s);function y(s){if(r[s[a.id]]!==null&&(s[a.childrenList]=r[s[a.id]]),s[a.childrenList])for(const h of s[a.childrenList])y(h)}return i}function fa(e,t,n,o,a){t=t||"id",n=n||"parentId",a=a||Math.min(...e.map(i=>i[n]))||0;const r=JSON.parse(JSON.stringify(e)),l=r.filter(i=>{const y=r.filter(s=>i[t]===s[n]);return y.length>0&&(i.children=y),i[n]===a});return l!==""?l:e}export{xo as T,st as a,da as b,cn as c,ge as d,xe as e,fa as f,qo as g,ua as h,Mo as r,yo as u};
