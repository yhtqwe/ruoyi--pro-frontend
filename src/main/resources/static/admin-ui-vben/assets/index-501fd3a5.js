import{n as d,T as ge,bB as fe,bC as pe,_ as R,cJ as Q,bF as he,cc as me,d as J,bN as be,bL as ve,fg as He,f as S,cf as Se,bz as ye,bA as ee,cF as $e,eq as z,bX as _e,c3 as xe,bK as Ce,fh as Te,dV as Pe,b as oe,a4 as we,o as E,h as q,i as U,au as w,q as Z,k as h,az as ie,K as Be,r as A,at as G,a6 as se,e$ as Fe,e5 as Re,cZ as ze,cT as Ae,N as b,ax as Oe,aL as je,as as Ie,f2 as Me,bY as te,j as ae,a$ as Ee,s as Le,w as L,aH as Ne,aI as De,F as Ve,x as We,t as Xe,af as Ge,l as ne,bs as le}from"./index-84bac5b8.js";import{S as qe,T as Ue,o as Ze}from"./onMountedOrActivated-78e848f5.js";import{u as Je}from"./useWindowSizeFn-edf59fbd.js";import{a as ce}from"./useContentViewHeight-ac910085.js";import{A as Ke}from"./ArrowLeftOutlined-c95cdb4d.js";import{B as Ye}from"./index-1c73a8ff.js";import{A as ke}from"./index-e9ab1be6.js";import{o as Qe}from"./operationUnit-d5166b83.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const tt=et;function re(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?Object(arguments[a]):{},r=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable}))),r.forEach(function(f){at(e,f,i[f])})}return e}function at(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}var K=function(a,i){var r=re({},a,i.attrs);return d(ge,re({},r,{icon:tt}),null)};K.displayName="ArrowRightOutlined";K.inheritAttrs=!1;const nt=K,rt=e=>{const{componentCls:a,antCls:i}=e;return{[a]:R(R({},he(e)),{position:"relative",padding:`${e.pageHeaderPaddingVertical}px ${e.pageHeaderPadding}px`,backgroundColor:e.colorBgContainer,[`&${a}-ghost`]:{backgroundColor:e.pageHeaderGhostBg},"&.has-footer":{paddingBottom:0},[`${a}-back`]:{marginRight:e.marginMD,fontSize:e.fontSizeLG,lineHeight:1,"&-button":R(R({},Qe(e)),{color:e.pageHeaderBackColor,cursor:"pointer"})},[`${i}-divider-vertical`]:{height:"14px",margin:`0 ${e.marginSM}`,verticalAlign:"middle"},[`${i}-breadcrumb + &-heading`]:{marginTop:e.marginXS},[`${a}-heading`]:{display:"flex",justifyContent:"space-between","&-left":{display:"flex",alignItems:"center",margin:`${e.marginXS/2}px 0`,overflow:"hidden"},"&-title":R({marginRight:e.marginSM,marginBottom:0,color:e.colorTextHeading,fontWeight:600,fontSize:e.pageHeaderHeadingTitle,lineHeight:`${e.controlHeight}px`},Q),[`${i}-avatar`]:{marginRight:e.marginSM},"&-sub-title":R({marginRight:e.marginSM,color:e.colorTextDescription,fontSize:e.pageHeaderHeadingSubTitle,lineHeight:e.lineHeight},Q),"&-extra":{margin:`${e.marginXS/2}px 0`,whiteSpace:"nowrap","> *":{marginLeft:e.marginSM,whiteSpace:"unset"},"> *:first-child":{marginLeft:0}}},[`${a}-content`]:{paddingTop:e.pageHeaderContentPaddingVertical},[`${a}-footer`]:{marginTop:e.marginMD,[`${i}-tabs`]:{[`> ${i}-tabs-nav`]:{margin:0,"&::before":{border:"none"}},[`${i}-tabs-tab`]:{paddingTop:e.paddingXS,paddingBottom:e.paddingXS,fontSize:e.pageHeaderTabFontSize}}},[`${a}-compact ${a}-heading`]:{flexWrap:"wrap"},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},ot=fe("PageHeader",e=>{const a=pe(e,{pageHeaderPadding:e.paddingLG,pageHeaderPaddingVertical:e.paddingMD,pageHeaderPaddingBreadcrumb:e.paddingSM,pageHeaderContentPaddingVertical:e.paddingSM,pageHeaderBackColor:e.colorTextBase,pageHeaderGhostBg:"transparent",pageHeaderHeadingTitle:e.fontSizeHeading4,pageHeaderHeadingSubTitle:e.fontSize,pageHeaderTabFontSize:e.fontSizeLG});return[rt(a)]}),it=()=>({backIcon:z(),prefixCls:String,title:z(),subTitle:z(),breadcrumb:_e.object,tags:z(),footer:z(),extra:z(),avatar:xe(),ghost:{type:Boolean,default:void 0},onBack:Function}),st=J({compatConfig:{MODE:3},name:"APageHeader",inheritAttrs:!1,props:it(),slots:Object,setup(e,a){let{emit:i,slots:r,attrs:f}=a;const{prefixCls:p,direction:C,pageHeader:v}=be("page-header",e),[y,O]=ot(p),B=ve(!1),$=He(),T=n=>{let{width:o}=n;$.value||(B.value=o<768)},P=S(()=>{var n,o,t;return(t=(n=e.ghost)!==null&&n!==void 0?n:(o=v?.value)===null||o===void 0?void 0:o.ghost)!==null&&t!==void 0?t:!0}),l=()=>{var n,o,t;return(t=(n=e.backIcon)!==null&&n!==void 0?n:(o=r.backIcon)===null||o===void 0?void 0:o.call(r))!==null&&t!==void 0?t:C.value==="rtl"?d(nt,null,null):d(Ke,null,null)},_=n=>!n||!e.onBack?null:d(Pe,{componentName:"PageHeader",children:o=>{let{back:t}=o;return d("div",{class:`${p.value}-back`},[d(Ue,{onClick:s=>{i("back",s)},class:`${p.value}-back-button`,"aria-label":t},{default:()=>[n]})])}},null),H=()=>{var n;return e.breadcrumb?d(Ye,e.breadcrumb,null):(n=r.breadcrumb)===null||n===void 0?void 0:n.call(r)},u=()=>{var n,o,t,s,c,x,j,N,D;const{avatar:V}=e,I=(n=e.title)!==null&&n!==void 0?n:(o=r.title)===null||o===void 0?void 0:o.call(r),M=(t=e.subTitle)!==null&&t!==void 0?t:(s=r.subTitle)===null||s===void 0?void 0:s.call(r),W=(c=e.tags)!==null&&c!==void 0?c:(x=r.tags)===null||x===void 0?void 0:x.call(r),X=(j=e.extra)!==null&&j!==void 0?j:(N=r.extra)===null||N===void 0?void 0:N.call(r),F=`${p.value}-heading`,Y=I||M||W||X;if(!Y)return null;const ue=l(),k=_(ue);return d("div",{class:F},[(k||V||Y)&&d("div",{class:`${F}-left`},[k,V?d(ke,V,null):(D=r.avatar)===null||D===void 0?void 0:D.call(r),I&&d("span",{class:`${F}-title`,title:typeof I=="string"?I:void 0},[I]),M&&d("span",{class:`${F}-sub-title`,title:typeof M=="string"?M:void 0},[M]),W&&d("span",{class:`${F}-tags`},[W])]),X&&d("span",{class:`${F}-extra`},[d(qe,null,{default:()=>[X]})])])},m=()=>{var n,o;const t=(n=e.footer)!==null&&n!==void 0?n:Ce((o=r.footer)===null||o===void 0?void 0:o.call(r));return Te(t)?null:d("div",{class:`${p.value}-footer`},[t])},g=n=>d("div",{class:`${p.value}-content`},[n]);return()=>{var n,o;const t=((n=e.breadcrumb)===null||n===void 0?void 0:n.routes)||r.breadcrumb,s=e.footer||r.footer,c=Se((o=r.default)===null||o===void 0?void 0:o.call(r)),x=ye(p.value,{"has-breadcrumb":t,"has-footer":s,[`${p.value}-ghost`]:P.value,[`${p.value}-rtl`]:C.value==="rtl",[`${p.value}-compact`]:B.value},f.class,O.value);return y(d($e,{onResize:T},{default:()=>[d("div",ee(ee({},f),{},{class:x}),[H(),u(),c.length?g(c):null,m()])]}))}}}),lt=me(st),ct={class:"flex-1-1"},dt=J({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(e){const{prefixCls:a}=oe("page-footer"),{getCalcContentWidth:i}=we();return(r,f)=>(E(),q("div",{class:"fixed bottom-0 right-0 z-99 w-full flex items-center border-t-1 px-6 text-base/44",style:ie({width:h(i)})},[U("div",ct,[w(r.$slots,"left",{},void 0,!0)]),w(r.$slots,"default",{},void 0,!0),U("div",{class:Z(`${h(a)}__right`)},[w(r.$slots,"right",{},void 0,!0)],2)],4))}});const de=Be(dt,[["__scopeId","data-v-fb98db5f"]]);function ut(e,a,i,r,f=0,p=A(0)){const C=A(null),{footerHeightRef:v}=ce();let y={useLayoutFooter:!0};const O=l=>{y=l};function B(){G(()=>{P()})}function $(l,_="all"){function H(g){return Number(g.replace(/[^\d]/g,""))}let u=0;const m="0px";if(l){const g=getComputedStyle(l),n=H(g?.marginTop??m),o=H(g?.marginBottom??m),t=H(g?.paddingTop??m),s=H(g?.paddingBottom??m);_==="all"?(u+=n,u+=o,u+=t,u+=s):_==="top"?(u+=n,u+=t):(u+=o,u+=s)}return u}function T(l){return l==null?null:l instanceof HTMLDivElement?l:l.$el}async function P(){if(!e.value)return;await G();const l=T(h(a));if(!l)return;const{bottomIncludeBody:_}=Fe(l);let H=0;i.forEach(t=>{H+=T(h(t))?.offsetHeight??0});let u=$(l)??0;r.forEach(t=>{u+=$(T(h(t)))});let m=0;function g(t,s){if(t&&s){const c=t.parentElement;c&&(ze(s)?c.classList.contains(s)?m+=$(c,"bottom"):(m+=$(c,"bottom"),g(c,s)):Ae(s)&&s>0&&(m+=$(c,"bottom"),g(c,--s)))}}Re(f)?g(l,h(f)):g(l,f);let n=_-h(v)-h(p)-H-u-m;const o=()=>{y.elements?.forEach(t=>{n+=T(h(t))?.offsetHeight??0})};y.useLayoutFooter&&h(v)>0,o(),C.value=n}return Ze(()=>{G(()=>{P()})}),Je(()=>{P()},{wait:50,immediate:!0}),se(()=>[v.value],()=>{P()},{flush:"post",immediate:!0}),{redoHeight:B,setCompensation:O,contentHeight:C}}const gt=J({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:b.string,dense:b.bool,ghost:b.bool,headerSticky:b.bool,headerStyle:Object,content:b.string,contentStyle:{type:Object},contentBackground:b.bool.def(!0),contentFullHeight:b.bool.def(!1),contentClass:b.string,fixedHeight:b.bool,upwardSpace:b.oneOfType([b.number,b.string]).def(0)},setup(e){const a=e,i=Oe(),r=je(),f=A(null),p=A(null),C=A(null),v=A(null),{prefixCls:y}=oe("page-wrapper");Ie(Me,S(()=>a.fixedHeight));const O=S(()=>a.contentFullHeight),B=S(()=>a.upwardSpace),{redoHeight:$,setCompensation:T,contentHeight:P}=ut(O,f,[p,v],[C],B);T({useLayoutFooter:!0,elements:[v]});const l=S(()=>[y,{[`${y}--dense`]:a.dense},r.class??{}]),_=S(()=>Object.keys(te(i,"default","leftFooter","rightFooter","headerContent"))),{headerHeightRef:H}=ce(),u=S(()=>{const{headerSticky:t}=a;return t?{position:"sticky",top:`${h(H)}px`,...a.headerStyle}:{}}),m=S(()=>a.content||i?.headerContent||a.title||_.value.length),g=S(()=>i?.leftFooter||i?.rightFooter),n=S(()=>{const{contentFullHeight:t,contentStyle:s,fixedHeight:c}=a;if(!t)return{...s};const x=`${h(P)}px`;return{...s,minHeight:x,...c?{height:x}:{}}}),o=S(()=>{const{contentBackground:t,contentClass:s}=a;return[`${y}-content`,s,{[`${y}-content-bg`]:t}]});return se(()=>[g.value],()=>{$()},{flush:"post",immediate:!0}),(t,s)=>(E(),q("div",{ref_key:"wrapperRef",ref:f,class:Z(l.value)},[m.value?(E(),ae(h(lt),Ge({key:0},h(te)(t.$attrs,"class"),{ref_key:"headerRef",ref:p,style:[u.value,{margin:"1rem","border-radius":"1rem"}],ghost:e.ghost,title:e.title}),Ee({default:L(()=>[e.content?(E(),q(Ve,{key:0},[We(Xe(e.content),1)],64)):w(t.$slots,"headerContent",{key:1})]),_:2},[Le(_.value,(c,x)=>({name:c,fn:L(j=>[w(t.$slots,c,Ne(De(j||{})))])}))]),1040,["style","ghost","title"])):ne("",!0),U("div",{ref_key:"contentRef",ref:C,class:Z(["overflow-hidden",o.value]),style:ie(n.value)},[w(t.$slots,"default")],6),g.value?(E(),ae(de,{key:1,ref_key:"footerRef",ref:v},{left:L(()=>[w(t.$slots,"leftFooter")]),right:L(()=>[w(t.$slots,"rightFooter")]),_:3},512)):ne("",!0)],2))}});le(de);const $t=le(gt);export{$t as P};
