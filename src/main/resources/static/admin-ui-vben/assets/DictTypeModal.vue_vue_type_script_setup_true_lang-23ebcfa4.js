import{d as M,c as S,r as w,k as e,o as I,j as b,w as D,n as x,af as C,y as O}from"./index-84bac5b8.js";import"./index-1beb4355.js";import"./BasicForm.vue_vue_type_style_index_0_lang-f40c69bb.js";import{a as P,B as R}from"./index-173d5d49.js";import"./sortable.esm-f208c0d8.js";import{u as c}from"./useRender-70a86cea.js";import{D as r,g as l}from"./dict-5c702769.js";import{u as k,_ as F}from"./useForm-9e126d4c.js";import{g as v,u as A,c as B}from"./type-5ccfae65.js";const Y=[{title:"字典编号",dataIndex:"id",width:100},{title:"字典名称",dataIndex:"name",width:180},{title:"状态",dataIndex:"status",width:180,customRender:({text:s})=>c.renderDict(s,r.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:s})=>c.renderDate(s)}],z=[{label:"字典名称",field:"name",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)},colProps:{span:8}}],U=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"字典名称",field:"name",required:!0,component:"Input"},{label:"字典类型",field:"type",required:!0,component:"Input"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],H=M({name:"SystemDictTypeModal",__name:"DictTypeModal",emits:["success","register"],setup(s,{emit:p}){const m=p,{t:o}=S(),{createMessage:d}=O(),a=w(!0),[u,{setFieldsValue:f,resetFields:g,validate:T}]=k({labelWidth:120,baseColProps:{span:24},schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23}}),[_,{setModalProps:n,closeModal:h}]=P(async t=>{if(g(),n({confirmLoading:!1}),a.value=!!t?.isUpdate,e(a)){const i=await v(t.record.id);f({...i})}});async function y(){try{const t=await T();n({confirmLoading:!0}),e(a)?await A(t):await B(t),h(),m("success"),d.success(o("common.saveSuccessText"))}finally{n({confirmLoading:!1})}}return(t,i)=>(I(),b(e(R),C(t.$attrs,{title:a.value?e(o)("action.edit"):e(o)("action.create"),onRegister:e(_),onOk:y}),{default:D(()=>[x(e(F),{onRegister:e(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{H as _,z as a,Y as t};
