import{d as M,c as P,r as b,k as e,o as S,j as x,w as T,n as O,af as C,y as R}from"./index-2b36f9e3.js";import"./index-238a0b12.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as k,B as y}from"./index-ab29420a.js";import"./sortable.esm-f208c0d8.js";import{u as c}from"./useRender-e7048bde.js";import{D as r,g as l}from"./dict-d92cc9bc.js";import{u as v,_ as A}from"./useForm-2cb760a4.js";import{g as B,u as D,c as F}from"./index-6e8abceb.js";const Y=[{title:"岗位编号",dataIndex:"id",width:100},{title:"岗位名称",dataIndex:"name",width:180},{title:"岗位编码",dataIndex:"code",width:100},{title:"岗位顺序",dataIndex:"sort",width:120},{title:"状态",dataIndex:"status",width:180,customRender:({text:s})=>c.renderDict(s,r.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:s})=>c.renderDate(s)}],z=[{label:"岗位名称",field:"name",component:"Input",colProps:{span:8}},{label:"岗位编码",field:"code",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)},colProps:{span:8}}],N=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"岗位名称",field:"name",required:!0,component:"Input"},{label:"岗位编码",field:"code",required:!0,component:"Input"},{label:"岗位顺序",field:"sort",required:!0,defaultValue:0,component:"InputNumber"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],H=M({name:"SystemPostModal",__name:"PostModal",emits:["success","register"],setup(s,{emit:d}){const m=d,{t:a}=P(),{createMessage:p}=R(),o=b(!0),[u,{setFieldsValue:f,resetFields:g,validate:h}]=v({labelWidth:120,baseColProps:{span:24},schemas:N,showActionButtonGroup:!1,actionColOptions:{span:23}}),[I,{setModalProps:n,closeModal:_}]=k(async t=>{if(g(),n({confirmLoading:!1}),o.value=!!t?.isUpdate,e(o)){const i=await B(t.record.id);f({...i})}});async function w(){try{const t=await h();n({confirmLoading:!0}),e(o)?await D(t):await F(t),_(),m("success"),p.success(a("common.saveSuccessText"))}finally{n({confirmLoading:!1})}}return(t,i)=>(S(),x(e(y),C(t.$attrs,{title:o.value?e(a)("action.edit"):e(a)("action.create"),onRegister:e(I),onOk:w}),{default:T(()=>[O(e(A),{onRegister:e(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{H as _,Y as c,z as s};
