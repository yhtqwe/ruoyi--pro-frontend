import{e as c}from"./index-2dfbd03e.js";import{d as p,r as m,o as u,j as f,w as b,n as h,k as a,af as I}from"./index-84bac5b8.js";import"./index-1beb4355.js";import"./BasicForm.vue_vue_type_style_index_0_lang-f40c69bb.js";import{a as x,B as D}from"./index-173d5d49.js";import"./sortable.esm-f208c0d8.js";import{u as r}from"./useRender-70a86cea.js";import{D as t,g as o}from"./dict-5c702769.js";import{D as P}from"./index-d97670a9.js";import{a as _}from"./index-ccfba5e7.js";const $=[{title:"订单编号",dataIndex:"id",width:100},{title:"支付金额(元)",dataIndex:"amount",width:120,customRender:({text:e})=>`￥${Number.parseFloat(e||0/100).toFixed(2)}`},{title:"手续金额(元)",dataIndex:"channelFeeAmount",width:120,customRender:({text:e})=>`￥${Number.parseFloat(e||0/100).toFixed(2)}`},{title:"退款金额(元)",dataIndex:"refundAmount",width:120,customRender:({text:e})=>`￥${Number.parseFloat(e||0/100).toFixed(2)}`},{title:"订单号",children:[{title:"商户",dataIndex:"merchantOrderId",width:120},{title:"支付",dataIndex:"no",width:120},{title:"渠道",dataIndex:"channelOrderNo",width:160}]},{title:"支付状态",dataIndex:"status",width:100,customRender:({text:e})=>r.renderDict(e,t.PAY_ORDER_STATUS)},{title:"支付渠道",dataIndex:"channelCode",width:100,customRender:({text:e})=>r.renderDict(e,t.PAY_CHANNEL_CODE)},{title:"支付应用",dataIndex:"appName",width:100},{title:"商品标题",dataIndex:"subject",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>r.renderDate(e)},{title:"支付时间",dataIndex:"successTime",width:180,customRender:({text:e})=>r.renderDate(e)}],Y=[{label:"应用编号",field:"appId",component:"ApiSelect",componentProps:{api:()=>c(),labelField:"name",valueField:"id"},colProps:{span:8}},{label:"支付渠道",field:"channelCode",component:"Select",componentProps:{options:o(t.PAY_CHANNEL_CODE)},colProps:{span:8}},{label:"商户单号",field:"merchantOrderId",component:"Input",colProps:{span:8}},{label:"支付单号",field:"no",component:"Input",colProps:{span:8}},{label:"渠道单号",field:"channelOrderNo",component:"Input",colProps:{span:8}},{label:"支付状态",field:"status",component:"Select",componentProps:{options:o(t.PAY_ORDER_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],F=[{label:"商户单号",field:"merchantOrderId"},{label:"支付单号",field:"no",render:e=>r.renderTag(e)},{label:"应用编号",field:"appId"},{label:"应用名称",field:"appName"},{label:"支付状态",field:"status",render:e=>r.renderDict(e,t.PAY_ORDER_STATUS)},{label:"支付金额",field:"amount",render:e=>`￥${Number.parseFloat(e||0/100).toFixed(2)}`},{label:"手续费",field:"channelFeeAmount",render:e=>`￥${Number.parseFloat(e||0/100).toFixed(2)}`},{label:"手续费比例",field:"channelFeeRate",render:e=>`${Number.parseFloat(e||0/100).toFixed(2)}%`},{label:"支付时间",field:"successTime",render:e=>r.renderDate(e)},{label:"失效时间",field:"expireTime",render:e=>r.renderDate(e)},{label:"创建时间",field:"createTime",render:e=>r.renderDate(e)},{label:"更新时间",field:"updateTime",render:e=>r.renderDate(e)},{label:"商品标题",field:"subject"},{label:"商品描述",field:"body"},{label:"支付渠道",field:"channelCode",render:e=>r.renderDict(e,t.PAY_CHANNEL_CODE)},{label:"支付 IP",field:"userIp"},{label:"渠道单号",field:"channelOrderNo",render:e=>r.renderTag(e)},{label:"渠道用户",field:"channelUserId"},{label:"退款金额",field:"refundPrice",render:e=>`￥${Number.parseFloat(`${e/100}`).toFixed(2)}`},{label:"通知 URL",field:"notifyUrl"},{label:"支付通道异步回调内容",field:"extension.channelNotifyData"}],L=p({name:"PayRefundModal",__name:"OrderModal",setup(e){const d=m(),[i,{setModalProps:s}]=x(async n=>{s({confirmLoading:!1});const l=await _(n.record.id);d.value=l});return(n,l)=>(u(),f(a(D),I(n.$attrs,{width:"60%",title:"查看详情","show-ok-btn":!1,onRegister:a(i)}),{default:b(()=>[h(a(P),{bordered:!1,column:2,data:d.value,schema:a(F)},null,8,["data","schema"])]),_:1},16,["onRegister"]))}});export{L as _,$ as c,Y as s};
