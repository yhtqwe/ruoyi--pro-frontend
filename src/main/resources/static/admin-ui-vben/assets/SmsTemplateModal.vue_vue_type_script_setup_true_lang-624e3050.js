import{f as _,g as M,u as S,c as h}from"./index-3b06acc3.js";import{d as w,c as y,r as T,k as e,o as v,j as B,w as k,n as C,af as F,y as R}from"./index-2b36f9e3.js";import{u as b,_ as x}from"./useForm-2cb760a4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{a as L,B as P}from"./index-ab29420a.js";const A=w({name:"SystemSmsTemplateModal",__name:"SmsTemplateModal",emits:["success","register"],setup(I,{emit:n}){const i=n,{t}=y(),{createMessage:c}=R(),a=T(!0),[m,{setFieldsValue:l,resetFields:u,validate:p}]=b({labelWidth:120,baseColProps:{span:24},schemas:_,showActionButtonGroup:!1,actionColOptions:{span:23}}),[d,{setModalProps:o,closeModal:f}]=L(async s=>{if(u(),o({confirmLoading:!1}),a.value=!!s?.isUpdate,e(a)){const r=await M(s.record.id);l({...r})}});async function g(){try{const s=await p();o({confirmLoading:!0}),e(a)?await S(s):await h(s),f(),i("success"),c.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,r)=>(v(),B(e(P),F(s.$attrs,{title:a.value?e(t)("action.edit"):e(t)("action.create"),onRegister:e(d),onOk:g}),{default:k(()=>[C(e(x),{onRegister:e(m)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{A as _};
