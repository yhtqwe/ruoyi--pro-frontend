import{d9 as FJ,bu as IJ,bt as NJ,cw as LJ,_ as We,d as Rr,c9 as zk,r as mn,bN as Nl,bw as Qy,n as ue,cL as Ps,bA as Ot,cf as oH,bB as jv,bC as Jc,bF as If,cc as ew,bS as zJ,bL as Co,f as yt,bz as ya,cP as iH,cH as uH,bJ as QU,D as uP,E as lP,$ as eW,bT as tW,da as HJ,bV as sP,bU as VJ,db as UJ,dc as WJ,dd as jJ,de as qJ,bX as Hr,bi as Nf,br as np,df as Nu,dg as KJ,aL as tw,as as vb,aB as db,x as Ni,cz as sa,cy as Ff,dh as GJ,a6 as oa,bQ as rp,at as nw,di as YJ,ar as pl,cO as ss,aO as so,dj as XJ,C as zf,dk as ZJ,dl as JJ,dm as QJ,dn as eQ,k as Jt,aw as nW,cA as H7,F as eu,cj as cP,ck as rW,ca as Qc,bR as rw,ce as Wk,c4 as ea,c8 as Wn,c5 as zo,cd as gu,dp as tQ,dq as aW,dr as V7,ds as nQ,dt as rQ,du as aQ,dv as oQ,dw as iQ,dx as uQ,dy as lQ,cJ as Yy,cI as nU,dz as rU,dA as Xy,b$ as Ms,al as lH,c3 as gl,dB as Kk,dC as fP,dD as eP,dE as tP,bW as ep,dF as Gk,dG as aU,dH as oW,R as jk,T as sm,c6 as Si,by as sH,dI as iW,c7 as cH,cN as Zg,dJ as U7,dK as sQ,ay as aw,B as vP,dL as cQ,dM as uW,dN as Ik,dO as fH,dP as fQ,dQ as W7,dR as vQ,dS as dQ,dT as mQ,dU as gQ,ba as tp,a as vH,dV as lW,ah as ub,dW as pQ,dX as hQ,bK as dH,dY as bQ,X as Zc,dZ as yQ,cM as wQ,d_ as oU,bM as CQ,d$ as SQ,e0 as xQ,bG as kQ,bH as TQ,bI as EQ,e1 as sW,bD as OQ,b as ow,o as Yr,j as wo,w as wa,az as mH,q as um,c as wc,i as Wv,h as Ho,S as AQ,s as ap,e2 as iU,M as fb,l as pu,e3 as $Q,aG as DQ,aK as _Q,N as rr,e4 as dP,bY as Yk,af as Lu,e5 as iw,ao as Lf,t as tu,cZ as gH,a$ as Xk,au as Uv,aH as Jg,aI as mP,ax as PQ,cY as Zy,c_ as MQ,e6 as RQ,e7 as BQ,u as cW,e8 as FQ,e9 as IQ,v as Zk,y as fW,ea as NQ,aM as LQ,c$ as uU,eb as p7,K as vW,ec as zQ,ed as HQ,aW as VQ,aD as UQ,ee as lU,ef as WQ,eg as jQ,bs as dW,U as qQ,cT as mW,aS as KQ,eh as GQ,ap as YQ,aq as XQ,ei as h7,ej as ZQ}from"./index-84bac5b8.js";import{u as uw,C as JQ}from"./index-3e1b457d.js";import{V as QQ,C as gP}from"./index-b9509bee.js";import{g as lm}from"./get-acbb0bab.js";import{S as nP,s as eee,u as gW,a as pP,b as pW,B as hW,c as bW,d as yW,g as wW,e as tee,f as nee}from"./index-d4092c42.js";import{c as CW,u as SW,a as qy,T as ree,g as aee,r as oee,h as xW,b as iee}from"./tree-a6f36781.js";import{g as kW}from"./index-2dea95e5.js";import{F as uee}from"./index-09793f90.js";import{D as TW}from"./DownOutlined-a8fe79f2.js";import{T as lee,S as see,o as cee}from"./onMountedOrActivated-78e848f5.js";import{P as EW}from"./index-81d4b3c0.js";import{I as fee,a as j7}from"./index-343834d4.js";import{b as vee}from"./_baseIteratee-de9a7973.js";import{C as dee}from"./CheckOutlined-c0652f6b.js";import{u as OW,P as mee}from"./PlusOutlined-c3a73197.js";import{D as AW}from"./index-5d2832e9.js";import{T as X_}from"./index-831ed906.js";import{b as gee,a as $W,B as DW,u as sU}from"./index-173d5d49.js";import{S as pee}from"./index-7a2ca6fc.js";import{c as hee}from"./copyTextToClipboard-cc995e2b.js";import{I as bee}from"./index-d2cf1d1c.js";import{S as yee}from"./index-9bf8eb9e.js";import{C as wee}from"./index-723fd4c3.js";function Cee(s,g,d,h){for(var y=-1,k=s==null?0:s.length;++y<k;){var x=s[y];g(h,x,d(x),s)}return h}function See(s,g){return s&&FJ(s,g,IJ)}function xee(s,g){return function(d,h){if(d==null)return d;if(!NJ(d))return s(d,h);for(var y=d.length,k=g?y:-1,x=Object(d);(g?k--:++k<y)&&h(x[k],k,x)!==!1;);return d}}var kee=xee(See);const Tee=kee;function Eee(s,g,d,h){return Tee(s,function(y,k,x){g(h,y,d(y),x)}),h}function Oee(s,g){return function(d,h){var y=LJ(d)?Cee:Eee,k=g?g():{};return y(d,s,vee(h),k)}}var Aee=Array.prototype,$ee=Aee.join;function cU(s,g){return s==null?"":$ee.call(s,g)}var Dee=Oee(function(s,g,d){s[d?0:1].push(g)},function(){return[[],[]]});const _ee=Dee,pH=()=>null;pH.isSelectOption=!0;pH.displayName="AAutoCompleteOption";const Hk=pH,hH=()=>null;hH.isSelectOptGroup=!0;hH.displayName="AAutoCompleteOptGroup";const b7=hH;function Pee(s){var g,d;return((g=s?.type)===null||g===void 0?void 0:g.isSelectOption)||((d=s?.type)===null||d===void 0?void 0:d.isSelectOptGroup)}const Mee=()=>We(We({},Ps(eee(),["loading","mode","optionLabelProp","labelInValue"])),{dataSource:Array,dropdownMenuStyle:{type:Object,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},prefixCls:String,showSearch:{type:Boolean,default:void 0},transitionName:String,choiceTransitionName:{type:String,default:"zoom"},autofocus:{type:Boolean,default:void 0},backfill:{type:Boolean,default:void 0},filterOption:{type:[Boolean,Function],default:!1},defaultActiveFirstOption:{type:Boolean,default:!0},status:String}),y7=Rr({compatConfig:{MODE:3},name:"AAutoComplete",inheritAttrs:!1,props:Mee(),slots:Object,setup(s,g){let{slots:d,attrs:h,expose:y}=g;zk(),zk(),zk(!s.dropdownClassName);const k=mn(),x=()=>{var B;const D=oH((B=d.default)===null||B===void 0?void 0:B.call(d));return D.length?D[0]:void 0};y({focus:()=>{var B;(B=k.value)===null||B===void 0||B.focus()},blur:()=>{var B;(B=k.value)===null||B===void 0||B.blur()}});const{prefixCls:I}=Nl("select",s);return()=>{var B,D,F;const{size:L,dataSource:J,notFoundContent:_=(B=d.notFoundContent)===null||B===void 0?void 0:B.call(d)}=s;let U;const{class:te}=h,Z={[te]:!!te,[`${I.value}-lg`]:L==="large",[`${I.value}-sm`]:L==="small",[`${I.value}-show-search`]:!0,[`${I.value}-auto-complete`]:!0};if(s.options===void 0){const Q=((D=d.dataSource)===null||D===void 0?void 0:D.call(d))||((F=d.options)===null||F===void 0?void 0:F.call(d))||[];Q.length&&Pee(Q[0])?U=Q:U=J?J.map(X=>{if(Qy(X))return X;switch(typeof X){case"string":return ue(Hk,{key:X,value:X},{default:()=>[X]});case"object":return ue(Hk,{key:X.value,value:X.value},{default:()=>[X.text]});default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[]}const R=Ps(We(We(We({},s),h),{mode:nP.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:x,notFoundContent:_,class:Z,popupClassName:s.popupClassName||s.dropdownClassName,ref:k}),["dataSource","loading"]);return ue(nP,R,Ot({default:()=>[U]},Ps(d,["default","dataSource","options"])))}}}),Ree=We(y7,{Option:Hk,OptGroup:b7,install(s){return s.component(y7.name,y7),s.component(Hk.displayName,Hk),s.component(b7.displayName,b7),s}}),z_=(s,g,d,h,y)=>({backgroundColor:s,border:`${h.lineWidth}px ${h.lineType} ${g}`,[`${y}-icon`]:{color:d}}),Bee=s=>{const{componentCls:g,motionDurationSlow:d,marginXS:h,marginSM:y,fontSize:k,fontSizeLG:x,lineHeight:T,borderRadiusLG:P,motionEaseInOutCirc:I,alertIconSizeLG:B,colorText:D,paddingContentVerticalSM:F,alertPaddingHorizontal:L,paddingMD:J,paddingContentHorizontalLG:_}=s;return{[g]:We(We({},If(s)),{position:"relative",display:"flex",alignItems:"center",padding:`${F}px ${L}px`,wordWrap:"break-word",borderRadius:P,[`&${g}-rtl`]:{direction:"rtl"},[`${g}-content`]:{flex:1,minWidth:0},[`${g}-icon`]:{marginInlineEnd:h,lineHeight:0},"&-description":{display:"none",fontSize:k,lineHeight:T},"&-message":{color:D},[`&${g}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${d} ${I}, opacity ${d} ${I},
        padding-top ${d} ${I}, padding-bottom ${d} ${I},
        margin-bottom ${d} ${I}`},[`&${g}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${g}-with-description`]:{alignItems:"flex-start",paddingInline:_,paddingBlock:J,[`${g}-icon`]:{marginInlineEnd:y,fontSize:B,lineHeight:0},[`${g}-message`]:{display:"block",marginBottom:h,color:D,fontSize:x},[`${g}-description`]:{display:"block"}},[`${g}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Fee=s=>{const{componentCls:g,colorSuccess:d,colorSuccessBorder:h,colorSuccessBg:y,colorWarning:k,colorWarningBorder:x,colorWarningBg:T,colorError:P,colorErrorBorder:I,colorErrorBg:B,colorInfo:D,colorInfoBorder:F,colorInfoBg:L}=s;return{[g]:{"&-success":z_(y,h,d,s,g),"&-info":z_(L,F,D,s,g),"&-warning":z_(T,x,k,s,g),"&-error":We(We({},z_(B,I,P,s,g)),{[`${g}-description > pre`]:{margin:0,padding:0}})}}},Iee=s=>{const{componentCls:g,iconCls:d,motionDurationMid:h,marginXS:y,fontSizeIcon:k,colorIcon:x,colorIconHover:T}=s;return{[g]:{"&-action":{marginInlineStart:y},[`${g}-close-icon`]:{marginInlineStart:y,padding:0,overflow:"hidden",fontSize:k,lineHeight:`${k}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${d}-close`]:{color:x,transition:`color ${h}`,"&:hover":{color:T}}},"&-close-text":{color:x,transition:`color ${h}`,"&:hover":{color:T}}}}},Nee=s=>[Bee(s),Fee(s),Iee(s)],Lee=jv("Alert",s=>{const{fontSizeHeading3:g}=s,d=Jc(s,{alertIconSizeLG:g,alertPaddingHorizontal:12});return[Nee(d)]}),zee={success:tW,info:HJ,error:sP,warning:VJ},Hee={success:UJ,info:WJ,error:jJ,warning:qJ},Vee=zJ("success","info","warning","error"),Uee=()=>({type:Hr.oneOf(Vee),closable:{type:Boolean,default:void 0},closeText:Hr.any,message:Hr.any,description:Hr.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:Hr.any,closeIcon:Hr.any,onClose:Function}),Wee=Rr({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:Uee(),setup(s,g){let{slots:d,emit:h,attrs:y,expose:k}=g;const{prefixCls:x,direction:T}=Nl("alert",s),[P,I]=Lee(x),B=Co(!1),D=Co(!1),F=Co(),L=te=>{te.preventDefault();const Z=F.value;Z.style.height=`${Z.offsetHeight}px`,Z.style.height=`${Z.offsetHeight}px`,B.value=!0,h("close",te)},J=()=>{var te;B.value=!1,D.value=!0,(te=s.afterClose)===null||te===void 0||te.call(s)},_=yt(()=>{const{type:te}=s;return te!==void 0?te:s.banner?"warning":"info"});k({animationEnd:J});const U=Co({});return()=>{var te,Z,R,Q,X,me,xe,fe,se,Ce;const{banner:oe,closeIcon:z=(te=d.closeIcon)===null||te===void 0?void 0:te.call(d)}=s;let{closable:G,showIcon:he}=s;const Ge=(Z=s.closeText)!==null&&Z!==void 0?Z:(R=d.closeText)===null||R===void 0?void 0:R.call(d),Me=(Q=s.description)!==null&&Q!==void 0?Q:(X=d.description)===null||X===void 0?void 0:X.call(d),je=(me=s.message)!==null&&me!==void 0?me:(xe=d.message)===null||xe===void 0?void 0:xe.call(d),tt=(fe=s.icon)!==null&&fe!==void 0?fe:(se=d.icon)===null||se===void 0?void 0:se.call(d),E=(Ce=d.action)===null||Ce===void 0?void 0:Ce.call(d);he=oe&&he===void 0?!0:he;const Ae=(Me?Hee:zee)[_.value]||null;Ge&&(G=!0);const Le=x.value,At=ya(Le,{[`${Le}-${_.value}`]:!0,[`${Le}-closing`]:B.value,[`${Le}-with-description`]:!!Me,[`${Le}-no-icon`]:!he,[`${Le}-banner`]:!!oe,[`${Le}-closable`]:G,[`${Le}-rtl`]:T.value==="rtl",[I.value]:!0}),ze=G?ue("button",{type:"button",onClick:L,class:`${Le}-close-icon`,tabindex:0},[Ge?ue("span",{class:`${Le}-close-text`},[Ge]):z===void 0?ue(iH,null,null):z]):null,ft=tt&&(Qy(tt)?uH(tt,{class:`${Le}-icon`}):ue("span",{class:`${Le}-icon`},[tt]))||ue(Ae,{class:`${Le}-icon`},null),Xe=QU(`${Le}-motion`,{appear:!1,css:!0,onAfterLeave:J,onBeforeLeave:ct=>{ct.style.maxHeight=`${ct.offsetHeight}px`},onLeave:ct=>{ct.style.maxHeight="0px"}});return P(D.value?null:ue(eW,Xe,{default:()=>[uP(ue("div",Ot(Ot({role:"alert"},y),{},{style:[y.style,U.value],class:[y.class,At],"data-show":!B.value,ref:F}),[he?ft:null,ue("div",{class:`${Le}-content`},[je?ue("div",{class:`${Le}-message`},[je]):null,Me?ue("div",{class:`${Le}-description`},[Me]):null]),E?ue("div",{class:`${Le}-action`},[E]):null,ze]),[[lP,!B.value]])]}))}}}),jee=ew(Wee);var _W={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){return function(d,h){h.prototype.weekday=function(y){var k=this.$locale().weekStart||0,x=this.$W,T=(x<k?x+7:x)-k;return this.$utils().u(y)?T:this.subtract(T,"day").add(y,"day")}}})})(_W);var qee=_W.exports;const Kee=np(qee);var PW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){return function(d,h,y){var k=h.prototype,x=function(D){return D&&(D.indexOf?D:D.s)},T=function(D,F,L,J,_){var U=D.name?D:D.$locale(),te=x(U[F]),Z=x(U[L]),R=te||Z.map(function(X){return X.slice(0,J)});if(!_)return R;var Q=U.weekStart;return R.map(function(X,me){return R[(me+(Q||0))%7]})},P=function(){return y.Ls[y.locale()]},I=function(D,F){return D.formats[F]||function(L){return L.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(J,_,U){return _||U.slice(1)})}(D.formats[F.toUpperCase()])},B=function(){var D=this;return{months:function(F){return F?F.format("MMMM"):T(D,"months")},monthsShort:function(F){return F?F.format("MMM"):T(D,"monthsShort","months",3)},firstDayOfWeek:function(){return D.$locale().weekStart||0},weekdays:function(F){return F?F.format("dddd"):T(D,"weekdays")},weekdaysMin:function(F){return F?F.format("dd"):T(D,"weekdaysMin","weekdays",2)},weekdaysShort:function(F){return F?F.format("ddd"):T(D,"weekdaysShort","weekdays",3)},longDateFormat:function(F){return I(D.$locale(),F)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};k.localeData=function(){return B.bind(this)()},y.localeData=function(){var D=P();return{firstDayOfWeek:function(){return D.weekStart||0},weekdays:function(){return y.weekdays()},weekdaysShort:function(){return y.weekdaysShort()},weekdaysMin:function(){return y.weekdaysMin()},months:function(){return y.months()},monthsShort:function(){return y.monthsShort()},longDateFormat:function(F){return I(D,F)},meridiem:D.meridiem,ordinal:D.ordinal}},y.months=function(){return T(P(),"months")},y.monthsShort=function(){return T(P(),"monthsShort","months",3)},y.weekdays=function(D){return T(P(),"weekdays",null,null,D)},y.weekdaysShort=function(D){return T(P(),"weekdaysShort","weekdays",3,D)},y.weekdaysMin=function(D){return T(P(),"weekdaysMin","weekdays",2,D)}}})})(PW);var Gee=PW.exports;const Yee=np(Gee);var MW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){var d="week",h="year";return function(y,k,x){var T=k.prototype;T.week=function(P){if(P===void 0&&(P=null),P!==null)return this.add(7*(P-this.week()),"day");var I=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var B=x(this).startOf(h).add(1,h).date(I),D=x(this).endOf(d);if(B.isBefore(D))return 1}var F=x(this).startOf(h).date(I).startOf(d).subtract(1,"millisecond"),L=this.diff(F,d,!0);return L<0?x(this).startOf("week").week():Math.ceil(L)},T.weeks=function(P){return P===void 0&&(P=null),this.week(P)}}})})(MW);var Xee=MW.exports;const Zee=np(Xee);var RW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){return function(d,h){h.prototype.weekYear=function(){var y=this.month(),k=this.week(),x=this.year();return k===1&&y===11?x+1:y===0&&k>=52?x-1:x}}})})(RW);var Jee=RW.exports;const Qee=np(Jee);var BW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){var d="month",h="quarter";return function(y,k){var x=k.prototype;x.quarter=function(I){return this.$utils().u(I)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(I-1))};var T=x.add;x.add=function(I,B){return I=Number(I),this.$utils().p(B)===h?this.add(3*I,d):T.bind(this)(I,B)};var P=x.startOf;x.startOf=function(I,B){var D=this.$utils(),F=!!D.u(B)||B;if(D.p(I)===h){var L=this.quarter()-1;return F?this.month(3*L).startOf(d).startOf("day"):this.month(3*L+2).endOf(d).endOf("day")}return P.bind(this)(I,B)}}})})(BW);var ete=BW.exports;const tte=np(ete);var FW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){return function(d,h){var y=h.prototype,k=y.format;y.format=function(x){var T=this,P=this.$locale();if(!this.isValid())return k.bind(this)(x);var I=this.$utils(),B=(x||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(D){switch(D){case"Q":return Math.ceil((T.$M+1)/3);case"Do":return P.ordinal(T.$D);case"gggg":return T.weekYear();case"GGGG":return T.isoWeekYear();case"wo":return P.ordinal(T.week(),"W");case"w":case"ww":return I.s(T.week(),D==="w"?1:2,"0");case"W":case"WW":return I.s(T.isoWeek(),D==="W"?1:2,"0");case"k":case"kk":return I.s(String(T.$H===0?24:T.$H),D==="k"?1:2,"0");case"X":return Math.floor(T.$d.getTime()/1e3);case"x":return T.$d.getTime();case"z":return"["+T.offsetName()+"]";case"zzz":return"["+T.offsetName("long")+"]";default:return D}});return k.bind(this)(B)}}})})(FW);var nte=FW.exports;const rte=np(nte);var IW={exports:{}};(function(s,g){(function(d,h){s.exports=h()})(Nf,function(){var d={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},h=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,y=/\d\d/,k=/\d\d?/,x=/\d*[^-_:/,()\s\d]+/,T={},P=function(_){return(_=+_)+(_>68?1900:2e3)},I=function(_){return function(U){this[_]=+U}},B=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=function(U){if(!U||U==="Z")return 0;var te=U.match(/([+-]|\d\d)/g),Z=60*te[1]+(+te[2]||0);return Z===0?0:te[0]==="+"?-Z:Z}(_)}],D=function(_){var U=T[_];return U&&(U.indexOf?U:U.s.concat(U.f))},F=function(_,U){var te,Z=T.meridiem;if(Z){for(var R=1;R<=24;R+=1)if(_.indexOf(Z(R,0,U))>-1){te=R>12;break}}else te=_===(U?"pm":"PM");return te},L={A:[x,function(_){this.afternoon=F(_,!1)}],a:[x,function(_){this.afternoon=F(_,!0)}],S:[/\d/,function(_){this.milliseconds=100*+_}],SS:[y,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[k,I("seconds")],ss:[k,I("seconds")],m:[k,I("minutes")],mm:[k,I("minutes")],H:[k,I("hours")],h:[k,I("hours")],HH:[k,I("hours")],hh:[k,I("hours")],D:[k,I("day")],DD:[y,I("day")],Do:[x,function(_){var U=T.ordinal,te=_.match(/\d+/);if(this.day=te[0],U)for(var Z=1;Z<=31;Z+=1)U(Z).replace(/\[|\]/g,"")===_&&(this.day=Z)}],M:[k,I("month")],MM:[y,I("month")],MMM:[x,function(_){var U=D("months"),te=(D("monthsShort")||U.map(function(Z){return Z.slice(0,3)})).indexOf(_)+1;if(te<1)throw new Error;this.month=te%12||te}],MMMM:[x,function(_){var U=D("months").indexOf(_)+1;if(U<1)throw new Error;this.month=U%12||U}],Y:[/[+-]?\d+/,I("year")],YY:[y,function(_){this.year=P(_)}],YYYY:[/\d{4}/,I("year")],Z:B,ZZ:B};function J(_){var U,te;U=_,te=T&&T.formats;for(var Z=(_=U.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(se,Ce,oe){var z=oe&&oe.toUpperCase();return Ce||te[oe]||d[oe]||te[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(G,he,Ge){return he||Ge.slice(1)})})).match(h),R=Z.length,Q=0;Q<R;Q+=1){var X=Z[Q],me=L[X],xe=me&&me[0],fe=me&&me[1];Z[Q]=fe?{regex:xe,parser:fe}:X.replace(/^\[|\]$/g,"")}return function(se){for(var Ce={},oe=0,z=0;oe<R;oe+=1){var G=Z[oe];if(typeof G=="string")z+=G.length;else{var he=G.regex,Ge=G.parser,Me=se.slice(z),je=he.exec(Me)[0];Ge.call(Ce,je),se=se.replace(je,"")}}return function(tt){var E=tt.afternoon;if(E!==void 0){var Ae=tt.hours;E?Ae<12&&(tt.hours+=12):Ae===12&&(tt.hours=0),delete tt.afternoon}}(Ce),Ce}}return function(_,U,te){te.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(P=_.parseTwoDigitYear);var Z=U.prototype,R=Z.parse;Z.parse=function(Q){var X=Q.date,me=Q.utc,xe=Q.args;this.$u=me;var fe=xe[1];if(typeof fe=="string"){var se=xe[2]===!0,Ce=xe[3]===!0,oe=se||Ce,z=xe[2];Ce&&(z=xe[2]),T=this.$locale(),!se&&z&&(T=te.Ls[z]),this.$d=function(Me,je,tt){try{if(["x","X"].indexOf(je)>-1)return new Date((je==="X"?1e3:1)*Me);var E=J(je)(Me),Ae=E.year,Le=E.month,At=E.day,ze=E.hours,ft=E.minutes,Xe=E.seconds,ct=E.milliseconds,re=E.zone,Vt=new Date,it=At||(Ae||Le?1:Vt.getDate()),Oe=Ae||Vt.getFullYear(),dt=0;Ae&&!Le||(dt=Le>0?Le-1:Vt.getMonth());var Ne=ze||0,Be=ft||0,at=Xe||0,gt=ct||0;return re?new Date(Date.UTC(Oe,dt,it,Ne,Be,at,gt+60*re.offset*1e3)):tt?new Date(Date.UTC(Oe,dt,it,Ne,Be,at,gt)):new Date(Oe,dt,it,Ne,Be,at,gt)}catch{return new Date("")}}(X,fe,me),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),oe&&X!=this.format(fe)&&(this.$d=new Date("")),T={}}else if(fe instanceof Array)for(var G=fe.length,he=1;he<=G;he+=1){xe[1]=fe[he-1];var Ge=te.apply(this,xe);if(Ge.isValid()){this.$d=Ge.$d,this.$L=Ge.$L,this.init();break}he===G&&(this.$d=new Date(""))}else R.call(this,Q)}}})})(IW);var ate=IW.exports;const ote=np(ate);Nu.extend(ote);Nu.extend(rte);Nu.extend(Kee);Nu.extend(Yee);Nu.extend(Zee);Nu.extend(Qee);Nu.extend(tte);Nu.extend((s,g)=>{const d=g.prototype,h=d.format;d.format=function(k){const x=(k||"").replace("Wo","wo");return h.bind(this)(x)}});const ite={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},lb=s=>ite[s]||s.split("_")[0],fU=()=>{KJ(!1,"Not match any format. Please help to fire a issue about this.")},ute=/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|k{1,2}|S/g;function vU(s,g,d){const h=[...new Set(s.split(d))];let y=0;for(let k=0;k<h.length;k++){const x=h[k];if(y+=x.length,y>g)return x;y+=d.length}}const dU=(s,g)=>{if(!s)return null;if(Nu.isDayjs(s))return s;const d=g.matchAll(ute);let h=Nu(s,g);if(d===null)return h;for(const y of d){const k=y[0],x=y.index;if(k==="Q"){const T=s.slice(x-1,x),P=vU(s,x,T).match(/\d+/)[0];h=h.quarter(parseInt(P))}if(k.toLowerCase()==="wo"){const T=s.slice(x-1,x),P=vU(s,x,T).match(/\d+/)[0];h=h.week(parseInt(P))}k.toLowerCase()==="ww"&&(h=h.week(parseInt(s.slice(x,x+k.length)))),k.toLowerCase()==="w"&&(h=h.week(parseInt(s.slice(x,x+k.length+1))))}return h},lte={getNow:()=>Nu(),getFixedDate:s=>Nu(s,["YYYY-M-DD","YYYY-MM-DD"]),getEndDate:s=>s.endOf("month"),getWeekDay:s=>{const g=s.locale("en");return g.weekday()+g.localeData().firstDayOfWeek()},getYear:s=>s.year(),getMonth:s=>s.month(),getDate:s=>s.date(),getHour:s=>s.hour(),getMinute:s=>s.minute(),getSecond:s=>s.second(),addYear:(s,g)=>s.add(g,"year"),addMonth:(s,g)=>s.add(g,"month"),addDate:(s,g)=>s.add(g,"day"),setYear:(s,g)=>s.year(g),setMonth:(s,g)=>s.month(g),setDate:(s,g)=>s.date(g),setHour:(s,g)=>s.hour(g),setMinute:(s,g)=>s.minute(g),setSecond:(s,g)=>s.second(g),isAfter:(s,g)=>s.isAfter(g),isValidate:s=>s.isValid(),locale:{getWeekFirstDay:s=>Nu().locale(lb(s)).localeData().firstDayOfWeek(),getWeekFirstDate:(s,g)=>g.locale(lb(s)).weekday(0),getWeek:(s,g)=>g.locale(lb(s)).week(),getShortWeekDays:s=>Nu().locale(lb(s)).localeData().weekdaysMin(),getShortMonths:s=>Nu().locale(lb(s)).localeData().monthsShort(),format:(s,g,d)=>g.locale(lb(s)).format(d),parse:(s,g,d)=>{const h=lb(s);for(let y=0;y<d.length;y+=1){const k=d[y],x=g;if(k.includes("wo")||k.includes("Wo")){const P=x.split("-")[0],I=x.split("-")[1],B=Nu(P,"YYYY").startOf("year").locale(h);for(let D=0;D<=52;D+=1){const F=B.add(D,"week");if(F.format("Wo")===I)return F}return fU(),null}const T=Nu(x,k,!0).locale(h);if(T.isValid())return T}return g||fU(),null}},toDate:(s,g)=>Array.isArray(s)?s.map(d=>dU(d,g)):dU(s,g),toString:(s,g)=>Array.isArray(s)?s.map(d=>Nu.isDayjs(d)?d.format(g):d):Nu.isDayjs(s)?s.format(g):s},NW=lte;function Li(s){const g=tw();return We(We({},s),g)}const LW=Symbol("PanelContextProps"),bH=s=>{vb(LW,s)},qv=()=>db(LW,{}),H_={visibility:"hidden"};function op(s,g){let{slots:d}=g;var h;const y=Li(s),{prefixCls:k,prevIcon:x="‹",nextIcon:T="›",superPrevIcon:P="«",superNextIcon:I="»",onSuperPrev:B,onSuperNext:D,onPrev:F,onNext:L}=y,{hideNextBtn:J,hidePrevBtn:_}=qv();return ue("div",{class:k},[B&&ue("button",{type:"button",onClick:B,tabindex:-1,class:`${k}-super-prev-btn`,style:_.value?H_:{}},[P]),F&&ue("button",{type:"button",onClick:F,tabindex:-1,class:`${k}-prev-btn`,style:_.value?H_:{}},[x]),ue("div",{class:`${k}-view`},[(h=d.default)===null||h===void 0?void 0:h.call(d)]),L&&ue("button",{type:"button",onClick:L,tabindex:-1,class:`${k}-next-btn`,style:J.value?H_:{}},[T]),D&&ue("button",{type:"button",onClick:D,tabindex:-1,class:`${k}-super-next-btn`,style:J.value?H_:{}},[I])])}op.displayName="Header";op.inheritAttrs=!1;function yH(s){const g=Li(s),{prefixCls:d,generateConfig:h,viewDate:y,onPrevDecades:k,onNextDecades:x}=g,{hideHeader:T}=qv();if(T)return null;const P=`${d}-header`,I=h.getYear(y),B=Math.floor(I/om)*om,D=B+om-1;return ue(op,Ot(Ot({},g),{},{prefixCls:P,onSuperPrev:k,onSuperNext:x}),{default:()=>[B,Ni("-"),D]})}yH.displayName="DecadeHeader";yH.inheritAttrs=!1;function zW(s,g,d,h,y){let k=s.setHour(g,d);return k=s.setMinute(k,h),k=s.setSecond(k,y),k}function Z_(s,g,d){if(!d)return g;let h=g;return h=s.setHour(h,s.getHour(d)),h=s.setMinute(h,s.getMinute(d)),h=s.setSecond(h,s.getSecond(d)),h}function ste(s,g,d,h,y,k){const x=Math.floor(s/h)*h;if(x<s)return[x,60-y,60-k];const T=Math.floor(g/y)*y;if(T<g)return[x,T,60-k];const P=Math.floor(d/k)*k;return[x,T,P]}function cte(s,g){const d=s.getYear(g),h=s.getMonth(g)+1,y=s.getEndDate(s.getFixedDate(`${d}-${h}-01`)),k=s.getDate(y),x=h<10?`0${h}`:`${h}`;return`${d}-${x}-${k}`}function mb(s){const{prefixCls:g,disabledDate:d,onSelect:h,picker:y,rowNum:k,colNum:x,prefixColumn:T,rowClassName:P,baseDate:I,getCellClassName:B,getCellText:D,getCellNode:F,getCellDate:L,generateConfig:J,titleCell:_,headerCells:U}=Li(s),{onDateMouseenter:te,onDateMouseleave:Z,mode:R}=qv(),Q=`${g}-cell`,X=[];for(let me=0;me<k;me+=1){const xe=[];let fe;for(let se=0;se<x;se+=1){const Ce=me*x+se,oe=L(I,Ce),z=Y7({cellDate:oe,mode:R.value,disabledDate:d,generateConfig:J});se===0&&(fe=oe,T&&xe.push(T(fe)));const G=_&&_(oe);xe.push(ue("td",{key:se,title:G,class:ya(Q,We({[`${Q}-disabled`]:z,[`${Q}-start`]:D(oe)===1||y==="year"&&Number(G)%10===0,[`${Q}-end`]:G===cte(J,oe)||y==="year"&&Number(G)%10===9},B(oe))),onClick:he=>{he.stopPropagation(),z||h(oe)},onMouseenter:()=>{!z&&te&&te(oe)},onMouseleave:()=>{!z&&Z&&Z(oe)}},[F?F(oe):ue("div",{class:`${Q}-inner`},[D(oe)])]))}X.push(ue("tr",{key:me,class:P&&P(fe)},[xe]))}return ue("div",{class:`${g}-body`},[ue("table",{class:`${g}-content`},[U&&ue("thead",null,[ue("tr",null,[U])]),ue("tbody",null,[X])])])}mb.displayName="PanelBody";mb.inheritAttrs=!1;const q7=3,mU=4;function wH(s){const g=Li(s),d=Bf-1,{prefixCls:h,viewDate:y,generateConfig:k}=g,x=`${h}-cell`,T=k.getYear(y),P=Math.floor(T/Bf)*Bf,I=Math.floor(T/om)*om,B=I+om-1,D=k.setYear(y,I-Math.ceil((q7*mU*Bf-om)/2)),F=L=>{const J=k.getYear(L),_=J+d;return{[`${x}-in-view`]:I<=J&&_<=B,[`${x}-selected`]:J===P}};return ue(mb,Ot(Ot({},g),{},{rowNum:mU,colNum:q7,baseDate:D,getCellText:L=>{const J=k.getYear(L);return`${J}-${J+d}`},getCellClassName:F,getCellDate:(L,J)=>k.addYear(L,J*Bf)}),null)}wH.displayName="DecadeBody";wH.inheritAttrs=!1;const V_=new Map;function fte(s,g){let d;function h(){GJ(s)?g():d=Ff(()=>{h()})}return h(),()=>{Ff.cancel(d)}}function K7(s,g,d){if(V_.get(s)&&Ff.cancel(V_.get(s)),d<=0){V_.set(s,Ff(()=>{s.scrollTop=g}));return}const y=(g-s.scrollTop)/d*10;V_.set(s,Ff(()=>{s.scrollTop+=y,s.scrollTop!==g&&K7(s,g,d-10)}))}function lw(s,g){let{onLeftRight:d,onCtrlLeftRight:h,onUpDown:y,onPageUpDown:k,onEnter:x}=g;const{which:T,ctrlKey:P,metaKey:I}=s;switch(T){case sa.LEFT:if(P||I){if(h)return h(-1),!0}else if(d)return d(-1),!0;break;case sa.RIGHT:if(P||I){if(h)return h(1),!0}else if(d)return d(1),!0;break;case sa.UP:if(y)return y(-1),!0;break;case sa.DOWN:if(y)return y(1),!0;break;case sa.PAGE_UP:if(k)return k(-1),!0;break;case sa.PAGE_DOWN:if(k)return k(1),!0;break;case sa.ENTER:if(x)return x(),!0;break}return!1}function HW(s,g,d,h){let y=s;if(!y)switch(g){case"time":y=h?"hh:mm:ss a":"HH:mm:ss";break;case"week":y="gggg-wo";break;case"month":y="YYYY-MM";break;case"quarter":y="YYYY-[Q]Q";break;case"year":y="YYYY";break;default:y=d?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return y}function VW(s,g,d){const h=s==="time"?8:10,y=typeof g=="function"?g(d.getNow()).length:g.length;return Math.max(h,y)+2}let Rk=null;const U_=new Set;function vte(s){return!Rk&&typeof window<"u"&&window.addEventListener&&(Rk=g=>{[...U_].forEach(d=>{d(g)})},window.addEventListener("mousedown",Rk)),U_.add(s),()=>{U_.delete(s),U_.size===0&&(window.removeEventListener("mousedown",Rk),Rk=null)}}function dte(s){var g;const d=s.target;return s.composed&&d.shadowRoot&&((g=s.composedPath)===null||g===void 0?void 0:g.call(s)[0])||d}const mte=s=>s==="month"||s==="date"?"year":s,gte=s=>s==="date"?"month":s,pte=s=>s==="month"||s==="date"?"quarter":s,hte=s=>s==="date"?"week":s,bte={year:mte,month:gte,quarter:pte,week:hte,time:null,date:null};function UW(s,g){return s.some(d=>d&&d.contains(g))}const Bf=10,om=Bf*10;function CH(s){const g=Li(s),{prefixCls:d,onViewDateChange:h,generateConfig:y,viewDate:k,operationRef:x,onSelect:T,onPanelChange:P}=g,I=`${d}-decade-panel`;x.value={onKeydown:F=>lw(F,{onLeftRight:L=>{T(y.addYear(k,L*Bf),"key")},onCtrlLeftRight:L=>{T(y.addYear(k,L*om),"key")},onUpDown:L=>{T(y.addYear(k,L*Bf*q7),"key")},onEnter:()=>{P("year",k)}})};const B=F=>{const L=y.addYear(k,F*om);h(L),P(null,L)},D=F=>{T(F,"mouse"),P("year",F)};return ue("div",{class:I},[ue(yH,Ot(Ot({},g),{},{prefixCls:d,onPrevDecades:()=>{B(-1)},onNextDecades:()=>{B(1)}}),null),ue(wH,Ot(Ot({},g),{},{prefixCls:d,onSelect:D}),null)])}CH.displayName="DecadePanel";CH.inheritAttrs=!1;const J_=7;function gb(s,g){if(!s&&!g)return!0;if(!s||!g)return!1}function yte(s,g,d){const h=gb(g,d);if(typeof h=="boolean")return h;const y=Math.floor(s.getYear(g)/10),k=Math.floor(s.getYear(d)/10);return y===k}function hP(s,g,d){const h=gb(g,d);return typeof h=="boolean"?h:s.getYear(g)===s.getYear(d)}function G7(s,g){return Math.floor(s.getMonth(g)/3)+1}function WW(s,g,d){const h=gb(g,d);return typeof h=="boolean"?h:hP(s,g,d)&&G7(s,g)===G7(s,d)}function SH(s,g,d){const h=gb(g,d);return typeof h=="boolean"?h:hP(s,g,d)&&s.getMonth(g)===s.getMonth(d)}function im(s,g,d){const h=gb(g,d);return typeof h=="boolean"?h:s.getYear(g)===s.getYear(d)&&s.getMonth(g)===s.getMonth(d)&&s.getDate(g)===s.getDate(d)}function wte(s,g,d){const h=gb(g,d);return typeof h=="boolean"?h:s.getHour(g)===s.getHour(d)&&s.getMinute(g)===s.getMinute(d)&&s.getSecond(g)===s.getSecond(d)}function jW(s,g,d,h){const y=gb(d,h);return typeof y=="boolean"?y:s.locale.getWeek(g,d)===s.locale.getWeek(g,h)}function Ky(s,g,d){return im(s,g,d)&&wte(s,g,d)}function W_(s,g,d,h){return!g||!d||!h?!1:!im(s,g,h)&&!im(s,d,h)&&s.isAfter(h,g)&&s.isAfter(d,h)}function Cte(s,g,d){const h=g.locale.getWeekFirstDay(s),y=g.setDate(d,1),k=g.getWeekDay(y);let x=g.addDate(y,h-k);return g.getMonth(x)===g.getMonth(d)&&g.getDate(x)>1&&(x=g.addDate(x,-7)),x}function Vk(s,g,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(g){case"year":return d.addYear(s,h*10);case"quarter":case"month":return d.addYear(s,h);default:return d.addMonth(s,h)}}function ml(s,g){let{generateConfig:d,locale:h,format:y}=g;return typeof y=="function"?y(s):d.locale.format(h.locale,s,y)}function qW(s,g){let{generateConfig:d,locale:h,formatList:y}=g;return!s||typeof y[0]=="function"?null:d.locale.parse(h.locale,s,y)}function Y7(s){let{cellDate:g,mode:d,disabledDate:h,generateConfig:y}=s;if(!h)return!1;const k=(x,T,P)=>{let I=T;for(;I<=P;){let B;switch(x){case"date":{if(B=y.setDate(g,I),!h(B))return!1;break}case"month":{if(B=y.setMonth(g,I),!Y7({cellDate:B,mode:"month",generateConfig:y,disabledDate:h}))return!1;break}case"year":{if(B=y.setYear(g,I),!Y7({cellDate:B,mode:"year",generateConfig:y,disabledDate:h}))return!1;break}}I+=1}return!0};switch(d){case"date":case"week":return h(g);case"month":{const T=y.getDate(y.getEndDate(g));return k("date",1,T)}case"quarter":{const x=Math.floor(y.getMonth(g)/3)*3,T=x+2;return k("month",x,T)}case"year":return k("month",0,11);case"decade":{const x=y.getYear(g),T=Math.floor(x/Bf)*Bf,P=T+Bf-1;return k("year",T,P)}}}function xH(s){const g=Li(s),{hideHeader:d}=qv();if(d.value)return null;const{prefixCls:h,generateConfig:y,locale:k,value:x,format:T}=g,P=`${h}-header`;return ue(op,{prefixCls:P},{default:()=>[x?ml(x,{locale:k,format:T,generateConfig:y}):" "]})}xH.displayName="TimeHeader";xH.inheritAttrs=!1;const j_=Rr({name:"TimeUnitColumn",props:["prefixCls","units","onSelect","value","active","hideDisabledOptions"],setup(s){const{open:g}=qv(),d=mn(null),h=mn(new Map),y=mn();return oa(()=>s.value,()=>{const k=h.value.get(s.value);k&&g.value!==!1&&K7(d.value,k.offsetTop,120)}),rp(()=>{var k;(k=y.value)===null||k===void 0||k.call(y)}),oa(g,()=>{var k;(k=y.value)===null||k===void 0||k.call(y),nw(()=>{if(g.value){const x=h.value.get(s.value);x&&(y.value=fte(x,()=>{K7(d.value,x.offsetTop,0)}))}})},{immediate:!0,flush:"post"}),()=>{const{prefixCls:k,units:x,onSelect:T,value:P,active:I,hideDisabledOptions:B}=s,D=`${k}-cell`;return ue("ul",{class:ya(`${k}-column`,{[`${k}-column-active`]:I}),ref:d,style:{position:"relative"}},[x.map(F=>B&&F.disabled?null:ue("li",{key:F.value,ref:L=>{h.value.set(F.value,L)},class:ya(D,{[`${D}-disabled`]:F.disabled,[`${D}-selected`]:P===F.value}),onClick:()=>{F.disabled||T(F.value)}},[ue("div",{class:`${D}-inner`},[F.label])]))])}}});function KW(s,g){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",h=String(s);for(;h.length<g;)h=`${d}${s}`;return h}const Ste=function(){for(var s=arguments.length,g=new Array(s),d=0;d<s;d++)g[d]=arguments[d];return g};function GW(s){return s==null?[]:Array.isArray(s)?s:[s]}function YW(s){const g={};return Object.keys(s).forEach(d=>{(d.startsWith("data-")||d.startsWith("aria-")||d==="role"||d==="name")&&!d.startsWith("data-__")&&(g[d]=s[d])}),g}function Ja(s,g){return s?s[g]:null}function Xc(s,g,d){const h=[Ja(s,0),Ja(s,1)];return h[d]=typeof g=="function"?g(h[d]):g,!h[0]&&!h[1]?null:h}function w7(s,g,d,h){const y=[];for(let k=s;k<=g;k+=d)y.push({label:KW(k,2),value:k,disabled:(h||[]).includes(k)});return y}const xte=Rr({compatConfig:{MODE:3},name:"TimeBody",inheritAttrs:!1,props:["generateConfig","prefixCls","operationRef","activeColumnIndex","value","showHour","showMinute","showSecond","use12Hours","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","disabledTime","hideDisabledOptions","onSelect"],setup(s){const g=yt(()=>s.value?s.generateConfig.getHour(s.value):-1),d=yt(()=>s.use12Hours?g.value>=12:!1),h=yt(()=>s.use12Hours?g.value%12:g.value),y=yt(()=>s.value?s.generateConfig.getMinute(s.value):-1),k=yt(()=>s.value?s.generateConfig.getSecond(s.value):-1),x=mn(s.generateConfig.getNow()),T=mn(),P=mn(),I=mn();YJ(()=>{x.value=s.generateConfig.getNow()}),pl(()=>{if(s.disabledTime){const U=s.disabledTime(x);[T.value,P.value,I.value]=[U.disabledHours,U.disabledMinutes,U.disabledSeconds]}else[T.value,P.value,I.value]=[s.disabledHours,s.disabledMinutes,s.disabledSeconds]});const B=(U,te,Z,R)=>{let Q=s.value||s.generateConfig.getNow();const X=Math.max(0,te),me=Math.max(0,Z),xe=Math.max(0,R);return Q=zW(s.generateConfig,Q,!s.use12Hours||!U?X:X+12,me,xe),Q},D=yt(()=>{var U;return w7(0,23,(U=s.hourStep)!==null&&U!==void 0?U:1,T.value&&T.value())}),F=yt(()=>{if(!s.use12Hours)return[!1,!1];const U=[!0,!0];return D.value.forEach(te=>{let{disabled:Z,value:R}=te;Z||(R>=12?U[1]=!1:U[0]=!1)}),U}),L=yt(()=>s.use12Hours?D.value.filter(d.value?U=>U.value>=12:U=>U.value<12).map(U=>{const te=U.value%12,Z=te===0?"12":KW(te,2);return We(We({},U),{label:Z,value:te})}):D.value),J=yt(()=>{var U;return w7(0,59,(U=s.minuteStep)!==null&&U!==void 0?U:1,P.value&&P.value(g.value))}),_=yt(()=>{var U;return w7(0,59,(U=s.secondStep)!==null&&U!==void 0?U:1,I.value&&I.value(g.value,y.value))});return()=>{const{prefixCls:U,operationRef:te,activeColumnIndex:Z,showHour:R,showMinute:Q,showSecond:X,use12Hours:me,hideDisabledOptions:xe,onSelect:fe}=s,se=[],Ce=`${U}-content`,oe=`${U}-time-panel`;te.value={onUpDown:he=>{const Ge=se[Z];if(Ge){const Me=Ge.units.findIndex(tt=>tt.value===Ge.value),je=Ge.units.length;for(let tt=1;tt<je;tt+=1){const E=Ge.units[(Me+he*tt+je)%je];if(E.disabled!==!0){Ge.onSelect(E.value);break}}}}};function z(he,Ge,Me,je,tt){he!==!1&&se.push({node:uH(Ge,{prefixCls:oe,value:Me,active:Z===se.length,onSelect:tt,units:je,hideDisabledOptions:xe}),onSelect:tt,value:Me,units:je})}z(R,ue(j_,{key:"hour"},null),h.value,L.value,he=>{fe(B(d.value,he,y.value,k.value),"mouse")}),z(Q,ue(j_,{key:"minute"},null),y.value,J.value,he=>{fe(B(d.value,h.value,he,k.value),"mouse")}),z(X,ue(j_,{key:"second"},null),k.value,_.value,he=>{fe(B(d.value,h.value,y.value,he),"mouse")});let G=-1;return typeof d.value=="boolean"&&(G=d.value?1:0),z(me===!0,ue(j_,{key:"12hours"},null),G,[{label:"AM",value:0,disabled:F.value[0]},{label:"PM",value:1,disabled:F.value[1]}],he=>{fe(B(!!he,h.value,y.value,k.value),"mouse")}),ue("div",{class:Ce},[se.map(he=>{let{node:Ge}=he;return Ge})])}}}),kte=xte,Tte=s=>s.filter(g=>g!==!1).length;function bP(s){const g=Li(s),{generateConfig:d,format:h="HH:mm:ss",prefixCls:y,active:k,operationRef:x,showHour:T,showMinute:P,showSecond:I,use12Hours:B=!1,onSelect:D,value:F}=g,L=`${y}-time-panel`,J=mn(),_=mn(-1),U=Tte([T,P,I,B]);return x.value={onKeydown:te=>lw(te,{onLeftRight:Z=>{_.value=(_.value+Z+U)%U},onUpDown:Z=>{_.value===-1?_.value=0:J.value&&J.value.onUpDown(Z)},onEnter:()=>{D(F||d.getNow(),"key"),_.value=-1}}),onBlur:()=>{_.value=-1}},ue("div",{class:ya(L,{[`${L}-active`]:k})},[ue(xH,Ot(Ot({},g),{},{format:h,prefixCls:y}),null),ue(kte,Ot(Ot({},g),{},{prefixCls:y,activeColumnIndex:_.value,operationRef:J}),null)])}bP.displayName="TimePanel";bP.inheritAttrs=!1;function yP(s){let{cellPrefixCls:g,generateConfig:d,rangedValue:h,hoverRangedValue:y,isInView:k,isSameCell:x,offsetCell:T,today:P,value:I}=s;function B(D){const F=T(D,-1),L=T(D,1),J=Ja(h,0),_=Ja(h,1),U=Ja(y,0),te=Ja(y,1),Z=W_(d,U,te,D);function R(se){return x(J,se)}function Q(se){return x(_,se)}const X=x(U,D),me=x(te,D),xe=(Z||me)&&(!k(F)||Q(F)),fe=(Z||X)&&(!k(L)||R(L));return{[`${g}-in-view`]:k(D),[`${g}-in-range`]:W_(d,J,_,D),[`${g}-range-start`]:R(D),[`${g}-range-end`]:Q(D),[`${g}-range-start-single`]:R(D)&&!_,[`${g}-range-end-single`]:Q(D)&&!J,[`${g}-range-start-near-hover`]:R(D)&&(x(F,U)||W_(d,U,te,F)),[`${g}-range-end-near-hover`]:Q(D)&&(x(L,te)||W_(d,U,te,L)),[`${g}-range-hover`]:Z,[`${g}-range-hover-start`]:X,[`${g}-range-hover-end`]:me,[`${g}-range-hover-edge-start`]:xe,[`${g}-range-hover-edge-end`]:fe,[`${g}-range-hover-edge-start-near-range`]:xe&&x(F,_),[`${g}-range-hover-edge-end-near-range`]:fe&&x(L,J),[`${g}-today`]:x(P,D),[`${g}-selected`]:x(I,D)}}return B}const XW=Symbol("RangeContextProps"),Ete=s=>{vb(XW,s)},Jk=()=>db(XW,{rangedValue:mn(),hoverRangedValue:mn(),inRange:mn(),panelPosition:mn()}),Ote=Rr({compatConfig:{MODE:3},name:"PanelContextProvider",inheritAttrs:!1,props:{value:{type:Object,default:()=>({})}},setup(s,g){let{slots:d}=g;const h={rangedValue:mn(s.value.rangedValue),hoverRangedValue:mn(s.value.hoverRangedValue),inRange:mn(s.value.inRange),panelPosition:mn(s.value.panelPosition)};return Ete(h),oa(()=>s.value,()=>{Object.keys(s.value).forEach(y=>{h[y]&&(h[y].value=s.value[y])})}),()=>{var y;return(y=d.default)===null||y===void 0?void 0:y.call(d)}}});function wP(s){const g=Li(s),{prefixCls:d,generateConfig:h,prefixColumn:y,locale:k,rowCount:x,viewDate:T,value:P,dateRender:I}=g,{rangedValue:B,hoverRangedValue:D}=Jk(),F=Cte(k.locale,h,T),L=`${d}-cell`,J=h.locale.getWeekFirstDay(k.locale),_=h.getNow(),U=[],te=k.shortWeekDays||(h.locale.getShortWeekDays?h.locale.getShortWeekDays(k.locale):[]);y&&U.push(ue("th",{key:"empty","aria-label":"empty cell"},null));for(let Q=0;Q<J_;Q+=1)U.push(ue("th",{key:Q},[te[(Q+J)%J_]]));const Z=yP({cellPrefixCls:L,today:_,value:P,generateConfig:h,rangedValue:y?null:B.value,hoverRangedValue:y?null:D.value,isSameCell:(Q,X)=>im(h,Q,X),isInView:Q=>SH(h,Q,T),offsetCell:(Q,X)=>h.addDate(Q,X)}),R=I?Q=>I({current:Q,today:_}):void 0;return ue(mb,Ot(Ot({},g),{},{rowNum:x,colNum:J_,baseDate:F,getCellNode:R,getCellText:h.getDate,getCellClassName:Z,getCellDate:h.addDate,titleCell:Q=>ml(Q,{locale:k,format:"YYYY-MM-DD",generateConfig:h}),headerCells:U}),null)}wP.displayName="DateBody";wP.inheritAttrs=!1;wP.props=["prefixCls","generateConfig","value?","viewDate","locale","rowCount","onSelect","dateRender?","disabledDate?","prefixColumn?","rowClassName?"];function kH(s){const g=Li(s),{prefixCls:d,generateConfig:h,locale:y,viewDate:k,onNextMonth:x,onPrevMonth:T,onNextYear:P,onPrevYear:I,onYearClick:B,onMonthClick:D}=g,{hideHeader:F}=qv();if(F.value)return null;const L=`${d}-header`,J=y.shortMonths||(h.locale.getShortMonths?h.locale.getShortMonths(y.locale):[]),_=h.getMonth(k),U=ue("button",{type:"button",key:"year",onClick:B,tabindex:-1,class:`${d}-year-btn`},[ml(k,{locale:y,format:y.yearFormat,generateConfig:h})]),te=ue("button",{type:"button",key:"month",onClick:D,tabindex:-1,class:`${d}-month-btn`},[y.monthFormat?ml(k,{locale:y,format:y.monthFormat,generateConfig:h}):J[_]]),Z=y.monthBeforeYear?[te,U]:[U,te];return ue(op,Ot(Ot({},g),{},{prefixCls:L,onSuperPrev:I,onPrev:T,onNext:x,onSuperNext:P}),{default:()=>[Z]})}kH.displayName="DateHeader";kH.inheritAttrs=!1;const Ate=6;function Qk(s){const g=Li(s),{prefixCls:d,panelName:h="date",keyboardConfig:y,active:k,operationRef:x,generateConfig:T,value:P,viewDate:I,onViewDateChange:B,onPanelChange:D,onSelect:F}=g,L=`${d}-${h}-panel`;x.value={onKeydown:U=>lw(U,We({onLeftRight:te=>{F(T.addDate(P||I,te),"key")},onCtrlLeftRight:te=>{F(T.addYear(P||I,te),"key")},onUpDown:te=>{F(T.addDate(P||I,te*J_),"key")},onPageUpDown:te=>{F(T.addMonth(P||I,te),"key")}},y))};const J=U=>{const te=T.addYear(I,U);B(te),D(null,te)},_=U=>{const te=T.addMonth(I,U);B(te),D(null,te)};return ue("div",{class:ya(L,{[`${L}-active`]:k})},[ue(kH,Ot(Ot({},g),{},{prefixCls:d,value:P,viewDate:I,onPrevYear:()=>{J(-1)},onNextYear:()=>{J(1)},onPrevMonth:()=>{_(-1)},onNextMonth:()=>{_(1)},onMonthClick:()=>{D("month",I)},onYearClick:()=>{D("year",I)}}),null),ue(wP,Ot(Ot({},g),{},{onSelect:U=>F(U,"mouse"),prefixCls:d,value:P,viewDate:I,rowCount:Ate}),null)])}Qk.displayName="DatePanel";Qk.inheritAttrs=!1;const gU=Ste("date","time");function TH(s){const g=Li(s),{prefixCls:d,operationRef:h,generateConfig:y,value:k,defaultValue:x,disabledTime:T,showTime:P,onSelect:I}=g,B=`${d}-datetime-panel`,D=mn(null),F=mn({}),L=mn({}),J=typeof P=="object"?We({},P):{};function _(R){const Q=gU.indexOf(D.value)+R;return gU[Q]||null}const U=R=>{L.value.onBlur&&L.value.onBlur(R),D.value=null};h.value={onKeydown:R=>{if(R.which===sa.TAB){const Q=_(R.shiftKey?-1:1);return D.value=Q,Q&&R.preventDefault(),!0}if(D.value){const Q=D.value==="date"?F:L;return Q.value&&Q.value.onKeydown&&Q.value.onKeydown(R),!0}return[sa.LEFT,sa.RIGHT,sa.UP,sa.DOWN].includes(R.which)?(D.value="date",!0):!1},onBlur:U,onClose:U};const te=(R,Q)=>{let X=R;Q==="date"&&!k&&J.defaultValue?(X=y.setHour(X,y.getHour(J.defaultValue)),X=y.setMinute(X,y.getMinute(J.defaultValue)),X=y.setSecond(X,y.getSecond(J.defaultValue))):Q==="time"&&!k&&x&&(X=y.setYear(X,y.getYear(x)),X=y.setMonth(X,y.getMonth(x)),X=y.setDate(X,y.getDate(x))),I&&I(X,"mouse")},Z=T?T(k||null):{};return ue("div",{class:ya(B,{[`${B}-active`]:D.value})},[ue(Qk,Ot(Ot({},g),{},{operationRef:F,active:D.value==="date",onSelect:R=>{te(Z_(y,R,!k&&typeof P=="object"?P.defaultValue:null),"date")}}),null),ue(bP,Ot(Ot(Ot(Ot({},g),{},{format:void 0},J),Z),{},{disabledTime:null,defaultValue:void 0,operationRef:L,active:D.value==="time",onSelect:R=>{te(R,"time")}}),null)])}TH.displayName="DatetimePanel";TH.inheritAttrs=!1;function EH(s){const g=Li(s),{prefixCls:d,generateConfig:h,locale:y,value:k}=g,x=`${d}-cell`,T=B=>ue("td",{key:"week",class:ya(x,`${x}-week`)},[h.locale.getWeek(y.locale,B)]),P=`${d}-week-panel-row`,I=B=>ya(P,{[`${P}-selected`]:jW(h,y.locale,k,B)});return ue(Qk,Ot(Ot({},g),{},{panelName:"week",prefixColumn:T,rowClassName:I,keyboardConfig:{onLeftRight:null}}),null)}EH.displayName="WeekPanel";EH.inheritAttrs=!1;function OH(s){const g=Li(s),{prefixCls:d,generateConfig:h,locale:y,viewDate:k,onNextYear:x,onPrevYear:T,onYearClick:P}=g,{hideHeader:I}=qv();if(I.value)return null;const B=`${d}-header`;return ue(op,Ot(Ot({},g),{},{prefixCls:B,onSuperPrev:T,onSuperNext:x}),{default:()=>[ue("button",{type:"button",onClick:P,class:`${d}-year-btn`},[ml(k,{locale:y,format:y.yearFormat,generateConfig:h})])]})}OH.displayName="MonthHeader";OH.inheritAttrs=!1;const ZW=3,$te=4;function AH(s){const g=Li(s),{prefixCls:d,locale:h,value:y,viewDate:k,generateConfig:x,monthCellRender:T}=g,{rangedValue:P,hoverRangedValue:I}=Jk(),B=`${d}-cell`,D=yP({cellPrefixCls:B,value:y,generateConfig:x,rangedValue:P.value,hoverRangedValue:I.value,isSameCell:(_,U)=>SH(x,_,U),isInView:()=>!0,offsetCell:(_,U)=>x.addMonth(_,U)}),F=h.shortMonths||(x.locale.getShortMonths?x.locale.getShortMonths(h.locale):[]),L=x.setMonth(k,0),J=T?_=>T({current:_,locale:h}):void 0;return ue(mb,Ot(Ot({},g),{},{rowNum:$te,colNum:ZW,baseDate:L,getCellNode:J,getCellText:_=>h.monthFormat?ml(_,{locale:h,format:h.monthFormat,generateConfig:x}):F[x.getMonth(_)],getCellClassName:D,getCellDate:x.addMonth,titleCell:_=>ml(_,{locale:h,format:"YYYY-MM",generateConfig:x})}),null)}AH.displayName="MonthBody";AH.inheritAttrs=!1;function $H(s){const g=Li(s),{prefixCls:d,operationRef:h,onViewDateChange:y,generateConfig:k,value:x,viewDate:T,onPanelChange:P,onSelect:I}=g,B=`${d}-month-panel`;h.value={onKeydown:F=>lw(F,{onLeftRight:L=>{I(k.addMonth(x||T,L),"key")},onCtrlLeftRight:L=>{I(k.addYear(x||T,L),"key")},onUpDown:L=>{I(k.addMonth(x||T,L*ZW),"key")},onEnter:()=>{P("date",x||T)}})};const D=F=>{const L=k.addYear(T,F);y(L),P(null,L)};return ue("div",{class:B},[ue(OH,Ot(Ot({},g),{},{prefixCls:d,onPrevYear:()=>{D(-1)},onNextYear:()=>{D(1)},onYearClick:()=>{P("year",T)}}),null),ue(AH,Ot(Ot({},g),{},{prefixCls:d,onSelect:F=>{I(F,"mouse"),P("date",F)}}),null)])}$H.displayName="MonthPanel";$H.inheritAttrs=!1;function DH(s){const g=Li(s),{prefixCls:d,generateConfig:h,locale:y,viewDate:k,onNextYear:x,onPrevYear:T,onYearClick:P}=g,{hideHeader:I}=qv();if(I.value)return null;const B=`${d}-header`;return ue(op,Ot(Ot({},g),{},{prefixCls:B,onSuperPrev:T,onSuperNext:x}),{default:()=>[ue("button",{type:"button",onClick:P,class:`${d}-year-btn`},[ml(k,{locale:y,format:y.yearFormat,generateConfig:h})])]})}DH.displayName="QuarterHeader";DH.inheritAttrs=!1;const Dte=4,_te=1;function _H(s){const g=Li(s),{prefixCls:d,locale:h,value:y,viewDate:k,generateConfig:x}=g,{rangedValue:T,hoverRangedValue:P}=Jk(),I=`${d}-cell`,B=yP({cellPrefixCls:I,value:y,generateConfig:x,rangedValue:T.value,hoverRangedValue:P.value,isSameCell:(F,L)=>WW(x,F,L),isInView:()=>!0,offsetCell:(F,L)=>x.addMonth(F,L*3)}),D=x.setDate(x.setMonth(k,0),1);return ue(mb,Ot(Ot({},g),{},{rowNum:_te,colNum:Dte,baseDate:D,getCellText:F=>ml(F,{locale:h,format:h.quarterFormat||"[Q]Q",generateConfig:x}),getCellClassName:B,getCellDate:(F,L)=>x.addMonth(F,L*3),titleCell:F=>ml(F,{locale:h,format:"YYYY-[Q]Q",generateConfig:x})}),null)}_H.displayName="QuarterBody";_H.inheritAttrs=!1;function PH(s){const g=Li(s),{prefixCls:d,operationRef:h,onViewDateChange:y,generateConfig:k,value:x,viewDate:T,onPanelChange:P,onSelect:I}=g,B=`${d}-quarter-panel`;h.value={onKeydown:F=>lw(F,{onLeftRight:L=>{I(k.addMonth(x||T,L*3),"key")},onCtrlLeftRight:L=>{I(k.addYear(x||T,L),"key")},onUpDown:L=>{I(k.addYear(x||T,L),"key")}})};const D=F=>{const L=k.addYear(T,F);y(L),P(null,L)};return ue("div",{class:B},[ue(DH,Ot(Ot({},g),{},{prefixCls:d,onPrevYear:()=>{D(-1)},onNextYear:()=>{D(1)},onYearClick:()=>{P("year",T)}}),null),ue(_H,Ot(Ot({},g),{},{prefixCls:d,onSelect:F=>{I(F,"mouse")}}),null)])}PH.displayName="QuarterPanel";PH.inheritAttrs=!1;function MH(s){const g=Li(s),{prefixCls:d,generateConfig:h,viewDate:y,onPrevDecade:k,onNextDecade:x,onDecadeClick:T}=g,{hideHeader:P}=qv();if(P.value)return null;const I=`${d}-header`,B=h.getYear(y),D=Math.floor(B/Xg)*Xg,F=D+Xg-1;return ue(op,Ot(Ot({},g),{},{prefixCls:I,onSuperPrev:k,onSuperNext:x}),{default:()=>[ue("button",{type:"button",onClick:T,class:`${d}-decade-btn`},[D,Ni("-"),F])]})}MH.displayName="YearHeader";MH.inheritAttrs=!1;const X7=3,pU=4;function RH(s){const g=Li(s),{prefixCls:d,value:h,viewDate:y,locale:k,generateConfig:x}=g,{rangedValue:T,hoverRangedValue:P}=Jk(),I=`${d}-cell`,B=x.getYear(y),D=Math.floor(B/Xg)*Xg,F=D+Xg-1,L=x.setYear(y,D-Math.ceil((X7*pU-Xg)/2)),J=U=>{const te=x.getYear(U);return D<=te&&te<=F},_=yP({cellPrefixCls:I,value:h,generateConfig:x,rangedValue:T.value,hoverRangedValue:P.value,isSameCell:(U,te)=>hP(x,U,te),isInView:J,offsetCell:(U,te)=>x.addYear(U,te)});return ue(mb,Ot(Ot({},g),{},{rowNum:pU,colNum:X7,baseDate:L,getCellText:x.getYear,getCellClassName:_,getCellDate:x.addYear,titleCell:U=>ml(U,{locale:k,format:"YYYY",generateConfig:x})}),null)}RH.displayName="YearBody";RH.inheritAttrs=!1;const Xg=10;function BH(s){const g=Li(s),{prefixCls:d,operationRef:h,onViewDateChange:y,generateConfig:k,value:x,viewDate:T,sourceMode:P,onSelect:I,onPanelChange:B}=g,D=`${d}-year-panel`;h.value={onKeydown:L=>lw(L,{onLeftRight:J=>{I(k.addYear(x||T,J),"key")},onCtrlLeftRight:J=>{I(k.addYear(x||T,J*Xg),"key")},onUpDown:J=>{I(k.addYear(x||T,J*X7),"key")},onEnter:()=>{B(P==="date"?"date":"month",x||T)}})};const F=L=>{const J=k.addYear(T,L*10);y(J),B(null,J)};return ue("div",{class:D},[ue(MH,Ot(Ot({},g),{},{prefixCls:d,onPrevDecade:()=>{F(-1)},onNextDecade:()=>{F(1)},onDecadeClick:()=>{B("decade",T)}}),null),ue(RH,Ot(Ot({},g),{},{prefixCls:d,onSelect:L=>{B(P==="date"?"date":"month",L),I(L,"mouse")}}),null)])}BH.displayName="YearPanel";BH.inheritAttrs=!1;function JW(s,g,d){return d?ue("div",{class:`${s}-footer-extra`},[d(g)]):null}function QW(s){let{prefixCls:g,components:d={},needConfirmButton:h,onNow:y,onOk:k,okDisabled:x,showNow:T,locale:P}=s,I,B;if(h){const D=d.button||"button";y&&T!==!1&&(I=ue("li",{class:`${g}-now`},[ue("a",{class:`${g}-now-btn`,onClick:y},[P.now])])),B=h&&ue("li",{class:`${g}-ok`},[ue(D,{disabled:x,onClick:F=>{F.stopPropagation(),k&&k()}},{default:()=>[P.ok]})])}return!I&&!B?null:ue("ul",{class:`${g}-ranges`},[I,B])}function Pte(){return Rr({name:"PickerPanel",inheritAttrs:!1,props:{prefixCls:String,locale:Object,generateConfig:Object,value:Object,defaultValue:Object,pickerValue:Object,defaultPickerValue:Object,disabledDate:Function,mode:String,picker:{type:String,default:"date"},tabindex:{type:[Number,String],default:0},showNow:{type:Boolean,default:void 0},showTime:[Boolean,Object],showToday:Boolean,renderExtraFooter:Function,dateRender:Function,hideHeader:{type:Boolean,default:void 0},onSelect:Function,onChange:Function,onPanelChange:Function,onMousedown:Function,onPickerValueChange:Function,onOk:Function,components:Object,direction:String,hourStep:{type:Number,default:1},minuteStep:{type:Number,default:1},secondStep:{type:Number,default:1}},setup(s,g){let{attrs:d}=g;const h=yt(()=>s.picker==="date"&&!!s.showTime||s.picker==="time"),y=yt(()=>24%s.hourStep===0),k=yt(()=>60%s.minuteStep===0),x=yt(()=>60%s.secondStep===0),T=qv(),{operationRef:P,onSelect:I,hideRanges:B,defaultOpenValue:D}=T,{inRange:F,panelPosition:L,rangedValue:J,hoverRangedValue:_}=Jk(),U=mn({}),[te,Z]=ss(null,{value:so(s,"value"),defaultValue:s.defaultValue,postState:je=>!je&&D?.value&&s.picker==="time"?D.value:je}),[R,Q]=ss(null,{value:so(s,"pickerValue"),defaultValue:s.defaultPickerValue||te.value,postState:je=>{const{generateConfig:tt,showTime:E,defaultValue:Ae}=s,Le=tt.getNow();return je?!te.value&&s.showTime?typeof E=="object"?Z_(tt,Array.isArray(je)?je[0]:je,E.defaultValue||Le):Ae?Z_(tt,Array.isArray(je)?je[0]:je,Ae):Z_(tt,Array.isArray(je)?je[0]:je,Le):je:Le}}),X=je=>{Q(je),s.onPickerValueChange&&s.onPickerValueChange(je)},me=je=>{const tt=bte[s.picker];return tt?tt(je):je},[xe,fe]=ss(()=>s.picker==="time"?"time":me("date"),{value:so(s,"mode")});oa(()=>s.picker,()=>{fe(s.picker)});const se=mn(xe.value),Ce=je=>{se.value=je},oe=(je,tt)=>{const{onPanelChange:E,generateConfig:Ae}=s,Le=me(je||xe.value);Ce(xe.value),fe(Le),E&&(xe.value!==Le||Ky(Ae,R.value,R.value))&&E(tt,Le)},z=function(je,tt){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{picker:Ae,generateConfig:Le,onSelect:At,onChange:ze,disabledDate:ft}=s;(xe.value===Ae||E)&&(Z(je),At&&At(je),I&&I(je,tt),ze&&!Ky(Le,je,te.value)&&!ft?.(je)&&ze(je))},G=je=>U.value&&U.value.onKeydown?([sa.LEFT,sa.RIGHT,sa.UP,sa.DOWN,sa.PAGE_UP,sa.PAGE_DOWN,sa.ENTER].includes(je.which)&&je.preventDefault(),U.value.onKeydown(je)):!1,he=je=>{U.value&&U.value.onBlur&&U.value.onBlur(je)},Ge=()=>{const{generateConfig:je,hourStep:tt,minuteStep:E,secondStep:Ae}=s,Le=je.getNow(),At=ste(je.getHour(Le),je.getMinute(Le),je.getSecond(Le),y.value?tt:1,k.value?E:1,x.value?Ae:1),ze=zW(je,Le,At[0],At[1],At[2]);z(ze,"submit")},Me=yt(()=>{const{prefixCls:je,direction:tt}=s;return ya(`${je}-panel`,{[`${je}-panel-has-range`]:J&&J.value&&J.value[0]&&J.value[1],[`${je}-panel-has-range-hover`]:_&&_.value&&_.value[0]&&_.value[1],[`${je}-panel-rtl`]:tt==="rtl"})});return bH(We(We({},T),{mode:xe,hideHeader:yt(()=>{var je;return s.hideHeader!==void 0?s.hideHeader:(je=T.hideHeader)===null||je===void 0?void 0:je.value}),hidePrevBtn:yt(()=>F.value&&L.value==="right"),hideNextBtn:yt(()=>F.value&&L.value==="left")})),oa(()=>s.value,()=>{s.value&&Q(s.value)}),()=>{const{prefixCls:je="ant-picker",locale:tt,generateConfig:E,disabledDate:Ae,picker:Le="date",tabindex:At=0,showNow:ze,showTime:ft,showToday:Xe,renderExtraFooter:ct,onMousedown:re,onOk:Vt,components:it}=s;P&&L.value!=="right"&&(P.value={onKeydown:G,onClose:()=>{U.value&&U.value.onClose&&U.value.onClose()}});let Oe;const dt=We(We(We({},d),s),{operationRef:U,prefixCls:je,viewDate:R.value,value:te.value,onViewDateChange:X,sourceMode:se.value,onPanelChange:oe,disabledDate:Ae});switch(delete dt.onChange,delete dt.onSelect,xe.value){case"decade":Oe=ue(CH,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;case"year":Oe=ue(BH,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;case"month":Oe=ue($H,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;case"quarter":Oe=ue(PH,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;case"week":Oe=ue(EH,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;case"time":delete dt.showTime,Oe=ue(bP,Ot(Ot(Ot({},dt),typeof ft=="object"?ft:null),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null);break;default:ft?Oe=ue(TH,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null):Oe=ue(Qk,Ot(Ot({},dt),{},{onSelect:(gt,ut)=>{X(gt),z(gt,ut)}}),null)}let Ne,Be;B?.value||(Ne=JW(je,xe.value,ct),Be=QW({prefixCls:je,components:it,needConfirmButton:h.value,okDisabled:!te.value||Ae&&Ae(te.value),locale:tt,showNow:ze,onNow:h.value&&Ge,onOk:()=>{te.value&&(z(te.value,"submit",!0),Vt&&Vt(te.value))}}));let at;if(Xe&&xe.value==="date"&&Le==="date"&&!ft){const gt=E.getNow(),ut=`${je}-today-btn`,Et=Ae&&Ae(gt);at=ue("a",{class:ya(ut,Et&&`${ut}-disabled`),"aria-disabled":Et,onClick:()=>{Et||z(gt,"mouse",!0)}},[tt.today])}return ue("div",{tabindex:At,class:ya(Me.value,d.class),style:d.style,onKeydown:G,onBlur:he,onMousedown:re},[Oe,Ne||Be||at?ue("div",{class:`${je}-footer`},[Ne,Be,at]):null])}}})}const Mte=Pte(),ej=s=>ue(Mte,s),Rte={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function tj(s,g){let{slots:d}=g;const{prefixCls:h,popupStyle:y,visible:k,dropdownClassName:x,dropdownAlign:T,transitionName:P,getPopupContainer:I,range:B,popupPlacement:D,direction:F}=Li(s),L=`${h}-dropdown`;return ue(XJ,{showAction:[],hideAction:[],popupPlacement:(()=>D!==void 0?D:F==="rtl"?"bottomRight":"bottomLeft")(),builtinPlacements:Rte,prefixCls:L,popupTransitionName:P,popupAlign:T,popupVisible:k,popupClassName:ya(x,{[`${L}-range`]:B,[`${L}-rtl`]:F==="rtl"}),popupStyle:y,getPopupContainer:I},{default:d.default,popup:d.popupElement})}const nj=Rr({name:"PresetPanel",props:{prefixCls:String,presets:{type:Array,default:()=>[]},onClick:Function,onHover:Function},setup(s){return()=>s.presets.length?ue("div",{class:`${s.prefixCls}-presets`},[ue("ul",null,[s.presets.map((g,d)=>{let{label:h,value:y}=g;return ue("li",{key:d,onClick:()=>{s.onClick(y)},onMouseenter:()=>{var k;(k=s.onHover)===null||k===void 0||k.call(s,y)},onMouseleave:()=>{var k;(k=s.onHover)===null||k===void 0||k.call(s,null)}},[h])})])]):null}});function Z7(s){let{open:g,value:d,isClickOutside:h,triggerOpen:y,forwardKeydown:k,onKeydown:x,blurToCancel:T,onSubmit:P,onCancel:I,onFocus:B,onBlur:D}=s;const F=Co(!1),L=Co(!1),J=Co(!1),_=Co(!1),U=Co(!1),te=yt(()=>({onMousedown:()=>{F.value=!0,y(!0)},onKeydown:R=>{if(x(R,()=>{U.value=!0}),!U.value){switch(R.which){case sa.ENTER:{g.value?P()!==!1&&(F.value=!0):y(!0),R.preventDefault();return}case sa.TAB:{F.value&&g.value&&!R.shiftKey?(F.value=!1,R.preventDefault()):!F.value&&g.value&&!k(R)&&R.shiftKey&&(F.value=!0,R.preventDefault());return}case sa.ESC:{F.value=!0,I();return}}!g.value&&![sa.SHIFT].includes(R.which)?y(!0):F.value||k(R)}},onFocus:R=>{F.value=!0,L.value=!0,B&&B(R)},onBlur:R=>{if(J.value||!h(document.activeElement)){J.value=!1;return}T.value?setTimeout(()=>{let{activeElement:Q}=document;for(;Q&&Q.shadowRoot;)Q=Q.shadowRoot.activeElement;h(Q)&&I()},0):g.value&&(y(!1),_.value&&P()),L.value=!1,D&&D(R)}}));oa(g,()=>{_.value=!1}),oa(d,()=>{_.value=!0});const Z=Co();return zf(()=>{Z.value=vte(R=>{const Q=dte(R);if(g.value){const X=h(Q);X?(!L.value||X)&&y(!1):(J.value=!0,Ff(()=>{J.value=!1}))}})}),rp(()=>{Z.value&&Z.value()}),[te,{focused:L,typing:F}]}function J7(s){let{valueTexts:g,onTextChange:d}=s;const h=mn("");function y(x){h.value=x,d(x)}function k(){h.value=g.value[0]}return oa(()=>[...g.value],function(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];x.join("||")!==T.join("||")&&g.value.every(P=>P!==h.value)&&k()},{immediate:!0}),[h,y,k]}function rP(s,g){let{formatList:d,generateConfig:h,locale:y}=g;const k=gW(()=>{if(!s.value)return[[""],""];let P="";const I=[];for(let B=0;B<d.value.length;B+=1){const D=d.value[B],F=ml(s.value,{generateConfig:h.value,locale:y.value,format:D});I.push(F),B===0&&(P=F)}return[I,P]},[s,d],(P,I)=>I[0]!==P[0]||!ZJ(I[1],P[1])),x=yt(()=>k.value[0]),T=yt(()=>k.value[1]);return[x,T]}function Q7(s,g){let{formatList:d,generateConfig:h,locale:y}=g;const k=mn(null);let x;function T(D){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ff.cancel(x),F){k.value=D;return}x=Ff(()=>{k.value=D})}const[,P]=rP(k,{formatList:d,generateConfig:h,locale:y});function I(D){T(D)}function B(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;T(null,D)}return oa(s,()=>{B(!0)}),rp(()=>{Ff.cancel(x)}),[P,I,B]}function rj(s,g){return yt(()=>s?.value?s.value:g?.value?(JJ(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.keys(g.value).map(h=>{const y=g.value[h],k=typeof y=="function"?y():y;return{label:h,value:k}})):[])}function Bte(){return Rr({name:"Picker",inheritAttrs:!1,props:["prefixCls","id","tabindex","dropdownClassName","dropdownAlign","popupStyle","transitionName","generateConfig","locale","inputReadOnly","allowClear","autofocus","showTime","showNow","showHour","showMinute","showSecond","picker","format","use12Hours","value","defaultValue","open","defaultOpen","defaultOpenValue","suffixIcon","presets","clearIcon","disabled","disabledDate","placeholder","getPopupContainer","panelRender","inputRender","onChange","onOpenChange","onFocus","onBlur","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu","onClick","onKeydown","onSelect","direction","autocomplete","showToday","renderExtraFooter","dateRender","minuteStep","hourStep","secondStep","hideDisabledOptions"],setup(s,g){let{attrs:d,expose:h}=g;const y=mn(null),k=yt(()=>s.presets),x=rj(k),T=yt(()=>{var Ae;return(Ae=s.picker)!==null&&Ae!==void 0?Ae:"date"}),P=yt(()=>T.value==="date"&&!!s.showTime||T.value==="time"),I=yt(()=>GW(HW(s.format,T.value,s.showTime,s.use12Hours))),B=mn(null),D=mn(null),F=mn(null),[L,J]=ss(null,{value:so(s,"value"),defaultValue:s.defaultValue}),_=mn(L.value),U=Ae=>{_.value=Ae},te=mn(null),[Z,R]=ss(!1,{value:so(s,"open"),defaultValue:s.defaultOpen,postState:Ae=>s.disabled?!1:Ae,onChange:Ae=>{s.onOpenChange&&s.onOpenChange(Ae),!Ae&&te.value&&te.value.onClose&&te.value.onClose()}}),[Q,X]=rP(_,{formatList:I,generateConfig:so(s,"generateConfig"),locale:so(s,"locale")}),[me,xe,fe]=J7({valueTexts:Q,onTextChange:Ae=>{const Le=qW(Ae,{locale:s.locale,formatList:I.value,generateConfig:s.generateConfig});Le&&(!s.disabledDate||!s.disabledDate(Le))&&U(Le)}}),se=Ae=>{const{onChange:Le,generateConfig:At,locale:ze}=s;U(Ae),J(Ae),Le&&!Ky(At,L.value,Ae)&&Le(Ae,Ae?ml(Ae,{generateConfig:At,locale:ze,format:I.value[0]}):"")},Ce=Ae=>{s.disabled&&Ae||R(Ae)},oe=Ae=>Z.value&&te.value&&te.value.onKeydown?te.value.onKeydown(Ae):!1,z=function(){s.onMouseup&&s.onMouseup(...arguments),y.value&&(y.value.focus(),Ce(!0))},[G,{focused:he,typing:Ge}]=Z7({blurToCancel:P,open:Z,value:me,triggerOpen:Ce,forwardKeydown:oe,isClickOutside:Ae=>!UW([B.value,D.value,F.value],Ae),onSubmit:()=>!_.value||s.disabledDate&&s.disabledDate(_.value)?!1:(se(_.value),Ce(!1),fe(),!0),onCancel:()=>{Ce(!1),U(L.value),fe()},onKeydown:(Ae,Le)=>{var At;(At=s.onKeydown)===null||At===void 0||At.call(s,Ae,Le)},onFocus:Ae=>{var Le;(Le=s.onFocus)===null||Le===void 0||Le.call(s,Ae)},onBlur:Ae=>{var Le;(Le=s.onBlur)===null||Le===void 0||Le.call(s,Ae)}});oa([Z,Q],()=>{Z.value||(U(L.value),!Q.value.length||Q.value[0]===""?xe(""):X.value!==me.value&&fe())}),oa(T,()=>{Z.value||fe()}),oa(L,()=>{U(L.value)});const[Me,je,tt]=Q7(me,{formatList:I,generateConfig:so(s,"generateConfig"),locale:so(s,"locale")}),E=(Ae,Le)=>{(Le==="submit"||Le!=="key"&&!P.value)&&(se(Ae),Ce(!1))};return bH({operationRef:te,hideHeader:yt(()=>T.value==="time"),onSelect:E,open:Z,defaultOpenValue:so(s,"defaultOpenValue"),onDateMouseenter:je,onDateMouseleave:tt}),h({focus:()=>{y.value&&y.value.focus()},blur:()=>{y.value&&y.value.blur()}}),()=>{const{prefixCls:Ae="rc-picker",id:Le,tabindex:At,dropdownClassName:ze,dropdownAlign:ft,popupStyle:Xe,transitionName:ct,generateConfig:re,locale:Vt,inputReadOnly:it,allowClear:Oe,autofocus:dt,picker:Ne="date",defaultOpenValue:Be,suffixIcon:at,clearIcon:gt,disabled:ut,placeholder:Et,getPopupContainer:_n,panelRender:Re,onMousedown:Tt,onMouseenter:ln,onMouseleave:Ut,onContextmenu:fn,onClick:bn,onSelect:In,direction:sr,autocomplete:yr="off"}=s,$t=We(We(We({},s),d),{class:ya({[`${Ae}-panel-focused`]:!Ge.value}),style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null});let Dt=ue("div",{class:`${Ae}-panel-layout`},[ue(nj,{prefixCls:Ae,presets:x.value,onClick:Ve=>{se(Ve),Ce(!1)}},null),ue(ej,Ot(Ot({},$t),{},{generateConfig:re,value:_.value,locale:Vt,tabindex:-1,onSelect:Ve=>{In?.(Ve),U(Ve)},direction:sr,onPanelChange:(Ve,Yt)=>{const{onPanelChange:On}=s;tt(!0),On?.(Ve,Yt)}}),null)]);Re&&(Dt=Re(Dt));const Ft=ue("div",{class:`${Ae}-panel-container`,ref:B,onMousedown:Ve=>{Ve.preventDefault()}},[Dt]);let rt;at&&(rt=ue("span",{class:`${Ae}-suffix`},[at]));let st;Oe&&L.value&&!ut&&(st=ue("span",{onMousedown:Ve=>{Ve.preventDefault(),Ve.stopPropagation()},onMouseup:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),se(null),Ce(!1)},class:`${Ae}-clear`,role:"button"},[gt||ue("span",{class:`${Ae}-clear-btn`},null)]));const Wt=We(We(We(We({id:Le,tabindex:At,disabled:ut,readonly:it||typeof I.value[0]=="function"||!Ge.value,value:Me.value||me.value,onInput:Ve=>{xe(Ve.target.value)},autofocus:dt,placeholder:Et,ref:y,title:me.value},G.value),{size:VW(Ne,I.value[0],re)}),YW(s)),{autocomplete:yr}),dn=s.inputRender?s.inputRender(Wt):ue("input",Wt,null),Xt=sr==="rtl"?"bottomRight":"bottomLeft";return ue("div",{ref:F,class:ya(Ae,d.class,{[`${Ae}-disabled`]:ut,[`${Ae}-focused`]:he.value,[`${Ae}-rtl`]:sr==="rtl"}),style:d.style,onMousedown:Tt,onMouseup:z,onMouseenter:ln,onMouseleave:Ut,onContextmenu:fn,onClick:bn},[ue("div",{class:ya(`${Ae}-input`,{[`${Ae}-input-placeholder`]:!!Me.value}),ref:D},[dn,rt,st]),ue(tj,{visible:Z.value,popupStyle:Xe,prefixCls:Ae,dropdownClassName:ze,dropdownAlign:ft,getPopupContainer:_n,transitionName:ct,popupPlacement:Xt,direction:sr},{default:()=>[ue("div",{style:{pointerEvents:"none",position:"absolute",top:0,bottom:0,left:0,right:0}},null)],popupElement:()=>Ft})])}}})}const Fte=Bte();function Ite(s,g){let{picker:d,locale:h,selectedValue:y,disabledDate:k,disabled:x,generateConfig:T}=s;const P=yt(()=>Ja(y.value,0)),I=yt(()=>Ja(y.value,1));function B(_){return T.value.locale.getWeekFirstDate(h.value.locale,_)}function D(_){const U=T.value.getYear(_),te=T.value.getMonth(_);return U*100+te}function F(_){const U=T.value.getYear(_),te=G7(T.value,_);return U*10+te}return[_=>{var U;if(k&&(!((U=k?.value)===null||U===void 0)&&U.call(k,_)))return!0;if(x[1]&&I)return!im(T.value,_,I.value)&&T.value.isAfter(_,I.value);if(g.value[1]&&I.value)switch(d.value){case"quarter":return F(_)>F(I.value);case"month":return D(_)>D(I.value);case"week":return B(_)>B(I.value);default:return!im(T.value,_,I.value)&&T.value.isAfter(_,I.value)}return!1},_=>{var U;if(!((U=k.value)===null||U===void 0)&&U.call(k,_))return!0;if(x[0]&&P)return!im(T.value,_,I.value)&&T.value.isAfter(P.value,_);if(g.value[0]&&P.value)switch(d.value){case"quarter":return F(_)<F(P.value);case"month":return D(_)<D(P.value);case"week":return B(_)<B(P.value);default:return!im(T.value,_,P.value)&&T.value.isAfter(P.value,_)}return!1}]}function Nte(s,g,d,h){const y=Vk(s,d,h,1);function k(x){return x(s,g)?"same":x(y,g)?"closing":"far"}switch(d){case"year":return k((x,T)=>yte(h,x,T));case"quarter":case"month":return k((x,T)=>hP(h,x,T));default:return k((x,T)=>SH(h,x,T))}}function Lte(s,g,d,h){const y=Ja(s,0),k=Ja(s,1);if(g===0)return y;if(y&&k)switch(Nte(y,k,d,h)){case"same":return y;case"closing":return y;default:return Vk(k,d,h,-1)}return y}function zte(s){let{values:g,picker:d,defaultDates:h,generateConfig:y}=s;const k=mn([Ja(h,0),Ja(h,1)]),x=mn(null),T=yt(()=>Ja(g.value,0)),P=yt(()=>Ja(g.value,1)),I=L=>k.value[L]?k.value[L]:Ja(x.value,L)||Lte(g.value,L,d.value,y.value)||T.value||P.value||y.value.getNow(),B=mn(null),D=mn(null);pl(()=>{B.value=I(0),D.value=I(1)});function F(L,J){if(L){let _=Xc(x.value,L,J);k.value=Xc(k.value,null,J)||[null,null];const U=(J+1)%2;Ja(g.value,U)||(_=Xc(_,L,U)),x.value=_}else(T.value||P.value)&&(x.value=null)}return[B,D,F]}function Hte(s){return QJ()?(eQ(s),!0):!1}function Vte(s){return typeof s=="function"?s():Jt(s)}function aj(s){var g;const d=Vte(s);return(g=d?.$el)!==null&&g!==void 0?g:d}function Ute(s){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;nW()?zf(s):g?s():nw(s)}function Wte(s){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const d=Co(),h=()=>d.value=!!s();return h(),Ute(h,g),d}var C7;const oj=typeof window<"u";oj&&(!((C7=window?.navigator)===null||C7===void 0)&&C7.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const jte=oj?window:void 0;var qte=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function Kte(s,g){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{window:h=jte}=d,y=qte(d,["window"]);let k;const x=Wte(()=>h&&"ResizeObserver"in h),T=()=>{k&&(k.disconnect(),k=void 0)},P=oa(()=>aj(s),B=>{T(),x.value&&h&&B&&(k=new ResizeObserver(g),k.observe(B,y))},{immediate:!0,flush:"post"}),I=()=>{T(),P()};return Hte(I),{isSupported:x,stop:I}}function Bk(s){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{width:0,height:0},d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{box:h="content-box"}=d,y=Co(g.width),k=Co(g.height);return Kte(s,x=>{let[T]=x;const P=h==="border-box"?T.borderBoxSize:h==="content-box"?T.contentBoxSize:T.devicePixelContentBoxSize;P?(y.value=P.reduce((I,B)=>{let{inlineSize:D}=B;return I+D},0),k.value=P.reduce((I,B)=>{let{blockSize:D}=B;return I+D},0)):(y.value=T.contentRect.width,k.value=T.contentRect.height)},d),oa(()=>aj(s),x=>{y.value=x?g.width:0,k.value=x?g.height:0}),{width:y,height:k}}function hU(s,g){return s&&s[0]&&s[1]&&g.isAfter(s[0],s[1])?[s[1],s[0]]:s}function bU(s,g,d,h){return!!(s||h&&h[g]||d[(g+1)%2])}function Gte(){return Rr({name:"RangerPicker",inheritAttrs:!1,props:["prefixCls","id","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","generateConfig","locale","placeholder","autofocus","disabled","format","picker","showTime","showNow","showHour","showMinute","showSecond","use12Hours","separator","value","defaultValue","defaultPickerValue","open","defaultOpen","disabledDate","disabledTime","dateRender","panelRender","ranges","allowEmpty","allowClear","suffixIcon","clearIcon","pickerRef","inputReadOnly","mode","renderExtraFooter","onChange","onOpenChange","onPanelChange","onCalendarChange","onFocus","onBlur","onMousedown","onMouseup","onMouseenter","onMouseleave","onClick","onOk","onKeydown","components","order","direction","activePickerIndex","autocomplete","minuteStep","hourStep","secondStep","hideDisabledOptions","disabledMinutes","presets"],setup(s,g){let{attrs:d,expose:h}=g;const y=yt(()=>s.picker==="date"&&!!s.showTime||s.picker==="time"),k=yt(()=>s.presets),x=yt(()=>s.ranges),T=rj(k,x),P=mn({}),I=mn(null),B=mn(null),D=mn(null),F=mn(null),L=mn(null),J=mn(null),_=mn(null),U=mn(null),te=yt(()=>GW(HW(s.format,s.picker,s.showTime,s.use12Hours))),[Z,R]=ss(0,{value:so(s,"activePickerIndex")}),Q=mn(null),X=yt(()=>{const{disabled:hn}=s;return Array.isArray(hn)?hn:[hn||!1,hn||!1]}),[me,xe]=ss(null,{value:so(s,"value"),defaultValue:s.defaultValue,postState:hn=>s.picker==="time"&&!s.order?hn:hU(hn,s.generateConfig)}),[fe,se,Ce]=zte({values:me,picker:so(s,"picker"),defaultDates:s.defaultPickerValue,generateConfig:so(s,"generateConfig")}),[oe,z]=ss(me.value,{postState:hn=>{let or=hn;if(X.value[0]&&X.value[1])return or;for(let tr=0;tr<2;tr+=1)X.value[tr]&&!Ja(or,tr)&&!Ja(s.allowEmpty,tr)&&(or=Xc(or,s.generateConfig.getNow(),tr));return or}}),[G,he]=ss([s.picker,s.picker],{value:so(s,"mode")});oa(()=>s.picker,()=>{he([s.picker,s.picker])});const Ge=(hn,or)=>{var tr;he(hn),(tr=s.onPanelChange)===null||tr===void 0||tr.call(s,or,hn)},[Me,je]=Ite({picker:so(s,"picker"),selectedValue:oe,locale:so(s,"locale"),disabled:X,disabledDate:so(s,"disabledDate"),generateConfig:so(s,"generateConfig")},P),[tt,E]=ss(!1,{value:so(s,"open"),defaultValue:s.defaultOpen,postState:hn=>X.value[Z.value]?!1:hn,onChange:hn=>{var or;(or=s.onOpenChange)===null||or===void 0||or.call(s,hn),!hn&&Q.value&&Q.value.onClose&&Q.value.onClose()}}),Ae=yt(()=>tt.value&&Z.value===0),Le=yt(()=>tt.value&&Z.value===1),At=mn(0),ze=mn(0),ft=mn(0),{width:Xe}=Bk(I);oa([tt,Xe],()=>{!tt.value&&I.value&&(ft.value=Xe.value)});const{width:ct}=Bk(B),{width:re}=Bk(U),{width:Vt}=Bk(D),{width:it}=Bk(L);oa([Z,tt,ct,re,Vt,it,()=>s.direction],()=>{ze.value=0,tt.value&&Z.value?D.value&&L.value&&B.value&&(ze.value=Vt.value+it.value,ct.value&&re.value&&ze.value>ct.value-re.value-(s.direction==="rtl"||U.value.offsetLeft>ze.value?0:U.value.offsetLeft)&&(At.value=ze.value)):Z.value===0&&(At.value=0)},{immediate:!0});const Oe=mn();function dt(hn,or){if(hn)clearTimeout(Oe.value),P.value[or]=!0,R(or),E(hn),tt.value||Ce(null,or);else if(Z.value===or){E(hn);const tr=P.value;Oe.value=setTimeout(()=>{tr===P.value&&(P.value={})})}}function Ne(hn){dt(!0,hn),setTimeout(()=>{const or=[J,_][hn];or.value&&or.value.focus()},0)}function Be(hn,or){let tr=hn,Wr=Ja(tr,0),va=Ja(tr,1);const{generateConfig:Pa,locale:Nr,picker:Fa,order:Yn,onCalendarChange:Do,allowEmpty:Ga,onChange:Aa,showTime:ko}=s;Wr&&va&&Pa.isAfter(Wr,va)&&(Fa==="week"&&!jW(Pa,Nr.locale,Wr,va)||Fa==="quarter"&&!WW(Pa,Wr,va)||Fa!=="week"&&Fa!=="quarter"&&Fa!=="time"&&!(ko?Ky(Pa,Wr,va):im(Pa,Wr,va))?(or===0?(tr=[Wr,null],va=null):(Wr=null,tr=[null,va]),P.value={[or]:!0}):(Fa!=="time"||Yn!==!1)&&(tr=hU(tr,Pa))),z(tr);const io=tr&&tr[0]?ml(tr[0],{generateConfig:Pa,locale:Nr,format:te.value[0]}):"",Yo=tr&&tr[1]?ml(tr[1],{generateConfig:Pa,locale:Nr,format:te.value[0]}):"";Do&&Do(tr,[io,Yo],{range:or===0?"start":"end"});const ti=bU(Wr,0,X.value,Ga),$i=bU(va,1,X.value,Ga);(tr===null||ti&&$i)&&(xe(tr),Aa&&(!Ky(Pa,Ja(me.value,0),Wr)||!Ky(Pa,Ja(me.value,1),va))&&Aa(tr,[io,Yo]));let qe=null;or===0&&!X.value[1]?qe=1:or===1&&!X.value[0]&&(qe=0),qe!==null&&qe!==Z.value&&(!P.value[qe]||!Ja(tr,qe))&&Ja(tr,or)?Ne(qe):dt(!1,or)}const at=hn=>tt&&Q.value&&Q.value.onKeydown?Q.value.onKeydown(hn):!1,gt={formatList:te,generateConfig:so(s,"generateConfig"),locale:so(s,"locale")},[ut,Et]=rP(yt(()=>Ja(oe.value,0)),gt),[_n,Re]=rP(yt(()=>Ja(oe.value,1)),gt),Tt=(hn,or)=>{const tr=qW(hn,{locale:s.locale,formatList:te.value,generateConfig:s.generateConfig});tr&&!(or===0?Me:je)(tr)&&(z(Xc(oe.value,tr,or)),Ce(tr,or))},[ln,Ut,fn]=J7({valueTexts:ut,onTextChange:hn=>Tt(hn,0)}),[bn,In,sr]=J7({valueTexts:_n,onTextChange:hn=>Tt(hn,1)}),[yr,$t]=H7(null),[Dt,Ft]=H7(null),[rt,st,Wt]=Q7(ln,gt),[dn,Xt,Ve]=Q7(bn,gt),Yt=hn=>{Ft(Xc(oe.value,hn,Z.value)),Z.value===0?st(hn):Xt(hn)},On=()=>{Ft(Xc(oe.value,null,Z.value)),Z.value===0?Wt():Ve()},wn=(hn,or)=>({forwardKeydown:at,onBlur:tr=>{var Wr;(Wr=s.onBlur)===null||Wr===void 0||Wr.call(s,tr)},isClickOutside:tr=>!UW([B.value,D.value,F.value,I.value],tr),onFocus:tr=>{var Wr;R(hn),(Wr=s.onFocus)===null||Wr===void 0||Wr.call(s,tr)},triggerOpen:tr=>{dt(tr,hn)},onSubmit:()=>{if(!oe.value||s.disabledDate&&s.disabledDate(oe.value[hn]))return!1;Be(oe.value,hn),or()},onCancel:()=>{dt(!1,hn),z(me.value),or()}}),[jn,{focused:He,typing:Lt}]=Z7(We(We({},wn(0,fn)),{blurToCancel:y,open:Ae,value:ln,onKeydown:(hn,or)=>{var tr;(tr=s.onKeydown)===null||tr===void 0||tr.call(s,hn,or)}})),[_t,{focused:an,typing:Un}]=Z7(We(We({},wn(1,sr)),{blurToCancel:y,open:Le,value:bn,onKeydown:(hn,or)=>{var tr;(tr=s.onKeydown)===null||tr===void 0||tr.call(s,hn,or)}})),kr=hn=>{var or;(or=s.onClick)===null||or===void 0||or.call(s,hn),!tt.value&&!J.value.contains(hn.target)&&!_.value.contains(hn.target)&&(X.value[0]?X.value[1]||Ne(1):Ne(0))},Oa=hn=>{var or;(or=s.onMousedown)===null||or===void 0||or.call(s,hn),tt.value&&(He.value||an.value)&&!J.value.contains(hn.target)&&!_.value.contains(hn.target)&&hn.preventDefault()},_r=yt(()=>{var hn;return!((hn=me.value)===null||hn===void 0)&&hn[0]?ml(me.value[0],{locale:s.locale,format:"YYYYMMDDHHmmss",generateConfig:s.generateConfig}):""}),Ar=yt(()=>{var hn;return!((hn=me.value)===null||hn===void 0)&&hn[1]?ml(me.value[1],{locale:s.locale,format:"YYYYMMDDHHmmss",generateConfig:s.generateConfig}):""});oa([tt,ut,_n],()=>{tt.value||(z(me.value),!ut.value.length||ut.value[0]===""?Ut(""):Et.value!==ln.value&&fn(),!_n.value.length||_n.value[0]===""?In(""):Re.value!==bn.value&&sr())}),oa([_r,Ar],()=>{z(me.value)}),h({focus:()=>{J.value&&J.value.focus()},blur:()=>{J.value&&J.value.blur(),_.value&&_.value.blur()}});const _a=yt(()=>tt.value&&Dt.value&&Dt.value[0]&&Dt.value[1]&&s.generateConfig.isAfter(Dt.value[1],Dt.value[0])?Dt.value:null);function xo(){let hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{generateConfig:tr,showTime:Wr,dateRender:va,direction:Pa,disabledTime:Nr,prefixCls:Fa,locale:Yn}=s;let Do=Wr;if(Wr&&typeof Wr=="object"&&Wr.defaultValue){const Aa=Wr.defaultValue;Do=We(We({},Wr),{defaultValue:Ja(Aa,Z.value)||void 0})}let Ga=null;return va&&(Ga=Aa=>{let{current:ko,today:io}=Aa;return va({current:ko,today:io,info:{range:Z.value?"end":"start"}})}),ue(Ote,{value:{inRange:!0,panelPosition:hn,rangedValue:yr.value||oe.value,hoverRangedValue:_a.value}},{default:()=>[ue(ej,Ot(Ot(Ot({},s),or),{},{dateRender:Ga,showTime:Do,mode:G.value[Z.value],generateConfig:tr,style:void 0,direction:Pa,disabledDate:Z.value===0?Me:je,disabledTime:Aa=>Nr?Nr(Aa,Z.value===0?"start":"end"):!1,class:ya({[`${Fa}-panel-focused`]:Z.value===0?!Lt.value:!Un.value}),value:Ja(oe.value,Z.value),locale:Yn,tabIndex:-1,onPanelChange:(Aa,ko)=>{Z.value===0&&Wt(!0),Z.value===1&&Ve(!0),Ge(Xc(G.value,ko,Z.value),Xc(oe.value,Aa,Z.value));let io=Aa;hn==="right"&&G.value[Z.value]===ko&&(io=Vk(io,ko,tr,-1)),Ce(io,Z.value)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:Z.value===0?Ja(oe.value,1):Ja(oe.value,0)}),null)]})}const oo=(hn,or)=>{const tr=Xc(oe.value,hn,Z.value);or==="submit"||or!=="key"&&!y.value?(Be(tr,Z.value),Z.value===0?Wt():Ve()):z(tr)};return bH({operationRef:Q,hideHeader:yt(()=>s.picker==="time"),onDateMouseenter:Yt,onDateMouseleave:On,hideRanges:yt(()=>!0),onSelect:oo,open:tt}),()=>{const{prefixCls:hn="rc-picker",id:or,popupStyle:tr,dropdownClassName:Wr,transitionName:va,dropdownAlign:Pa,getPopupContainer:Nr,generateConfig:Fa,locale:Yn,placeholder:Do,autofocus:Ga,picker:Aa="date",showTime:ko,separator:io="~",disabledDate:Yo,panelRender:ti,allowClear:$i,suffixIcon:ke,clearIcon:qe,inputReadOnly:Te,renderExtraFooter:wt,onMouseenter:En,onMouseleave:zn,onMouseup:ye,onOk:Pe,components:Ct,direction:Nt,autocomplete:j="off"}=s,ve=Nt==="rtl"?{right:`${ze.value}px`}:{left:`${ze.value}px`};function _e(){let Qn;const xr=JW(hn,G.value[Z.value],wt),ga=QW({prefixCls:hn,components:Ct,needConfirmButton:y.value,okDisabled:!Ja(oe.value,Z.value)||Yo&&Yo(oe.value[Z.value]),locale:Yn,onOk:()=>{Ja(oe.value,Z.value)&&(Be(oe.value,Z.value),Pe&&Pe(oe.value))}});if(Aa!=="time"&&!ko){const To=Z.value===0?fe.value:se.value,nu=Vk(To,Aa,Fa),eo=G.value[Z.value]===Aa,Zu=xo(eo?"left":!1,{pickerValue:To,onPickerValueChange:mi=>{Ce(mi,Z.value)}}),hu=xo("right",{pickerValue:nu,onPickerValueChange:mi=>{Ce(Vk(mi,Aa,Fa,-1),Z.value)}});Nt==="rtl"?Qn=ue(eu,null,[hu,eo&&Zu]):Qn=ue(eu,null,[Zu,eo&&hu])}else Qn=xo();let Qa=ue("div",{class:`${hn}-panel-layout`},[ue(nj,{prefixCls:hn,presets:T.value,onClick:To=>{Be(To,null),dt(!1,Z.value)},onHover:To=>{$t(To)}},null),ue("div",null,[ue("div",{class:`${hn}-panels`},[Qn]),(xr||ga)&&ue("div",{class:`${hn}-footer`},[xr,ga])])]);return ti&&(Qa=ti(Qa)),ue("div",{class:`${hn}-panel-container`,style:{marginLeft:`${At.value}px`},ref:B,onMousedown:To=>{To.preventDefault()}},[Qa])}const Je=ue("div",{class:ya(`${hn}-range-wrapper`,`${hn}-${Aa}-range-wrapper`),style:{minWidth:`${ft.value}px`}},[ue("div",{ref:U,class:`${hn}-range-arrow`,style:ve},null),_e()]);let pt;ke&&(pt=ue("span",{class:`${hn}-suffix`},[ke]));let bt;$i&&(Ja(me.value,0)&&!X.value[0]||Ja(me.value,1)&&!X.value[1])&&(bt=ue("span",{onMousedown:Qn=>{Qn.preventDefault(),Qn.stopPropagation()},onMouseup:Qn=>{Qn.preventDefault(),Qn.stopPropagation();let xr=me.value;X.value[0]||(xr=Xc(xr,null,0)),X.value[1]||(xr=Xc(xr,null,1)),Be(xr,null),dt(!1,Z.value)},class:`${hn}-clear`},[qe||ue("span",{class:`${hn}-clear-btn`},null)]));const xn={size:VW(Aa,te.value[0],Fa)};let Bn=0,fr=0;D.value&&F.value&&L.value&&(Z.value===0?fr=D.value.offsetWidth:(Bn=ze.value,fr=F.value.offsetWidth));const wr=Nt==="rtl"?{right:`${Bn}px`}:{left:`${Bn}px`};return ue("div",Ot({ref:I,class:ya(hn,`${hn}-range`,d.class,{[`${hn}-disabled`]:X.value[0]&&X.value[1],[`${hn}-focused`]:Z.value===0?He.value:an.value,[`${hn}-rtl`]:Nt==="rtl"}),style:d.style,onClick:kr,onMouseenter:En,onMouseleave:zn,onMousedown:Oa,onMouseup:ye},YW(s)),[ue("div",{class:ya(`${hn}-input`,{[`${hn}-input-active`]:Z.value===0,[`${hn}-input-placeholder`]:!!rt.value}),ref:D},[ue("input",Ot(Ot(Ot({id:or,disabled:X.value[0],readonly:Te||typeof te.value[0]=="function"||!Lt.value,value:rt.value||ln.value,onInput:Qn=>{Ut(Qn.target.value)},autofocus:Ga,placeholder:Ja(Do,0)||"",ref:J},jn.value),xn),{},{autocomplete:j}),null)]),ue("div",{class:`${hn}-range-separator`,ref:L},[io]),ue("div",{class:ya(`${hn}-input`,{[`${hn}-input-active`]:Z.value===1,[`${hn}-input-placeholder`]:!!dn.value}),ref:F},[ue("input",Ot(Ot(Ot({disabled:X.value[1],readonly:Te||typeof te.value[0]=="function"||!Un.value,value:dn.value||bn.value,onInput:Qn=>{In(Qn.target.value)},placeholder:Ja(Do,1)||"",ref:_},_t.value),xn),{},{autocomplete:j}),null)]),ue("div",{class:`${hn}-active-bar`,style:We(We({},wr),{width:`${fr}px`,position:"absolute"})},null),pt,bt,ue(tj,{visible:tt.value,popupStyle:tr,prefixCls:hn,dropdownClassName:Wr,dropdownAlign:Pa,getPopupContainer:Nr,transitionName:va,range:!0,direction:Nt},{default:()=>[ue("div",{style:{pointerEvents:"none",position:"absolute",top:0,bottom:0,left:0,right:0}},null)],popupElement:()=>Je})])}}})}const Yte=Gte(),Xte=Yte,ij=Symbol("radioGroupContextKey"),Zte=s=>{vb(ij,s)},Jte=()=>db(ij,void 0),uj=Symbol("radioOptionTypeContextKey"),Qte=s=>{vb(uj,s)},ene=()=>db(uj,void 0),tne=new cP("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),nne=s=>{const{componentCls:g,antCls:d}=s,h=`${g}-group`;return{[h]:We(We({},If(s)),{display:"inline-block",fontSize:0,[`&${h}-rtl`]:{direction:"rtl"},[`${d}-badge ${d}-badge-count`]:{zIndex:1},[`> ${d}-badge:not(:first-child) > ${d}-button-wrapper`]:{borderInlineStart:"none"}})}},rne=s=>{const{componentCls:g,radioWrapperMarginRight:d,radioCheckedColor:h,radioSize:y,motionDurationSlow:k,motionDurationMid:x,motionEaseInOut:T,motionEaseInOutCirc:P,radioButtonBg:I,colorBorder:B,lineWidth:D,radioDotSize:F,colorBgContainerDisabled:L,colorTextDisabled:J,paddingXS:_,radioDotDisabledColor:U,lineType:te,radioDotDisabledSize:Z,wireframe:R,colorWhite:Q}=s,X=`${g}-inner`;return{[`${g}-wrapper`]:We(We({},If(s)),{position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:d,cursor:"pointer",[`&${g}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:s.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${g}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${D}px ${te} ${h}`,borderRadius:"50%",visibility:"hidden",animationName:tne,animationDuration:k,animationTimingFunction:T,animationFillMode:"both",content:'""'},[g]:We(We({},If(s)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"}),[`${g}-wrapper:hover &,
        &:hover ${X}`]:{borderColor:h},[`${g}-input:focus-visible + ${X}`]:We({},rW(s)),[`${g}:hover::after, ${g}-wrapper:hover &::after`]:{visibility:"visible"},[`${g}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:y,height:y,marginBlockStart:y/-2,marginInlineStart:y/-2,backgroundColor:R?h:Q,borderBlockStart:0,borderInlineStart:0,borderRadius:y,transform:"scale(0)",opacity:0,transition:`all ${k} ${P}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:y,height:y,backgroundColor:I,borderColor:B,borderStyle:"solid",borderWidth:D,borderRadius:"50%",transition:`all ${x}`},[`${g}-input`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0},[`${g}-checked`]:{[X]:{borderColor:h,backgroundColor:R?I:h,"&::after":{transform:`scale(${F/y})`,opacity:1,transition:`all ${k} ${P}`}}},[`${g}-disabled`]:{cursor:"not-allowed",[X]:{backgroundColor:L,borderColor:B,cursor:"not-allowed","&::after":{backgroundColor:U}},[`${g}-input`]:{cursor:"not-allowed"},[`${g}-disabled + span`]:{color:J,cursor:"not-allowed"},[`&${g}-checked`]:{[X]:{"&::after":{transform:`scale(${Z/y})`}}}},[`span${g} + *`]:{paddingInlineStart:_,paddingInlineEnd:_}})}},ane=s=>{const{radioButtonColor:g,controlHeight:d,componentCls:h,lineWidth:y,lineType:k,colorBorder:x,motionDurationSlow:T,motionDurationMid:P,radioButtonPaddingHorizontal:I,fontSize:B,radioButtonBg:D,fontSizeLG:F,controlHeightLG:L,controlHeightSM:J,paddingXS:_,borderRadius:U,borderRadiusSM:te,borderRadiusLG:Z,radioCheckedColor:R,radioButtonCheckedBg:Q,radioButtonHoverColor:X,radioButtonActiveColor:me,radioSolidCheckedColor:xe,colorTextDisabled:fe,colorBgContainerDisabled:se,radioDisabledButtonCheckedColor:Ce,radioDisabledButtonCheckedBg:oe}=s;return{[`${h}-button-wrapper`]:{position:"relative",display:"inline-block",height:d,margin:0,paddingInline:I,paddingBlock:0,color:g,fontSize:B,lineHeight:`${d-y*2}px`,background:D,border:`${y}px ${k} ${x}`,borderBlockStartWidth:y+.02,borderInlineStartWidth:0,borderInlineEndWidth:y,cursor:"pointer",transition:[`color ${P}`,`background ${P}`,`border-color ${P}`,`box-shadow ${P}`].join(","),a:{color:g},[`> ${h}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-y,insetInlineStart:-y,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:y,paddingInline:0,backgroundColor:x,transition:`background-color ${T}`,content:'""'}},"&:first-child":{borderInlineStart:`${y}px ${k} ${x}`,borderStartStartRadius:U,borderEndStartRadius:U},"&:last-child":{borderStartEndRadius:U,borderEndEndRadius:U},"&:first-child:last-child":{borderRadius:U},[`${h}-group-large &`]:{height:L,fontSize:F,lineHeight:`${L-y*2}px`,"&:first-child":{borderStartStartRadius:Z,borderEndStartRadius:Z},"&:last-child":{borderStartEndRadius:Z,borderEndEndRadius:Z}},[`${h}-group-small &`]:{height:J,paddingInline:_-y,paddingBlock:0,lineHeight:`${J-y*2}px`,"&:first-child":{borderStartStartRadius:te,borderEndStartRadius:te},"&:last-child":{borderStartEndRadius:te,borderEndEndRadius:te}},"&:hover":{position:"relative",color:R},"&:has(:focus-visible)":We({},rW(s)),[`${h}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${h}-button-wrapper-disabled)`]:{zIndex:1,color:R,background:Q,borderColor:R,"&::before":{backgroundColor:R},"&:first-child":{borderColor:R},"&:hover":{color:X,borderColor:X,"&::before":{backgroundColor:X}},"&:active":{color:me,borderColor:me,"&::before":{backgroundColor:me}}},[`${h}-group-solid &-checked:not(${h}-button-wrapper-disabled)`]:{color:xe,background:R,borderColor:R,"&:hover":{color:xe,background:X,borderColor:X},"&:active":{color:xe,background:me,borderColor:me}},"&-disabled":{color:fe,backgroundColor:se,borderColor:x,cursor:"not-allowed","&:first-child, &:hover":{color:fe,backgroundColor:se,borderColor:x}},[`&-disabled${h}-button-wrapper-checked`]:{color:Ce,backgroundColor:oe,borderColor:x,boxShadow:"none"}}}},lj=jv("Radio",s=>{const{padding:g,lineWidth:d,controlItemBgActiveDisabled:h,colorTextDisabled:y,colorBgContainer:k,fontSizeLG:x,controlOutline:T,colorPrimaryHover:P,colorPrimaryActive:I,colorText:B,colorPrimary:D,marginXS:F,controlOutlineWidth:L,colorTextLightSolid:J,wireframe:_}=s,U=`0 0 0 ${L}px ${T}`,te=U,Z=x,R=4,Q=Z-R*2,X=_?Q:Z-(R+d)*2,me=D,xe=B,fe=P,se=I,Ce=g-d,G=Jc(s,{radioFocusShadow:U,radioButtonFocusShadow:te,radioSize:Z,radioDotSize:X,radioDotDisabledSize:Q,radioCheckedColor:me,radioDotDisabledColor:y,radioSolidCheckedColor:J,radioButtonBg:k,radioButtonCheckedBg:k,radioButtonColor:xe,radioButtonHoverColor:fe,radioButtonActiveColor:se,radioButtonPaddingHorizontal:Ce,radioDisabledButtonCheckedBg:h,radioDisabledButtonCheckedColor:y,radioWrapperMarginRight:F});return[nne(G),rne(G),ane(G)]});var one=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const sj=()=>({prefixCls:String,checked:ea(),disabled:ea(),isGroup:ea(),value:Hr.any,name:String,id:String,autofocus:ea(),onChange:Wn(),onFocus:Wn(),onBlur:Wn(),onClick:Wn(),"onUpdate:checked":Wn(),"onUpdate:value":Wn()}),Xu=Rr({compatConfig:{MODE:3},name:"ARadio",inheritAttrs:!1,props:sj(),setup(s,g){let{emit:d,expose:h,slots:y,attrs:k}=g;const x=Qc(),T=rw.useInject(),P=ene(),I=Jte(),B=Wk(),D=yt(()=>{var fe;return(fe=_.value)!==null&&fe!==void 0?fe:B.value}),F=mn(),{prefixCls:L,direction:J,disabled:_}=Nl("radio",s),U=yt(()=>I?.optionType.value==="button"||P==="button"?`${L.value}-button`:L.value),te=Wk(),[Z,R]=lj(L);h({focus:()=>{F.value.focus()},blur:()=>{F.value.blur()}});const me=fe=>{const se=fe.target.checked;d("update:checked",se),d("update:value",se),d("change",fe),x.onFieldChange()},xe=fe=>{d("change",fe),I&&I.onChange&&I.onChange(fe)};return()=>{var fe;const se=I,{prefixCls:Ce,id:oe=x.id.value}=s,z=one(s,["prefixCls","id"]),G=We(We({prefixCls:U.value,id:oe},Ps(z,["onUpdate:checked","onUpdate:value"])),{disabled:(fe=_.value)!==null&&fe!==void 0?fe:te.value});se?(G.name=se.name.value,G.onChange=xe,G.checked=s.value===se.value.value,G.disabled=D.value||se.disabled.value):G.onChange=me;const he=ya({[`${U.value}-wrapper`]:!0,[`${U.value}-wrapper-checked`]:G.checked,[`${U.value}-wrapper-disabled`]:G.disabled,[`${U.value}-wrapper-rtl`]:J.value==="rtl",[`${U.value}-wrapper-in-form-item`]:T.isFormItemInput},k.class,R.value);return Z(ue("label",Ot(Ot({},k),{},{class:he}),[ue(QQ,Ot(Ot({},G),{},{type:"radio",ref:F}),null),y.default&&ue("span",null,[y.default()])]))}}}),ine=()=>({prefixCls:String,value:Hr.any,size:zo(),options:gu(),disabled:ea(),name:String,buttonStyle:zo("outline"),id:String,optionType:zo("default"),onChange:Wn(),"onUpdate:value":Wn()}),une=Rr({compatConfig:{MODE:3},name:"ARadioGroup",inheritAttrs:!1,props:ine(),setup(s,g){let{slots:d,emit:h,attrs:y}=g;const k=Qc(),{prefixCls:x,direction:T,size:P}=Nl("radio",s),[I,B]=lj(x),D=mn(s.value),F=mn(!1);return oa(()=>s.value,J=>{D.value=J,F.value=!1}),Zte({onChange:J=>{const _=D.value,{value:U}=J.target;"value"in s||(D.value=U),!F.value&&U!==_&&(F.value=!0,h("update:value",U),h("change",J),k.onFieldChange()),nw(()=>{F.value=!1})},value:D,disabled:yt(()=>s.disabled),name:yt(()=>s.name),optionType:yt(()=>s.optionType)}),()=>{var J;const{options:_,buttonStyle:U,id:te=k.id.value}=s,Z=`${x.value}-group`,R=ya(Z,`${Z}-${U}`,{[`${Z}-${P.value}`]:P.value,[`${Z}-rtl`]:T.value==="rtl"},y.class,B.value);let Q=null;return _&&_.length>0?Q=_.map(X=>{if(typeof X=="string"||typeof X=="number")return ue(Xu,{key:X,prefixCls:x.value,disabled:s.disabled,value:X,checked:D.value===X},{default:()=>[X]});const{value:me,disabled:xe,label:fe}=X;return ue(Xu,{key:`radio-group-value-options-${me}`,prefixCls:x.value,disabled:xe||s.disabled,value:me,checked:D.value===me},{default:()=>[fe]})}):Q=(J=d.default)===null||J===void 0?void 0:J.call(d),I(ue("div",Ot(Ot({},y),{},{class:R,id:te}),[Q]))}}}),lne=Rr({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:sj(),setup(s,g){let{slots:d,attrs:h}=g;const{prefixCls:y}=Nl("radio",s);return Qte("button"),()=>{var k;return ue(Xu,Ot(Ot(Ot({},h),s),{},{prefixCls:y.value}),{default:()=>[(k=d.default)===null||k===void 0?void 0:k.call(d)]})}}});Xu.Group=une;Xu.Button=lne;Xu.install=function(s){return s.component(Xu.name,Xu),s.component(Xu.Group.name,Xu.Group),s.component(Xu.Button.name,Xu.Button),s};const S7=(s,g,d,h)=>{const{lineHeight:y}=s,k=Math.floor(d*y)+2,x=Math.max((g-k)/2,0),T=Math.max(g-k-x,0);return{padding:`${x}px ${h}px ${T}px`}},sne=s=>{const{componentCls:g,pickerCellCls:d,pickerCellInnerCls:h,pickerPanelCellHeight:y,motionDurationSlow:k,borderRadiusSM:x,motionDurationMid:T,controlItemBgHover:P,lineWidth:I,lineType:B,colorPrimary:D,controlItemBgActive:F,colorTextLightSolid:L,controlHeightSM:J,pickerDateHoverRangeBorderColor:_,pickerCellBorderGap:U,pickerBasicCellHoverWithRangeColor:te,pickerPanelCellWidth:Z,colorTextDisabled:R,colorBgContainerDisabled:Q}=s;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:y,transform:"translateY(-50%)",transition:`all ${k}`,content:'""'},[h]:{position:"relative",zIndex:2,display:"inline-block",minWidth:y,height:y,lineHeight:`${y}px`,borderRadius:x,transition:`background ${T}, border ${T}`},[`&:hover:not(${d}-in-view),
    &:hover:not(${d}-selected):not(${d}-range-start):not(${d}-range-end):not(${d}-range-hover-start):not(${d}-range-hover-end)`]:{[h]:{background:P}},[`&-in-view${d}-today ${h}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${I}px ${B} ${D}`,borderRadius:x,content:'""'}},[`&-in-view${d}-in-range`]:{position:"relative","&::before":{background:F}},[`&-in-view${d}-selected ${h},
      &-in-view${d}-range-start ${h},
      &-in-view${d}-range-end ${h}`]:{color:L,background:D},[`&-in-view${d}-range-start:not(${d}-range-start-single),
      &-in-view${d}-range-end:not(${d}-range-end-single)`]:{"&::before":{background:F}},[`&-in-view${d}-range-start::before`]:{insetInlineStart:"50%"},[`&-in-view${d}-range-end::before`]:{insetInlineEnd:"50%"},[`&-in-view${d}-range-hover-start:not(${d}-in-range):not(${d}-range-start):not(${d}-range-end),
      &-in-view${d}-range-hover-end:not(${d}-in-range):not(${d}-range-start):not(${d}-range-end),
      &-in-view${d}-range-hover-start${d}-range-start-single,
      &-in-view${d}-range-hover-start${d}-range-start${d}-range-end${d}-range-end-near-hover,
      &-in-view${d}-range-hover-end${d}-range-start${d}-range-end${d}-range-start-near-hover,
      &-in-view${d}-range-hover-end${d}-range-end-single,
      &-in-view${d}-range-hover:not(${d}-in-range)`]:{"&::after":{position:"absolute",top:"50%",zIndex:0,height:J,borderTop:`${I}px dashed ${_}`,borderBottom:`${I}px dashed ${_}`,transform:"translateY(-50%)",transition:`all ${k}`,content:'""'}},"&-range-hover-start::after,\n      &-range-hover-end::after,\n      &-range-hover::after":{insetInlineEnd:0,insetInlineStart:U},[`&-in-view${d}-in-range${d}-range-hover::before,
      &-in-view${d}-range-start${d}-range-hover::before,
      &-in-view${d}-range-end${d}-range-hover::before,
      &-in-view${d}-range-start:not(${d}-range-start-single)${d}-range-hover-start::before,
      &-in-view${d}-range-end:not(${d}-range-end-single)${d}-range-hover-end::before,
      ${g}-panel
      > :not(${g}-date-panel)
      &-in-view${d}-in-range${d}-range-hover-start::before,
      ${g}-panel
      > :not(${g}-date-panel)
      &-in-view${d}-in-range${d}-range-hover-end::before`]:{background:te},[`&-in-view${d}-range-start:not(${d}-range-start-single):not(${d}-range-end) ${h}`]:{borderStartStartRadius:x,borderEndStartRadius:x,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${d}-range-end:not(${d}-range-end-single):not(${d}-range-start) ${h}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:x,borderEndEndRadius:x},[`&-range-hover${d}-range-end::after`]:{insetInlineStart:"50%"},[`tr > &-in-view${d}-range-hover:first-child::after,
      tr > &-in-view${d}-range-hover-end:first-child::after,
      &-in-view${d}-start${d}-range-hover-edge-start${d}-range-hover-edge-start-near-range::after,
      &-in-view${d}-range-hover-edge-start:not(${d}-range-hover-edge-start-near-range)::after,
      &-in-view${d}-range-hover-start::after`]:{insetInlineStart:(Z-y)/2,borderInlineStart:`${I}px dashed ${_}`,borderStartStartRadius:I,borderEndStartRadius:I},[`tr > &-in-view${d}-range-hover:last-child::after,
      tr > &-in-view${d}-range-hover-start:last-child::after,
      &-in-view${d}-end${d}-range-hover-edge-end${d}-range-hover-edge-end-near-range::after,
      &-in-view${d}-range-hover-edge-end:not(${d}-range-hover-edge-end-near-range)::after,
      &-in-view${d}-range-hover-end::after`]:{insetInlineEnd:(Z-y)/2,borderInlineEnd:`${I}px dashed ${_}`,borderStartEndRadius:I,borderEndEndRadius:I},"&-disabled":{color:R,pointerEvents:"none",[h]:{background:"transparent"},"&::before":{background:Q}},[`&-disabled${d}-today ${h}::before`]:{borderColor:R}}},cne=s=>{const{componentCls:g,pickerCellInnerCls:d,pickerYearMonthCellWidth:h,pickerControlIconSize:y,pickerPanelCellWidth:k,paddingSM:x,paddingXS:T,paddingXXS:P,colorBgContainer:I,lineWidth:B,lineType:D,borderRadiusLG:F,colorPrimary:L,colorTextHeading:J,colorSplit:_,pickerControlIconBorderWidth:U,colorIcon:te,pickerTextHeight:Z,motionDurationMid:R,colorIconHover:Q,fontWeightStrong:X,pickerPanelCellHeight:me,pickerCellPaddingVertical:xe,colorTextDisabled:fe,colorText:se,fontSize:Ce,pickerBasicCellHoverWithRangeColor:oe,motionDurationSlow:z,pickerPanelWithoutTimeCellHeight:G,pickerQuarterPanelContentHeight:he,colorLink:Ge,colorLinkActive:Me,colorLinkHover:je,pickerDateHoverRangeBorderColor:tt,borderRadiusSM:E,colorTextLightSolid:Ae,borderRadius:Le,controlItemBgHover:At,pickerTimePanelColumnHeight:ze,pickerTimePanelColumnWidth:ft,pickerTimePanelCellHeight:Xe,controlItemBgActive:ct,marginXXS:re}=s,Vt=k*7+x*2+4,it=(Vt-T*2)/3-h-x;return{[g]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:I,border:`${B}px ${D} ${_}`,borderRadius:F,outline:"none","&-focused":{borderColor:L},"&-rtl":{direction:"rtl",[`${g}-prev-icon,
              ${g}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${g}-next-icon,
              ${g}-super-next-icon`]:{transform:"rotate(-135deg)"}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:Vt},"&-header":{display:"flex",padding:`0 ${T}px`,color:J,borderBottom:`${B}px ${D} ${_}`,"> *":{flex:"none"},button:{padding:0,color:te,lineHeight:`${Z}px`,background:"transparent",border:0,cursor:"pointer",transition:`color ${R}`},"> button":{minWidth:"1.6em",fontSize:Ce,"&:hover":{color:Q}},"&-view":{flex:"auto",fontWeight:X,lineHeight:`${Z}px`,button:{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:T},"&:hover":{color:L}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",display:"inline-block",width:y,height:y,"&::before":{position:"absolute",top:0,insetInlineStart:0,display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockStartWidth:U,borderBlockEndWidth:0,borderInlineStartWidth:U,borderInlineEndWidth:0,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:Math.ceil(y/2),insetInlineStart:Math.ceil(y/2),display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockStartWidth:U,borderBlockEndWidth:0,borderInlineStartWidth:U,borderInlineEndWidth:0,content:'""'}},"&-prev-icon,\n        &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon,\n        &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:me,fontWeight:"normal"},th:{height:me+xe*2,color:se,verticalAlign:"middle"}},"&-cell":We({padding:`${xe}px 0`,color:fe,cursor:"pointer","&-in-view":{color:se}},sne(s)),[`&-date-panel ${g}-cell-in-view${g}-cell-in-range${g}-cell-range-hover-start ${d},
        &-date-panel ${g}-cell-in-view${g}-cell-in-range${g}-cell-range-hover-end ${d}`]:{"&::after":{position:"absolute",top:0,bottom:0,zIndex:-1,background:oe,transition:`all ${z}`,content:'""'}},[`&-date-panel
        ${g}-cell-in-view${g}-cell-in-range${g}-cell-range-hover-start
        ${d}::after`]:{insetInlineEnd:-(k-me)/2,insetInlineStart:0},[`&-date-panel ${g}-cell-in-view${g}-cell-in-range${g}-cell-range-hover-end ${d}::after`]:{insetInlineEnd:0,insetInlineStart:-(k-me)/2},[`&-range-hover${g}-range-start::after`]:{insetInlineEnd:"50%"},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${g}-content`]:{height:G*4},[d]:{padding:`0 ${T}px`}},"&-quarter-panel":{[`${g}-content`]:{height:he}},[`&-panel ${g}-footer`]:{borderTop:`${B}px ${D} ${_}`},"&-footer":{width:"min-content",minWidth:"100%",lineHeight:`${Z-2*B}px`,textAlign:"center","&-extra":{padding:`0 ${x}`,lineHeight:`${Z-2*B}px`,textAlign:"start","&:not(:last-child)":{borderBottom:`${B}px ${D} ${_}`}}},"&-now":{textAlign:"start"},"&-today-btn":{color:Ge,"&:hover":{color:je},"&:active":{color:Me},[`&${g}-today-btn-disabled`]:{color:fe,cursor:"not-allowed"}},"&-decade-panel":{[d]:{padding:`0 ${T/2}px`},[`${g}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${g}-body`]:{padding:`0 ${T}px`},[d]:{width:h},[`${g}-cell-range-hover-start::after`]:{insetInlineStart:it,borderInlineStart:`${B}px dashed ${tt}`,borderStartStartRadius:E,borderBottomStartRadius:E,borderStartEndRadius:0,borderBottomEndRadius:0,[`${g}-panel-rtl &`]:{insetInlineEnd:it,borderInlineEnd:`${B}px dashed ${tt}`,borderStartStartRadius:0,borderBottomStartRadius:0,borderStartEndRadius:E,borderBottomEndRadius:E}},[`${g}-cell-range-hover-end::after`]:{insetInlineEnd:it,borderInlineEnd:`${B}px dashed ${tt}`,borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:Le,borderEndEndRadius:Le,[`${g}-panel-rtl &`]:{insetInlineStart:it,borderInlineStart:`${B}px dashed ${tt}`,borderStartStartRadius:Le,borderEndStartRadius:Le,borderStartEndRadius:0,borderEndEndRadius:0}}},"&-week-panel":{[`${g}-body`]:{padding:`${T}px ${x}px`},[`${g}-cell`]:{[`&:hover ${d},
            &-selected ${d},
            ${d}`]:{background:"transparent !important"}},"&-row":{td:{transition:`background ${R}`,"&:first-child":{borderStartStartRadius:E,borderEndStartRadius:E},"&:last-child":{borderStartEndRadius:E,borderEndEndRadius:E}},"&:hover td":{background:At},"&-selected td,\n            &-selected:hover td":{background:L,[`&${g}-cell-week`]:{color:new Xy(Ae).setAlpha(.5).toHexString()},[`&${g}-cell-today ${d}::before`]:{borderColor:Ae},[d]:{color:Ae}}}},"&-date-panel":{[`${g}-body`]:{padding:`${T}px ${x}px`},[`${g}-content`]:{width:k*7,th:{width:k}}},"&-datetime-panel":{display:"flex",[`${g}-time-panel`]:{borderInlineStart:`${B}px ${D} ${_}`},[`${g}-date-panel,
          ${g}-time-panel`]:{transition:`opacity ${z}`},"&-active":{[`${g}-date-panel,
            ${g}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",direction:"ltr",[`${g}-content`]:{display:"flex",flex:"auto",height:ze},"&-column":{flex:"1 0 auto",width:ft,margin:`${P}px 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${R}`,overflowX:"hidden","&::after":{display:"block",height:ze-Xe,content:'""'},"&:not(:first-child)":{borderInlineStart:`${B}px ${D} ${_}`},"&-active":{background:new Xy(ct).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${g}-time-panel-cell`]:{marginInline:re,[`${g}-time-panel-cell-inner`]:{display:"block",width:ft-2*re,height:Xe,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:(ft-Xe)/2,color:se,lineHeight:`${Xe}px`,borderRadius:E,cursor:"pointer",transition:`background ${R}`,"&:hover":{background:At}},"&-selected":{[`${g}-time-panel-cell-inner`]:{background:ct}},"&-disabled":{[`${g}-time-panel-cell-inner`]:{color:fe,background:"transparent",cursor:"not-allowed"}}}}}},[`&-datetime-panel ${g}-time-panel-column:after`]:{height:ze-Xe+P*2}}}},fne=s=>{const{componentCls:g,colorBgContainer:d,colorError:h,colorErrorOutline:y,colorWarning:k,colorWarningOutline:x}=s;return{[g]:{[`&-status-error${g}`]:{"&, &:not([disabled]):hover":{backgroundColor:d,borderColor:h},"&-focused, &:focus":We({},V7(Jc(s,{inputBorderActiveColor:h,inputBorderHoverColor:h,controlOutline:y}))),[`${g}-active-bar`]:{background:h}},[`&-status-warning${g}`]:{"&, &:not([disabled]):hover":{backgroundColor:d,borderColor:k},"&-focused, &:focus":We({},V7(Jc(s,{inputBorderActiveColor:k,inputBorderHoverColor:k,controlOutline:x}))),[`${g}-active-bar`]:{background:k}}}}},vne=s=>{const{componentCls:g,antCls:d,boxShadowPopoverArrow:h,controlHeight:y,fontSize:k,inputPaddingHorizontal:x,colorBgContainer:T,lineWidth:P,lineType:I,colorBorder:B,borderRadius:D,motionDurationMid:F,colorBgContainerDisabled:L,colorTextDisabled:J,colorTextPlaceholder:_,controlHeightLG:U,fontSizeLG:te,controlHeightSM:Z,inputPaddingHorizontalSM:R,paddingXS:Q,marginXS:X,colorTextDescription:me,lineWidthBold:xe,lineHeight:fe,colorPrimary:se,motionDurationSlow:Ce,zIndexPopup:oe,paddingXXS:z,paddingSM:G,pickerTextHeight:he,controlItemBgActive:Ge,colorPrimaryBorder:Me,sizePopupArrow:je,borderRadiusXS:tt,borderRadiusOuter:E,colorBgElevated:Ae,borderRadiusLG:Le,boxShadowSecondary:At,borderRadiusSM:ze,colorSplit:ft,controlItemBgHover:Xe,presetsWidth:ct,presetsMaxWidth:re}=s;return[{[g]:We(We(We({},If(s)),S7(s,y,k,x)),{position:"relative",display:"inline-flex",alignItems:"center",background:T,lineHeight:1,border:`${P}px ${I} ${B}`,borderRadius:D,transition:`border ${F}, box-shadow ${F}`,"&:hover, &-focused":We({},nQ(s)),"&-focused":We({},V7(s)),[`&${g}-disabled`]:{background:L,borderColor:B,cursor:"not-allowed",[`${g}-suffix`]:{color:J}},[`&${g}-borderless`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`${g}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":We(We({},rQ(s)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,"&:focus":{boxShadow:"none"},"&[disabled]":{background:"transparent"}}),"&:hover":{[`${g}-clear`]:{opacity:1}},"&-placeholder":{"> input":{color:_}}},"&-large":We(We({},S7(s,U,te,x)),{[`${g}-input > input`]:{fontSize:te}}),"&-small":We({},S7(s,Z,k,R)),[`${g}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:Q/2,color:J,lineHeight:1,pointerEvents:"none","> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:X}}},[`${g}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:J,lineHeight:1,background:T,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${F}, color ${F}`,"> *":{verticalAlign:"top"},"&:hover":{color:me}},[`${g}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:te,color:J,fontSize:te,verticalAlign:"top",cursor:"default",[`${g}-focused &`]:{color:me},[`${g}-range-separator &`]:{[`${g}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${g}-clear`]:{insetInlineEnd:x},"&:hover":{[`${g}-clear`]:{opacity:1}},[`${g}-active-bar`]:{bottom:-P,height:xe,marginInlineStart:x,background:se,opacity:0,transition:`all ${Ce} ease-out`,pointerEvents:"none"},[`&${g}-focused`]:{[`${g}-active-bar`]:{opacity:1}},[`${g}-range-separator`]:{alignItems:"center",padding:`0 ${Q}px`,lineHeight:1},[`&${g}-small`]:{[`${g}-clear`]:{insetInlineEnd:R},[`${g}-active-bar`]:{marginInlineStart:R}}},"&-dropdown":We(We(We({},If(s)),cne(s)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:oe,[`&${g}-dropdown-hidden`]:{display:"none"},[`&${g}-dropdown-placement-bottomLeft`]:{[`${g}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${g}-dropdown-placement-topLeft`]:{[`${g}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${d}-slide-up-enter${d}-slide-up-enter-active${g}-dropdown-placement-topLeft,
          &${d}-slide-up-enter${d}-slide-up-enter-active${g}-dropdown-placement-topRight,
          &${d}-slide-up-appear${d}-slide-up-appear-active${g}-dropdown-placement-topLeft,
          &${d}-slide-up-appear${d}-slide-up-appear-active${g}-dropdown-placement-topRight`]:{animationName:aQ},[`&${d}-slide-up-enter${d}-slide-up-enter-active${g}-dropdown-placement-bottomLeft,
          &${d}-slide-up-enter${d}-slide-up-enter-active${g}-dropdown-placement-bottomRight,
          &${d}-slide-up-appear${d}-slide-up-appear-active${g}-dropdown-placement-bottomLeft,
          &${d}-slide-up-appear${d}-slide-up-appear-active${g}-dropdown-placement-bottomRight`]:{animationName:oQ},[`&${d}-slide-up-leave${d}-slide-up-leave-active${g}-dropdown-placement-topLeft,
          &${d}-slide-up-leave${d}-slide-up-leave-active${g}-dropdown-placement-topRight`]:{animationName:iQ},[`&${d}-slide-up-leave${d}-slide-up-leave-active${g}-dropdown-placement-bottomLeft,
          &${d}-slide-up-leave${d}-slide-up-leave-active${g}-dropdown-placement-bottomRight`]:{animationName:uQ},[`${g}-panel > ${g}-time-panel`]:{paddingTop:z},[`${g}-ranges`]:{marginBottom:0,padding:`${z}px ${G}px`,overflow:"hidden",lineHeight:`${he-2*P-Q/2}px`,textAlign:"start",listStyle:"none",display:"flex",justifyContent:"space-between","> li":{display:"inline-block"},[`${g}-preset > ${d}-tag-blue`]:{color:se,background:Ge,borderColor:Me,cursor:"pointer"},[`${g}-ok`]:{marginInlineStart:"auto"}},[`${g}-range-wrapper`]:{display:"flex",position:"relative"},[`${g}-range-arrow`]:We({position:"absolute",zIndex:1,display:"none",marginInlineStart:x*1.5,transition:`left ${Ce} ease-out`},lQ(je,tt,E,Ae,h)),[`${g}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:Ae,borderRadius:Le,boxShadow:At,transition:`margin ${Ce}`,[`${g}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${g}-presets`]:{display:"flex",flexDirection:"column",minWidth:ct,maxWidth:re,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:Q,borderInlineEnd:`${P}px ${I} ${ft}`,li:We(We({},Yy),{borderRadius:ze,paddingInline:Q,paddingBlock:(Z-Math.round(k*fe))/2,cursor:"pointer",transition:`all ${Ce}`,"+ li":{marginTop:X},"&:hover":{background:Xe}})}},[`${g}-panels`]:{display:"inline-flex",flexWrap:"nowrap",direction:"ltr",[`${g}-panel`]:{borderWidth:`0 0 ${P}px`},"&:last-child":{[`${g}-panel`]:{borderWidth:0}}},[`${g}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${g}-content,
            table`]:{textAlign:"center"},"&-focused":{borderColor:B}}}}),"&-dropdown-range":{padding:`${je*2/3}px 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${g}-separator`]:{transform:"rotate(180deg)"},[`${g}-footer`]:{"&-extra":{direction:"rtl"}}}})},nU(s,"slide-up"),nU(s,"slide-down"),rU(s,"move-up"),rU(s,"move-down")]},dne=s=>{const{componentCls:d,controlHeightLG:h,controlHeightSM:y,colorPrimary:k,paddingXXS:x}=s;return{pickerCellCls:`${d}-cell`,pickerCellInnerCls:`${d}-cell-inner`,pickerTextHeight:h,pickerPanelCellWidth:y*1.5,pickerPanelCellHeight:y,pickerDateHoverRangeBorderColor:new Xy(k).lighten(20).toHexString(),pickerBasicCellHoverWithRangeColor:new Xy(k).lighten(35).toHexString(),pickerPanelWithoutTimeCellHeight:h*1.65,pickerYearMonthCellWidth:h*1.5,pickerTimePanelColumnHeight:28*8,pickerTimePanelColumnWidth:h*1.4,pickerTimePanelCellHeight:28,pickerQuarterPanelContentHeight:h*1.4,pickerCellPaddingVertical:x,pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconBorderWidth:1.5}},cj=jv("DatePicker",s=>{const g=Jc(tQ(s),dne(s));return[vne(g),fne(g),aW(s,{focusElCls:`${s.componentCls}-focused`})]},s=>({presetsWidth:120,presetsMaxWidth:200,zIndexPopup:s.zIndexPopupBase+50})),FH="__RC_CASCADER_SPLIT__",fj="SHOW_PARENT",vj="SHOW_CHILD";function Qg(s){return s.join(FH)}function jy(s){return s.map(Qg)}function mne(s){return s.split(FH)}function gne(s){const{label:g,value:d,children:h}=s||{},y=d||"value";return{label:g||"label",value:y,key:y,children:h||"children"}}function Nk(s,g){var d,h;return(d=s.isLeaf)!==null&&d!==void 0?d:!(!((h=s[g.children])===null||h===void 0)&&h.length)}function pne(s){const g=s.parentElement;if(!g)return;const d=s.offsetTop-g.offsetTop;d-g.scrollTop<0?g.scrollTo({top:d}):d+s.offsetHeight-g.scrollTop>g.offsetHeight&&g.scrollTo({top:d+s.offsetHeight-g.offsetHeight})}const hne=(s,g)=>yt(()=>CW(s.value,{fieldNames:g.value,initWrapper:h=>We(We({},h),{pathKeyEntities:{}}),processEntity:(h,y)=>{const k=h.nodes.map(x=>x[g.value.value]).join(FH);y.pathKeyEntities[k]=h,h.key=k}}).pathKeyEntities);function bne(s){const g=Co(!1),d=mn({});return pl(()=>{if(!s.value){g.value=!1,d.value={};return}let h={matchInputWidth:!0,limit:50};s.value&&typeof s.value=="object"&&(h=We(We({},h),s.value)),h.limit<=0&&delete h.limit,g.value=!0,d.value=h}),{showSearch:g,searchConfig:d}}const Uk="__rc_cascader_search_mark__",yne=(s,g,d)=>{let{label:h}=d;return g.some(y=>String(y[h]).toLowerCase().includes(s.toLowerCase()))},wne=s=>{let{path:g,fieldNames:d}=s;return g.map(h=>h[d.label]).join(" / ")},Cne=(s,g,d,h,y,k)=>yt(()=>{const{filter:x=yne,render:T=wne,limit:P=50,sort:I}=y.value,B=[];if(!s.value)return[];function D(F,L){F.forEach(J=>{if(!I&&P>0&&B.length>=P)return;const _=[...L,J],U=J[d.value.children];(!U||U.length===0||k.value)&&x(s.value,_,{label:d.value.label})&&B.push(We(We({},J),{[d.value.label]:T({inputValue:s.value,path:_,prefixCls:h.value,fieldNames:d.value}),[Uk]:_})),U&&D(J[d.value.children],_)})}return D(g.value,[]),I&&B.sort((F,L)=>I(F[Uk],L[Uk],s.value,d.value)),P>0?B.slice(0,P):B});function yU(s,g,d){const h=new Set(s);return s.filter(y=>{const k=g[y],x=k?k.parent:null,T=k?k.children:null;return d===vj?!(T&&T.some(P=>P.key&&h.has(P.key))):!(x&&!x.node.disabled&&h.has(x.key))})}function qk(s,g,d){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var y;let k=g;const x=[];for(let T=0;T<s.length;T+=1){const P=s[T],I=k?.findIndex(D=>{const F=D[d.value];return h?String(F)===String(P):F===P}),B=I!==-1?k?.[I]:null;x.push({value:(y=B?.[d.value])!==null&&y!==void 0?y:P,index:I,option:B}),k=B?.[d.children]}return x}const Sne=(s,g,d)=>yt(()=>{const h=[],y=[];return d.value.forEach(k=>{qk(k,s.value,g.value).every(T=>T.option)?y.push(k):h.push(k)}),[y,h]}),xne=(s,g,d,h,y)=>yt(()=>{const k=y.value||(x=>{let{labels:T}=x;const P=h.value?T.slice(-1):T,I=" / ";return P.every(B=>["string","number"].includes(typeof B))?P.join(I):P.reduce((B,D,F)=>{const L=Qy(D)?uH(D,{key:F}):D;return F===0?[L]:[...B,I,L]},[])});return s.value.map(x=>{const T=qk(x,g.value,d.value),P=k({labels:T.map(B=>{let{option:D,value:F}=B;var L;return(L=D?.[d.value.label])!==null&&L!==void 0?L:F}),selectedOptions:T.map(B=>{let{option:D}=B;return D})}),I=Qg(x);return{label:P,value:I,key:I,valueCells:x}})}),dj=Symbol("CascaderContextKey"),kne=s=>{vb(dj,s)},CP=()=>db(dj),Tne=()=>{const s=pP(),{values:g}=CP(),[d,h]=H7([]);return oa(()=>s.open,()=>{if(s.open&&!s.multiple){const y=g.value[0];h(y||[])}},{immediate:!0}),[d,h]},Ene=(s,g,d,h,y,k)=>{const x=pP(),T=yt(()=>x.direction==="rtl"),[P,I,B]=[mn([]),mn(),mn([])];pl(()=>{let _=-1,U=g.value;const te=[],Z=[],R=h.value.length;for(let X=0;X<R&&U;X+=1){const me=U.findIndex(xe=>xe[d.value.value]===h.value[X]);if(me===-1)break;_=me,te.push(_),Z.push(h.value[X]),U=U[_][d.value.children]}let Q=g.value;for(let X=0;X<te.length-1;X+=1)Q=Q[te[X]][d.value.children];[P.value,I.value,B.value]=[Z,_,Q]});const D=_=>{y(_)},F=_=>{const U=B.value.length;let te=I.value;te===-1&&_<0&&(te=U);for(let Z=0;Z<U;Z+=1){te=(te+_+U)%U;const R=B.value[te];if(R&&!R.disabled){const Q=R[d.value.value],X=P.value.slice(0,-1).concat(Q);D(X);return}}},L=()=>{if(P.value.length>1){const _=P.value.slice(0,-1);D(_)}else x.toggleOpen(!1)},J=()=>{var _;const te=(((_=B.value[I.value])===null||_===void 0?void 0:_[d.value.children])||[]).find(Z=>!Z.disabled);if(te){const Z=[...P.value,te[d.value.value]];D(Z)}};s.expose({onKeydown:_=>{const{which:U}=_;switch(U){case sa.UP:case sa.DOWN:{let te=0;U===sa.UP?te=-1:U===sa.DOWN&&(te=1),te!==0&&F(te);break}case sa.LEFT:{T.value?J():L();break}case sa.RIGHT:{T.value?L():J();break}case sa.BACKSPACE:{x.searchValue||L();break}case sa.ENTER:{if(P.value.length){const te=B.value[I.value],Z=te?.[Uk]||[];Z.length?k(Z.map(R=>R[d.value.value]),Z[Z.length-1]):k(P.value,te)}break}case sa.ESC:x.toggleOpen(!1),open&&_.stopPropagation()}},onKeyup:()=>{}})};function SP(s){let{prefixCls:g,checked:d,halfChecked:h,disabled:y,onClick:k}=s;const{customSlots:x,checkable:T}=CP(),P=T.value!==!1?x.value.checkable:T.value,I=typeof P=="function"?P():typeof P=="boolean"?null:P;return ue("span",{class:{[g]:!0,[`${g}-checked`]:d,[`${g}-indeterminate`]:!d&&h,[`${g}-disabled`]:y},onClick:k},[I])}SP.props=["prefixCls","checked","halfChecked","disabled","onClick"];SP.displayName="Checkbox";SP.inheritAttrs=!1;const mj="__cascader_fix_label__";function xP(s){let{prefixCls:g,multiple:d,options:h,activeValue:y,prevValuePath:k,onToggleOpen:x,onSelect:T,onActive:P,checkedSet:I,halfCheckedSet:B,loadingKeys:D,isSelectable:F}=s;var L,J,_,U,te,Z;const R=`${g}-menu`,Q=`${g}-menu-item`,{fieldNames:X,changeOnSelect:me,expandTrigger:xe,expandIcon:fe,loadingIcon:se,dropdownMenuColumnStyle:Ce,customSlots:oe}=CP(),z=(L=fe.value)!==null&&L!==void 0?L:(_=(J=oe.value).expandIcon)===null||_===void 0?void 0:_.call(J),G=(U=se.value)!==null&&U!==void 0?U:(Z=(te=oe.value).loadingIcon)===null||Z===void 0?void 0:Z.call(te),he=xe.value==="hover";return ue("ul",{class:R,role:"menu"},[h.map(Ge=>{var Me;const{disabled:je}=Ge,tt=Ge[Uk],E=(Me=Ge[mj])!==null&&Me!==void 0?Me:Ge[X.value.label],Ae=Ge[X.value.value],Le=Nk(Ge,X.value),At=tt?tt.map(Oe=>Oe[X.value.value]):[...k,Ae],ze=Qg(At),ft=D.includes(ze),Xe=I.has(ze),ct=B.has(ze),re=()=>{!je&&(!he||!Le)&&P(At)},Vt=()=>{F(Ge)&&T(At,Le)};let it;return typeof Ge.title=="string"?it=Ge.title:typeof E=="string"&&(it=E),ue("li",{key:ze,class:[Q,{[`${Q}-expand`]:!Le,[`${Q}-active`]:y===Ae,[`${Q}-disabled`]:je,[`${Q}-loading`]:ft}],style:Ce.value,role:"menuitemcheckbox",title:it,"aria-checked":Xe,"data-path-key":ze,onClick:()=>{re(),(!d||Le)&&Vt()},onDblclick:()=>{me.value&&x(!1)},onMouseenter:()=>{he&&re()},onMousedown:Oe=>{Oe.preventDefault()}},[d&&ue(SP,{prefixCls:`${g}-checkbox`,checked:Xe,halfChecked:ct,disabled:je,onClick:Oe=>{Oe.stopPropagation(),Vt()}},null),ue("div",{class:`${Q}-content`},[E]),!ft&&z&&!Le&&ue("div",{class:`${Q}-expand-icon`},[z]),ft&&G&&ue("div",{class:`${Q}-loading-icon`},[G])])})])}xP.props=["prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable"];xP.displayName="Column";xP.inheritAttrs=!1;const One=Rr({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(s,g){const{attrs:d,slots:h}=g,y=pP(),k=mn(),x=yt(()=>y.direction==="rtl"),{options:T,values:P,halfValues:I,fieldNames:B,changeOnSelect:D,onSelect:F,searchOptions:L,dropdownPrefixCls:J,loadData:_,expandTrigger:U,customSlots:te}=CP(),Z=yt(()=>J.value||y.prefixCls),R=Co([]),Q=Me=>{if(!_.value||y.searchValue)return;const tt=qk(Me,T.value,B.value).map(Ae=>{let{option:Le}=Ae;return Le}),E=tt[tt.length-1];if(E&&!Nk(E,B.value)){const Ae=Qg(Me);R.value=[...R.value,Ae],_.value(tt)}};pl(()=>{R.value.length&&R.value.forEach(Me=>{const je=mne(Me),tt=qk(je,T.value,B.value,!0).map(Ae=>{let{option:Le}=Ae;return Le}),E=tt[tt.length-1];(!E||E[B.value.children]||Nk(E,B.value))&&(R.value=R.value.filter(Ae=>Ae!==Me))})});const X=yt(()=>new Set(jy(P.value))),me=yt(()=>new Set(jy(I.value))),[xe,fe]=Tne(),se=Me=>{fe(Me),Q(Me)},Ce=Me=>{const{disabled:je}=Me,tt=Nk(Me,B.value);return!je&&(tt||D.value||y.multiple)},oe=function(Me,je){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F(Me),!y.multiple&&(je||D.value&&(U.value==="hover"||tt))&&y.toggleOpen(!1)},z=yt(()=>y.searchValue?L.value:T.value),G=yt(()=>{const Me=[{options:z.value}];let je=z.value;for(let tt=0;tt<xe.value.length;tt+=1){const E=xe.value[tt],Ae=je.find(At=>At[B.value.value]===E),Le=Ae?.[B.value.children];if(!Le?.length)break;je=Le,Me.push({options:Le})}return Me});Ene(g,z,B,xe,se,(Me,je)=>{Ce(je)&&oe(Me,Nk(je,B.value),!0)});const Ge=Me=>{Me.preventDefault()};return zf(()=>{oa(xe,Me=>{var je;for(let tt=0;tt<Me.length;tt+=1){const E=Me.slice(0,tt+1),Ae=Qg(E),Le=(je=k.value)===null||je===void 0?void 0:je.querySelector(`li[data-path-key="${Ae.replace(/\\{0,2}"/g,'\\"')}"]`);Le&&pne(Le)}},{flush:"post",immediate:!0})}),()=>{var Me,je,tt,E,Ae;const{notFoundContent:Le=((Me=h.notFoundContent)===null||Me===void 0?void 0:Me.call(h))||((tt=(je=te.value).notFoundContent)===null||tt===void 0?void 0:tt.call(je)),multiple:At,toggleOpen:ze}=y,ft=!(!((Ae=(E=G.value[0])===null||E===void 0?void 0:E.options)===null||Ae===void 0)&&Ae.length),Xe=[{[B.value.value]:"__EMPTY__",[mj]:Le,disabled:!0}],ct=We(We({},d),{multiple:!ft&&At,onSelect:oe,onActive:se,onToggleOpen:ze,checkedSet:X.value,halfCheckedSet:me.value,loadingKeys:R.value,isSelectable:Ce}),Vt=(ft?[{options:Xe}]:G.value).map((it,Oe)=>{const dt=xe.value.slice(0,Oe),Ne=xe.value[Oe];return ue(xP,Ot(Ot({key:Oe},ct),{},{prefixCls:Z.value,options:it.options,prevValuePath:dt,activeValue:Ne}),null)});return ue("div",{class:[`${Z.value}-menus`,{[`${Z.value}-menu-empty`]:ft,[`${Z.value}-rtl`]:x.value}],onMousedown:Ge,ref:k},[Vt])}}});function Ane(){return We(We({},Ps(bW(),["tokenSeparators","mode","showSearch"])),{id:String,prefixCls:String,fieldNames:gl(),children:Array,value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},changeOnSelect:{type:Boolean,default:void 0},displayRender:Function,checkable:{type:Boolean,default:void 0},showCheckedStrategy:{type:String,default:fj},showSearch:{type:[Boolean,Object],default:void 0},searchValue:String,onSearch:Function,expandTrigger:String,options:Array,dropdownPrefixCls:String,loadData:Function,popupVisible:{type:Boolean,default:void 0},popupClassName:String,dropdownClassName:String,dropdownMenuColumnStyle:{type:Object,default:void 0},popupStyle:{type:Object,default:void 0},dropdownStyle:{type:Object,default:void 0},popupPlacement:String,placement:String,onPopupVisibleChange:Function,onDropdownVisibleChange:Function,expandIcon:Hr.any,loadingIcon:Hr.any})}function gj(){return We(We({},Ane()),{onChange:Function,customSlots:Object})}function $ne(s){return Array.isArray(s)&&Array.isArray(s[0])}function wU(s){return s?$ne(s)?s:(s.length===0?[]:[s]).map(g=>Array.isArray(g)?g:[g]):[]}const Dne=Rr({compatConfig:{MODE:3},name:"Cascader",inheritAttrs:!1,props:Ms(gj(),{}),setup(s,g){let{attrs:d,expose:h,slots:y}=g;const k=pW(so(s,"id")),x=yt(()=>!!s.checkable),[T,P]=ss(s.defaultValue,{value:yt(()=>s.value),postState:wU}),I=yt(()=>gne(s.fieldNames)),B=yt(()=>s.options||[]),D=hne(B,I),F=Oe=>{const dt=D.value;return Oe.map(Ne=>{const{nodes:Be}=dt[Ne];return Be.map(at=>at[I.value.value])})},[L,J]=ss("",{value:yt(()=>s.searchValue),postState:Oe=>Oe||""}),_=(Oe,dt)=>{J(Oe),dt.source!=="blur"&&s.onSearch&&s.onSearch(Oe)},{showSearch:U,searchConfig:te}=bne(so(s,"showSearch")),Z=Cne(L,B,I,yt(()=>s.dropdownPrefixCls||s.prefixCls),te,so(s,"changeOnSelect")),R=Sne(B,I,T),[Q,X,me]=[mn([]),mn([]),mn([])],{maxLevel:xe,levelEntities:fe}=SW(D);pl(()=>{const[Oe,dt]=R.value;if(!x.value||!T.value.length){[Q.value,X.value,me.value]=[Oe,[],dt];return}const Ne=jy(Oe),Be=D.value,{checkedKeys:at,halfCheckedKeys:gt}=qy(Ne,!0,Be,xe.value,fe.value);[Q.value,X.value,me.value]=[F(at),F(gt),dt]});const se=yt(()=>{const Oe=jy(Q.value),dt=yU(Oe,D.value,s.showCheckedStrategy);return[...me.value,...F(dt)]}),Ce=xne(se,B,I,x,so(s,"displayRender")),oe=Oe=>{if(P(Oe),s.onChange){const dt=wU(Oe),Ne=dt.map(gt=>qk(gt,B.value,I.value).map(ut=>ut.option)),Be=x.value?dt:dt[0],at=x.value?Ne:Ne[0];s.onChange(Be,at)}},z=Oe=>{if(J(""),!x.value)oe(Oe);else{const dt=Qg(Oe),Ne=jy(Q.value),Be=jy(X.value),at=Ne.includes(dt),gt=me.value.some(_n=>Qg(_n)===dt);let ut=Q.value,Et=me.value;if(gt&&!at)Et=me.value.filter(_n=>Qg(_n)!==dt);else{const _n=at?Ne.filter(ln=>ln!==dt):[...Ne,dt];let Re;at?{checkedKeys:Re}=qy(_n,{checked:!1,halfCheckedKeys:Be},D.value,xe.value,fe.value):{checkedKeys:Re}=qy(_n,!0,D.value,xe.value,fe.value);const Tt=yU(Re,D.value,s.showCheckedStrategy);ut=F(Tt)}oe([...Et,...ut])}},G=(Oe,dt)=>{if(dt.type==="clear"){oe([]);return}const{valueCells:Ne}=dt.values[0];z(Ne)},he=yt(()=>s.open!==void 0?s.open:s.popupVisible),Ge=yt(()=>s.dropdownClassName||s.popupClassName),Me=yt(()=>s.dropdownStyle||s.popupStyle||{}),je=yt(()=>s.placement||s.popupPlacement),tt=Oe=>{var dt,Ne;(dt=s.onDropdownVisibleChange)===null||dt===void 0||dt.call(s,Oe),(Ne=s.onPopupVisibleChange)===null||Ne===void 0||Ne.call(s,Oe)},{changeOnSelect:E,checkable:Ae,dropdownPrefixCls:Le,loadData:At,expandTrigger:ze,expandIcon:ft,loadingIcon:Xe,dropdownMenuColumnStyle:ct,customSlots:re}=lH(s);kne({options:B,fieldNames:I,values:Q,halfValues:X,changeOnSelect:E,onSelect:z,checkable:Ae,searchOptions:Z,dropdownPrefixCls:Le,loadData:At,expandTrigger:ze,expandIcon:ft,loadingIcon:Xe,dropdownMenuColumnStyle:ct,customSlots:re});const Vt=mn();h({focus(){var Oe;(Oe=Vt.value)===null||Oe===void 0||Oe.focus()},blur(){var Oe;(Oe=Vt.value)===null||Oe===void 0||Oe.blur()},scrollTo(Oe){var dt;(dt=Vt.value)===null||dt===void 0||dt.scrollTo(Oe)}});const it=yt(()=>Ps(s,["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","customSlots","showCheckedStrategy","children"]));return()=>{const Oe=!(L.value?Z.value:B.value).length,{dropdownMatchSelectWidth:dt=!1}=s,Ne=L.value&&te.value.matchInputWidth||Oe?{}:{minWidth:"auto"};return ue(hW,Ot(Ot(Ot({},it.value),d),{},{ref:Vt,id:k,prefixCls:s.prefixCls,dropdownMatchSelectWidth:dt,dropdownStyle:We(We({},Me.value),Ne),displayValues:Ce.value,onDisplayValuesChange:G,mode:x.value?"multiple":void 0,searchValue:L.value,onSearch:_,showSearch:U.value,OptionList:One,emptyOptions:Oe,open:he.value,dropdownClassName:Ge.value,placement:je.value,onDropdownVisibleChange:tt,getRawInputElement:()=>{var Be;return(Be=y.default)===null||Be===void 0?void 0:Be.call(y)}}),y)}}}),_ne=s=>{const{prefixCls:g,componentCls:d,antCls:h}=s,y=`${d}-menu-item`,k=`
    &${y}-expand ${y}-expand-icon,
    ${y}-loading-icon
  `,x=Math.round((s.controlHeight-s.fontSize*s.lineHeight)/2);return[{[d]:{width:s.controlWidth}},{[`${d}-dropdown`]:[kW(`${g}-checkbox`,s),{[`&${h}-select-dropdown`]:{padding:0}},{[d]:{"&-checkbox":{top:0,marginInlineEnd:s.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${d}-menu-empty`]:{[`${d}-menu`]:{width:"100%",height:"auto",[y]:{color:s.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:s.controlItemWidth,height:s.dropdownHeight,margin:0,padding:s.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${s.lineWidth}px ${s.lineType} ${s.colorSplit}`},"&-item":We(We({},Yy),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${x}px ${s.paddingSM}px`,lineHeight:s.lineHeight,cursor:"pointer",transition:`all ${s.motionDurationMid}`,borderRadius:s.borderRadiusSM,"&:hover":{background:s.controlItemBgHover},"&-disabled":{color:s.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[k]:{color:s.colorTextDisabled}},[`&-active:not(${y}-disabled)`]:{"&, &:hover":{fontWeight:s.fontWeightStrong,backgroundColor:s.controlItemBgActive}},"&-content":{flex:"auto"},[k]:{marginInlineStart:s.paddingXXS,color:s.colorTextDescription,fontSize:s.fontSizeIcon},"&-keyword":{color:s.colorHighlight}})}}}]},{[`${d}-dropdown-rtl`]:{direction:"rtl"}},aW(s)]},Pne=jv("Cascader",s=>[_ne(s)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var Mne=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function Rne(s,g,d){const h=s.toLowerCase().split(g).reduce((x,T,P)=>P===0?[T]:[...x,g,T],[]),y=[];let k=0;return h.forEach((x,T)=>{const P=k+x.length;let I=s.slice(k,P);k=P,T%2===1&&(I=ue("span",{class:`${d}-menu-item-keyword`,key:"seperator"},[I])),y.push(I)}),y}const Bne=s=>{let{inputValue:g,path:d,prefixCls:h,fieldNames:y}=s;const k=[],x=g.toLowerCase();return d.forEach((T,P)=>{P!==0&&k.push(" / ");let I=T[y.label];const B=typeof I;(B==="string"||B==="number")&&(I=Rne(String(I),x,h)),k.push(I)}),k};function Fne(){return We(We({},Ps(gj(),["customSlots","checkable","options"])),{multiple:{type:Boolean,default:void 0},size:String,bordered:{type:Boolean,default:void 0},placement:{type:String},suffixIcon:Hr.any,status:String,options:Array,popupClassName:String,dropdownClassName:String,"onUpdate:value":Function})}const Ine=Rr({compatConfig:{MODE:3},name:"ACascader",inheritAttrs:!1,props:Ms(Fne(),{bordered:!0,choiceTransitionName:"",allowClear:!0}),setup(s,g){let{attrs:d,expose:h,slots:y,emit:k}=g;const x=Qc(),T=rw.useInject(),P=yt(()=>Kk(T.status,s.status)),{prefixCls:I,rootPrefixCls:B,getPrefixCls:D,direction:F,getPopupContainer:L,renderEmpty:J,size:_,disabled:U}=Nl("cascader",s),te=yt(()=>D("select",s.prefixCls)),{compactSize:Z,compactItemClassnames:R}=fP(te,F),Q=yt(()=>Z.value||_.value),X=Wk(),me=yt(()=>{var tt;return(tt=U.value)!==null&&tt!==void 0?tt:X.value}),[xe,fe]=yW(te),[se]=Pne(I),Ce=yt(()=>F.value==="rtl"),oe=yt(()=>{if(!s.showSearch)return s.showSearch;let tt={render:Bne};return typeof s.showSearch=="object"&&(tt=We(We({},tt),s.showSearch)),tt}),z=yt(()=>ya(s.popupClassName||s.dropdownClassName,`${I.value}-dropdown`,{[`${I.value}-dropdown-rtl`]:Ce.value},fe.value)),G=mn();h({focus(){var tt;(tt=G.value)===null||tt===void 0||tt.focus()},blur(){var tt;(tt=G.value)===null||tt===void 0||tt.blur()}});const he=function(){for(var tt=arguments.length,E=new Array(tt),Ae=0;Ae<tt;Ae++)E[Ae]=arguments[Ae];k("update:value",E[0]),k("change",...E),x.onFieldChange()},Ge=function(){for(var tt=arguments.length,E=new Array(tt),Ae=0;Ae<tt;Ae++)E[Ae]=arguments[Ae];k("blur",...E),x.onFieldBlur()},Me=yt(()=>s.showArrow!==void 0?s.showArrow:s.loading||!s.multiple),je=yt(()=>s.placement!==void 0?s.placement:F.value==="rtl"?"bottomRight":"bottomLeft");return()=>{var tt,E;const{notFoundContent:Ae=(tt=y.notFoundContent)===null||tt===void 0?void 0:tt.call(y),expandIcon:Le=(E=y.expandIcon)===null||E===void 0?void 0:E.call(y),multiple:At,bordered:ze,allowClear:ft,choiceTransitionName:Xe,transitionName:ct,id:re=x.id.value}=s,Vt=Mne(s,["notFoundContent","expandIcon","multiple","bordered","allowClear","choiceTransitionName","transitionName","id"]),it=Ae||J("Cascader");let Oe=Le;Le||(Oe=Ce.value?ue(eP,null,null):ue(tP,null,null));const dt=ue("span",{class:`${te.value}-menu-item-loading-icon`},[ue(ep,{spin:!0},null)]),{suffixIcon:Ne,removeIcon:Be,clearIcon:at}=wW(We(We({},s),{hasFeedback:T.hasFeedback,feedbackIcon:T.feedbackIcon,multiple:At,prefixCls:te.value,showArrow:Me.value}),y);return se(xe(ue(Dne,Ot(Ot(Ot({},Vt),d),{},{id:re,prefixCls:te.value,class:[I.value,{[`${te.value}-lg`]:Q.value==="large",[`${te.value}-sm`]:Q.value==="small",[`${te.value}-rtl`]:Ce.value,[`${te.value}-borderless`]:!ze,[`${te.value}-in-form-item`]:T.isFormItemInput},Gk(te.value,P.value,T.hasFeedback),R.value,d.class,fe.value],disabled:me.value,direction:F.value,placement:je.value,notFoundContent:it,allowClear:ft,showSearch:oe.value,expandIcon:Oe,inputIcon:Ne,removeIcon:Be,clearIcon:at,loadingIcon:dt,checkable:!!At,dropdownClassName:z.value,dropdownPrefixCls:I.value,choiceTransitionName:aU(B.value,"",Xe),transitionName:aU(B.value,oW(je.value),ct),getPopupContainer:L?.value,customSlots:We(We({},y),{checkable:()=>ue("span",{class:`${I.value}-checkbox-inner`},null)}),tagRender:s.tagRender||y.tagRender,displayRender:s.displayRender||y.displayRender,maxTagPlaceholder:s.maxTagPlaceholder||y.maxTagPlaceholder,showArrow:T.hasFeedback||s.showArrow,onChange:he,onBlur:Ge,ref:G}),y)))}}}),pj=ew(We(Ine,{SHOW_CHILD:vj,SHOW_PARENT:fj})),Nne=(s,g)=>{let{attrs:d,slots:h}=g;return ue(jk,Ot(Ot({size:"small",type:"primary"},s),d),h)},Lne=Nne;function zne(s,g){let{slots:d,attrs:h}=g;return ue(X_,Ot(Ot({color:"blue"},s),h),d)}var Hne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const Vne=Hne;function CU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Une(s,y,d[y])})}return s}function Une(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var IH=function(g,d){var h=CU({},g,d.attrs);return ue(sm,CU({},h,{icon:Vne}),null)};IH.displayName="CalendarOutlined";IH.inheritAttrs=!1;const hj=IH;var Wne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const jne=Wne;function SU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){qne(s,y,d[y])})}return s}function qne(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var NH=function(g,d){var h=SU({},g,d.attrs);return ue(sm,SU({},h,{icon:jne}),null)};NH.displayName="ClockCircleOutlined";NH.inheritAttrs=!1;const bj=NH;function Kne(s,g,d){return d!==void 0?d:g==="year"&&s.lang.yearPlaceholder?s.lang.yearPlaceholder:g==="quarter"&&s.lang.quarterPlaceholder?s.lang.quarterPlaceholder:g==="month"&&s.lang.monthPlaceholder?s.lang.monthPlaceholder:g==="week"&&s.lang.weekPlaceholder?s.lang.weekPlaceholder:g==="time"&&s.timePickerLocale.placeholder?s.timePickerLocale.placeholder:s.lang.placeholder}function Gne(s,g,d){return d!==void 0?d:g==="year"&&s.lang.yearPlaceholder?s.lang.rangeYearPlaceholder:g==="month"&&s.lang.monthPlaceholder?s.lang.rangeMonthPlaceholder:g==="week"&&s.lang.weekPlaceholder?s.lang.rangeWeekPlaceholder:g==="time"&&s.timePickerLocale.placeholder?s.timePickerLocale.rangePlaceholder:s.lang.rangePlaceholder}function yj(s,g){const d={adjustX:1,adjustY:1};switch(g){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:d};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:d};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:d};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:d};default:return{points:s==="rtl"?["tr","br"]:["tl","bl"],offset:[0,4],overflow:d}}}function aP(){return{id:String,dropdownClassName:String,popupClassName:String,popupStyle:gl(),transitionName:String,placeholder:String,allowClear:ea(),autofocus:ea(),disabled:ea(),tabindex:Number,open:ea(),defaultOpen:ea(),inputReadOnly:ea(),format:Si([String,Function,Array]),getPopupContainer:Wn(),panelRender:Wn(),onChange:Wn(),"onUpdate:value":Wn(),onOk:Wn(),onOpenChange:Wn(),"onUpdate:open":Wn(),onFocus:Wn(),onBlur:Wn(),onMousedown:Wn(),onMouseup:Wn(),onMouseenter:Wn(),onMouseleave:Wn(),onClick:Wn(),onContextmenu:Wn(),onKeydown:Wn(),role:String,name:String,autocomplete:String,direction:zo(),showToday:ea(),showTime:Si([Boolean,Object]),locale:gl(),size:zo(),bordered:ea(),dateRender:Wn(),disabledDate:Wn(),mode:zo(),picker:zo(),valueFormat:String,placement:zo(),status:zo(),disabledHours:Wn(),disabledMinutes:Wn(),disabledSeconds:Wn()}}function wj(){return{defaultPickerValue:Si([Object,String]),defaultValue:Si([Object,String]),value:Si([Object,String]),presets:gu(),disabledTime:Wn(),renderExtraFooter:Wn(),showNow:ea(),monthCellRender:Wn(),monthCellContentRender:Wn()}}function Cj(){return{allowEmpty:gu(),dateRender:Wn(),defaultPickerValue:gu(),defaultValue:gu(),value:gu(),presets:gu(),disabledTime:Wn(),disabled:Si([Boolean,Array]),renderExtraFooter:Wn(),separator:{type:String},showTime:Si([Boolean,Object]),ranges:gl(),placeholder:gu(),mode:gu(),onChange:Wn(),"onUpdate:value":Wn(),onCalendarChange:Wn(),onPanelChange:Wn(),onOk:Wn()}}var Yne=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function Xne(s,g){function d(I,B){const D=We(We(We({},aP()),wj()),g);return Rr({compatConfig:{MODE:3},name:B,inheritAttrs:!1,props:D,slots:Object,setup(F,L){let{slots:J,expose:_,attrs:U,emit:te}=L;const Z=F,R=Qc(),Q=rw.useInject(),{prefixCls:X,direction:me,getPopupContainer:xe,size:fe,rootPrefixCls:se,disabled:Ce}=Nl("picker",Z),{compactSize:oe,compactItemClassnames:z}=fP(X,me),G=yt(()=>oe.value||fe.value),[he,Ge]=cj(X),Me=mn();_({focus:()=>{var Vt;(Vt=Me.value)===null||Vt===void 0||Vt.focus()},blur:()=>{var Vt;(Vt=Me.value)===null||Vt===void 0||Vt.blur()}});const je=Vt=>Z.valueFormat?s.toString(Vt,Z.valueFormat):Vt,tt=(Vt,it)=>{const Oe=je(Vt);te("update:value",Oe),te("change",Oe,it),R.onFieldChange()},E=Vt=>{te("update:open",Vt),te("openChange",Vt)},Ae=Vt=>{te("focus",Vt)},Le=Vt=>{te("blur",Vt),R.onFieldBlur()},At=(Vt,it)=>{const Oe=je(Vt);te("panelChange",Oe,it)},ze=Vt=>{const it=je(Vt);te("ok",it)},[ft]=sH("DatePicker",iW),Xe=yt(()=>Z.value?Z.valueFormat?s.toDate(Z.value,Z.valueFormat):Z.value:Z.value===""?void 0:Z.value),ct=yt(()=>Z.defaultValue?Z.valueFormat?s.toDate(Z.defaultValue,Z.valueFormat):Z.defaultValue:Z.defaultValue===""?void 0:Z.defaultValue),re=yt(()=>Z.defaultPickerValue?Z.valueFormat?s.toDate(Z.defaultPickerValue,Z.valueFormat):Z.defaultPickerValue:Z.defaultPickerValue===""?void 0:Z.defaultPickerValue);return()=>{var Vt,it,Oe,dt,Ne,Be;const at=We(We({},ft.value),Z.locale),gt=We(We({},Z),U),{bordered:ut=!0,placeholder:Et,suffixIcon:_n=(Vt=J.suffixIcon)===null||Vt===void 0?void 0:Vt.call(J),showToday:Re=!0,transitionName:Tt,allowClear:ln=!0,dateRender:Ut=J.dateRender,renderExtraFooter:fn=J.renderExtraFooter,monthCellRender:bn=J.monthCellRender||Z.monthCellContentRender||J.monthCellContentRender,clearIcon:In=(it=J.clearIcon)===null||it===void 0?void 0:it.call(J),id:sr=R.id.value}=gt,yr=Yne(gt,["bordered","placeholder","suffixIcon","showToday","transitionName","allowClear","dateRender","renderExtraFooter","monthCellRender","clearIcon","id"]),$t=gt.showTime===""?!0:gt.showTime,{format:Dt}=gt;let Ft={};I&&(Ft.picker=I);const rt=I||gt.picker||"date";Ft=We(We(We({},Ft),$t?oP(We({format:Dt,picker:rt},typeof $t=="object"?$t:{})):{}),rt==="time"?oP(We(We({format:Dt},yr),{picker:rt})):{});const st=X.value,Wt=ue(eu,null,[_n||(I==="time"?ue(bj,null,null):ue(hj,null,null)),Q.hasFeedback&&Q.feedbackIcon]);return he(ue(Fte,Ot(Ot(Ot({monthCellRender:bn,dateRender:Ut,renderExtraFooter:fn,ref:Me,placeholder:Kne(at,rt,Et),suffixIcon:Wt,dropdownAlign:yj(me.value,Z.placement),clearIcon:In||ue(sP,null,null),allowClear:ln,transitionName:Tt||`${se.value}-slide-up`},yr),Ft),{},{id:sr,picker:rt,value:Xe.value,defaultValue:ct.value,defaultPickerValue:re.value,showToday:Re,locale:at.lang,class:ya({[`${st}-${G.value}`]:G.value,[`${st}-borderless`]:!ut},Gk(st,Kk(Q.status,Z.status),Q.hasFeedback),U.class,Ge.value,z.value),disabled:Ce.value,prefixCls:st,getPopupContainer:U.getCalendarContainer||xe.value,generateConfig:s,prevIcon:((Oe=J.prevIcon)===null||Oe===void 0?void 0:Oe.call(J))||ue("span",{class:`${st}-prev-icon`},null),nextIcon:((dt=J.nextIcon)===null||dt===void 0?void 0:dt.call(J))||ue("span",{class:`${st}-next-icon`},null),superPrevIcon:((Ne=J.superPrevIcon)===null||Ne===void 0?void 0:Ne.call(J))||ue("span",{class:`${st}-super-prev-icon`},null),superNextIcon:((Be=J.superNextIcon)===null||Be===void 0?void 0:Be.call(J))||ue("span",{class:`${st}-super-next-icon`},null),components:Sj,direction:me.value,dropdownClassName:ya(Ge.value,Z.popupClassName,Z.dropdownClassName),onChange:tt,onOpenChange:E,onFocus:Ae,onBlur:Le,onPanelChange:At,onOk:ze}),null))}}})}const h=d(void 0,"ADatePicker"),y=d("week","AWeekPicker"),k=d("month","AMonthPicker"),x=d("year","AYearPicker"),T=d("time","TimePicker"),P=d("quarter","AQuarterPicker");return{DatePicker:h,WeekPicker:y,MonthPicker:k,YearPicker:x,TimePicker:T,QuarterPicker:P}}var Zne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const Jne=Zne;function xU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Qne(s,y,d[y])})}return s}function Qne(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var LH=function(g,d){var h=xU({},g,d.attrs);return ue(sm,xU({},h,{icon:Jne}),null)};LH.displayName="SwapRightOutlined";LH.inheritAttrs=!1;const ere=LH;var tre=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function nre(s,g){return Rr({compatConfig:{MODE:3},name:"ARangePicker",inheritAttrs:!1,props:We(We(We({},aP()),Cj()),g),slots:Object,setup(h,y){let{expose:k,slots:x,attrs:T,emit:P}=y;const I=h,B=Qc(),D=rw.useInject(),{prefixCls:F,direction:L,getPopupContainer:J,size:_,rootPrefixCls:U,disabled:te}=Nl("picker",I),{compactSize:Z,compactItemClassnames:R}=fP(F,L),Q=yt(()=>Z.value||_.value),[X,me]=cj(F),xe=mn();k({focus:()=>{var Ae;(Ae=xe.value)===null||Ae===void 0||Ae.focus()},blur:()=>{var Ae;(Ae=xe.value)===null||Ae===void 0||Ae.blur()}});const fe=Ae=>I.valueFormat?s.toString(Ae,I.valueFormat):Ae,se=(Ae,Le)=>{const At=fe(Ae);P("update:value",At),P("change",At,Le),B.onFieldChange()},Ce=Ae=>{P("update:open",Ae),P("openChange",Ae)},oe=Ae=>{P("focus",Ae)},z=Ae=>{P("blur",Ae),B.onFieldBlur()},G=(Ae,Le)=>{const At=fe(Ae);P("panelChange",At,Le)},he=Ae=>{const Le=fe(Ae);P("ok",Le)},Ge=(Ae,Le,At)=>{const ze=fe(Ae);P("calendarChange",ze,Le,At)},[Me]=sH("DatePicker",iW),je=yt(()=>I.value&&I.valueFormat?s.toDate(I.value,I.valueFormat):I.value),tt=yt(()=>I.defaultValue&&I.valueFormat?s.toDate(I.defaultValue,I.valueFormat):I.defaultValue),E=yt(()=>I.defaultPickerValue&&I.valueFormat?s.toDate(I.defaultPickerValue,I.valueFormat):I.defaultPickerValue);return()=>{var Ae,Le,At,ze,ft,Xe,ct;const re=We(We({},Me.value),I.locale),Vt=We(We({},I),T),{prefixCls:it,bordered:Oe=!0,placeholder:dt,suffixIcon:Ne=(Ae=x.suffixIcon)===null||Ae===void 0?void 0:Ae.call(x),picker:Be="date",transitionName:at,allowClear:gt=!0,dateRender:ut=x.dateRender,renderExtraFooter:Et=x.renderExtraFooter,separator:_n=(Le=x.separator)===null||Le===void 0?void 0:Le.call(x),clearIcon:Re=(At=x.clearIcon)===null||At===void 0?void 0:At.call(x),id:Tt=B.id.value}=Vt,ln=tre(Vt,["prefixCls","bordered","placeholder","suffixIcon","picker","transitionName","allowClear","dateRender","renderExtraFooter","separator","clearIcon","id"]);delete ln["onUpdate:value"],delete ln["onUpdate:open"];const{format:Ut,showTime:fn}=Vt;let bn={};bn=We(We(We({},bn),fn?oP(We({format:Ut,picker:Be},fn)):{}),Be==="time"?oP(We(We({format:Ut},Ps(ln,["disabledTime"])),{picker:Be})):{});const In=F.value,sr=ue(eu,null,[Ne||(Be==="time"?ue(bj,null,null):ue(hj,null,null)),D.hasFeedback&&D.feedbackIcon]);return X(ue(Xte,Ot(Ot(Ot({dateRender:ut,renderExtraFooter:Et,separator:_n||ue("span",{"aria-label":"to",class:`${In}-separator`},[ue(ere,null,null)]),ref:xe,dropdownAlign:yj(L.value,I.placement),placeholder:Gne(re,Be,dt),suffixIcon:sr,clearIcon:Re||ue(sP,null,null),allowClear:gt,transitionName:at||`${U.value}-slide-up`},ln),bn),{},{disabled:te.value,id:Tt,value:je.value,defaultValue:tt.value,defaultPickerValue:E.value,picker:Be,class:ya({[`${In}-${Q.value}`]:Q.value,[`${In}-borderless`]:!Oe},Gk(In,Kk(D.status,I.status),D.hasFeedback),T.class,me.value,R.value),locale:re.lang,prefixCls:In,getPopupContainer:T.getCalendarContainer||J.value,generateConfig:s,prevIcon:((ze=x.prevIcon)===null||ze===void 0?void 0:ze.call(x))||ue("span",{class:`${In}-prev-icon`},null),nextIcon:((ft=x.nextIcon)===null||ft===void 0?void 0:ft.call(x))||ue("span",{class:`${In}-next-icon`},null),superPrevIcon:((Xe=x.superPrevIcon)===null||Xe===void 0?void 0:Xe.call(x))||ue("span",{class:`${In}-super-prev-icon`},null),superNextIcon:((ct=x.superNextIcon)===null||ct===void 0?void 0:ct.call(x))||ue("span",{class:`${In}-super-next-icon`},null),components:Sj,direction:L.value,dropdownClassName:ya(me.value,I.popupClassName,I.dropdownClassName),onChange:se,onOpenChange:Ce,onFocus:oe,onBlur:z,onPanelChange:G,onOk:he,onCalendarChange:Ge}),null))}}})}const Sj={button:Lne,rangeItem:zne};function rre(s){return s?Array.isArray(s)?s:[s]:[]}function oP(s){const{format:g,picker:d,showHour:h,showMinute:y,showSecond:k,use12Hours:x}=s,T=rre(g)[0],P=We({},s);return T&&typeof T=="string"&&(!T.includes("s")&&k===void 0&&(P.showSecond=!1),!T.includes("m")&&y===void 0&&(P.showMinute=!1),!T.includes("H")&&!T.includes("h")&&h===void 0&&(P.showHour=!1),(T.includes("a")||T.includes("A"))&&x===void 0&&(P.use12Hours=!0)),d==="time"?P:(typeof T=="function"&&delete P.format,{showTime:P})}function xj(s,g){const{DatePicker:d,WeekPicker:h,MonthPicker:y,YearPicker:k,TimePicker:x,QuarterPicker:T}=Xne(s,g),P=nre(s,g);return{DatePicker:d,WeekPicker:h,MonthPicker:y,YearPicker:k,TimePicker:x,QuarterPicker:T,RangePicker:P}}const{DatePicker:x7,WeekPicker:k7,MonthPicker:T7,YearPicker:are,TimePicker:ore,QuarterPicker:E7,RangePicker:O7}=xj(NW),kP=We(x7,{WeekPicker:k7,MonthPicker:T7,YearPicker:are,RangePicker:O7,TimePicker:ore,QuarterPicker:E7,install:s=>(s.component(x7.name,x7),s.component(O7.name,O7),s.component(T7.name,T7),s.component(k7.name,k7),s.component(E7.name,E7),s)}),ire=["normal","exception","active","success"],TP=()=>({prefixCls:String,type:zo(),percent:Number,format:Wn(),status:zo(),showInfo:ea(),strokeWidth:Number,strokeLinecap:zo(),strokeColor:cH(),trailColor:String,width:Number,success:gl(),gapDegree:Number,gapPosition:zo(),size:Si([String,Number,Array]),steps:Number,successPercent:Number,title:String,progressStatus:zo()});function cb(s){return!s||s<0?0:s>100?100:s}function iP(s){let{success:g,successPercent:d}=s,h=d;return g&&"progress"in g&&(Zg(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),h=g.progress),g&&"percent"in g&&(h=g.percent),h}function ure(s){let{percent:g,success:d,successPercent:h}=s;const y=cb(iP({success:d,successPercent:h}));return[y,cb(cb(g)-y)]}function lre(s){let{success:g={},strokeColor:d}=s;const{strokeColor:h}=g;return[h||U7.green,d||null]}const EP=(s,g,d)=>{var h,y,k,x;let T=-1,P=-1;if(g==="step"){const I=d.steps,B=d.strokeWidth;typeof s=="string"||typeof s>"u"?(T=s==="small"?2:14,P=B??8):typeof s=="number"?[T,P]=[s,s]:[T=14,P=8]=s,T*=I}else if(g==="line"){const I=d?.strokeWidth;typeof s=="string"||typeof s>"u"?P=I||(s==="small"?6:8):typeof s=="number"?[T,P]=[s,s]:[T=-1,P=8]=s}else(g==="circle"||g==="dashboard")&&(typeof s=="string"||typeof s>"u"?[T,P]=s==="small"?[60,60]:[120,120]:typeof s=="number"?[T,P]=[s,s]:(T=(y=(h=s[0])!==null&&h!==void 0?h:s[1])!==null&&y!==void 0?y:120,P=(x=(k=s[0])!==null&&k!==void 0?k:s[1])!==null&&x!==void 0?x:120));return{width:T,height:P}};var sre=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const cre=()=>We(We({},TP()),{strokeColor:cH(),direction:zo()}),fre=s=>{let g=[];return Object.keys(s).forEach(d=>{const h=parseFloat(d.replace(/%/g,""));isNaN(h)||g.push({key:h,value:s[d]})}),g=g.sort((d,h)=>d.key-h.key),g.map(d=>{let{key:h,value:y}=d;return`${y} ${h}%`}).join(", ")},vre=(s,g)=>{const{from:d=U7.blue,to:h=U7.blue,direction:y=g==="rtl"?"to left":"to right"}=s,k=sre(s,["from","to","direction"]);if(Object.keys(k).length!==0){const x=fre(k);return{backgroundImage:`linear-gradient(${y}, ${x})`}}return{backgroundImage:`linear-gradient(${y}, ${d}, ${h})`}},dre=Rr({compatConfig:{MODE:3},name:"ProgressLine",inheritAttrs:!1,props:cre(),setup(s,g){let{slots:d,attrs:h}=g;const y=yt(()=>{const{strokeColor:L,direction:J}=s;return L&&typeof L!="string"?vre(L,J):{backgroundColor:L}}),k=yt(()=>s.strokeLinecap==="square"||s.strokeLinecap==="butt"?0:void 0),x=yt(()=>s.trailColor?{backgroundColor:s.trailColor}:void 0),T=yt(()=>{var L;return(L=s.size)!==null&&L!==void 0?L:[-1,s.strokeWidth||(s.size==="small"?6:8)]}),P=yt(()=>EP(T.value,"line",{strokeWidth:s.strokeWidth})),I=yt(()=>{const{percent:L}=s;return We({width:`${cb(L)}%`,height:`${P.value.height}px`,borderRadius:k.value},y.value)}),B=yt(()=>iP(s)),D=yt(()=>{const{success:L}=s;return{width:`${cb(B.value)}%`,height:`${P.value.height}px`,borderRadius:k.value,backgroundColor:L?.strokeColor}}),F={width:P.value.width<0?"100%":P.value.width,height:`${P.value.height}px`};return()=>{var L;return ue(eu,null,[ue("div",Ot(Ot({},h),{},{class:[`${s.prefixCls}-outer`,h.class],style:[h.style,F]}),[ue("div",{class:`${s.prefixCls}-inner`,style:x.value},[ue("div",{class:`${s.prefixCls}-bg`,style:I.value},null),B.value!==void 0?ue("div",{class:`${s.prefixCls}-success-bg`,style:D.value},null):null])]),(L=d.default)===null||L===void 0?void 0:L.call(d)])}}}),mre={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},gre=s=>{const g=mn(null);return sQ(()=>{const d=Date.now();let h=!1;s.value.forEach(y=>{const k=y?.$el||y;if(!k)return;h=!0;const x=k.style;x.transitionDuration=".3s, .3s, .3s, .06s",g.value&&d-g.value<100&&(x.transitionDuration="0s, 0s")}),h&&(g.value=Date.now())}),s},pre={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String};var hre=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};let kU=0;function TU(s){return+s.replace("%","")}function EU(s){return Array.isArray(s)?s:[s]}function OU(s,g,d,h){let y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,k=arguments.length>5?arguments[5]:void 0;const x=50-h/2;let T=0,P=-x,I=0,B=-2*x;switch(k){case"left":T=-x,P=0,I=2*x,B=0;break;case"right":T=x,P=0,I=-2*x,B=0;break;case"bottom":P=x,B=2*x;break}const D=`M 50,50 m ${T},${P}
   a ${x},${x} 0 1 1 ${I},${-B}
   a ${x},${x} 0 1 1 ${-I},${B}`,F=Math.PI*2*x,L={stroke:d,strokeDasharray:`${g/100*(F-y)}px ${F}px`,strokeDashoffset:`-${y/2+s/100*(F-y)}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:D,pathStyle:L}}const bre=Rr({compatConfig:{MODE:3},name:"VCCircle",props:Ms(pre,mre),setup(s){kU+=1;const g=mn(kU),d=yt(()=>EU(s.percent)),h=yt(()=>EU(s.strokeColor)),[y,k]=OW();gre(k);const x=()=>{const{prefixCls:T,strokeWidth:P,strokeLinecap:I,gapDegree:B,gapPosition:D}=s;let F=0;return d.value.map((L,J)=>{const _=h.value[J]||h.value[h.value.length-1],U=Object.prototype.toString.call(_)==="[object Object]"?`url(#${T}-gradient-${g.value})`:"",{pathString:te,pathStyle:Z}=OU(F,L,_,P,B,D);F+=L;const R={key:J,d:te,stroke:U,"stroke-linecap":I,"stroke-width":P,opacity:L===0?0:1,"fill-opacity":"0",class:`${T}-circle-path`,style:Z};return ue("path",Ot({ref:y(J)},R),null)})};return()=>{const{prefixCls:T,strokeWidth:P,trailWidth:I,gapDegree:B,gapPosition:D,trailColor:F,strokeLinecap:L,strokeColor:J}=s,_=hre(s,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),{pathString:U,pathStyle:te}=OU(0,100,F,P,B,D);delete _.percent;const Z=h.value.find(Q=>Object.prototype.toString.call(Q)==="[object Object]"),R={d:U,stroke:F,"stroke-linecap":L,"stroke-width":I||P,"fill-opacity":"0",class:`${T}-circle-trail`,style:te};return ue("svg",Ot({class:`${T}-circle`,viewBox:"0 0 100 100"},_),[Z&&ue("defs",null,[ue("linearGradient",{id:`${T}-gradient-${g.value}`,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(Z).sort((Q,X)=>TU(Q)-TU(X)).map((Q,X)=>ue("stop",{key:X,offset:Q,"stop-color":Z[Q]},null))])]),ue("path",R,null),x().reverse()])}}}),yre=()=>We(We({},TP()),{strokeColor:cH()}),wre=3,Cre=s=>wre/s*100,Sre=Rr({compatConfig:{MODE:3},name:"ProgressCircle",inheritAttrs:!1,props:Ms(yre(),{trailColor:null}),setup(s,g){let{slots:d,attrs:h}=g;const y=yt(()=>{var _;return(_=s.width)!==null&&_!==void 0?_:120}),k=yt(()=>{var _;return(_=s.size)!==null&&_!==void 0?_:[y.value,y.value]}),x=yt(()=>EP(k.value,"circle")),T=yt(()=>{if(s.gapDegree||s.gapDegree===0)return s.gapDegree;if(s.type==="dashboard")return 75}),P=yt(()=>({width:`${x.value.width}px`,height:`${x.value.height}px`,fontSize:`${x.value.width*.15+6}px`})),I=yt(()=>{var _;return(_=s.strokeWidth)!==null&&_!==void 0?_:Math.max(Cre(x.value.width),6)}),B=yt(()=>s.gapPosition||s.type==="dashboard"&&"bottom"||void 0),D=yt(()=>ure(s)),F=yt(()=>Object.prototype.toString.call(s.strokeColor)==="[object Object]"),L=yt(()=>lre({success:s.success,strokeColor:s.strokeColor})),J=yt(()=>({[`${s.prefixCls}-inner`]:!0,[`${s.prefixCls}-circle-gradient`]:F.value}));return()=>{var _;const U=ue(bre,{percent:D.value,strokeWidth:I.value,trailWidth:I.value,strokeColor:L.value,strokeLinecap:s.strokeLinecap,trailColor:s.trailColor,prefixCls:s.prefixCls,gapDegree:T.value,gapPosition:B.value},null);return ue("div",Ot(Ot({},h),{},{class:[J.value,h.class],style:[h.style,P.value]}),[x.value.width<=20?ue(aw,null,{default:()=>[ue("span",null,[U])],title:d.default}):ue(eu,null,[U,(_=d.default)===null||_===void 0?void 0:_.call(d)])])}}}),xre=()=>We(We({},TP()),{steps:Number,strokeColor:Si(),trailColor:String}),kre=Rr({compatConfig:{MODE:3},name:"Steps",props:xre(),setup(s,g){let{slots:d}=g;const h=yt(()=>Math.round(s.steps*((s.percent||0)/100))),y=yt(()=>{var T;return(T=s.size)!==null&&T!==void 0?T:[s.size==="small"?2:14,s.strokeWidth||8]}),k=yt(()=>EP(y.value,"step",{steps:s.steps,strokeWidth:s.strokeWidth||8})),x=yt(()=>{const{steps:T,strokeColor:P,trailColor:I,prefixCls:B}=s,D=[];for(let F=0;F<T;F+=1){const L=Array.isArray(P)?P[F]:P,J={[`${B}-steps-item`]:!0,[`${B}-steps-item-active`]:F<=h.value-1};D.push(ue("div",{key:F,class:J,style:{backgroundColor:F<=h.value-1?L:I,width:`${k.value.width/T}px`,height:`${k.value.height}px`}},null))}return D});return()=>{var T;return ue("div",{class:`${s.prefixCls}-steps-outer`},[x.value,(T=d.default)===null||T===void 0?void 0:T.call(d)])}}}),Tre=new cP("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),Ere=s=>{const{componentCls:g,iconCls:d}=s;return{[g]:We(We({},If(s)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:s.fontSize,marginInlineEnd:s.marginXS,marginBottom:s.marginXS},[`${g}-outer`]:{display:"inline-block",width:"100%"},[`&${g}-show-info`]:{[`${g}-outer`]:{marginInlineEnd:`calc(-2em - ${s.marginXS}px)`,paddingInlineEnd:`calc(2em + ${s.paddingXS}px)`}},[`${g}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:s.progressRemainingColor,borderRadius:s.progressLineRadius},[`${g}-inner:not(${g}-circle-gradient)`]:{[`${g}-circle-path`]:{stroke:s.colorInfo}},[`${g}-success-bg, ${g}-bg`]:{position:"relative",backgroundColor:s.colorInfo,borderRadius:s.progressLineRadius,transition:`all ${s.motionDurationSlow} ${s.motionEaseInOutCirc}`},[`${g}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:s.colorSuccess},[`${g}-text`]:{display:"inline-block",width:"2em",marginInlineStart:s.marginXS,color:s.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[d]:{fontSize:s.fontSize}},[`&${g}-status-active`]:{[`${g}-bg::before`]:{position:"absolute",inset:0,backgroundColor:s.colorBgContainer,borderRadius:s.progressLineRadius,opacity:0,animationName:Tre,animationDuration:s.progressActiveMotionDuration,animationTimingFunction:s.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${g}-status-exception`]:{[`${g}-bg`]:{backgroundColor:s.colorError},[`${g}-text`]:{color:s.colorError}},[`&${g}-status-exception ${g}-inner:not(${g}-circle-gradient)`]:{[`${g}-circle-path`]:{stroke:s.colorError}},[`&${g}-status-success`]:{[`${g}-bg`]:{backgroundColor:s.colorSuccess},[`${g}-text`]:{color:s.colorSuccess}},[`&${g}-status-success ${g}-inner:not(${g}-circle-gradient)`]:{[`${g}-circle-path`]:{stroke:s.colorSuccess}}})}},Ore=s=>{const{componentCls:g,iconCls:d}=s;return{[g]:{[`${g}-circle-trail`]:{stroke:s.progressRemainingColor},[`&${g}-circle ${g}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${g}-circle ${g}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:s.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[d]:{fontSize:`${s.fontSize/s.fontSizeSM}em`}},[`${g}-circle&-status-exception`]:{[`${g}-text`]:{color:s.colorError}},[`${g}-circle&-status-success`]:{[`${g}-text`]:{color:s.colorSuccess}}},[`${g}-inline-circle`]:{lineHeight:1,[`${g}-inner`]:{verticalAlign:"bottom"}}}},Are=s=>{const{componentCls:g}=s;return{[g]:{[`${g}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:s.progressStepMinWidth,marginInlineEnd:s.progressStepMarginInlineEnd,backgroundColor:s.progressRemainingColor,transition:`all ${s.motionDurationSlow}`,"&-active":{backgroundColor:s.colorInfo}}}}}},$re=s=>{const{componentCls:g,iconCls:d}=s;return{[g]:{[`${g}-small&-line, ${g}-small&-line ${g}-text ${d}`]:{fontSize:s.fontSizeSM}}}},Dre=jv("Progress",s=>{const g=s.marginXXS/2,d=Jc(s,{progressLineRadius:100,progressInfoTextColor:s.colorText,progressDefaultColor:s.colorInfo,progressRemainingColor:s.colorFillSecondary,progressStepMarginInlineEnd:g,progressStepMinWidth:g,progressActiveMotionDuration:"2.4s"});return[Ere(d),Ore(d),Are(d),$re(d)]});var _re=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const Pre=Rr({compatConfig:{MODE:3},name:"AProgress",inheritAttrs:!1,props:Ms(TP(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:Object,setup(s,g){let{slots:d,attrs:h}=g;const{prefixCls:y,direction:k}=Nl("progress",s),[x,T]=Dre(y),P=yt(()=>Array.isArray(s.strokeColor)?s.strokeColor[0]:s.strokeColor),I=yt(()=>{const{percent:J=0}=s,_=iP(s);return parseInt(_!==void 0?_.toString():J.toString(),10)}),B=yt(()=>{const{status:J}=s;return!ire.includes(J)&&I.value>=100?"success":J||"normal"}),D=yt(()=>{const{type:J,showInfo:_,size:U}=s,te=y.value;return{[te]:!0,[`${te}-inline-circle`]:J==="circle"&&EP(U,"circle").width<=20,[`${te}-${J==="dashboard"&&"circle"||J}`]:!0,[`${te}-status-${B.value}`]:!0,[`${te}-show-info`]:_,[`${te}-${U}`]:U,[`${te}-rtl`]:k.value==="rtl",[T.value]:!0}}),F=yt(()=>typeof s.strokeColor=="string"||Array.isArray(s.strokeColor)?s.strokeColor:void 0),L=()=>{const{showInfo:J,format:_,type:U,percent:te,title:Z}=s,R=iP(s);if(!J)return null;let Q;const X=_||d?.format||(xe=>`${xe}%`),me=U==="line";return _||d?.format||B.value!=="exception"&&B.value!=="success"?Q=X(cb(te),cb(R)):B.value==="exception"?Q=me?ue(sP,null,null):ue(iH,null,null):B.value==="success"&&(Q=me?ue(tW,null,null):ue(dee,null,null)),ue("span",{class:`${y.value}-text`,title:Z===void 0&&typeof Q=="string"?Q:void 0},[Q])};return()=>{const{type:J,steps:_,title:U}=s,{class:te}=h,Z=_re(h,["class"]),R=L();let Q;return J==="line"?Q=_?ue(kre,Ot(Ot({},s),{},{strokeColor:F.value,prefixCls:y.value,steps:_}),{default:()=>[R]}):ue(dre,Ot(Ot({},s),{},{strokeColor:P.value,prefixCls:y.value,direction:k.value}),{default:()=>[R]}):(J==="circle"||J==="dashboard")&&(Q=ue(Sre,Ot(Ot({},s),{},{prefixCls:y.value,strokeColor:P.value,progressStatus:B.value}),{default:()=>[R]})),x(ue("div",Ot(Ot({role:"progressbar"},Z),{},{class:[D.value,te],title:U}),[Q]))}}}),kj=ew(Pre);function Mre(s){let g=s.pageXOffset;const d="scrollLeft";if(typeof g!="number"){const h=s.document;g=h.documentElement[d],typeof g!="number"&&(g=h.body[d])}return g}function Rre(s){let g,d;const h=s.ownerDocument,{body:y}=h,k=h&&h.documentElement,x=s.getBoundingClientRect();return g=x.left,d=x.top,g-=k.clientLeft||y.clientLeft||0,d-=k.clientTop||y.clientTop||0,{left:g,top:d}}function Bre(s){const g=Rre(s),d=s.ownerDocument,h=d.defaultView||d.parentWindow;return g.left+=Mre(h),g.left}var Fre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};const Ire=Fre;function AU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Nre(s,y,d[y])})}return s}function Nre(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var zH=function(g,d){var h=AU({},g,d.attrs);return ue(sm,AU({},h,{icon:Ire}),null)};zH.displayName="StarFilled";zH.inheritAttrs=!1;const Lre=zH,zre={value:Number,index:Number,prefixCls:String,allowHalf:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},character:Hr.any,characterRender:Function,focused:{type:Boolean,default:void 0},count:Number,onClick:Function,onHover:Function},Hre=Rr({compatConfig:{MODE:3},name:"Star",inheritAttrs:!1,props:zre,emits:["hover","click"],setup(s,g){let{emit:d}=g;const h=T=>{const{index:P}=s;d("hover",T,P)},y=T=>{const{index:P}=s;d("click",T,P)},k=T=>{const{index:P}=s;T.keyCode===13&&d("click",T,P)},x=yt(()=>{const{prefixCls:T,index:P,value:I,allowHalf:B,focused:D}=s,F=P+1;let L=T;return I===0&&P===0&&D?L+=` ${T}-focused`:B&&I+.5>=F&&I<F?(L+=` ${T}-half ${T}-active`,D&&(L+=` ${T}-focused`)):(L+=F<=I?` ${T}-full`:` ${T}-zero`,F===I&&D&&(L+=` ${T}-focused`)),L});return()=>{const{disabled:T,prefixCls:P,characterRender:I,character:B,index:D,count:F,value:L}=s,J=typeof B=="function"?B({disabled:T,prefixCls:P,index:D,count:F,value:L}):B;let _=ue("li",{class:x.value},[ue("div",{onClick:T?null:y,onKeydown:T?null:k,onMousemove:T?null:h,role:"radio","aria-checked":L>D?"true":"false","aria-posinset":D+1,"aria-setsize":F,tabindex:T?-1:0},[ue("div",{class:`${P}-first`},[J]),ue("div",{class:`${P}-second`},[J])])]);return I&&(_=I(_,s)),_}}}),Vre=s=>{const{componentCls:g}=s;return{[`${g}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:s.marginXS},"> div":{transition:`all ${s.motionDurationMid}, outline 0s`,"&:hover":{transform:s.rateStarHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${s.lineWidth}px dashed ${s.rateStarColor}`,transform:s.rateStarHoverScale}},"&-first, &-second":{color:s.defaultColor,transition:`all ${s.motionDurationMid}`,userSelect:"none",[s.iconCls]:{verticalAlign:"middle"}},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${g}-star-first, &-half ${g}-star-second`]:{opacity:1},[`&-half ${g}-star-first, &-full ${g}-star-second`]:{color:"inherit"}}}},Ure=s=>({[`&-rtl${s.componentCls}`]:{direction:"rtl"}}),Wre=s=>{const{componentCls:g}=s;return{[g]:We(We(We(We(We({},If(s)),{display:"inline-block",margin:0,padding:0,color:s.rateStarColor,fontSize:s.rateStarSize,lineHeight:"unset",listStyle:"none",outline:"none",[`&-disabled${g} ${g}-star`]:{cursor:"default","&:hover":{transform:"scale(1)"}}}),Vre(s)),{[`+ ${g}-text`]:{display:"inline-block",marginInlineStart:s.marginXS,fontSize:s.fontSize}}),Ure(s))}},jre=jv("Rate",s=>{const{colorFillContent:g}=s,d=Jc(s,{rateStarColor:s["yellow-6"],rateStarSize:s.controlHeightLG*.5,rateStarHoverScale:"scale(1.1)",defaultColor:g});return[Wre(d)]}),qre=()=>({prefixCls:String,count:Number,value:Number,allowHalf:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},tooltips:Array,disabled:{type:Boolean,default:void 0},character:Hr.any,autofocus:{type:Boolean,default:void 0},tabindex:Hr.oneOfType([Hr.number,Hr.string]),direction:String,id:String,onChange:Function,onHoverChange:Function,"onUpdate:value":Function,onFocus:Function,onBlur:Function,onKeydown:Function}),Kre=Rr({compatConfig:{MODE:3},name:"ARate",inheritAttrs:!1,props:Ms(qre(),{value:0,count:5,allowHalf:!1,allowClear:!0,tabindex:0,direction:"ltr"}),setup(s,g){let{slots:d,attrs:h,emit:y,expose:k}=g;const{prefixCls:x,direction:T}=Nl("rate",s),[P,I]=jre(x),B=Qc(),D=mn(),[F,L]=OW(),J=vP({value:s.value,focused:!1,cleanedValue:null,hoverValue:void 0});oa(()=>s.value,()=>{J.value=s.value});const _=oe=>cQ(L.value.get(oe)),U=(oe,z)=>{const G=T.value==="rtl";let he=oe+1;if(s.allowHalf){const Ge=_(oe),Me=Bre(Ge),je=Ge.clientWidth;(G&&z-Me>je/2||!G&&z-Me<je/2)&&(he-=.5)}return he},te=oe=>{s.value===void 0&&(J.value=oe),y("update:value",oe),y("change",oe),B.onFieldChange()},Z=(oe,z)=>{const G=U(z,oe.pageX);G!==J.cleanedValue&&(J.hoverValue=G,J.cleanedValue=null),y("hoverChange",G)},R=()=>{J.hoverValue=void 0,J.cleanedValue=null,y("hoverChange",void 0)},Q=(oe,z)=>{const{allowClear:G}=s,he=U(z,oe.pageX);let Ge=!1;G&&(Ge=he===J.value),R(),te(Ge?0:he),J.cleanedValue=Ge?he:null},X=oe=>{J.focused=!0,y("focus",oe)},me=oe=>{J.focused=!1,y("blur",oe),B.onFieldBlur()},xe=oe=>{const{keyCode:z}=oe,{count:G,allowHalf:he}=s,Ge=T.value==="rtl";z===sa.RIGHT&&J.value<G&&!Ge?(he?J.value+=.5:J.value+=1,te(J.value),oe.preventDefault()):z===sa.LEFT&&J.value>0&&!Ge||z===sa.RIGHT&&J.value>0&&Ge?(he?J.value-=.5:J.value-=1,te(J.value),oe.preventDefault()):z===sa.LEFT&&J.value<G&&Ge&&(he?J.value+=.5:J.value+=1,te(J.value),oe.preventDefault()),y("keydown",oe)},fe=()=>{s.disabled||D.value.focus()};k({focus:fe,blur:()=>{s.disabled||D.value.blur()}}),zf(()=>{const{autofocus:oe,disabled:z}=s;oe&&!z&&fe()});const Ce=(oe,z)=>{let{index:G}=z;const{tooltips:he}=s;return he?ue(aw,{title:he[G]},{default:()=>[oe]}):oe};return()=>{const{count:oe,allowHalf:z,disabled:G,tabindex:he,id:Ge=B.id.value}=s,{class:Me,style:je}=h,tt=[],E=G?`${x.value}-disabled`:"",Ae=s.character||d.character||(()=>ue(Lre,null,null));for(let At=0;At<oe;At++)tt.push(ue(Hre,{ref:F(At),key:At,index:At,count:oe,disabled:G,prefixCls:`${x.value}-star`,allowHalf:z,value:J.hoverValue===void 0?J.value:J.hoverValue,onClick:Q,onHover:Z,character:Ae,characterRender:Ce,focused:J.focused},null));const Le=ya(x.value,E,Me,{[I.value]:!0,[`${x.value}-rtl`]:T.value==="rtl"});return P(ue("ul",Ot(Ot({},h),{},{id:Ge,class:Le,style:je,onMouseleave:G?null:R,tabindex:G?-1:he,onFocus:G?null:X,onBlur:G?null:me,onKeydown:G?null:xe,ref:D,role:"radiogroup"}),[tt]))}}}),Gre=ew(Kre),Tj=(s,g)=>{let{attrs:d}=g;const{included:h,vertical:y,style:k,class:x}=d;let{length:T,offset:P,reverse:I}=d;T<0&&(I=!I,T=Math.abs(T),P=100-P);const B=y?{[I?"top":"bottom"]:`${P}%`,[I?"bottom":"top"]:"auto",height:`${T}%`}:{[I?"right":"left"]:`${P}%`,[I?"left":"right"]:"auto",width:`${T}%`},D=We(We({},k),B);return h?ue("div",{class:x,style:D},null):null};Tj.inheritAttrs=!1;const Ej=Tj,Yre=(s,g,d,h,y,k)=>{zk();const x=Object.keys(g).map(parseFloat).sort((T,P)=>T-P);if(d&&h)for(let T=y;T<=k;T+=h)x.indexOf(T)===-1&&x.push(T);return x},Oj=(s,g)=>{let{attrs:d}=g;const{prefixCls:h,vertical:y,reverse:k,marks:x,dots:T,step:P,included:I,lowerBound:B,upperBound:D,max:F,min:L,dotStyle:J,activeDotStyle:_}=d,U=F-L,te=Yre(y,x,T,P,L,F).map(Z=>{const R=`${Math.abs(Z-L)/U*100}%`,Q=!I&&Z===D||I&&Z<=D&&Z>=B;let X=y?We(We({},J),{[k?"top":"bottom"]:R}):We(We({},J),{[k?"right":"left"]:R});Q&&(X=We(We({},X),_));const me=ya({[`${h}-dot`]:!0,[`${h}-dot-active`]:Q,[`${h}-dot-reverse`]:k});return ue("span",{class:me,style:X,key:Z},null)});return ue("div",{class:`${h}-step`},[te])};Oj.inheritAttrs=!1;const Xre=Oj,Aj=(s,g)=>{let{attrs:d,slots:h}=g;const{class:y,vertical:k,reverse:x,marks:T,included:P,upperBound:I,lowerBound:B,max:D,min:F,onClickLabel:L}=d,J=Object.keys(T),_=h.mark,U=D-F,te=J.map(parseFloat).sort((Z,R)=>Z-R).map(Z=>{const R=typeof T[Z]=="function"?T[Z]():T[Z],Q=typeof R=="object"&&!Qy(R);let X=Q?R.label:R;if(!X&&X!==0)return null;_&&(X=_({point:Z,label:X}));const me=!P&&Z===I||P&&Z<=I&&Z>=B,xe=ya({[`${y}-text`]:!0,[`${y}-text-active`]:me}),fe={marginBottom:"-50%",[x?"top":"bottom"]:`${(Z-F)/U*100}%`},se={transform:`translateX(${x?"50%":"-50%"})`,msTransform:`translateX(${x?"50%":"-50%"})`,[x?"right":"left"]:`${(Z-F)/U*100}%`},Ce=k?fe:se,oe=Q?We(We({},Ce),R.style):Ce,z={[uW?"onTouchstartPassive":"onTouchstart"]:G=>L(G,Z)};return ue("span",Ot({class:xe,style:oe,key:Z,onMousedown:G=>L(G,Z)},z),[X])});return ue("div",{class:y},[te])};Aj.inheritAttrs=!1;const Zre=Aj,$j=Rr({compatConfig:{MODE:3},name:"Handle",inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:Hr.oneOfType([Hr.number,Hr.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup(s,g){let{attrs:d,emit:h,expose:y}=g;const k=Co(!1),x=Co(),T=()=>{document.activeElement===x.value&&(k.value=!0)},P=U=>{k.value=!1,h("blur",U)},I=()=>{k.value=!1},B=()=>{var U;(U=x.value)===null||U===void 0||U.focus()},D=()=>{var U;(U=x.value)===null||U===void 0||U.blur()},F=()=>{k.value=!0,B()},L=U=>{U.preventDefault(),B(),h("mousedown",U)};y({focus:B,blur:D,clickFocus:F,ref:x});let J=null;zf(()=>{J=Ik(document,"mouseup",T)}),rp(()=>{J?.remove()});const _=yt(()=>{const{vertical:U,offset:te,reverse:Z}=s;return U?{[Z?"top":"bottom"]:`${te}%`,[Z?"bottom":"top"]:"auto",transform:Z?null:"translateY(+50%)"}:{[Z?"right":"left"]:`${te}%`,[Z?"left":"right"]:"auto",transform:`translateX(${Z?"+":"-"}50%)`}});return()=>{const{prefixCls:U,disabled:te,min:Z,max:R,value:Q,tabindex:X,ariaLabel:me,ariaLabelledBy:xe,ariaValueTextFormatter:fe,onMouseenter:se,onMouseleave:Ce}=s,oe=ya(d.class,{[`${U}-handle-click-focused`]:k.value}),z={"aria-valuemin":Z,"aria-valuemax":R,"aria-valuenow":Q,"aria-disabled":!!te},G=[d.style,_.value];let he=X||0;(te||X===null)&&(he=null);let Ge;fe&&(Ge=fe(Q));const Me=We(We(We(We({},d),{role:"slider",tabindex:he}),z),{class:oe,onBlur:P,onKeydown:I,onMousedown:L,onMouseenter:se,onMouseleave:Ce,ref:x,style:G});return ue("div",Ot(Ot({},Me),{},{"aria-label":me,"aria-labelledby":xe,"aria-valuetext":Ge}),null)}}});function A7(s,g){try{return Object.keys(g).some(d=>s.target===g[d].ref)}catch{return!1}}function Dj(s,g){let{min:d,max:h}=g;return s<d||s>h}function $U(s){return s.touches.length>1||s.type.toLowerCase()==="touchend"&&s.touches.length>0}function DU(s,g){let{marks:d,step:h,min:y,max:k}=g;const x=Object.keys(d).map(parseFloat);if(h!==null){const P=Math.pow(10,_j(h)),I=Math.floor((k*P-y*P)/(h*P)),B=Math.min((s-y)/h,I),D=Math.round(B)*h+y;x.push(D)}const T=x.map(P=>Math.abs(s-P));return x[T.indexOf(Math.min(...T))]}function _j(s){const g=s.toString();let d=0;return g.indexOf(".")>=0&&(d=g.length-g.indexOf(".")-1),d}function _U(s,g){let d=1;return window.visualViewport&&(d=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(s?g.clientY:g.pageX)/d}function PU(s,g){let d=1;return window.visualViewport&&(d=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(s?g.touches[0].clientY:g.touches[0].pageX)/d}function MU(s,g){const d=g.getBoundingClientRect();return s?d.top+d.height*.5:window.pageXOffset+d.left+d.width*.5}function HH(s,g){let{max:d,min:h}=g;return s<=h?h:s>=d?d:s}function Pj(s,g){const{step:d}=g,h=isFinite(DU(s,g))?DU(s,g):0;return d===null?h:parseFloat(h.toFixed(_j(d)))}function Jy(s){s.stopPropagation(),s.preventDefault()}function Jre(s,g,d){const h={increase:(x,T)=>x+T,decrease:(x,T)=>x-T},y=h[s](Object.keys(d.marks).indexOf(JSON.stringify(g)),1),k=Object.keys(d.marks)[y];return d.step?h[s](g,d.step):Object.keys(d.marks).length&&d.marks[k]?d.marks[k]:g}function Mj(s,g,d){const h="increase",y="decrease";let k=h;switch(s.keyCode){case sa.UP:k=g&&d?y:h;break;case sa.RIGHT:k=!g&&d?y:h;break;case sa.DOWN:k=g&&d?h:y;break;case sa.LEFT:k=!g&&d?h:y;break;case sa.END:return(x,T)=>T.max;case sa.HOME:return(x,T)=>T.min;case sa.PAGE_UP:return(x,T)=>x+T.step*2;case sa.PAGE_DOWN:return(x,T)=>x-T.step*2;default:return}return(x,T)=>Jre(k,x,T)}var Qre=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function sb(){}function Rj(s){const g={id:String,min:Number,max:Number,step:Number,marks:Hr.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:Hr.object,maximumTrackStyle:Hr.object,handleStyle:Hr.oneOfType([Hr.object,Hr.arrayOf(Hr.object)]),trackStyle:Hr.oneOfType([Hr.object,Hr.arrayOf(Hr.object)]),railStyle:Hr.object,dotStyle:Hr.object,activeDotStyle:Hr.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return Rr({compatConfig:{MODE:3},name:"CreateSlider",mixins:[fH,s],inheritAttrs:!1,props:Ms(g,{prefixCls:"rc-slider",min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:["change","blur","focus"],data(){return zk(),this.handlesRefs={},{}},mounted(){this.$nextTick(()=>{this.document=this.sliderRef&&this.sliderRef.ownerDocument;const{autofocus:d,disabled:h}=this;d&&!h&&this.focus()})},beforeUnmount(){this.$nextTick(()=>{this.removeDocumentEvents()})},methods:{defaultHandle(d){var{index:h,directives:y,className:k,style:x}=d,T=Qre(d,["index","directives","className","style"]);if(delete T.dragging,T.value===null)return null;const P=We(We({},T),{class:k,style:x,key:h});return ue($j,P,null)},onDown(d,h){let y=h;const{draggableTrack:k,vertical:x}=this.$props,{bounds:T}=this.$data,P=k&&this.positionGetValue?this.positionGetValue(y)||[]:[],I=A7(d,this.handlesRefs);if(this.dragTrack=k&&T.length>=2&&!I&&!P.map((B,D)=>{const F=D?!0:B>=T[D];return D===P.length-1?B<=T[D]:F}).some(B=>!B),this.dragTrack)this.dragOffset=y,this.startBounds=[...T];else{if(!I)this.dragOffset=0;else{const B=MU(x,d.target);this.dragOffset=y-B,y=B}this.onStart(y)}},onMouseDown(d){if(d.button!==0)return;this.removeDocumentEvents();const h=this.$props.vertical,y=_U(h,d);this.onDown(d,y),this.addDocumentMouseEvents()},onTouchStart(d){if($U(d))return;const h=this.vertical,y=PU(h,d);this.onDown(d,y),this.addDocumentTouchEvents(),Jy(d)},onFocus(d){const{vertical:h}=this;if(A7(d,this.handlesRefs)&&!this.dragTrack){const y=MU(h,d.target);this.dragOffset=0,this.onStart(y),Jy(d),this.$emit("focus",d)}},onBlur(d){this.dragTrack||this.onEnd(),this.$emit("blur",d)},onMouseUp(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove(d){if(!this.sliderRef){this.onEnd();return}const h=_U(this.vertical,d);this.onMove(d,h-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove(d){if($U(d)||!this.sliderRef){this.onEnd();return}const h=PU(this.vertical,d);this.onMove(d,h-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown(d){this.sliderRef&&A7(d,this.handlesRefs)&&this.onKeyboard(d)},onClickMarkLabel(d,h){d.stopPropagation(),this.onChange({sValue:h}),this.setState({sValue:h},()=>this.onEnd(!0))},getSliderStart(){const d=this.sliderRef,{vertical:h,reverse:y}=this,k=d.getBoundingClientRect();return h?y?k.bottom:k.top:window.pageXOffset+(y?k.right:k.left)},getSliderLength(){const d=this.sliderRef;if(!d)return 0;const h=d.getBoundingClientRect();return this.vertical?h.height:h.width},addDocumentTouchEvents(){this.onTouchMoveListener=Ik(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Ik(this.document,"touchend",this.onEnd)},addDocumentMouseEvents(){this.onMouseMoveListener=Ik(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Ik(this.document,"mouseup",this.onEnd)},removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus(){var d;this.$props.disabled||(d=this.handlesRefs[0])===null||d===void 0||d.focus()},blur(){this.$props.disabled||Object.keys(this.handlesRefs).forEach(d=>{var h,y;(y=(h=this.handlesRefs[d])===null||h===void 0?void 0:h.blur)===null||y===void 0||y.call(h)})},calcValue(d){const{vertical:h,min:y,max:k}=this,x=Math.abs(Math.max(d,0)/this.getSliderLength());return h?(1-x)*(k-y)+y:x*(k-y)+y},calcValueByPos(d){const y=(this.reverse?-1:1)*(d-this.getSliderStart());return this.trimAlignValue(this.calcValue(y))},calcOffset(d){const{min:h,max:y}=this,k=(d-h)/(y-h);return Math.max(0,k*100)},saveSlider(d){this.sliderRef=d},saveHandle(d,h){this.handlesRefs[d]=h}},render(){const{prefixCls:d,marks:h,dots:y,step:k,included:x,disabled:T,vertical:P,reverse:I,min:B,max:D,maximumTrackStyle:F,railStyle:L,dotStyle:J,activeDotStyle:_,id:U}=this,{class:te,style:Z}=this.$attrs,{tracks:R,handles:Q}=this.renderSlider(),X=ya(d,te,{[`${d}-with-marks`]:Object.keys(h).length,[`${d}-disabled`]:T,[`${d}-vertical`]:P,[`${d}-horizontal`]:!P}),me={vertical:P,marks:h,included:x,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:D,min:B,reverse:I,class:`${d}-mark`,onClickLabel:T?sb:this.onClickMarkLabel},xe={[uW?"onTouchstartPassive":"onTouchstart"]:T?sb:this.onTouchStart};return ue("div",Ot(Ot({id:U,ref:this.saveSlider,tabindex:"-1",class:X},xe),{},{onMousedown:T?sb:this.onMouseDown,onMouseup:T?sb:this.onMouseUp,onKeydown:T?sb:this.onKeyDown,onFocus:T?sb:this.onFocus,onBlur:T?sb:this.onBlur,style:Z}),[ue("div",{class:`${d}-rail`,style:We(We({},F),L)},null),R,ue(Xre,{prefixCls:d,vertical:P,reverse:I,marks:h,dots:y,step:k,included:x,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:D,min:B,dotStyle:J,activeDotStyle:_},null),Q,ue(Zre,me,{mark:this.$slots.mark}),fQ(this)])}})}const eae=Rr({compatConfig:{MODE:3},name:"Slider",mixins:[fH],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:Hr.oneOfType([Hr.number,Hr.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:["beforeChange","afterChange","change"],data(){const s=this.defaultValue!==void 0?this.defaultValue:this.min,g=this.value!==void 0?this.value:s;return{sValue:this.trimAlignValue(g),dragging:!1}},watch:{value:{handler(s){this.setChangeValue(s)},deep:!0},min(){const{sValue:s}=this;this.setChangeValue(s)},max(){const{sValue:s}=this;this.setChangeValue(s)}},methods:{setChangeValue(s){const g=s!==void 0?s:this.sValue,d=this.trimAlignValue(g,this.$props);d!==this.sValue&&(this.setState({sValue:d}),Dj(g,this.$props)&&this.$emit("change",d))},onChange(s){const g=!W7(this,"value"),d=s.sValue>this.max?We(We({},s),{sValue:this.max}):s;g&&this.setState(d);const h=d.sValue;this.$emit("change",h)},onStart(s){this.setState({dragging:!0});const{sValue:g}=this;this.$emit("beforeChange",g);const d=this.calcValueByPos(s);this.startValue=d,this.startPosition=s,d!==g&&(this.prevMovedHandleIndex=0,this.onChange({sValue:d}))},onEnd(s){const{dragging:g}=this;this.removeDocumentEvents(),(g||s)&&this.$emit("afterChange",this.sValue),this.setState({dragging:!1})},onMove(s,g){Jy(s);const{sValue:d}=this,h=this.calcValueByPos(g);h!==d&&this.onChange({sValue:h})},onKeyboard(s){const{reverse:g,vertical:d}=this.$props,h=Mj(s,d,g);if(h){Jy(s);const{sValue:y}=this,k=h(y,this.$props),x=this.trimAlignValue(k);if(x===y)return;this.onChange({sValue:x}),this.$emit("afterChange",x),this.onEnd()}},getLowerBound(){const s=this.$props.startPoint||this.$props.min;return this.$data.sValue>s?s:this.$data.sValue},getUpperBound(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue(s){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s===null)return null;const d=We(We({},this.$props),g),h=HH(s,d);return Pj(h,d)},getTrack(s){let{prefixCls:g,reverse:d,vertical:h,included:y,minimumTrackStyle:k,mergedTrackStyle:x,length:T,offset:P}=s;return ue(Ej,{class:`${g}-track`,vertical:h,included:y,offset:P,reverse:d,length:T,style:We(We({},k),x)},null)},renderSlider(){const{prefixCls:s,vertical:g,included:d,disabled:h,minimumTrackStyle:y,trackStyle:k,handleStyle:x,tabindex:T,ariaLabelForHandle:P,ariaLabelledByForHandle:I,ariaValueTextFormatterForHandle:B,min:D,max:F,startPoint:L,reverse:J,handle:_,defaultHandle:U}=this,te=_||U,{sValue:Z,dragging:R}=this,Q=this.calcOffset(Z),X=te({class:`${s}-handle`,prefixCls:s,vertical:g,offset:Q,value:Z,dragging:R,disabled:h,min:D,max:F,reverse:J,index:0,tabindex:T,ariaLabel:P,ariaLabelledBy:I,ariaValueTextFormatter:B,style:x[0]||x,ref:fe=>this.saveHandle(0,fe),onFocus:this.onFocus,onBlur:this.onBlur}),me=L!==void 0?this.calcOffset(L):0,xe=k[0]||k;return{tracks:this.getTrack({prefixCls:s,reverse:J,vertical:g,included:d,offset:me,minimumTrackStyle:y,mergedTrackStyle:xe,length:Q-me}),handles:X}}}}),tae=Rj(eae),Fk=s=>{let{value:g,handle:d,bounds:h,props:y}=s;const{allowCross:k,pushable:x}=y,T=Number(x),P=HH(g,y);let I=P;return!k&&d!=null&&h!==void 0&&(d>0&&P<=h[d-1]+T&&(I=h[d-1]+T),d<h.length-1&&P>=h[d+1]-T&&(I=h[d+1]-T)),Pj(I,y)},nae={defaultValue:Hr.arrayOf(Hr.number),value:Hr.arrayOf(Hr.number),count:Number,pushable:vQ(Hr.oneOfType([Hr.looseBool,Hr.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:Hr.arrayOf(Hr.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},rae=Rr({compatConfig:{MODE:3},name:"Range",mixins:[fH],inheritAttrs:!1,props:Ms(nae,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:["beforeChange","afterChange","change"],displayName:"Range",data(){const{count:s,min:g,max:d}=this,h=Array(...Array(s+1)).map(()=>g),y=W7(this,"defaultValue")?this.defaultValue:h;let{value:k}=this;k===void 0&&(k=y);const x=k.map((P,I)=>Fk({value:P,handle:I,props:this.$props}));return{sHandle:null,recent:x[0]===d?0:x.length-1,bounds:x}},watch:{value:{handler(s){const{bounds:g}=this;this.setChangeValue(s||g)},deep:!0},min(){const{value:s}=this;this.setChangeValue(s||this.bounds)},max(){const{value:s}=this;this.setChangeValue(s||this.bounds)}},methods:{setChangeValue(s){const{bounds:g}=this;let d=s.map((h,y)=>Fk({value:h,handle:y,bounds:g,props:this.$props}));if(g.length===d.length){if(d.every((h,y)=>h===g[y]))return null}else d=s.map((h,y)=>Fk({value:h,handle:y,props:this.$props}));if(this.setState({bounds:d}),s.some(h=>Dj(h,this.$props))){const h=s.map(y=>HH(y,this.$props));this.$emit("change",h)}},onChange(s){if(!W7(this,"value"))this.setState(s);else{const y={};["sHandle","recent"].forEach(k=>{s[k]!==void 0&&(y[k]=s[k])}),Object.keys(y).length&&this.setState(y)}const h=We(We({},this.$data),s).bounds;this.$emit("change",h)},positionGetValue(s){const g=this.getValue(),d=this.calcValueByPos(s),h=this.getClosestBound(d),y=this.getBoundNeedMoving(d,h),k=g[y];if(d===k)return null;const x=[...g];return x[y]=d,x},onStart(s){const{bounds:g}=this;this.$emit("beforeChange",g);const d=this.calcValueByPos(s);this.startValue=d,this.startPosition=s;const h=this.getClosestBound(d);this.prevMovedHandleIndex=this.getBoundNeedMoving(d,h),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});const y=g[this.prevMovedHandleIndex];if(d===y)return;const k=[...g];k[this.prevMovedHandleIndex]=d,this.onChange({bounds:k})},onEnd(s){const{sHandle:g}=this;this.removeDocumentEvents(),g||(this.dragTrack=!1),(g!==null||s)&&this.$emit("afterChange",this.bounds),this.setState({sHandle:null})},onMove(s,g,d,h){Jy(s);const{$data:y,$props:k}=this,x=k.max||100,T=k.min||0;if(d){let F=k.vertical?-g:g;F=k.reverse?-F:F;const L=x-Math.max(...h),J=T-Math.min(...h),_=Math.min(Math.max(F/(this.getSliderLength()/100),J),L),U=h.map(te=>Math.floor(Math.max(Math.min(te+_,x),T)));y.bounds.map((te,Z)=>te===U[Z]).some(te=>!te)&&this.onChange({bounds:U});return}const{bounds:P,sHandle:I}=this,B=this.calcValueByPos(g),D=P[I];B!==D&&this.moveTo(B)},onKeyboard(s){const{reverse:g,vertical:d}=this.$props,h=Mj(s,d,g);if(h){Jy(s);const{bounds:y,sHandle:k}=this,x=y[k===null?this.recent:k],T=h(x,this.$props),P=Fk({value:T,handle:k,bounds:y,props:this.$props});if(P===x)return;const I=!0;this.moveTo(P,I)}},getClosestBound(s){const{bounds:g}=this;let d=0;for(let h=1;h<g.length-1;h+=1)s>=g[h]&&(d=h);return Math.abs(g[d+1]-s)<Math.abs(g[d]-s)&&(d+=1),d},getBoundNeedMoving(s,g){const{bounds:d,recent:h}=this;let y=g;const k=d[g+1]===d[g];return k&&d[h]===d[g]&&(y=h),k&&s!==d[g+1]&&(y=s<d[g+1]?g:g+1),y},getLowerBound(){return this.bounds[0]},getUpperBound(){const{bounds:s}=this;return s[s.length-1]},getPoints(){const{marks:s,step:g,min:d,max:h}=this,y=this.internalPointsCache;if(!y||y.marks!==s||y.step!==g){const k=We({},s);if(g!==null)for(let T=d;T<=h;T+=g)k[T]=T;const x=Object.keys(k).map(parseFloat);x.sort((T,P)=>T-P),this.internalPointsCache={marks:s,step:g,points:x}}return this.internalPointsCache.points},moveTo(s,g){const d=[...this.bounds],{sHandle:h,recent:y}=this,k=h===null?y:h;d[k]=s;let x=k;this.$props.pushable!==!1?this.pushSurroundingHandles(d,x):this.$props.allowCross&&(d.sort((T,P)=>T-P),x=d.indexOf(s)),this.onChange({recent:x,sHandle:x,bounds:d}),g&&(this.$emit("afterChange",d),this.setState({},()=>{this.handlesRefs[x].focus()}),this.onEnd())},pushSurroundingHandles(s,g){const d=s[g],{pushable:h}=this,y=Number(h);let k=0;if(s[g+1]-d<y&&(k=1),d-s[g-1]<y&&(k=-1),k===0)return;const x=g+k,T=k*(s[x]-d);this.pushHandle(s,x,k,y-T)||(s[g]=s[x]-k*y)},pushHandle(s,g,d,h){const y=s[g];let k=s[g];for(;d*(k-y)<h;){if(!this.pushHandleOnePoint(s,g,d))return s[g]=y,!1;k=s[g]}return!0},pushHandleOnePoint(s,g,d){const h=this.getPoints(),k=h.indexOf(s[g])+d;if(k>=h.length||k<0)return!1;const x=g+d,T=h[k],{pushable:P}=this,I=Number(P),B=d*(s[x]-T);return this.pushHandle(s,x,d,I-B)?(s[g]=T,!0):!1},trimAlignValue(s){const{sHandle:g,bounds:d}=this;return Fk({value:s,handle:g,bounds:d,props:this.$props})},ensureValueNotConflict(s,g,d){let{allowCross:h,pushable:y}=d;const k=this.$data||{},{bounds:x}=k;if(s=s===void 0?k.sHandle:s,y=Number(y),!h&&s!=null&&x!==void 0){if(s>0&&g<=x[s-1]+y)return x[s-1]+y;if(s<x.length-1&&g>=x[s+1]-y)return x[s+1]-y}return g},getTrack(s){let{bounds:g,prefixCls:d,reverse:h,vertical:y,included:k,offsets:x,trackStyle:T}=s;return g.slice(0,-1).map((P,I)=>{const B=I+1,D=ya({[`${d}-track`]:!0,[`${d}-track-${B}`]:!0});return ue(Ej,{class:D,vertical:y,reverse:h,included:k,offset:x[B-1],length:x[B]-x[B-1],style:T[I],key:B},null)})},renderSlider(){const{sHandle:s,bounds:g,prefixCls:d,vertical:h,included:y,disabled:k,min:x,max:T,reverse:P,handle:I,defaultHandle:B,trackStyle:D,handleStyle:F,tabindex:L,ariaLabelGroupForHandles:J,ariaLabelledByGroupForHandles:_,ariaValueTextFormatterGroupForHandles:U}=this,te=I||B,Z=g.map(X=>this.calcOffset(X)),R=`${d}-handle`,Q=g.map((X,me)=>{let xe=L[me]||0;(k||L[me]===null)&&(xe=null);const fe=s===me;return te({class:ya({[R]:!0,[`${R}-${me+1}`]:!0,[`${R}-dragging`]:fe}),prefixCls:d,vertical:h,dragging:fe,offset:Z[me],value:X,index:me,tabindex:xe,min:x,max:T,reverse:P,disabled:k,style:F[me],ref:se=>this.saveHandle(me,se),onFocus:this.onFocus,onBlur:this.onBlur,ariaLabel:J[me],ariaLabelledBy:_[me],ariaValueTextFormatter:U[me]})});return{tracks:this.getTrack({bounds:g,prefixCls:d,reverse:P,vertical:h,included:y,offsets:Z,trackStyle:D}),handles:Q}}}}),aae=Rj(rae),oae=Rr({compatConfig:{MODE:3},name:"SliderTooltip",inheritAttrs:!1,props:dQ(),setup(s,g){let{attrs:d,slots:h}=g;const y=mn(null),k=mn(null);function x(){Ff.cancel(k.value),k.value=null}function T(){k.value=Ff(()=>{var I;(I=y.value)===null||I===void 0||I.forcePopupAlign(),k.value=null})}const P=()=>{x(),s.open&&T()};return oa([()=>s.open,()=>s.title],()=>{P()},{flush:"post",immediate:!0}),mQ(()=>{P()}),rp(()=>{x()}),()=>ue(aw,Ot(Ot({ref:y},s),d),h)}}),iae=s=>{const{componentCls:g,controlSize:d,dotSize:h,marginFull:y,marginPart:k,colorFillContentHover:x}=s;return{[g]:We(We({},If(s)),{position:"relative",height:d,margin:`${k}px ${y}px`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${y}px ${k}px`},[`${g}-rail`]:{position:"absolute",backgroundColor:s.colorFillTertiary,borderRadius:s.borderRadiusXS,transition:`background-color ${s.motionDurationMid}`},[`${g}-track`]:{position:"absolute",backgroundColor:s.colorPrimaryBorder,borderRadius:s.borderRadiusXS,transition:`background-color ${s.motionDurationMid}`},"&:hover":{[`${g}-rail`]:{backgroundColor:s.colorFillSecondary},[`${g}-track`]:{backgroundColor:s.colorPrimaryBorderHover},[`${g}-dot`]:{borderColor:x},[`${g}-handle::after`]:{boxShadow:`0 0 0 ${s.handleLineWidth}px ${s.colorPrimaryBorderHover}`},[`${g}-dot-active`]:{borderColor:s.colorPrimary}},[`${g}-handle`]:{position:"absolute",width:s.handleSize,height:s.handleSize,outline:"none",[`${g}-dragging`]:{zIndex:1},"&::before":{content:'""',position:"absolute",insetInlineStart:-s.handleLineWidth,insetBlockStart:-s.handleLineWidth,width:s.handleSize+s.handleLineWidth*2,height:s.handleSize+s.handleLineWidth*2,backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:s.handleSize,height:s.handleSize,backgroundColor:s.colorBgElevated,boxShadow:`0 0 0 ${s.handleLineWidth}px ${s.colorPrimaryBorder}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${s.motionDurationMid},
            inset-block-start ${s.motionDurationMid},
            width ${s.motionDurationMid},
            height ${s.motionDurationMid},
            box-shadow ${s.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((s.handleSizeHover-s.handleSize)/2+s.handleLineWidthHover),insetBlockStart:-((s.handleSizeHover-s.handleSize)/2+s.handleLineWidthHover),width:s.handleSizeHover+s.handleLineWidthHover*2,height:s.handleSizeHover+s.handleLineWidthHover*2},"&::after":{boxShadow:`0 0 0 ${s.handleLineWidthHover}px ${s.colorPrimary}`,width:s.handleSizeHover,height:s.handleSizeHover,insetInlineStart:(s.handleSize-s.handleSizeHover)/2,insetBlockStart:(s.handleSize-s.handleSizeHover)/2}}},[`${g}-mark`]:{position:"absolute",fontSize:s.fontSize},[`${g}-mark-text`]:{position:"absolute",display:"inline-block",color:s.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:s.colorText}},[`${g}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${g}-dot`]:{position:"absolute",width:h,height:h,backgroundColor:s.colorBgElevated,border:`${s.handleLineWidth}px solid ${s.colorBorderSecondary}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${s.motionDurationSlow}`,"&-active":{borderColor:s.colorPrimaryBorder}},[`&${g}-disabled`]:{cursor:"not-allowed",[`${g}-rail`]:{backgroundColor:`${s.colorFillSecondary} !important`},[`${g}-track`]:{backgroundColor:`${s.colorTextDisabled} !important`},[`
          ${g}-dot
        `]:{backgroundColor:s.colorBgElevated,borderColor:s.colorTextDisabled,boxShadow:"none",cursor:"not-allowed"},[`${g}-handle::after`]:{backgroundColor:s.colorBgElevated,cursor:"not-allowed",width:s.handleSize,height:s.handleSize,boxShadow:`0 0 0 ${s.handleLineWidth}px ${new Xy(s.colorTextDisabled).onBackground(s.colorBgContainer).toHexString()}`,insetInlineStart:0,insetBlockStart:0},[`
          ${g}-mark-text,
          ${g}-dot
        `]:{cursor:"not-allowed !important"}}})}},Bj=(s,g)=>{const{componentCls:d,railSize:h,handleSize:y,dotSize:k}=s,x=g?"paddingBlock":"paddingInline",T=g?"width":"height",P=g?"height":"width",I=g?"insetBlockStart":"insetInlineStart",B=g?"top":"insetInlineStart";return{[x]:h,[P]:h*3,[`${d}-rail`]:{[T]:"100%",[P]:h},[`${d}-track`]:{[P]:h},[`${d}-handle`]:{[I]:(h*3-y)/2},[`${d}-mark`]:{insetInlineStart:0,top:0,[B]:y,[T]:"100%"},[`${d}-step`]:{insetInlineStart:0,top:0,[B]:h,[T]:"100%",[P]:h},[`${d}-dot`]:{position:"absolute",[I]:(h-k)/2}}},uae=s=>{const{componentCls:g,marginPartWithMark:d}=s;return{[`${g}-horizontal`]:We(We({},Bj(s,!0)),{[`&${g}-with-marks`]:{marginBottom:d}})}},lae=s=>{const{componentCls:g}=s;return{[`${g}-vertical`]:We(We({},Bj(s,!1)),{height:"100%"})}},sae=jv("Slider",s=>{const g=Jc(s,{marginPart:(s.controlHeight-s.controlSize)/2,marginFull:s.controlSize/2,marginPartWithMark:s.controlHeightLG-s.controlSize});return[iae(g),uae(g),lae(g)]},s=>{const d=s.controlHeightLG/4,h=s.controlHeightSM/2,y=s.lineWidth+1,k=s.lineWidth+1*3;return{controlSize:d,railSize:4,handleSize:d,handleSizeHover:h,dotSize:8,handleLineWidth:y,handleLineWidthHover:k}});var RU=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const cae=s=>typeof s=="number"?s.toString():"",fae=()=>({id:String,prefixCls:String,tooltipPrefixCls:String,range:Si([Boolean,Object]),reverse:ea(),min:Number,max:Number,step:Si([Object,Number]),marks:gl(),dots:ea(),value:Si([Array,Number]),defaultValue:Si([Array,Number]),included:ea(),disabled:ea(),vertical:ea(),tipFormatter:Si([Function,Object],()=>cae),tooltipOpen:ea(),tooltipVisible:ea(),tooltipPlacement:zo(),getTooltipPopupContainer:Wn(),autofocus:ea(),handleStyle:Si([Array,Object]),trackStyle:Si([Array,Object]),onChange:Wn(),onAfterChange:Wn(),onFocus:Wn(),onBlur:Wn(),"onUpdate:value":Wn()}),vae=Rr({compatConfig:{MODE:3},name:"ASlider",inheritAttrs:!1,props:fae(),slots:Object,setup(s,g){let{attrs:d,slots:h,emit:y,expose:k}=g;const{prefixCls:x,rootPrefixCls:T,direction:P,getPopupContainer:I,configProvider:B}=Nl("slider",s),[D,F]=sae(x),L=Qc(),J=mn(),_=mn({}),U=(xe,fe)=>{_.value[xe]=fe},te=yt(()=>s.tooltipPlacement?s.tooltipPlacement:s.vertical?P.value==="rtl"?"left":"right":"top"),Z=()=>{var xe;(xe=J.value)===null||xe===void 0||xe.focus()},R=()=>{var xe;(xe=J.value)===null||xe===void 0||xe.blur()},Q=xe=>{y("update:value",xe),y("change",xe),L.onFieldChange()},X=xe=>{y("blur",xe)};k({focus:Z,blur:R});const me=xe=>{var{tooltipPrefixCls:fe}=xe,se=xe.info,{value:Ce,dragging:oe,index:z}=se,G=RU(se,["value","dragging","index"]);const{tipFormatter:he,tooltipOpen:Ge=s.tooltipVisible,getTooltipPopupContainer:Me}=s,je=he?_.value[z]||oe:!1,tt=Ge||Ge===void 0&&je;return ue(oae,{prefixCls:fe,title:he?he(Ce):"",open:tt,placement:te.value,transitionName:`${T.value}-zoom-down`,key:z,overlayClassName:`${x.value}-tooltip`,getPopupContainer:Me||I?.value},{default:()=>[ue($j,Ot(Ot({},G),{},{value:Ce,onMouseenter:()=>U(z,!0),onMouseleave:()=>U(z,!1)}),null)]})};return()=>{const{tooltipPrefixCls:xe,range:fe,id:se=L.id.value}=s,Ce=RU(s,["tooltipPrefixCls","range","id"]),oe=B.getPrefixCls("tooltip",xe),z=ya(d.class,{[`${x.value}-rtl`]:P.value==="rtl"},F.value);P.value==="rtl"&&!Ce.vertical&&(Ce.reverse=!Ce.reverse);let G;return typeof fe=="object"&&(G=fe.draggableTrack),D(fe?ue(aae,Ot(Ot(Ot({},d),Ce),{},{step:Ce.step,draggableTrack:G,class:z,ref:J,handle:he=>me({tooltipPrefixCls:oe,prefixCls:x.value,info:he}),prefixCls:x.value,onChange:Q,onBlur:X}),{mark:h.mark}):ue(tae,Ot(Ot(Ot({},d),Ce),{},{id:se,step:Ce.step,class:z,ref:J,handle:he=>me({tooltipPrefixCls:oe,prefixCls:x.value,info:he}),prefixCls:x.value,onChange:Q,onBlur:X}),{mark:h.mark}))}}}),dae=ew(vae),mae={prefixCls:String,placeholder:String,value:String,handleClear:Function,disabled:{type:Boolean,default:void 0},onChange:Function},gae=Rr({compatConfig:{MODE:3},name:"Search",inheritAttrs:!1,props:Ms(mae,{placeholder:""}),emits:["change"],setup(s,g){let{emit:d}=g;const h=y=>{var k;d("change",y),y.target.value===""&&((k=s.handleClear)===null||k===void 0||k.call(s))};return()=>{const{placeholder:y,value:k,prefixCls:x,disabled:T}=s;return ue(tp,{placeholder:y,class:x,value:k,onChange:h,disabled:T,allowClear:!0},{prefix:()=>ue(gQ,null,null)})}}});var pae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const hae=pae;function BU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){bae(s,y,d[y])})}return s}function bae(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var VH=function(g,d){var h=BU({},g,d.attrs);return ue(sm,BU({},h,{icon:hae}),null)};VH.displayName="DeleteOutlined";VH.inheritAttrs=!1;const Fj=VH;function yae(){}const wae={renderedText:Hr.any,renderedEl:Hr.any,item:Hr.any,checked:ea(),prefixCls:String,disabled:ea(),showRemove:ea(),onClick:Function,onRemove:Function},Cae=Rr({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:wae,emits:["click","remove"],setup(s,g){let{emit:d}=g;return()=>{const{renderedText:h,renderedEl:y,item:k,checked:x,disabled:T,prefixCls:P,showRemove:I}=s,B=ya({[`${P}-content-item`]:!0,[`${P}-content-item-disabled`]:T||k.disabled});let D;return(typeof h=="string"||typeof h=="number")&&(D=String(h)),ue(lW,{componentName:"Transfer",defaultLocale:vH.Transfer},{default:F=>{const L=ue("span",{class:`${P}-content-item-text`},[y]);return I?ue("li",{class:B,title:D},[L,ue(lee,{disabled:T||k.disabled,class:`${P}-content-item-remove`,"aria-label":F.remove,onClick:()=>{d("remove",k)}},{default:()=>[ue(Fj,null,null)]})]):ue("li",{class:B,title:D,onClick:T||k.disabled?yae:()=>{d("click",k)}},[ue(gP,{class:`${P}-checkbox`,checked:x,disabled:T||k.disabled},null),L])}})}}}),Sae={prefixCls:String,filteredRenderItems:Hr.array.def([]),selectedKeys:Hr.array,disabled:ea(),showRemove:ea(),pagination:Hr.any,onItemSelect:Function,onScroll:Function,onItemRemove:Function};function xae(s){if(!s)return null;const g={pageSize:10,simple:!0,showSizeChanger:!1,showLessItems:!1};return typeof s=="object"?We(We({},g),s):g}const kae=Rr({compatConfig:{MODE:3},name:"ListBody",inheritAttrs:!1,props:Sae,emits:["itemSelect","itemRemove","scroll"],setup(s,g){let{emit:d,expose:h}=g;const y=mn(1),k=D=>{const{selectedKeys:F}=s,L=F.indexOf(D.key)>=0;d("itemSelect",D.key,!L)},x=D=>{d("itemRemove",[D.key])},T=D=>{d("scroll",D)},P=yt(()=>xae(s.pagination));oa([P,()=>s.filteredRenderItems],()=>{if(P.value){const D=Math.ceil(s.filteredRenderItems.length/P.value.pageSize);y.value=Math.min(y.value,D)}},{immediate:!0});const I=yt(()=>{const{filteredRenderItems:D}=s;let F=D;return P.value&&(F=D.slice((y.value-1)*P.value.pageSize,y.value*P.value.pageSize)),F}),B=D=>{y.value=D};return h({items:I}),()=>{const{prefixCls:D,filteredRenderItems:F,selectedKeys:L,disabled:J,showRemove:_}=s;let U=null;P.value&&(U=ue(EW,{simple:P.value.simple,showSizeChanger:P.value.showSizeChanger,showLessItems:P.value.showLessItems,size:"small",disabled:J,class:`${D}-pagination`,total:F.length,pageSize:P.value.pageSize,current:y.value,onChange:B},null));const te=I.value.map(Z=>{let{renderedEl:R,renderedText:Q,item:X}=Z;const{disabled:me}=X,xe=L.indexOf(X.key)>=0;return ue(Cae,{disabled:J||me,key:X.key,item:X,renderedText:Q,renderedEl:R,checked:xe,prefixCls:D,onClick:k,onRemove:x,showRemove:_},null)});return ue(eu,null,[ue("ul",{class:ya(`${D}-content`,{[`${D}-content-show-remove`]:_}),onScroll:T},[te]),U])}}}),Tae=kae,eH=s=>{const g=new Map;return s.forEach((d,h)=>{g.set(d,h)}),g},Eae=s=>{const g=new Map;return s.forEach((d,h)=>{let{disabled:y,key:k}=d;y&&g.set(k,h)}),g},Oae=()=>null;function Aae(s){return!!(s&&!Qy(s)&&Object.prototype.toString.call(s)==="[object Object]")}function q_(s){return s.filter(g=>!g.disabled).map(g=>g.key)}const $ae={prefixCls:String,dataSource:gu([]),filter:String,filterOption:Function,checkedKeys:Hr.arrayOf(Hr.string),handleFilter:Function,handleClear:Function,renderItem:Function,showSearch:ea(!1),searchPlaceholder:String,notFoundContent:Hr.any,itemUnit:String,itemsUnit:String,renderList:Hr.any,disabled:ea(),direction:zo(),showSelectAll:ea(),remove:String,selectAll:String,selectCurrent:String,selectInvert:String,removeAll:String,removeCurrent:String,selectAllLabel:Hr.any,showRemove:ea(),pagination:Hr.any,onItemSelect:Function,onItemSelectAll:Function,onItemRemove:Function,onScroll:Function},FU=Rr({compatConfig:{MODE:3},name:"TransferList",inheritAttrs:!1,props:$ae,slots:Object,setup(s,g){let{attrs:d,slots:h}=g;const y=mn(""),k=mn(),x=mn(),T=(X,me)=>{let xe=X?X(me):null;const fe=!!xe&&dH(xe).length>0;return fe||(xe=ue(Tae,Ot(Ot({},me),{},{ref:x}),null)),{customize:fe,bodyContent:xe}},P=X=>{const{renderItem:me=Oae}=s,xe=me(X),fe=Aae(xe);return{renderedText:fe?xe.value:xe,renderedEl:fe?xe.label:xe,item:X}},I=mn([]),B=mn([]);pl(()=>{const X=[],me=[];s.dataSource.forEach(xe=>{const fe=P(xe),{renderedText:se}=fe;if(y.value&&y.value.trim()&&!te(se,xe))return null;X.push(xe),me.push(fe)}),I.value=X,B.value=me});const D=yt(()=>{const{checkedKeys:X}=s;if(X.length===0)return"none";const me=eH(X);return I.value.every(xe=>me.has(xe.key)||!!xe.disabled)?"all":"part"}),F=yt(()=>q_(I.value)),L=(X,me)=>Array.from(new Set([...X,...s.checkedKeys])).filter(xe=>me.indexOf(xe)===-1),J=X=>{let{disabled:me,prefixCls:xe}=X;var fe;const se=D.value==="all";return ue(gP,{disabled:((fe=s.dataSource)===null||fe===void 0?void 0:fe.length)===0||me,checked:se,indeterminate:D.value==="part",class:`${xe}-checkbox`,onChange:()=>{const oe=F.value;s.onItemSelectAll(L(se?[]:oe,se?s.checkedKeys:[]))}},null)},_=X=>{var me;const{target:{value:xe}}=X;y.value=xe,(me=s.handleFilter)===null||me===void 0||me.call(s,X)},U=X=>{var me;y.value="",(me=s.handleClear)===null||me===void 0||me.call(s,X)},te=(X,me)=>{const{filterOption:xe}=s;return xe?xe(y.value,me):X.includes(y.value)},Z=(X,me)=>{const{itemsUnit:xe,itemUnit:fe,selectAllLabel:se}=s;if(se)return typeof se=="function"?se({selectedCount:X,totalCount:me}):se;const Ce=me>1?xe:fe;return ue(eu,null,[(X>0?`${X}/`:"")+me,Ni(" "),Ce])},R=yt(()=>Array.isArray(s.notFoundContent)?s.notFoundContent[s.direction==="left"?0:1]:s.notFoundContent),Q=(X,me,xe,fe,se,Ce)=>{const oe=se?ue("div",{class:`${X}-body-search-wrapper`},[ue(gae,{prefixCls:`${X}-search`,onChange:_,handleClear:U,placeholder:me,value:y.value,disabled:Ce},null)]):null;let z;const{onEvents:G}=hQ(d),{bodyContent:he,customize:Ge}=T(fe,We(We(We({},s),{filteredItems:I.value,filteredRenderItems:B.value,selectedKeys:xe}),G));return Ge?z=ue("div",{class:`${X}-body-customize-wrapper`},[he]):z=I.value.length?he:ue("div",{class:`${X}-body-not-found`},[R.value]),ue("div",{class:se?`${X}-body ${X}-body-with-search`:`${X}-body`,ref:k},[oe,z])};return()=>{var X,me;const{prefixCls:xe,checkedKeys:fe,disabled:se,showSearch:Ce,searchPlaceholder:oe,selectAll:z,selectCurrent:G,selectInvert:he,removeAll:Ge,removeCurrent:Me,renderList:je,onItemSelectAll:tt,onItemRemove:E,showSelectAll:Ae=!0,showRemove:Le,pagination:At}=s,ze=(X=h.footer)===null||X===void 0?void 0:X.call(h,We({},s)),ft=ya(xe,{[`${xe}-with-pagination`]:!!At,[`${xe}-with-footer`]:!!ze}),Xe=Q(xe,oe,fe,je,Ce,se),ct=ze?ue("div",{class:`${xe}-footer`},[ze]):null,re=!Le&&!At&&J({disabled:se,prefixCls:xe});let Vt=null;Le?Vt=ue(ub,null,{default:()=>[At&&ue(ub.Item,{key:"removeCurrent",onClick:()=>{const Oe=q_((x.value.items||[]).map(dt=>dt.item));E?.(Oe)}},{default:()=>[Me]}),ue(ub.Item,{key:"removeAll",onClick:()=>{E?.(F.value)}},{default:()=>[Ge]})]}):Vt=ue(ub,null,{default:()=>[ue(ub.Item,{key:"selectAll",onClick:()=>{const Oe=F.value;tt(L(Oe,[]))}},{default:()=>[z]}),At&&ue(ub.Item,{onClick:()=>{const Oe=q_((x.value.items||[]).map(dt=>dt.item));tt(L(Oe,[]))}},{default:()=>[G]}),ue(ub.Item,{key:"selectInvert",onClick:()=>{let Oe;At?Oe=q_((x.value.items||[]).map(at=>at.item)):Oe=F.value;const dt=new Set(fe),Ne=[],Be=[];Oe.forEach(at=>{dt.has(at)?Be.push(at):Ne.push(at)}),tt(L(Ne,Be))}},{default:()=>[he]})]});const it=ue(pQ,{class:`${xe}-header-dropdown`,overlay:Vt,disabled:se},{default:()=>[ue(TW,null,null)]});return ue("div",{class:ft,style:d.style},[ue("div",{class:`${xe}-header`},[Ae?ue(eu,null,[re,it]):null,ue("span",{class:`${xe}-header-selected`},[ue("span",null,[Z(fe.length,I.value.length)]),ue("span",{class:`${xe}-header-title`},[(me=h.titleText)===null||me===void 0?void 0:me.call(h)])])]),Xe,ct])}}});function IU(){}const UH=s=>{const{disabled:g,moveToLeft:d=IU,moveToRight:h=IU,leftArrowText:y="",rightArrowText:k="",leftActive:x,rightActive:T,class:P,style:I,direction:B,oneWay:D}=s;return ue("div",{class:P,style:I},[ue(jk,{type:"primary",size:"small",disabled:g||!T,onClick:h,icon:B!=="rtl"?ue(tP,null,null):ue(eP,null,null)},{default:()=>[k]}),!D&&ue(jk,{type:"primary",size:"small",disabled:g||!x,onClick:d,icon:B!=="rtl"?ue(eP,null,null):ue(tP,null,null)},{default:()=>[y]})])};UH.displayName="Operation";UH.inheritAttrs=!1;const Dae=UH,_ae=s=>{const{antCls:g,componentCls:d,listHeight:h,controlHeightLG:y,marginXXS:k,margin:x}=s,T=`${g}-table`,P=`${g}-input`;return{[`${d}-customize-list`]:{[`${d}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:h},[`${T}-wrapper`]:{[`${T}-small`]:{border:0,borderRadius:0,[`${T}-selection-column`]:{width:y,minWidth:y}},[`${T}-pagination${T}-pagination`]:{margin:`${x}px 0 ${k}px`}},[`${P}[disabled]`]:{backgroundColor:"transparent"}}}},NU=(s,g)=>{const{componentCls:d,colorBorder:h}=s;return{[`${d}-list`]:{borderColor:g,"&-search:not([disabled])":{borderColor:h}}}},Pae=s=>{const{componentCls:g}=s;return{[`${g}-status-error`]:We({},NU(s,s.colorError)),[`${g}-status-warning`]:We({},NU(s,s.colorWarning))}},Mae=s=>{const{componentCls:g,colorBorder:d,colorSplit:h,lineWidth:y,transferItemHeight:k,transferHeaderHeight:x,transferHeaderVerticalPadding:T,transferItemPaddingVertical:P,controlItemBgActive:I,controlItemBgActiveHover:B,colorTextDisabled:D,listHeight:F,listWidth:L,listWidthLG:J,fontSizeIcon:_,marginXS:U,paddingSM:te,lineType:Z,iconCls:R,motionDurationSlow:Q}=s;return{display:"flex",flexDirection:"column",width:L,height:F,border:`${y}px ${Z} ${d}`,borderRadius:s.borderRadiusLG,"&-with-pagination":{width:J,height:"auto"},"&-search":{[`${R}-search`]:{color:D}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:x,padding:`${T-y}px ${te}px ${T}px`,color:s.colorText,background:s.colorBgContainer,borderBottom:`${y}px ${Z} ${h}`,borderRadius:`${s.borderRadiusLG}px ${s.borderRadiusLG}px 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":We(We({},Yy),{flex:"auto",textAlign:"end"}),"&-dropdown":We(We({},bQ()),{fontSize:_,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",overflow:"hidden",fontSize:s.fontSize,"&-search-wrapper":{position:"relative",flex:"none",padding:te}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none","&-item":{display:"flex",alignItems:"center",minHeight:k,padding:`${P}px ${te}px`,transition:`all ${Q}`,"> *:not(:last-child)":{marginInlineEnd:U},"> *":{flex:"none"},"&-text":We(We({},Yy),{flex:"auto"}),"&-remove":{position:"relative",color:d,cursor:"pointer",transition:`all ${Q}`,"&:hover":{color:s.colorLinkHover},"&::after":{position:"absolute",insert:`-${P}px -50%`,content:'""'}},[`&:not(${g}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:s.controlItemBgHover,cursor:"pointer"},[`&${g}-list-content-item-checked:hover`]:{backgroundColor:B}},"&-checked":{backgroundColor:I},"&-disabled":{color:D,cursor:"not-allowed"}},[`&-show-remove ${g}-list-content-item:not(${g}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:`${s.paddingXS}px 0`,textAlign:"end",borderTop:`${y}px ${Z} ${h}`},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:D,textAlign:"center"},"&-footer":{borderTop:`${y}px ${Z} ${h}`},"&-checkbox":{lineHeight:1}}},Rae=s=>{const{antCls:g,iconCls:d,componentCls:h,transferHeaderHeight:y,marginXS:k,marginXXS:x,fontSizeIcon:T,fontSize:P,lineHeight:I}=s;return{[h]:We(We({},If(s)),{position:"relative",display:"flex",alignItems:"stretch",[`${h}-disabled`]:{[`${h}-list`]:{background:s.colorBgContainerDisabled}},[`${h}-list`]:Mae(s),[`${h}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${k}px`,verticalAlign:"middle",[`${g}-btn`]:{display:"block","&:first-child":{marginBottom:x},[d]:{fontSize:T}}},[`${g}-empty-image`]:{maxHeight:y/2-Math.round(P*I)}})}},Bae=s=>{const{componentCls:g}=s;return{[`${g}-rtl`]:{direction:"rtl"}}},Fae=jv("Transfer",s=>{const{fontSize:g,lineHeight:d,lineWidth:h,controlHeightLG:y,controlHeight:k}=s,x=Math.round(g*d),T=y,P=k,I=Jc(s,{transferItemHeight:P,transferHeaderHeight:T,transferHeaderVerticalPadding:Math.ceil((T-h-x)/2),transferItemPaddingVertical:(P-x)/2});return[Rae(I),_ae(I),Pae(I),Bae(I)]},{listWidth:180,listHeight:200,listWidthLG:250}),Iae=()=>({id:String,prefixCls:String,dataSource:gu([]),disabled:ea(),targetKeys:gu(),selectedKeys:gu(),render:Wn(),listStyle:Si([Function,Object],()=>({})),operationStyle:gl(void 0),titles:gu(),operations:gu(),showSearch:ea(!1),filterOption:Wn(),searchPlaceholder:String,notFoundContent:Hr.any,locale:gl(),rowKey:Wn(),showSelectAll:ea(),selectAllLabels:gu(),children:Wn(),oneWay:ea(),pagination:Si([Object,Boolean]),status:zo(),onChange:Wn(),onSelectChange:Wn(),onSearch:Wn(),onScroll:Wn(),"onUpdate:targetKeys":Wn(),"onUpdate:selectedKeys":Wn()}),Nae=Rr({compatConfig:{MODE:3},name:"ATransfer",inheritAttrs:!1,props:Iae(),slots:Object,setup(s,g){let{emit:d,attrs:h,slots:y,expose:k}=g;const{configProvider:x,prefixCls:T,direction:P}=Nl("transfer",s),[I,B]=Fae(T),D=mn([]),F=mn([]),L=Qc(),J=rw.useInject(),_=yt(()=>Kk(J.status,s.status));oa(()=>s.selectedKeys,()=>{var Xe,ct;D.value=((Xe=s.selectedKeys)===null||Xe===void 0?void 0:Xe.filter(re=>s.targetKeys.indexOf(re)===-1))||[],F.value=((ct=s.selectedKeys)===null||ct===void 0?void 0:ct.filter(re=>s.targetKeys.indexOf(re)>-1))||[]},{immediate:!0});const U=(Xe,ct)=>{const re={notFoundContent:ct("Transfer")},Vt=yQ(y,s,"notFoundContent");return Vt&&(re.notFoundContent=Vt),s.searchPlaceholder!==void 0&&(re.searchPlaceholder=s.searchPlaceholder),We(We(We({},Xe),re),s.locale)},te=Xe=>{const{targetKeys:ct=[],dataSource:re=[]}=s,Vt=Xe==="right"?D.value:F.value,it=Eae(re),Oe=Vt.filter(at=>!it.has(at)),dt=eH(Oe),Ne=Xe==="right"?Oe.concat(ct):ct.filter(at=>!dt.has(at)),Be=Xe==="right"?"left":"right";Xe==="right"?D.value=[]:F.value=[],d("update:targetKeys",Ne),xe(Be,[]),d("change",Ne,Xe,Oe),L.onFieldChange()},Z=()=>{te("left")},R=()=>{te("right")},Q=(Xe,ct)=>{xe(Xe,ct)},X=Xe=>Q("left",Xe),me=Xe=>Q("right",Xe),xe=(Xe,ct)=>{Xe==="left"?(s.selectedKeys||(D.value=ct),d("update:selectedKeys",[...ct,...F.value]),d("selectChange",ct,Zc(F.value))):(s.selectedKeys||(F.value=ct),d("update:selectedKeys",[...ct,...D.value]),d("selectChange",Zc(D.value),ct))},fe=(Xe,ct)=>{const re=ct.target.value;d("search",Xe,re)},se=Xe=>{fe("left",Xe)},Ce=Xe=>{fe("right",Xe)},oe=Xe=>{d("search",Xe,"")},z=()=>{oe("left")},G=()=>{oe("right")},he=(Xe,ct,re)=>{const Vt=Xe==="left"?[...D.value]:[...F.value],it=Vt.indexOf(ct);it>-1&&Vt.splice(it,1),re&&Vt.push(ct),xe(Xe,Vt)},Ge=(Xe,ct)=>he("left",Xe,ct),Me=(Xe,ct)=>he("right",Xe,ct),je=Xe=>{const{targetKeys:ct=[]}=s,re=ct.filter(Vt=>!Xe.includes(Vt));d("update:targetKeys",re),d("change",re,"left",[...Xe])},tt=(Xe,ct)=>{d("scroll",Xe,ct)},E=Xe=>{tt("left",Xe)},Ae=Xe=>{tt("right",Xe)},Le=(Xe,ct)=>typeof Xe=="function"?Xe({direction:ct}):Xe,At=mn([]),ze=mn([]);pl(()=>{const{dataSource:Xe,rowKey:ct,targetKeys:re=[]}=s,Vt=[],it=new Array(re.length),Oe=eH(re);Xe.forEach(dt=>{ct&&(dt.key=ct(dt)),Oe.has(dt.key)?it[Oe.get(dt.key)]=dt:Vt.push(dt)}),At.value=Vt,ze.value=it}),k({handleSelectChange:xe});const ft=Xe=>{var ct,re,Vt,it,Oe,dt;const{disabled:Ne,operations:Be=[],showSearch:at,listStyle:gt,operationStyle:ut,filterOption:Et,showSelectAll:_n,selectAllLabels:Re=[],oneWay:Tt,pagination:ln,id:Ut=L.id.value}=s,{class:fn,style:bn}=h,In=y.children,sr=!In&&ln,yr=x.renderEmpty,$t=U(Xe,yr),{footer:Dt}=y,Ft=s.render||y.render,rt=F.value.length>0,st=D.value.length>0,Wt=ya(T.value,fn,{[`${T.value}-disabled`]:Ne,[`${T.value}-customize-list`]:!!In,[`${T.value}-rtl`]:P.value==="rtl"},Gk(T.value,_.value,J.hasFeedback),B.value),dn=s.titles,Xt=(Vt=(ct=dn&&dn[0])!==null&&ct!==void 0?ct:(re=y.leftTitle)===null||re===void 0?void 0:re.call(y))!==null&&Vt!==void 0?Vt:($t.titles||["",""])[0],Ve=(dt=(it=dn&&dn[1])!==null&&it!==void 0?it:(Oe=y.rightTitle)===null||Oe===void 0?void 0:Oe.call(y))!==null&&dt!==void 0?dt:($t.titles||["",""])[1];return ue("div",Ot(Ot({},h),{},{class:Wt,style:bn,id:Ut}),[ue(FU,Ot({key:"leftList",prefixCls:`${T.value}-list`,dataSource:At.value,filterOption:Et,style:Le(gt,"left"),checkedKeys:D.value,handleFilter:se,handleClear:z,onItemSelect:Ge,onItemSelectAll:X,renderItem:Ft,showSearch:at,renderList:In,onScroll:E,disabled:Ne,direction:P.value==="rtl"?"right":"left",showSelectAll:_n,selectAllLabel:Re[0]||y.leftSelectAllLabel,pagination:sr},$t),{titleText:()=>Xt,footer:Dt}),ue(Dae,{key:"operation",class:`${T.value}-operation`,rightActive:st,rightArrowText:Be[0],moveToRight:R,leftActive:rt,leftArrowText:Be[1],moveToLeft:Z,style:ut,disabled:Ne,direction:P.value,oneWay:Tt},null),ue(FU,Ot({key:"rightList",prefixCls:`${T.value}-list`,dataSource:ze.value,filterOption:Et,style:Le(gt,"right"),checkedKeys:F.value,handleFilter:Ce,handleClear:G,onItemSelect:Me,onItemSelectAll:me,onItemRemove:je,renderItem:Ft,showSearch:at,renderList:In,onScroll:Ae,disabled:Ne,direction:P.value==="rtl"?"left":"right",showSelectAll:_n,selectAllLabel:Re[1]||y.rightSelectAllLabel,showRemove:Tt,pagination:sr},$t),{titleText:()=>Ve,footer:Dt})])};return()=>I(ue(lW,{componentName:"Transfer",defaultLocale:vH.Transfer,children:ft},null))}}),Lae=ew(Nae);function zae(s){return Array.isArray(s)?s:s!==void 0?[s]:[]}function Hae(s){const{label:g,value:d,children:h}=s||{},y=d||"value";return{_title:g?[g]:["title","label"],value:y,key:y,children:h||"children"}}function tH(s){return s.disabled||s.disableCheckbox||s.checkable===!1}function Vae(s,g){const d=[];function h(y){y.forEach(k=>{d.push(k[g.value]);const x=k[g.children];x&&h(x)})}return h(s),d}function LU(s){return s==null}const Ij=Symbol("TreeSelectContextPropsKey");function Uae(s){return vb(Ij,s)}function Wae(){return db(Ij,{})}const jae={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qae=Rr({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(s,g){let{slots:d,expose:h}=g;const y=pP(),k=tee(),x=Wae(),T=mn(),P=gW(()=>x.treeData,[()=>y.open,()=>x.treeData],X=>X[0]),I=yt(()=>{const{checkable:X,halfCheckedKeys:me,checkedKeys:xe}=k;return X?{checked:xe,halfChecked:me}:null});oa(()=>y.open,()=>{nw(()=>{var X;y.open&&!y.multiple&&k.checkedKeys.length&&((X=T.value)===null||X===void 0||X.scrollTo({key:k.checkedKeys[0]}))})},{immediate:!0,flush:"post"});const B=yt(()=>String(y.searchValue).toLowerCase()),D=X=>B.value?String(X[k.treeNodeFilterProp]).toLowerCase().includes(B.value):!1,F=Co(k.treeDefaultExpandedKeys),L=Co(null);oa(()=>y.searchValue,()=>{y.searchValue&&(L.value=Vae(Zc(x.treeData),Zc(x.fieldNames)))},{immediate:!0});const J=yt(()=>k.treeExpandedKeys?k.treeExpandedKeys.slice():y.searchValue?L.value:F.value),_=X=>{var me;F.value=X,L.value=X,(me=k.onTreeExpand)===null||me===void 0||me.call(k,X)},U=X=>{X.preventDefault()},te=(X,me)=>{let{node:xe}=me;var fe,se;const{checkable:Ce,checkedKeys:oe}=k;Ce&&tH(xe)||((fe=x.onSelect)===null||fe===void 0||fe.call(x,xe.key,{selected:!oe.includes(xe.key)}),y.multiple||(se=y.toggleOpen)===null||se===void 0||se.call(y,!1))},Z=mn(null),R=yt(()=>k.keyEntities[Z.value]),Q=X=>{Z.value=X};return h({scrollTo:function(){for(var X,me,xe=arguments.length,fe=new Array(xe),se=0;se<xe;se++)fe[se]=arguments[se];return(me=(X=T.value)===null||X===void 0?void 0:X.scrollTo)===null||me===void 0?void 0:me.call(X,...fe)},onKeydown:X=>{var me;const{which:xe}=X;switch(xe){case sa.UP:case sa.DOWN:case sa.LEFT:case sa.RIGHT:(me=T.value)===null||me===void 0||me.onKeydown(X);break;case sa.ENTER:{if(R.value){const{selectable:fe,value:se}=R.value.node||{};fe!==!1&&te(null,{node:{key:Z.value},selected:!k.checkedKeys.includes(se)})}break}case sa.ESC:y.toggleOpen(!1)}},onKeyup:()=>{}}),()=>{var X;const{prefixCls:me,multiple:xe,searchValue:fe,open:se,notFoundContent:Ce=(X=d.notFoundContent)===null||X===void 0?void 0:X.call(d)}=y,{listHeight:oe,listItemHeight:z,virtual:G,dropdownMatchSelectWidth:he,treeExpandAction:Ge}=x,{checkable:Me,treeDefaultExpandAll:je,treeIcon:tt,showTreeIcon:E,switcherIcon:Ae,treeLine:Le,loadData:At,treeLoadedKeys:ze,treeMotion:ft,onTreeLoad:Xe,checkedKeys:ct}=k;if(P.value.length===0)return ue("div",{role:"listbox",class:`${me}-empty`,onMousedown:U},[Ce]);const re={fieldNames:x.fieldNames};return ze&&(re.loadedKeys=ze),J.value&&(re.expandedKeys=J.value),ue("div",{onMousedown:U},[R.value&&se&&ue("span",{style:jae,"aria-live":"assertive"},[R.value.node.value]),ue(ree,Ot(Ot({ref:T,focusable:!1,prefixCls:`${me}-tree`,treeData:P.value,height:oe,itemHeight:z,virtual:G!==!1&&he!==!1,multiple:xe,icon:tt,showIcon:E,switcherIcon:Ae,showLine:Le,loadData:fe?null:At,motion:ft,activeKey:Z.value,checkable:Me,checkStrictly:!0,checkedKeys:I.value,selectedKeys:Me?[]:ct,defaultExpandAll:je},re),{},{onActiveChange:Q,onSelect:te,onCheck:te,onExpand:_,onLoad:Xe,filterTreeNode:D,expandAction:Ge}),We(We({},d),{checkable:k.customSlots.treeCheckable}))])}}}),Kae="SHOW_ALL",Nj="SHOW_PARENT",WH="SHOW_CHILD";function zU(s,g,d,h){const y=new Set(s);return g===WH?s.filter(k=>{const x=d[k];return!(x&&x.children&&x.children.some(T=>{let{node:P}=T;return y.has(P[h.value])})&&x.children.every(T=>{let{node:P}=T;return tH(P)||y.has(P[h.value])}))}):g===Nj?s.filter(k=>{const x=d[k],T=x?x.parent:null;return!(T&&!tH(T.node)&&y.has(T.key))}):s}const OP=()=>null;OP.inheritAttrs=!1;OP.displayName="ATreeSelectNode";OP.isTreeSelectNode=!0;const jH=OP;var Gae=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};function Yae(s){return s&&s.type&&s.type.isTreeSelectNode}function Xae(s){function g(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return dH(d).map(h=>{var y,k,x;if(!Yae(h))return null;const T=h.children||{},P=h.key,I={};for(const[xe,fe]of Object.entries(h.props))I[wQ(xe)]=fe;const{isLeaf:B,checkable:D,selectable:F,disabled:L,disableCheckbox:J}=I,_={isLeaf:B||B===""||void 0,checkable:D||D===""||void 0,selectable:F||F===""||void 0,disabled:L||L===""||void 0,disableCheckbox:J||J===""||void 0},U=We(We({},I),_),{title:te=(y=T.title)===null||y===void 0?void 0:y.call(T,U),switcherIcon:Z=(k=T.switcherIcon)===null||k===void 0?void 0:k.call(T,U)}=I,R=Gae(I,["title","switcherIcon"]),Q=(x=T.default)===null||x===void 0?void 0:x.call(T),X=We(We(We({},R),{title:te,switcherIcon:Z,key:P,isLeaf:B}),_),me=g(Q);return me.length&&(X.children=me),X})}return g(s)}function nH(s){if(!s)return s;const g=We({},s);return"props"in g||Object.defineProperty(g,"props",{get(){return g}}),g}function Zae(s,g,d,h,y,k){let x=null,T=null;function P(){function I(B){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return B.map((L,J)=>{const _=`${D}-${J}`,U=L[k.value],te=d.includes(U),Z=I(L[k.children]||[],_,te),R=ue(jH,L,{default:()=>[Z.map(Q=>Q.node)]});if(g===U&&(x=R),te){const Q={pos:_,node:R,children:Z};return F||T.push(Q),Q}return null}).filter(L=>L)}T||(T=[],I(h),T.sort((B,D)=>{let{node:{props:{value:F}}}=B,{node:{props:{value:L}}}=D;const J=d.indexOf(F),_=d.indexOf(L);return J-_}))}Object.defineProperty(s,"triggerNode",{get(){return P(),x}}),Object.defineProperty(s,"allCheckedNodes",{get(){return P(),y?T:T.map(I=>{let{node:B}=I;return B})}})}function Jae(s,g){let{id:d,pId:h,rootPId:y}=g;const k={},x=[];return s.map(P=>{const I=We({},P),B=I[d];return k[B]=I,I.key=I.key||B,I}).forEach(P=>{const I=P[h],B=k[I];B&&(B.children=B.children||[],B.children.push(P)),(I===y||!B&&y===null)&&x.push(P)}),x}function Qae(s,g,d){const h=Co();return oa([d,s,g],()=>{const y=d.value;s.value?h.value=d.value?Jae(Zc(s.value),We({id:"id",pId:"pId",rootPId:null},y!==!0?y:{})):Zc(s.value).slice():h.value=Xae(Zc(g.value))},{immediate:!0,deep:!0}),h}const eoe=s=>{const g=Co({valueLabels:new Map}),d=Co();return oa(s,()=>{d.value=Zc(s.value)},{immediate:!0}),[yt(()=>{const{valueLabels:y}=g.value,k=new Map,x=d.value.map(T=>{var P;const{value:I}=T,B=(P=T.label)!==null&&P!==void 0?P:y.get(I);return k.set(I,B),We(We({},T),{label:B})});return g.value.valueLabels=k,x})]},toe=(s,g)=>{const d=Co(new Map),h=Co({});return pl(()=>{const y=g.value,k=CW(s.value,{fieldNames:y,initWrapper:x=>We(We({},x),{valueEntities:new Map}),processEntity:(x,T)=>{const P=x.node[y.value];T.valueEntities.set(P,x)}});d.value=k.valueEntities,h.value=k.keyEntities}),{valueEntities:d,keyEntities:h}},noe=(s,g,d,h,y,k)=>{const x=Co([]),T=Co([]);return pl(()=>{let P=s.value.map(D=>{let{value:F}=D;return F}),I=g.value.map(D=>{let{value:F}=D;return F});const B=P.filter(D=>!h.value[D]);d.value&&({checkedKeys:P,halfCheckedKeys:I}=qy(P,!0,h.value,y.value,k.value)),x.value=Array.from(new Set([...B,...P])),T.value=I}),[x,T]},roe=(s,g,d)=>{let{treeNodeFilterProp:h,filterTreeNode:y,fieldNames:k}=d;return yt(()=>{const{children:x}=k.value,T=g.value,P=h?.value;if(!T||y.value===!1)return s.value;let I;if(typeof y.value=="function")I=y.value;else{const D=T.toUpperCase();I=(F,L)=>{const J=L[P];return String(J).toUpperCase().includes(D)}}function B(D){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const L=[];for(let J=0,_=D.length;J<_;J++){const U=D[J],te=U[x],Z=F||I(T,nH(U)),R=B(te||[],Z);(Z||R.length)&&L.push(We(We({},U),{[x]:R}))}return L}return B(s.value)})};function Lj(){return We(We({},Ps(bW(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:Hr.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:Hr.any,treeMotion:Hr.any,children:Array,treeExpandAction:String,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:Hr.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:Hr.any,customSlots:Object})}function aoe(s){return!s||typeof s!="object"}const ooe=Rr({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:Ms(Lj(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:WH,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup(s,g){let{attrs:d,expose:h,slots:y}=g;const k=pW(so(s,"id")),x=yt(()=>s.treeCheckable&&!s.treeCheckStrictly),T=yt(()=>s.treeCheckable||s.treeCheckStrictly),P=yt(()=>s.treeCheckStrictly||s.labelInValue),I=yt(()=>T.value||s.multiple),B=yt(()=>Hae(s.fieldNames)),[D,F]=ss("",{value:yt(()=>s.searchValue!==void 0?s.searchValue:s.inputValue),postState:Ut=>Ut||""}),L=Ut=>{var fn;F(Ut),(fn=s.onSearch)===null||fn===void 0||fn.call(s,Ut)},J=Qae(so(s,"treeData"),so(s,"children"),so(s,"treeDataSimpleMode")),{keyEntities:_,valueEntities:U}=toe(J,B),te=Ut=>{const fn=[],bn=[];return Ut.forEach(In=>{U.value.has(In)?bn.push(In):fn.push(In)}),{missingRawValues:fn,existRawValues:bn}},Z=roe(J,D,{fieldNames:B,treeNodeFilterProp:so(s,"treeNodeFilterProp"),filterTreeNode:so(s,"filterTreeNode")}),R=Ut=>{if(Ut){if(s.treeNodeLabelProp)return Ut[s.treeNodeLabelProp];const{_title:fn}=B.value;for(let bn=0;bn<fn.length;bn+=1){const In=Ut[fn[bn]];if(In!==void 0)return In}}},Q=Ut=>zae(Ut).map(bn=>aoe(bn)?{value:bn}:bn),X=Ut=>Q(Ut).map(bn=>{let{label:In}=bn;const{value:sr,halfChecked:yr}=bn;let $t;const Dt=U.value.get(sr);return Dt&&(In=In??R(Dt.node),$t=Dt.node.disabled),{label:In,value:sr,halfChecked:yr,disabled:$t}}),[me,xe]=ss(s.defaultValue,{value:so(s,"value")}),fe=yt(()=>Q(me.value)),se=Co([]),Ce=Co([]);pl(()=>{const Ut=[],fn=[];fe.value.forEach(bn=>{bn.halfChecked?fn.push(bn):Ut.push(bn)}),se.value=Ut,Ce.value=fn});const oe=yt(()=>se.value.map(Ut=>Ut.value)),{maxLevel:z,levelEntities:G}=SW(_),[he,Ge]=noe(se,Ce,x,_,z,G),Me=yt(()=>{const bn=zU(he.value,s.showCheckedStrategy,_.value,B.value).map(yr=>{var $t,Dt,Ft;return(Ft=(Dt=($t=_.value[yr])===null||$t===void 0?void 0:$t.node)===null||Dt===void 0?void 0:Dt[B.value.value])!==null&&Ft!==void 0?Ft:yr}).map(yr=>{const $t=se.value.find(Dt=>Dt.value===yr);return{value:yr,label:$t?.label}}),In=X(bn),sr=In[0];return!I.value&&sr&&LU(sr.value)&&LU(sr.label)?[]:In.map(yr=>{var $t;return We(We({},yr),{label:($t=yr.label)!==null&&$t!==void 0?$t:yr.value})})}),[je]=eoe(Me),tt=(Ut,fn,bn)=>{const In=X(Ut);if(xe(In),s.autoClearSearchValue&&F(""),s.onChange){let sr=Ut;x.value&&(sr=zU(Ut,s.showCheckedStrategy,_.value,B.value).map(Xt=>{const Ve=U.value.get(Xt);return Ve?Ve.node[B.value.value]:Xt}));const{triggerValue:yr,selected:$t}=fn||{triggerValue:void 0,selected:void 0};let Dt=sr;if(s.treeCheckStrictly){const dn=Ce.value.filter(Xt=>!sr.includes(Xt.value));Dt=[...Dt,...dn]}const Ft=X(Dt),rt={preValue:se.value,triggerValue:yr};let st=!0;(s.treeCheckStrictly||bn==="selection"&&!$t)&&(st=!1),Zae(rt,yr,Ut,J.value,st,B.value),T.value?rt.checked=$t:rt.selected=$t;const Wt=P.value?Ft:Ft.map(dn=>dn.value);s.onChange(I.value?Wt:Wt[0],P.value?null:Ft.map(dn=>dn.label),rt)}},E=(Ut,fn)=>{let{selected:bn,source:In}=fn;var sr,yr,$t;const Dt=Zc(_.value),Ft=Zc(U.value),rt=Dt[Ut],st=rt?.node,Wt=(sr=st?.[B.value.value])!==null&&sr!==void 0?sr:Ut;if(!I.value)tt([Wt],{selected:!0,triggerValue:Wt},"option");else{let dn=bn?[...oe.value,Wt]:he.value.filter(Xt=>Xt!==Wt);if(x.value){const{missingRawValues:Xt,existRawValues:Ve}=te(dn),Yt=Ve.map(wn=>Ft.get(wn).key);let On;bn?{checkedKeys:On}=qy(Yt,!0,Dt,z.value,G.value):{checkedKeys:On}=qy(Yt,{checked:!1,halfCheckedKeys:Ge.value},Dt,z.value,G.value),dn=[...Xt,...On.map(wn=>Dt[wn].node[B.value.value])]}tt(dn,{selected:bn,triggerValue:Wt},In||"option")}bn||!I.value?(yr=s.onSelect)===null||yr===void 0||yr.call(s,Wt,nH(st)):($t=s.onDeselect)===null||$t===void 0||$t.call(s,Wt,nH(st))},Ae=Ut=>{if(s.onDropdownVisibleChange){const fn={};Object.defineProperty(fn,"documentClickClose",{get(){return!1}}),s.onDropdownVisibleChange(Ut,fn)}},Le=(Ut,fn)=>{const bn=Ut.map(In=>In.value);if(fn.type==="clear"){tt(bn,{},"selection");return}fn.values.length&&E(fn.values[0].value,{selected:!1,source:"selection"})},{treeNodeFilterProp:At,loadData:ze,treeLoadedKeys:ft,onTreeLoad:Xe,treeDefaultExpandAll:ct,treeExpandedKeys:re,treeDefaultExpandedKeys:Vt,onTreeExpand:it,virtual:Oe,listHeight:dt,listItemHeight:Ne,treeLine:Be,treeIcon:at,showTreeIcon:gt,switcherIcon:ut,treeMotion:Et,customSlots:_n,dropdownMatchSelectWidth:Re,treeExpandAction:Tt}=lH(s);nee(oU({checkable:T,loadData:ze,treeLoadedKeys:ft,onTreeLoad:Xe,checkedKeys:he,halfCheckedKeys:Ge,treeDefaultExpandAll:ct,treeExpandedKeys:re,treeDefaultExpandedKeys:Vt,onTreeExpand:it,treeIcon:at,treeMotion:Et,showTreeIcon:gt,switcherIcon:ut,treeLine:Be,treeNodeFilterProp:At,keyEntities:_,customSlots:_n})),Uae(oU({virtual:Oe,listHeight:dt,listItemHeight:Ne,treeData:Z,fieldNames:B,onSelect:E,dropdownMatchSelectWidth:Re,treeExpandAction:Tt}));const ln=mn();return h({focus(){var Ut;(Ut=ln.value)===null||Ut===void 0||Ut.focus()},blur(){var Ut;(Ut=ln.value)===null||Ut===void 0||Ut.blur()},scrollTo(Ut){var fn;(fn=ln.value)===null||fn===void 0||fn.scrollTo(Ut)}}),()=>{var Ut;const fn=Ps(s,["id","prefixCls","customSlots","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return ue(hW,Ot(Ot(Ot({ref:ln},d),fn),{},{id:k,prefixCls:s.prefixCls,mode:I.value?"multiple":void 0,displayValues:je.value,onDisplayValuesChange:Le,searchValue:D.value,onSearch:L,OptionList:qae,emptyOptions:!J.value.length,onDropdownVisibleChange:Ae,tagRender:s.tagRender||y.tagRender,dropdownMatchSelectWidth:(Ut=s.dropdownMatchSelectWidth)!==null&&Ut!==void 0?Ut:!0}),y)}}}),ioe=s=>{const{componentCls:g,treePrefixCls:d,colorBgElevated:h}=s,y=`.${d}`;return[{[`${g}-dropdown`]:[{padding:`${s.paddingXS}px ${s.paddingXS/2}px`},aee(d,Jc(s,{colorBgContainer:h})),{[y]:{borderRadius:0,"&-list-holder-inner":{alignItems:"stretch",[`${y}-treenode`]:{[`${y}-node-content-wrapper`]:{flex:"auto"}}}}},kW(`${d}-checkbox`,s),{"&-rtl":{direction:"rtl",[`${y}-switcher${y}-switcher_close`]:{[`${y}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function uoe(s,g){return jv("TreeSelect",d=>{const h=Jc(d,{treePrefixCls:g.value});return[ioe(h)]})(s)}const HU=(s,g,d)=>d!==void 0?d:`${s}-${g}`;function loe(){return We(We({},Ps(Lj(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{suffixIcon:Hr.any,size:zo(),bordered:ea(),treeLine:Si([Boolean,Object]),replaceFields:gl(),placement:zo(),status:zo(),popupClassName:String,dropdownClassName:String,"onUpdate:value":Wn(),"onUpdate:treeExpandedKeys":Wn(),"onUpdate:searchValue":Wn()})}const $7=Rr({compatConfig:{MODE:3},name:"ATreeSelect",inheritAttrs:!1,props:Ms(loe(),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:Object,setup(s,g){let{attrs:d,slots:h,expose:y,emit:k}=g;CQ(!(s.treeData===void 0&&h.default)),Zg(s.multiple!==!1||!s.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),Zg(s.replaceFields===void 0,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead"),Zg(!s.dropdownClassName,"TreeSelect","`dropdownClassName` is deprecated. Please use `popupClassName` instead.");const x=Qc(),T=rw.useInject(),P=yt(()=>Kk(T.status,s.status)),{prefixCls:I,renderEmpty:B,direction:D,virtual:F,dropdownMatchSelectWidth:L,size:J,getPopupContainer:_,getPrefixCls:U,disabled:te}=Nl("select",s),{compactSize:Z,compactItemClassnames:R}=fP(I,D),Q=yt(()=>Z.value||J.value),X=Wk(),me=yt(()=>{var ft;return(ft=te.value)!==null&&ft!==void 0?ft:X.value}),xe=yt(()=>U()),fe=yt(()=>s.placement!==void 0?s.placement:D.value==="rtl"?"bottomRight":"bottomLeft"),se=yt(()=>HU(xe.value,oW(fe.value),s.transitionName)),Ce=yt(()=>HU(xe.value,"",s.choiceTransitionName)),oe=yt(()=>U("select-tree",s.prefixCls)),z=yt(()=>U("tree-select",s.prefixCls)),[G,he]=yW(I),[Ge]=uoe(z,oe),Me=yt(()=>ya(s.popupClassName||s.dropdownClassName,`${z.value}-dropdown`,{[`${z.value}-dropdown-rtl`]:D.value==="rtl"},he.value)),je=yt(()=>!!(s.treeCheckable||s.multiple)),tt=yt(()=>s.showArrow!==void 0?s.showArrow:s.loading||!je.value),E=mn();y({focus(){var ft,Xe;(Xe=(ft=E.value).focus)===null||Xe===void 0||Xe.call(ft)},blur(){var ft,Xe;(Xe=(ft=E.value).blur)===null||Xe===void 0||Xe.call(ft)}});const Ae=function(){for(var ft=arguments.length,Xe=new Array(ft),ct=0;ct<ft;ct++)Xe[ct]=arguments[ct];k("update:value",Xe[0]),k("change",...Xe),x.onFieldChange()},Le=ft=>{k("update:treeExpandedKeys",ft),k("treeExpand",ft)},At=ft=>{k("update:searchValue",ft),k("search",ft)},ze=ft=>{k("blur",ft),x.onFieldBlur()};return()=>{var ft,Xe;const{notFoundContent:ct=(ft=h.notFoundContent)===null||ft===void 0?void 0:ft.call(h),prefixCls:re,bordered:Vt,listHeight:it,listItemHeight:Oe,multiple:dt,treeIcon:Ne,treeLine:Be,showArrow:at,switcherIcon:gt=(Xe=h.switcherIcon)===null||Xe===void 0?void 0:Xe.call(h),fieldNames:ut=s.replaceFields,id:Et=x.id.value}=s,{isFormItemInput:_n,hasFeedback:Re,feedbackIcon:Tt}=T,{suffixIcon:ln,removeIcon:Ut,clearIcon:fn}=wW(We(We({},s),{multiple:je.value,showArrow:tt.value,hasFeedback:Re,feedbackIcon:Tt,prefixCls:I.value}),h);let bn;ct!==void 0?bn=ct:bn=B("Select");const In=Ps(s,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","status","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),sr=ya(!re&&z.value,{[`${I.value}-lg`]:Q.value==="large",[`${I.value}-sm`]:Q.value==="small",[`${I.value}-rtl`]:D.value==="rtl",[`${I.value}-borderless`]:!Vt,[`${I.value}-in-form-item`]:_n},Gk(I.value,P.value,Re),R.value,d.class,he.value),yr={};return s.treeData===void 0&&h.default&&(yr.children=oH(h.default())),G(Ge(ue(ooe,Ot(Ot(Ot(Ot({},d),In),{},{disabled:me.value,virtual:F.value,dropdownMatchSelectWidth:L.value,id:Et,fieldNames:ut,ref:E,prefixCls:I.value,class:sr,listHeight:it,listItemHeight:Oe,treeLine:!!Be,inputIcon:ln,multiple:dt,removeIcon:Ut,clearIcon:fn,switcherIcon:$t=>oee(oe.value,gt,$t,h.leafIcon,Be),showTreeIcon:Ne,notFoundContent:bn,getPopupContainer:_?.value,treeMotion:null,dropdownClassName:Me.value,choiceTransitionName:Ce.value,onChange:Ae,onBlur:ze,onSearch:At,onTreeExpand:Le},yr),{},{transitionName:se.value,customSlots:We(We({},h),{treeCheckable:()=>ue("span",{class:`${I.value}-tree-checkbox-inner`},null)}),maxTagPlaceholder:s.maxTagPlaceholder||h.maxTagPlaceholder,placement:fe.value,showArrow:Re||at}),We(We({},h),{treeCheckable:()=>ue("span",{class:`${I.value}-tree-checkbox-inner`},null)}))))}}}),VU=jH,zj=We($7,{TreeNode:jH,SHOW_ALL:Kae,SHOW_PARENT:Nj,SHOW_CHILD:WH,install:s=>(s.component($7.name,$7),s.component(VU.displayName,VU),s)}),D7=()=>({format:String,showNow:ea(),showHour:ea(),showMinute:ea(),showSecond:ea(),use12Hours:ea(),hourStep:Number,minuteStep:Number,secondStep:Number,hideDisabledOptions:ea(),popupClassName:String,status:zo()});function soe(s){const g=xj(s,We(We({},D7()),{order:{type:Boolean,default:!0}})),{TimePicker:d,RangePicker:h}=g,y=Rr({name:"ATimePicker",inheritAttrs:!1,props:We(We(We(We({},aP()),wj()),D7()),{addon:{type:Function}}),slots:Object,setup(x,T){let{slots:P,expose:I,emit:B,attrs:D}=T;const F=x,L=Qc();Zg(!(P.addon||F.addon),"TimePicker","`addon` is deprecated. Please use `v-slot:renderExtraFooter` instead.");const J=mn();I({focus:()=>{var Q;(Q=J.value)===null||Q===void 0||Q.focus()},blur:()=>{var Q;(Q=J.value)===null||Q===void 0||Q.blur()}});const _=(Q,X)=>{B("update:value",Q),B("change",Q,X),L.onFieldChange()},U=Q=>{B("update:open",Q),B("openChange",Q)},te=Q=>{B("focus",Q)},Z=Q=>{B("blur",Q),L.onFieldBlur()},R=Q=>{B("ok",Q)};return()=>{const{id:Q=L.id.value}=F;return ue(d,Ot(Ot(Ot({},D),Ps(F,["onUpdate:value","onUpdate:open"])),{},{id:Q,dropdownClassName:F.popupClassName,mode:void 0,ref:J,renderExtraFooter:F.addon||P.addon||F.renderExtraFooter||P.renderExtraFooter,onChange:_,onOpenChange:U,onFocus:te,onBlur:Z,onOk:R}),P)}}}),k=Rr({name:"ATimeRangePicker",inheritAttrs:!1,props:We(We(We(We({},aP()),Cj()),D7()),{order:{type:Boolean,default:!0}}),slots:Object,setup(x,T){let{slots:P,expose:I,emit:B,attrs:D}=T;const F=x,L=mn(),J=Qc();I({focus:()=>{var me;(me=L.value)===null||me===void 0||me.focus()},blur:()=>{var me;(me=L.value)===null||me===void 0||me.blur()}});const _=(me,xe)=>{B("update:value",me),B("change",me,xe),J.onFieldChange()},U=me=>{B("update:open",me),B("openChange",me)},te=me=>{B("focus",me)},Z=me=>{B("blur",me),J.onFieldBlur()},R=(me,xe)=>{B("panelChange",me,xe)},Q=me=>{B("ok",me)},X=(me,xe,fe)=>{B("calendarChange",me,xe,fe)};return()=>{const{id:me=J.id.value}=F;return ue(h,Ot(Ot(Ot({},D),Ps(F,["onUpdate:open","onUpdate:value"])),{},{id:me,dropdownClassName:F.popupClassName,picker:"time",mode:void 0,ref:L,onChange:_,onOpenChange:U,onFocus:te,onBlur:Z,onPanelChange:R,onOk:Q,onCalendarChange:X}),P)}}});return{TimePicker:y,TimeRangePicker:k}}const{TimePicker:K_,TimeRangePicker:_7}=soe(NW),Hj=We(K_,{TimePicker:K_,TimeRangePicker:_7,install:s=>(s.component(K_.name,K_),s.component(_7.name,_7),s)});function coe(s,g){const d=`cannot ${s.method} ${s.action} ${g.status}'`,h=new Error(d);return h.status=g.status,h.method=s.method,h.url=s.action,h}function UU(s){const g=s.responseText||s.response;if(!g)return g;try{return JSON.parse(g)}catch{return g}}function foe(s){const g=new XMLHttpRequest;s.onProgress&&g.upload&&(g.upload.onprogress=function(k){k.total>0&&(k.percent=k.loaded/k.total*100),s.onProgress(k)});const d=new FormData;s.data&&Object.keys(s.data).forEach(y=>{const k=s.data[y];if(Array.isArray(k)){k.forEach(x=>{d.append(`${y}[]`,x)});return}d.append(y,k)}),s.file instanceof Blob?d.append(s.filename,s.file,s.file.name):d.append(s.filename,s.file),g.onerror=function(k){s.onError(k)},g.onload=function(){return g.status<200||g.status>=300?s.onError(coe(s,g),UU(g)):s.onSuccess(UU(g),g)},g.open(s.method,s.action,!0),s.withCredentials&&"withCredentials"in g&&(g.withCredentials=!0);const h=s.headers||{};return h["X-Requested-With"]!==null&&g.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(h).forEach(y=>{h[y]!==null&&g.setRequestHeader(y,h[y])}),g.send(d),{abort(){g.abort()}}}const voe=+new Date;let doe=0;function P7(){return`vc-upload-${voe}-${++doe}`}const M7=(s,g)=>{if(s&&g){const d=Array.isArray(g)?g:g.split(","),h=s.name||"",y=s.type||"",k=y.replace(/\/.*$/,"");return d.some(x=>{const T=x.trim();if(/^\*(\/\*)?$/.test(x))return!0;if(T.charAt(0)==="."){const P=h.toLowerCase(),I=T.toLowerCase();let B=[I];return(I===".jpg"||I===".jpeg")&&(B=[".jpg",".jpeg"]),B.some(D=>P.endsWith(D))}return/\/\*$/.test(T)?k===T.replace(/\/.*$/,""):!!(y===T||/^\w+$/.test(T))})}return!0};function moe(s,g){const d=s.createReader();let h=[];function y(){d.readEntries(k=>{const x=Array.prototype.slice.apply(k);h=h.concat(x),!x.length?g(h):y()})}y()}const goe=(s,g,d)=>{const h=(y,k)=>{y.path=k||"",y.isFile?y.file(x=>{d(x)&&(y.fullPath&&!x.webkitRelativePath&&(Object.defineProperties(x,{webkitRelativePath:{writable:!0}}),x.webkitRelativePath=y.fullPath.replace(/^\//,""),Object.defineProperties(x,{webkitRelativePath:{writable:!1}})),g([x]))}):y.isDirectory&&moe(y,x=>{x.forEach(T=>{h(T,`${k}${y.name}/`)})})};s.forEach(y=>{h(y.webkitGetAsEntry())})},poe=goe,Vj=()=>({capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function});var hoe=globalThis&&globalThis.__awaiter||function(s,g,d,h){function y(k){return k instanceof d?k:new d(function(x){x(k)})}return new(d||(d=Promise))(function(k,x){function T(B){try{I(h.next(B))}catch(D){x(D)}}function P(B){try{I(h.throw(B))}catch(D){x(D)}}function I(B){B.done?k(B.value):y(B.value).then(T,P)}I((h=h.apply(s,g||[])).next())})},boe=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const yoe=Rr({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:Vj(),setup(s,g){let{slots:d,attrs:h,expose:y}=g;const k=mn(P7()),x={},T=mn();let P=!1;const I=(Z,R)=>hoe(this,void 0,void 0,function*(){const{beforeUpload:Q}=s;let X=Z;if(Q){try{X=yield Q(Z,R)}catch{X=!1}if(X===!1)return{origin:Z,parsedFile:null,action:null,data:null}}const{action:me}=s;let xe;typeof me=="function"?xe=yield me(Z):xe=me;const{data:fe}=s;let se;typeof fe=="function"?se=yield fe(Z):se=fe;const Ce=(typeof X=="object"||typeof X=="string")&&X?X:Z;let oe;Ce instanceof File?oe=Ce:oe=new File([Ce],Z.name,{type:Z.type});const z=oe;return z.uid=Z.uid,{origin:Z,data:se,parsedFile:z,action:xe}}),B=Z=>{let{data:R,origin:Q,action:X,parsedFile:me}=Z;if(!P)return;const{onStart:xe,customRequest:fe,name:se,headers:Ce,withCredentials:oe,method:z}=s,{uid:G}=Q,he=fe||foe,Ge={action:X,filename:se,data:R,file:me,headers:Ce,withCredentials:oe,method:z||"post",onProgress:Me=>{const{onProgress:je}=s;je?.(Me,me)},onSuccess:(Me,je)=>{const{onSuccess:tt}=s;tt?.(Me,me,je),delete x[G]},onError:(Me,je)=>{const{onError:tt}=s;tt?.(Me,je,me),delete x[G]}};xe(Q),x[G]=he(Ge)},D=()=>{k.value=P7()},F=Z=>{if(Z){const R=Z.uid?Z.uid:Z;x[R]&&x[R].abort&&x[R].abort(),delete x[R]}else Object.keys(x).forEach(R=>{x[R]&&x[R].abort&&x[R].abort(),delete x[R]})};zf(()=>{P=!0}),rp(()=>{P=!1,F()});const L=Z=>{const R=[...Z],Q=R.map(X=>(X.uid=P7(),I(X,R)));Promise.all(Q).then(X=>{const{onBatchStart:me}=s;me?.(X.map(xe=>{let{origin:fe,parsedFile:se}=xe;return{file:fe,parsedFile:se}})),X.filter(xe=>xe.parsedFile!==null).forEach(xe=>{B(xe)})})},J=Z=>{const{accept:R,directory:Q}=s,{files:X}=Z.target,me=[...X].filter(xe=>!Q||M7(xe,R));L(me),D()},_=Z=>{const R=T.value;if(!R)return;const{onClick:Q}=s;R.click(),Q&&Q(Z)},U=Z=>{Z.key==="Enter"&&_(Z)},te=Z=>{const{multiple:R}=s;if(Z.preventDefault(),Z.type!=="dragover")if(s.directory)poe(Array.prototype.slice.call(Z.dataTransfer.items),L,Q=>M7(Q,s.accept));else{const Q=_ee(Array.prototype.slice.call(Z.dataTransfer.files),xe=>M7(xe,s.accept));let X=Q[0];const me=Q[1];R===!1&&(X=X.slice(0,1)),L(X),me.length&&s.onReject&&s.onReject(me)}};return y({abort:F}),()=>{var Z;const{componentTag:R,prefixCls:Q,disabled:X,id:me,multiple:xe,accept:fe,capture:se,directory:Ce,openFileDialogOnClick:oe,onMouseenter:z,onMouseleave:G}=s,he=boe(s,["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"]),Ge={[Q]:!0,[`${Q}-disabled`]:X,[h.class]:!!h.class},Me=Ce?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return ue(R,Ot(Ot({},X?{}:{onClick:oe?_:()=>{},onKeydown:oe?U:()=>{},onMouseenter:z,onMouseleave:G,onDrop:te,onDragover:te,tabindex:"0"}),{},{class:Ge,role:"button",style:h.style}),{default:()=>[ue("input",Ot(Ot(Ot({},SQ(he,{aria:!0,data:!0})),{},{id:me,type:"file",ref:T,onClick:tt=>tt.stopPropagation(),onCancel:tt=>tt.stopPropagation(),key:k.value,style:{display:"none"},accept:fe},Me),{},{multiple:xe,onChange:J},se!=null?{capture:se}:{}),null),(Z=d.default)===null||Z===void 0?void 0:Z.call(d)]})}}});function R7(){}const WU=Rr({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:Ms(Vj(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:R7,onError:R7,onSuccess:R7,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup(s,g){let{slots:d,attrs:h,expose:y}=g;const k=mn();return y({abort:T=>{var P;(P=k.value)===null||P===void 0||P.abort(T)}}),()=>ue(yoe,Ot(Ot(Ot({},s),h),{},{ref:k}),d)}});var woe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const Coe=woe;function jU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Soe(s,y,d[y])})}return s}function Soe(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var qH=function(g,d){var h=jU({},g,d.attrs);return ue(sm,jU({},h,{icon:Coe}),null)};qH.displayName="PaperClipOutlined";qH.inheritAttrs=!1;const xoe=qH;var koe={icon:function(g,d){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:g}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:d}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:d}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:d}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:g}}]}},name:"picture",theme:"twotone"};const Toe=koe;function qU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Eoe(s,y,d[y])})}return s}function Eoe(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var KH=function(g,d){var h=qU({},g,d.attrs);return ue(sm,qU({},h,{icon:Toe}),null)};KH.displayName="PictureTwoTone";KH.inheritAttrs=!1;const Ooe=KH;var Aoe={icon:function(g,d){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:d}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:g}}]}},name:"file",theme:"twotone"};const $oe=Aoe;function KU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Doe(s,y,d[y])})}return s}function Doe(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var GH=function(g,d){var h=KU({},g,d.attrs);return ue(sm,KU({},h,{icon:$oe}),null)};GH.displayName="FileTwoTone";GH.inheritAttrs=!1;const _oe=GH;function Uj(){return{capture:Si([Boolean,String]),type:zo(),name:String,defaultFileList:gu(),fileList:gu(),action:Si([String,Function]),directory:ea(),data:Si([Object,Function]),method:zo(),headers:gl(),showUploadList:Si([Boolean,Object]),multiple:ea(),accept:String,beforeUpload:Wn(),onChange:Wn(),"onUpdate:fileList":Wn(),onDrop:Wn(),listType:zo(),onPreview:Wn(),onDownload:Wn(),onReject:Wn(),onRemove:Wn(),remove:Wn(),supportServerRender:ea(),disabled:ea(),prefixCls:String,customRequest:Wn(),withCredentials:ea(),openFileDialogOnClick:ea(),locale:gl(),id:String,previewFile:Wn(),transformFile:Wn(),iconRender:Wn(),isImageUrl:Wn(),progress:gl(),itemRender:Wn(),maxCount:Number,height:Si([Number,String]),removeIcon:Wn(),downloadIcon:Wn(),previewIcon:Wn()}}function Poe(){return{listType:zo(),onPreview:Wn(),onDownload:Wn(),onRemove:Wn(),items:gu(),progress:gl(),prefixCls:zo(),showRemoveIcon:ea(),showDownloadIcon:ea(),showPreviewIcon:ea(),removeIcon:Wn(),downloadIcon:Wn(),previewIcon:Wn(),locale:gl(void 0),previewFile:Wn(),iconRender:Wn(),isImageUrl:Wn(),appendAction:Wn(),appendActionVisible:ea(),itemRender:Wn()}}function G_(s){return We(We({},s),{lastModified:s.lastModified,lastModifiedDate:s.lastModifiedDate,name:s.name,size:s.size,type:s.type,uid:s.uid,percent:0,originFileObj:s})}function Y_(s,g){const d=[...g],h=d.findIndex(y=>{let{uid:k}=y;return k===s.uid});return h===-1?d.push(s):d[h]=s,d}function B7(s,g){const d=s.uid!==void 0?"uid":"name";return g.filter(h=>h[d]===s[d])[0]}function Moe(s,g){const d=s.uid!==void 0?"uid":"name",h=g.filter(y=>y[d]!==s[d]);return h.length===g.length?null:h}const Roe=function(){const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),h=g[g.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(h)||[""])[0]},Wj=s=>s.indexOf("image/")===0,Boe=s=>{if(s.type&&!s.thumbUrl)return Wj(s.type);const g=s.thumbUrl||s.url||"",d=Roe(g);return/^data:image\//.test(g)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(d)?!0:!(/^data:/.test(g)||d)},Yg=200;function Foe(s){return new Promise(g=>{if(!s.type||!Wj(s.type)){g("");return}const d=document.createElement("canvas");d.width=Yg,d.height=Yg,d.style.cssText=`position: fixed; left: 0; top: 0; width: ${Yg}px; height: ${Yg}px; z-index: 9999; display: none;`,document.body.appendChild(d);const h=d.getContext("2d"),y=new Image;if(y.onload=()=>{const{width:k,height:x}=y;let T=Yg,P=Yg,I=0,B=0;k>x?(P=x*(Yg/k),B=-(P-T)/2):(T=k*(Yg/x),I=-(T-P)/2),h.drawImage(y,I,B,T,P);const D=d.toDataURL();document.body.removeChild(d),g(D)},y.crossOrigin="anonymous",s.type.startsWith("image/svg+xml")){const k=new FileReader;k.addEventListener("load",()=>{k.result&&(y.src=k.result)}),k.readAsDataURL(s)}else y.src=window.URL.createObjectURL(s)})}var Ioe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Noe=Ioe;function GU(s){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?Object(arguments[g]):{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable}))),h.forEach(function(y){Loe(s,y,d[y])})}return s}function Loe(s,g,d){return g in s?Object.defineProperty(s,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[g]=d,s}var YH=function(g,d){var h=GU({},g,d.attrs);return ue(sm,GU({},h,{icon:Noe}),null)};YH.displayName="DownloadOutlined";YH.inheritAttrs=!1;const zoe=YH,Hoe=()=>({prefixCls:String,locale:gl(void 0),file:gl(),items:gu(),listType:zo(),isImgUrl:Wn(),showRemoveIcon:ea(),showDownloadIcon:ea(),showPreviewIcon:ea(),removeIcon:Wn(),downloadIcon:Wn(),previewIcon:Wn(),iconRender:Wn(),actionIconRender:Wn(),itemRender:Wn(),onPreview:Wn(),onClose:Wn(),onDownload:Wn(),progress:gl()}),Voe=Rr({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:Hoe(),setup(s,g){let{slots:d,attrs:h}=g;var y;const k=Co(!1),x=Co();zf(()=>{x.value=setTimeout(()=>{k.value=!0},300)}),rp(()=>{clearTimeout(x.value)});const T=Co((y=s.file)===null||y===void 0?void 0:y.status);oa(()=>{var B;return(B=s.file)===null||B===void 0?void 0:B.status},B=>{B!=="removed"&&(T.value=B)});const{rootPrefixCls:P}=Nl("upload",s),I=yt(()=>QU(`${P.value}-fade`));return()=>{var B,D;const{prefixCls:F,locale:L,listType:J,file:_,items:U,progress:te,iconRender:Z=d.iconRender,actionIconRender:R=d.actionIconRender,itemRender:Q=d.itemRender,isImgUrl:X,showPreviewIcon:me,showRemoveIcon:xe,showDownloadIcon:fe,previewIcon:se=d.previewIcon,removeIcon:Ce=d.removeIcon,downloadIcon:oe=d.downloadIcon,onPreview:z,onDownload:G,onClose:he}=s,{class:Ge,style:Me}=h,je=Z({file:_});let tt=ue("div",{class:`${F}-text-icon`},[je]);if(J==="picture"||J==="picture-card")if(T.value==="uploading"||!_.thumbUrl&&!_.url){const Be={[`${F}-list-item-thumbnail`]:!0,[`${F}-list-item-file`]:T.value!=="uploading"};tt=ue("div",{class:Be},[je])}else{const Be=X?.(_)?ue("img",{src:_.thumbUrl||_.url,alt:_.name,class:`${F}-list-item-image`,crossorigin:_.crossOrigin},null):je,at={[`${F}-list-item-thumbnail`]:!0,[`${F}-list-item-file`]:X&&!X(_)};tt=ue("a",{class:at,onClick:gt=>z(_,gt),href:_.url||_.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[Be])}const E={[`${F}-list-item`]:!0,[`${F}-list-item-${T.value}`]:!0},Ae=typeof _.linkProps=="string"?JSON.parse(_.linkProps):_.linkProps,Le=xe?R({customIcon:Ce?Ce({file:_}):ue(Fj,null,null),callback:()=>he(_),prefixCls:F,title:L.removeFile}):null,At=fe&&T.value==="done"?R({customIcon:oe?oe({file:_}):ue(zoe,null,null),callback:()=>G(_),prefixCls:F,title:L.downloadFile}):null,ze=J!=="picture-card"&&ue("span",{key:"download-delete",class:[`${F}-list-item-actions`,{picture:J==="picture"}]},[At,Le]),ft=`${F}-list-item-name`,Xe=_.url?[ue("a",Ot(Ot({key:"view",target:"_blank",rel:"noopener noreferrer",class:ft,title:_.name},Ae),{},{href:_.url,onClick:Be=>z(_,Be)}),[_.name]),ze]:[ue("span",{key:"view",class:ft,onClick:Be=>z(_,Be),title:_.name},[_.name]),ze],ct={pointerEvents:"none",opacity:.5},re=me?ue("a",{href:_.url||_.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:_.url||_.thumbUrl?void 0:ct,onClick:Be=>z(_,Be),title:L.previewFile},[se?se({file:_}):ue(xQ,null,null)]):null,Vt=J==="picture-card"&&T.value!=="uploading"&&ue("span",{class:`${F}-list-item-actions`},[re,T.value==="done"&&At,Le]),it=ue("div",{class:E},[tt,Xe,Vt,k.value&&ue(eW,I.value,{default:()=>[uP(ue("div",{class:`${F}-list-item-progress`},["percent"in _?ue(kj,Ot(Ot({},te),{},{type:"line",percent:_.percent}),null):null]),[[lP,T.value==="uploading"]])]})]),Oe={[`${F}-list-item-container`]:!0,[`${Ge}`]:!!Ge},dt=_.response&&typeof _.response=="string"?_.response:((B=_.error)===null||B===void 0?void 0:B.statusText)||((D=_.error)===null||D===void 0?void 0:D.message)||L.uploadError,Ne=T.value==="error"?ue(aw,{title:dt,getPopupContainer:Be=>Be.parentNode},{default:()=>[it]}):it;return ue("div",{class:Oe,style:Me},[Q?Q({originNode:Ne,file:_,fileList:U,actions:{download:G.bind(null,_),preview:z.bind(null,_),remove:he.bind(null,_)}}):Ne])}}}),Uoe=(s,g)=>{let{slots:d}=g;var h;return dH((h=d.default)===null||h===void 0?void 0:h.call(d))[0]},Woe=Rr({compatConfig:{MODE:3},name:"AUploadList",props:Ms(Poe(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:Foe,isImageUrl:Boe,items:[],appendActionVisible:!0}),setup(s,g){let{slots:d,expose:h}=g;const y=Co(!1),k=nW();zf(()=>{y.value==!0}),pl(()=>{s.listType!=="picture"&&s.listType!=="picture-card"||(s.items||[]).forEach(_=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(_.originFileObj instanceof File||_.originFileObj instanceof Blob)||_.thumbUrl!==void 0||(_.thumbUrl="",s.previewFile&&s.previewFile(_.originFileObj).then(U=>{_.thumbUrl=U||"",k.update()}))})});const x=(_,U)=>{if(s.onPreview)return U?.preventDefault(),s.onPreview(_)},T=_=>{typeof s.onDownload=="function"?s.onDownload(_):_.url&&window.open(_.url)},P=_=>{var U;(U=s.onRemove)===null||U===void 0||U.call(s,_)},I=_=>{let{file:U}=_;const te=s.iconRender||d.iconRender;if(te)return te({file:U,listType:s.listType});const Z=U.status==="uploading",R=s.isImageUrl&&s.isImageUrl(U)?ue(Ooe,null,null):ue(_oe,null,null);let Q=Z?ue(ep,null,null):ue(xoe,null,null);return s.listType==="picture"?Q=Z?ue(ep,null,null):R:s.listType==="picture-card"&&(Q=Z?s.locale.uploading:R),Q},B=_=>{const{customIcon:U,callback:te,prefixCls:Z,title:R}=_,Q={type:"text",size:"small",title:R,onClick:()=>{te()},class:`${Z}-list-item-action`};return Qy(U)?ue(jk,Q,{icon:()=>U}):ue(jk,Q,{default:()=>[ue("span",null,[U])]})};h({handlePreview:x,handleDownload:T});const{prefixCls:D,rootPrefixCls:F}=Nl("upload",s),L=yt(()=>({[`${D.value}-list`]:!0,[`${D.value}-list-${s.listType}`]:!0})),J=yt(()=>{const _=We({},kQ(`${F.value}-motion-collapse`));delete _.onAfterAppear,delete _.onAfterEnter,delete _.onAfterLeave;const U=We(We({},TQ(`${D.value}-${s.listType==="picture-card"?"animate-inline":"animate"}`)),{class:L.value,appear:y.value});return s.listType!=="picture-card"?We(We({},_),U):U});return()=>{const{listType:_,locale:U,isImageUrl:te,items:Z=[],showPreviewIcon:R,showRemoveIcon:Q,showDownloadIcon:X,removeIcon:me,previewIcon:xe,downloadIcon:fe,progress:se,appendAction:Ce,itemRender:oe,appendActionVisible:z}=s,G=Ce?.();return ue(EQ,Ot(Ot({},J.value),{},{tag:"div"}),{default:()=>[Z.map(he=>{const{uid:Ge}=he;return ue(Voe,{key:Ge,locale:U,prefixCls:D.value,file:he,items:Z,progress:se,listType:_,isImgUrl:te,showPreviewIcon:R,showRemoveIcon:Q,showDownloadIcon:X,onPreview:x,onDownload:T,onClose:P,removeIcon:me,previewIcon:xe,downloadIcon:fe,itemRender:oe},We(We({},d),{iconRender:I,actionIconRender:B}))}),Ce?uP(ue(Uoe,{key:"__ant_upload_appendAction"},{default:()=>G}),[[lP,!!z]]):null]})}}}),joe=s=>{const{componentCls:g,iconCls:d}=s;return{[`${g}-wrapper`]:{[`${g}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:s.colorFillAlter,border:`${s.lineWidth}px dashed ${s.colorBorder}`,borderRadius:s.borderRadiusLG,cursor:"pointer",transition:`border-color ${s.motionDurationSlow}`,[g]:{padding:`${s.padding}px 0`},[`${g}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${g}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${g}-disabled):hover`]:{borderColor:s.colorPrimaryHover},[`p${g}-drag-icon`]:{marginBottom:s.margin,[d]:{color:s.colorPrimary,fontSize:s.uploadThumbnailSize}},[`p${g}-text`]:{margin:`0 0 ${s.marginXXS}px`,color:s.colorTextHeading,fontSize:s.fontSizeLG},[`p${g}-hint`]:{color:s.colorTextDescription,fontSize:s.fontSize},[`&${g}-disabled`]:{cursor:"not-allowed",[`p${g}-drag-icon ${d},
            p${g}-text,
            p${g}-hint
          `]:{color:s.colorTextDisabled}}}}}},qoe=joe,Koe=s=>{const{componentCls:g,antCls:d,iconCls:h,fontSize:y,lineHeight:k}=s,x=`${g}-list-item`,T=`${x}-actions`,P=`${x}-action`,I=Math.round(y*k);return{[`${g}-wrapper`]:{[`${g}-list`]:We(We({},sW()),{lineHeight:s.lineHeight,[x]:{position:"relative",height:s.lineHeight*y,marginTop:s.marginXS,fontSize:y,display:"flex",alignItems:"center",transition:`background-color ${s.motionDurationSlow}`,"&:hover":{backgroundColor:s.controlItemBgHover},[`${x}-name`]:We(We({},Yy),{padding:`0 ${s.paddingXS}px`,lineHeight:k,flex:"auto",transition:`all ${s.motionDurationSlow}`}),[T]:{[P]:{opacity:0},[`${P}${d}-btn-sm`]:{height:I,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`
              ${P}:focus,
              &.picture ${P}
            `]:{opacity:1},[h]:{color:s.colorTextDescription,transition:`all ${s.motionDurationSlow}`},[`&:hover ${h}`]:{color:s.colorText}},[`${g}-icon ${h}`]:{color:s.colorTextDescription,fontSize:y},[`${x}-progress`]:{position:"absolute",bottom:-s.uploadProgressOffset,width:"100%",paddingInlineStart:y+s.paddingXS,fontSize:y,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${x}:hover ${P}`]:{opacity:1,color:s.colorText},[`${x}-error`]:{color:s.colorError,[`${x}-name, ${g}-icon ${h}`]:{color:s.colorError},[T]:{[`${h}, ${h}:hover`]:{color:s.colorError},[P]:{opacity:1}}},[`${g}-list-item-container`]:{transition:`opacity ${s.motionDurationSlow}, height ${s.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Goe=Koe,YU=new cP("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),XU=new cP("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),Yoe=s=>{const{componentCls:g}=s,d=`${g}-animate-inline`;return[{[`${g}-wrapper`]:{[`${d}-appear, ${d}-enter, ${d}-leave`]:{animationDuration:s.motionDurationSlow,animationTimingFunction:s.motionEaseInOutCirc,animationFillMode:"forwards"},[`${d}-appear, ${d}-enter`]:{animationName:YU},[`${d}-leave`]:{animationName:XU}}},YU,XU]},Xoe=Yoe,Zoe=s=>{const{componentCls:g,iconCls:d,uploadThumbnailSize:h,uploadProgressOffset:y}=s,k=`${g}-list`,x=`${k}-item`;return{[`${g}-wrapper`]:{[`${k}${k}-picture, ${k}${k}-picture-card`]:{[x]:{position:"relative",height:h+s.lineWidth*2+s.paddingXS*2,padding:s.paddingXS,border:`${s.lineWidth}px ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusLG,"&:hover":{background:"transparent"},[`${x}-thumbnail`]:We(We({},Yy),{width:h,height:h,lineHeight:`${h+s.paddingSM}px`,textAlign:"center",flex:"none",[d]:{fontSize:s.fontSizeHeading2,color:s.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${x}-progress`]:{bottom:y,width:`calc(100% - ${s.paddingSM*2}px)`,marginTop:0,paddingInlineStart:h+s.paddingXS}},[`${x}-error`]:{borderColor:s.colorError,[`${x}-thumbnail ${d}`]:{"svg path[fill='#e6f7ff']":{fill:s.colorErrorBg},"svg path[fill='#1890ff']":{fill:s.colorError}}},[`${x}-uploading`]:{borderStyle:"dashed",[`${x}-name`]:{marginBottom:y}}}}}},Joe=s=>{const{componentCls:g,iconCls:d,fontSizeLG:h,colorTextLightSolid:y}=s,k=`${g}-list`,x=`${k}-item`,T=s.uploadPicCardSize;return{[`${g}-wrapper${g}-picture-card-wrapper`]:We(We({},sW()),{display:"inline-block",width:"100%",[`${g}${g}-select`]:{width:T,height:T,marginInlineEnd:s.marginXS,marginBottom:s.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:s.colorFillAlter,border:`${s.lineWidth}px dashed ${s.colorBorder}`,borderRadius:s.borderRadiusLG,cursor:"pointer",transition:`border-color ${s.motionDurationSlow}`,[`> ${g}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${g}-disabled):hover`]:{borderColor:s.colorPrimary}},[`${k}${k}-picture-card`]:{[`${k}-item-container`]:{display:"inline-block",width:T,height:T,marginBlock:`0 ${s.marginXS}px`,marginInline:`0 ${s.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[x]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${s.paddingXS*2}px)`,height:`calc(100% - ${s.paddingXS*2}px)`,backgroundColor:s.colorBgMask,opacity:0,transition:`all ${s.motionDurationSlow}`,content:'" "'}},[`${x}:hover`]:{[`&::before, ${x}-actions`]:{opacity:1}},[`${x}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${s.motionDurationSlow}`,[`${d}-eye, ${d}-download, ${d}-delete`]:{zIndex:10,width:h,margin:`0 ${s.marginXXS}px`,fontSize:h,cursor:"pointer",transition:`all ${s.motionDurationSlow}`}},[`${x}-actions, ${x}-actions:hover`]:{[`${d}-eye, ${d}-download, ${d}-delete`]:{color:new Xy(y).setAlpha(.65).toRgbString(),"&:hover":{color:y}}},[`${x}-thumbnail, ${x}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${x}-name`]:{display:"none",textAlign:"center"},[`${x}-file + ${x}-name`]:{position:"absolute",bottom:s.margin,display:"block",width:`calc(100% - ${s.paddingXS*2}px)`},[`${x}-uploading`]:{[`&${x}`]:{backgroundColor:s.colorFillAlter},[`&::before, ${d}-eye, ${d}-download, ${d}-delete`]:{display:"none"}},[`${x}-progress`]:{bottom:s.marginXL,width:`calc(100% - ${s.paddingXS*2}px)`,paddingInlineStart:0}}})}},Qoe=s=>{const{componentCls:g}=s;return{[`${g}-rtl`]:{direction:"rtl"}}},eie=Qoe,tie=s=>{const{componentCls:g,colorTextDisabled:d}=s;return{[`${g}-wrapper`]:We(We({},If(s)),{[g]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${g}-select`]:{display:"inline-block"},[`${g}-disabled`]:{color:d,cursor:"not-allowed"}})}},nie=jv("Upload",s=>{const{fontSizeHeading3:g,fontSize:d,lineHeight:h,lineWidth:y,controlHeightLG:k}=s,x=Math.round(d*h),T=Jc(s,{uploadThumbnailSize:g*2,uploadProgressOffset:x/2+y,uploadPicCardSize:k*2.55});return[tie(T),qoe(T),Zoe(T),Joe(T),Goe(T),Xoe(T),eie(T),OQ(T)]});var rie=globalThis&&globalThis.__awaiter||function(s,g,d,h){function y(k){return k instanceof d?k:new d(function(x){x(k)})}return new(d||(d=Promise))(function(k,x){function T(B){try{I(h.next(B))}catch(D){x(D)}}function P(B){try{I(h.throw(B))}catch(D){x(D)}}function I(B){B.done?k(B.value):y(B.value).then(T,P)}I((h=h.apply(s,g||[])).next())})},aie=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const Lk=`__LIST_IGNORE_${Date.now()}__`,Q_=Rr({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:Ms(Uj(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup(s,g){let{slots:d,attrs:h,expose:y}=g;const k=Qc(),{prefixCls:x,direction:T,disabled:P}=Nl("upload",s),[I,B]=nie(x),D=Wk(),F=yt(()=>{var oe;return(oe=D.value)!==null&&oe!==void 0?oe:P.value}),[L,J]=ss(s.defaultFileList||[],{value:so(s,"fileList"),postState:oe=>{const z=Date.now();return(oe??[]).map((G,he)=>(!G.uid&&!Object.isFrozen(G)&&(G.uid=`__AUTO__${z}_${he}__`),G))}}),_=mn("drop"),U=mn(null);zf(()=>{Zg(s.fileList!==void 0||h.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),Zg(s.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),Zg(s.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});const te=(oe,z,G)=>{var he,Ge;let Me=[...z];s.maxCount===1?Me=Me.slice(-1):s.maxCount&&(Me=Me.slice(0,s.maxCount)),J(Me);const je={file:oe,fileList:Me};G&&(je.event=G),(he=s["onUpdate:fileList"])===null||he===void 0||he.call(s,je.fileList),(Ge=s.onChange)===null||Ge===void 0||Ge.call(s,je),k.onFieldChange()},Z=(oe,z)=>rie(this,void 0,void 0,function*(){const{beforeUpload:G,transformFile:he}=s;let Ge=oe;if(G){const Me=yield G(oe,z);if(Me===!1)return!1;if(delete oe[Lk],Me===Lk)return Object.defineProperty(oe,Lk,{value:!0,configurable:!0}),!1;typeof Me=="object"&&Me&&(Ge=Me)}return he&&(Ge=yield he(Ge)),Ge}),R=oe=>{const z=oe.filter(Ge=>!Ge.file[Lk]);if(!z.length)return;const G=z.map(Ge=>G_(Ge.file));let he=[...L.value];G.forEach(Ge=>{he=Y_(Ge,he)}),G.forEach((Ge,Me)=>{let je=Ge;if(z[Me].parsedFile)Ge.status="uploading";else{const{originFileObj:tt}=Ge;let E;try{E=new File([tt],tt.name,{type:tt.type})}catch{E=new Blob([tt],{type:tt.type}),E.name=tt.name,E.lastModifiedDate=new Date,E.lastModified=new Date().getTime()}E.uid=Ge.uid,je=E}te(je,he)})},Q=(oe,z,G)=>{try{typeof oe=="string"&&(oe=JSON.parse(oe))}catch{}if(!B7(z,L.value))return;const he=G_(z);he.status="done",he.percent=100,he.response=oe,he.xhr=G;const Ge=Y_(he,L.value);te(he,Ge)},X=(oe,z)=>{if(!B7(z,L.value))return;const G=G_(z);G.status="uploading",G.percent=oe.percent;const he=Y_(G,L.value);te(G,he,oe)},me=(oe,z,G)=>{if(!B7(G,L.value))return;const he=G_(G);he.error=oe,he.response=z,he.status="error";const Ge=Y_(he,L.value);te(he,Ge)},xe=oe=>{let z;const G=s.onRemove||s.remove;Promise.resolve(typeof G=="function"?G(oe):G).then(he=>{var Ge,Me;if(he===!1)return;const je=Moe(oe,L.value);je&&(z=We(We({},oe),{status:"removed"}),(Ge=L.value)===null||Ge===void 0||Ge.forEach(tt=>{const E=z.uid!==void 0?"uid":"name";tt[E]===z[E]&&!Object.isFrozen(tt)&&(tt.status="removed")}),(Me=U.value)===null||Me===void 0||Me.abort(z),te(z,je))})},fe=oe=>{var z;_.value=oe.type,oe.type==="drop"&&((z=s.onDrop)===null||z===void 0||z.call(s,oe))};y({onBatchStart:R,onSuccess:Q,onProgress:X,onError:me,fileList:L,upload:U});const[se]=sH("Upload",vH.Upload,yt(()=>s.locale)),Ce=(oe,z)=>{const{removeIcon:G,previewIcon:he,downloadIcon:Ge,previewFile:Me,onPreview:je,onDownload:tt,isImageUrl:E,progress:Ae,itemRender:Le,iconRender:At,showUploadList:ze}=s,{showDownloadIcon:ft,showPreviewIcon:Xe,showRemoveIcon:ct}=typeof ze=="boolean"?{}:ze;return ze?ue(Woe,{prefixCls:x.value,listType:s.listType,items:L.value,previewFile:Me,onPreview:je,onDownload:tt,onRemove:xe,showRemoveIcon:!F.value&&ct,showPreviewIcon:Xe,showDownloadIcon:ft,removeIcon:G,previewIcon:he,downloadIcon:Ge,iconRender:At,locale:se.value,isImageUrl:E,progress:Ae,itemRender:Le,appendActionVisible:z,appendAction:oe},We({},d)):oe?.()};return()=>{var oe,z,G;const{listType:he,type:Ge}=s,{class:Me,style:je}=h,tt=aie(h,["class","style"]),E=We(We(We({onBatchStart:R,onError:me,onProgress:X,onSuccess:Q},tt),s),{id:(oe=s.id)!==null&&oe!==void 0?oe:k.id.value,prefixCls:x.value,beforeUpload:Z,onChange:void 0,disabled:F.value});delete E.remove,(!d.default||F.value)&&delete E.id;const Ae={[`${x.value}-rtl`]:T.value==="rtl"};if(Ge==="drag"){const ft=ya(x.value,{[`${x.value}-drag`]:!0,[`${x.value}-drag-uploading`]:L.value.some(Xe=>Xe.status==="uploading"),[`${x.value}-drag-hover`]:_.value==="dragover",[`${x.value}-disabled`]:F.value,[`${x.value}-rtl`]:T.value==="rtl"},h.class,B.value);return I(ue("span",Ot(Ot({},h),{},{class:ya(`${x.value}-wrapper`,Ae,Me,B.value)}),[ue("div",{class:ft,onDrop:fe,onDragover:fe,onDragleave:fe,style:h.style},[ue(WU,Ot(Ot({},E),{},{ref:U,class:`${x.value}-btn`}),Ot({default:()=>[ue("div",{class:`${x.value}-drag-container`},[(z=d.default)===null||z===void 0?void 0:z.call(d)])]},d))]),Ce()]))}const Le=ya(x.value,{[`${x.value}-select`]:!0,[`${x.value}-select-${he}`]:!0,[`${x.value}-disabled`]:F.value,[`${x.value}-rtl`]:T.value==="rtl"}),At=oH((G=d.default)===null||G===void 0?void 0:G.call(d)),ze=ft=>ue("div",{class:Le,style:ft},[ue(WU,Ot(Ot({},E),{},{ref:U}),d)]);return I(he==="picture-card"?ue("span",Ot(Ot({},h),{},{class:ya(`${x.value}-wrapper`,`${x.value}-picture-card-wrapper`,Ae,h.class,B.value)}),[Ce(ze,!!(At&&At.length))]):ue("span",Ot(Ot({},h),{},{class:ya(`${x.value}-wrapper`,Ae,h.class,B.value)}),[ze(At&&At.length?void 0:{display:"none"}),Ce()]))}}});var ZU=globalThis&&globalThis.__rest||function(s,g){var d={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&g.indexOf(h)<0&&(d[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(s);y<h.length;y++)g.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(s,h[y])&&(d[h[y]]=s[h[y]]);return d};const F7=Rr({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:Uj(),setup(s,g){let{slots:d,attrs:h}=g;return()=>{const{height:y}=s,k=ZU(s,["height"]),{style:x}=h,T=ZU(h,["style"]),P=We(We(We({},k),T),{type:"drag",style:We(We({},x),{height:typeof y=="number"?`${y}px`:y})});return ue(Q_,P,d)}}}),Gy=We(Q_,{Dragger:F7,LIST_IGNORE:Lk,install(s){return s.component(Q_.name,Q_),s.component(F7.name,F7),s}}),oie=["icon-download-count","icon-dynamic-avatar-1","icon-dynamic-avatar-2","icon-dynamic-avatar-3","icon-dynamic-avatar-4","icon-dynamic-avatar-5","icon-dynamic-avatar-6","icon-moon","icon-sun","icon-test","icon-total-sales","icon-transaction","icon-visit-count"],iie={prefix:"ant-design",icons:["account-book-filled","account-book-outlined","account-book-twotone","aim-outlined","alert-filled","alert-outlined","alert-twotone","alibaba-outlined","align-center-outlined","align-left-outlined","align-right-outlined","alipay-circle-filled","alipay-circle-outlined","alipay-outlined","alipay-square-filled","aliwangwang-filled","aliwangwang-outlined","aliyun-outlined","amazon-circle-filled","amazon-outlined","amazon-square-filled","android-filled","android-outlined","ant-cloud-outlined","ant-design-outlined","apartment-outlined","api-filled","api-outlined","api-twotone","apple-filled","apple-outlined","appstore-add-outlined","appstore-filled","appstore-outlined","appstore-twotone","area-chart-outlined","arrow-down-outlined","arrow-left-outlined","arrow-right-outlined","arrow-up-outlined","arrows-alt-outlined","audio-filled","audio-muted-outlined","audio-outlined","audio-twotone","audit-outlined","backward-filled","backward-outlined","bank-filled","bank-outlined","bank-twotone","bar-chart-outlined","barcode-outlined","bars-outlined","behance-circle-filled","behance-outlined","behance-square-filled","behance-square-outlined","bell-filled","bell-outlined","bell-twotone","bg-colors-outlined","block-outlined","bold-outlined","book-filled","book-outlined","book-twotone","border-bottom-outlined","border-horizontal-outlined","border-inner-outlined","border-left-outlined","border-outer-outlined","border-outlined","border-right-outlined","border-top-outlined","border-verticle-outlined","borderless-table-outlined","box-plot-filled","box-plot-outlined","box-plot-twotone","branches-outlined","bug-filled","bug-outlined","bug-twotone","build-filled","build-outlined","build-twotone","bulb-filled","bulb-outlined","bulb-twotone","calculator-filled","calculator-outlined","calculator-twotone","calendar-filled","calendar-outlined","calendar-twotone","camera-filled","camera-outlined","camera-twotone","car-filled","car-outlined","car-twotone","caret-down-filled","caret-down-outlined","caret-left-filled","caret-left-outlined","caret-right-filled","caret-right-outlined","caret-up-filled","caret-up-outlined","carry-out-filled","carry-out-outlined","carry-out-twotone","check-circle-filled","check-circle-outlined","check-circle-twotone","check-outlined","check-square-filled","check-square-outlined","check-square-twotone","chrome-filled","chrome-outlined","ci-circle-filled","ci-circle-outlined","ci-circle-twotone","ci-outlined","ci-twotone","clear-outlined","clock-circle-filled","clock-circle-outlined","clock-circle-twotone","close-circle-filled","close-circle-outlined","close-circle-twotone","close-outlined","close-square-filled","close-square-outlined","close-square-twotone","cloud-download-outlined","cloud-filled","cloud-outlined","cloud-server-outlined","cloud-sync-outlined","cloud-twotone","cloud-upload-outlined","cluster-outlined","code-filled","code-outlined","code-sandbox-circle-filled","code-sandbox-outlined","code-sandbox-square-filled","code-twotone","codepen-circle-filled","codepen-circle-outlined","codepen-outlined","codepen-square-filled","coffee-outlined","column-height-outlined","column-width-outlined","comment-outlined","compass-filled","compass-outlined","compass-twotone","compress-outlined","console-sql-outlined","contacts-filled","contacts-outlined","contacts-twotone","container-filled","container-outlined","container-twotone","control-filled","control-outlined","control-twotone","copy-filled","copy-outlined","copy-twotone","copyright-circle-filled","copyright-circle-outlined","copyright-circle-twotone","copyright-outlined","copyright-twotone","credit-card-filled","credit-card-outlined","credit-card-twotone","crown-filled","crown-outlined","crown-twotone","customer-service-filled","customer-service-outlined","customer-service-twotone","dash-outlined","dashboard-filled","dashboard-outlined","dashboard-twotone","database-filled","database-outlined","database-twotone","delete-column-outlined","delete-filled","delete-outlined","delete-row-outlined","delete-twotone","delivered-procedure-outlined","deployment-unit-outlined","desktop-outlined","diff-filled","diff-outlined","diff-twotone","dingding-outlined","dingtalk-circle-filled","dingtalk-outlined","dingtalk-square-filled","disconnect-outlined","dislike-filled","dislike-outlined","dislike-twotone","dollar-circle-filled","dollar-circle-outlined","dollar-circle-twotone","dollar-outlined","dollar-twotone","dot-chart-outlined","double-left-outlined","double-right-outlined","down-circle-filled","down-circle-outlined","down-circle-twotone","down-outlined","down-square-filled","down-square-outlined","down-square-twotone","download-outlined","drag-outlined","dribbble-circle-filled","dribbble-outlined","dribbble-square-filled","dribbble-square-outlined","dropbox-circle-filled","dropbox-outlined","dropbox-square-filled","edit-filled","edit-outlined","edit-twotone","ellipsis-outlined","enter-outlined","environment-filled","environment-outlined","environment-twotone","euro-circle-filled","euro-circle-outlined","euro-circle-twotone","euro-outlined","euro-twotone","exception-outlined","exclamation-circle-filled","exclamation-circle-outlined","exclamation-circle-twotone","exclamation-outlined","expand-alt-outlined","expand-outlined","experiment-filled","experiment-outlined","experiment-twotone","export-outlined","eye-filled","eye-invisible-filled","eye-invisible-outlined","eye-invisible-twotone","eye-outlined","eye-twotone","facebook-filled","facebook-outlined","fall-outlined","fast-backward-filled","fast-backward-outlined","fast-forward-filled","fast-forward-outlined","field-binary-outlined","field-number-outlined","field-string-outlined","field-time-outlined","file-add-filled","file-add-outlined","file-add-twotone","file-done-outlined","file-excel-filled","file-excel-outlined","file-excel-twotone","file-exclamation-filled","file-exclamation-outlined","file-exclamation-twotone","file-filled","file-gif-outlined","file-image-filled","file-image-outlined","file-image-twotone","file-jpg-outlined","file-markdown-filled","file-markdown-outlined","file-markdown-twotone","file-outlined","file-pdf-filled","file-pdf-outlined","file-pdf-twotone","file-ppt-filled","file-ppt-outlined","file-ppt-twotone","file-protect-outlined","file-search-outlined","file-sync-outlined","file-text-filled","file-text-outlined","file-text-twotone","file-twotone","file-unknown-filled","file-unknown-outlined","file-unknown-twotone","file-word-filled","file-word-outlined","file-word-twotone","file-zip-filled","file-zip-outlined","file-zip-twotone","filter-filled","filter-outlined","filter-twotone","fire-filled","fire-outlined","fire-twotone","flag-filled","flag-outlined","flag-twotone","folder-add-filled","folder-add-outlined","folder-add-twotone","folder-filled","folder-open-filled","folder-open-outlined","folder-open-twotone","folder-outlined","folder-twotone","folder-view-outlined","font-colors-outlined","font-size-outlined","fork-outlined","form-outlined","format-painter-filled","format-painter-outlined","forward-filled","forward-outlined","frown-filled","frown-outlined","frown-twotone","fullscreen-exit-outlined","fullscreen-outlined","function-outlined","fund-filled","fund-outlined","fund-projection-screen-outlined","fund-twotone","fund-view-outlined","funnel-plot-filled","funnel-plot-outlined","funnel-plot-twotone","gateway-outlined","gif-outlined","gift-filled","gift-outlined","gift-twotone","github-filled","github-outlined","gitlab-filled","gitlab-outlined","global-outlined","gold-filled","gold-outlined","gold-twotone","golden-filled","google-circle-filled","google-outlined","google-plus-circle-filled","google-plus-outlined","google-plus-square-filled","google-square-filled","group-outlined","hdd-filled","hdd-outlined","hdd-twotone","heart-filled","heart-outlined","heart-twotone","heat-map-outlined","highlight-filled","highlight-outlined","highlight-twotone","history-outlined","home-filled","home-outlined","home-twotone","hourglass-filled","hourglass-outlined","hourglass-twotone","html5-filled","html5-outlined","html5-twotone","idcard-filled","idcard-outlined","idcard-twotone","ie-circle-filled","ie-outlined","ie-square-filled","import-outlined","inbox-outlined","info-circle-filled","info-circle-outlined","info-circle-twotone","info-outlined","insert-row-above-outlined","insert-row-below-outlined","insert-row-left-outlined","insert-row-right-outlined","instagram-filled","instagram-outlined","insurance-filled","insurance-outlined","insurance-twotone","interaction-filled","interaction-outlined","interaction-twotone","issues-close-outlined","italic-outlined","key-outlined","laptop-outlined","layout-filled","layout-outlined","layout-twotone","left-circle-filled","left-circle-outlined","left-circle-twotone","left-outlined","left-square-filled","left-square-outlined","left-square-twotone","like-filled","like-outlined","like-twotone","line-chart-outlined","line-height-outlined","line-outlined","link-outlined","linkedin-filled","linkedin-outlined","loading-3-quarters-outlined","loading-outlined","lock-filled","lock-outlined","lock-twotone","login-outlined","logout-outlined","mac-command-filled","mac-command-outlined","mail-filled","mail-outlined","mail-twotone","man-outlined","medicine-box-filled","medicine-box-outlined","medicine-box-twotone","medium-circle-filled","medium-outlined","medium-square-filled","medium-workmark-outlined","meh-filled","meh-outlined","meh-twotone","menu-fold-outlined","menu-outlined","menu-unfold-outlined","merge-cells-outlined","message-filled","message-outlined","message-twotone","minus-circle-filled","minus-circle-outlined","minus-circle-twotone","minus-outlined","minus-square-filled","minus-square-outlined","minus-square-twotone","mobile-filled","mobile-outlined","mobile-twotone","money-collect-filled","money-collect-outlined","money-collect-twotone","monitor-outlined","more-outlined","node-collapse-outlined","node-expand-outlined","node-index-outlined","notification-filled","notification-outlined","notification-twotone","number-outlined","one-to-one-outlined","ordered-list-outlined","paper-clip-outlined","partition-outlined","pause-circle-filled","pause-circle-outlined","pause-circle-twotone","pause-outlined","pay-circle-filled","pay-circle-outlined","percentage-outlined","phone-filled","phone-outlined","phone-twotone","pic-center-outlined","pic-left-outlined","pic-right-outlined","picture-filled","picture-outlined","picture-twotone","pie-chart-filled","pie-chart-outlined","pie-chart-twotone","play-circle-filled","play-circle-outlined","play-circle-twotone","play-square-filled","play-square-outlined","play-square-twotone","plus-circle-filled","plus-circle-outlined","plus-circle-twotone","plus-outlined","plus-square-filled","plus-square-outlined","plus-square-twotone","pound-circle-filled","pound-circle-outlined","pound-circle-twotone","pound-outlined","poweroff-outlined","printer-filled","printer-outlined","printer-twotone","profile-filled","profile-outlined","profile-twotone","project-filled","project-outlined","project-twotone","property-safety-filled","property-safety-outlined","property-safety-twotone","pull-request-outlined","pushpin-filled","pushpin-outlined","pushpin-twotone","qq-circle-filled","qq-outlined","qq-square-filled","qrcode-outlined","question-circle-filled","question-circle-outlined","question-circle-twotone","question-outlined","radar-chart-outlined","radius-bottomleft-outlined","radius-bottomright-outlined","radius-setting-outlined","radius-upleft-outlined","radius-upright-outlined","read-filled","read-outlined","reconciliation-filled","reconciliation-outlined","reconciliation-twotone","red-envelope-filled","red-envelope-outlined","red-envelope-twotone","reddit-circle-filled","reddit-outlined","reddit-square-filled","redo-outlined","reload-outlined","rest-filled","rest-outlined","rest-twotone","retweet-outlined","right-circle-filled","right-circle-outlined","right-circle-twotone","right-outlined","right-square-filled","right-square-outlined","right-square-twotone","rise-outlined","robot-filled","robot-outlined","rocket-filled","rocket-outlined","rocket-twotone","rollback-outlined","rotate-left-outlined","rotate-right-outlined","safety-certificate-filled","safety-certificate-outlined","safety-certificate-twotone","safety-outlined","save-filled","save-outlined","save-twotone","scan-outlined","schedule-filled","schedule-outlined","schedule-twotone","scissor-outlined","search-outlined","security-scan-filled","security-scan-outlined","security-scan-twotone","select-outlined","send-outlined","setting-filled","setting-outlined","setting-twotone","shake-outlined","share-alt-outlined","shop-filled","shop-outlined","shop-twotone","shopping-cart-outlined","shopping-filled","shopping-outlined","shopping-twotone","shrink-outlined","signal-filled","sisternode-outlined","sketch-circle-filled","sketch-outlined","sketch-square-filled","skin-filled","skin-outlined","skin-twotone","skype-filled","skype-outlined","slack-circle-filled","slack-outlined","slack-square-filled","slack-square-outlined","sliders-filled","sliders-outlined","sliders-twotone","small-dash-outlined","smile-filled","smile-outlined","smile-twotone","snippets-filled","snippets-outlined","snippets-twotone","solution-outlined","sort-ascending-outlined","sort-descending-outlined","sound-filled","sound-outlined","sound-twotone","split-cells-outlined","star-filled","star-outlined","star-twotone","step-backward-filled","step-backward-outlined","step-forward-filled","step-forward-outlined","stock-outlined","stop-filled","stop-outlined","stop-twotone","strikethrough-outlined","subnode-outlined","swap-left-outlined","swap-outlined","swap-right-outlined","switcher-filled","switcher-outlined","switcher-twotone","sync-outlined","table-outlined","tablet-filled","tablet-outlined","tablet-twotone","tag-filled","tag-outlined","tag-twotone","tags-filled","tags-outlined","tags-twotone","taobao-circle-filled","taobao-circle-outlined","taobao-outlined","taobao-square-filled","team-outlined","thunderbolt-filled","thunderbolt-outlined","thunderbolt-twotone","to-top-outlined","tool-filled","tool-outlined","tool-twotone","trademark-circle-filled","trademark-circle-outlined","trademark-circle-twotone","trademark-outlined","transaction-outlined","translation-outlined","trophy-filled","trophy-outlined","trophy-twotone","twitter-circle-filled","twitter-outlined","twitter-square-filled","underline-outlined","undo-outlined","ungroup-outlined","unlock-filled","unlock-outlined","unlock-twotone","unordered-list-outlined","up-circle-filled","up-circle-outlined","up-circle-twotone","up-outlined","up-square-filled","up-square-outlined","up-square-twotone","upload-outlined","usb-filled","usb-outlined","usb-twotone","user-add-outlined","user-delete-outlined","user-outlined","user-switch-outlined","usergroup-add-outlined","usergroup-delete-outlined","verified-outlined","vertical-align-bottom-outlined","vertical-align-middle-outlined","vertical-align-top-outlined","vertical-left-outlined","vertical-right-outlined","video-camera-add-outlined","video-camera-filled","video-camera-outlined","video-camera-twotone","wallet-filled","wallet-outlined","wallet-twotone","warning-filled","warning-outlined","warning-twotone","wechat-filled","wechat-outlined","weibo-circle-filled","weibo-circle-outlined","weibo-outlined","weibo-square-filled","weibo-square-outlined","whats-app-outlined","wifi-outlined","windows-filled","windows-outlined","woman-outlined","yahoo-filled","yahoo-outlined","youtube-filled","youtube-outlined","yuque-filled","yuque-outlined","zhihu-circle-filled","zhihu-outlined","zhihu-square-filled","zoom-in-outlined","zoom-out-outlined"]};function uie(s,g,d){const h=(g-1)*Number(d);return h+Number(d)>=s.length?s.slice(h,s.length):s.slice(h,h+Number(d))}function lie(s,g){const d=mn(1),h=mn(g),y=yt(()=>uie(Jt(s),Jt(d),Jt(h))),k=yt(()=>Jt(s).length);function x(P){d.value=P}function T(P){h.value=P}return{setCurrentPage:x,getTotal:k,setPageSize:T,getPaginationList:y}}const sie={class:"flex justify-between"},cie={key:0},fie={class:"flex flex-wrap px-2"},vie=["title","onClick"],die={key:0,class:"flex items-center justify-center py-2"},mie={key:1,class:"p-5"},gie={key:0,class:"flex cursor-pointer items-center px-2 py-1"},pie=Rr({__name:"IconPicker",props:{value:{default:""},width:{default:"100%"},pageSize:{default:140},copy:{type:Boolean,default:!1},mode:{default:"iconify"}},emits:["change","update:value"],setup(s,{emit:g}){const d=s,h=g;function y(){const Q=iie,X=Q?.prefix;let me=[];return me=(Q?.icons??[]).map(xe=>`${X}:${xe}`),me}function k(){return oie.map(Q=>Q.replace("icon-",""))}const x=d.mode==="svg",T=x?k():y(),P=mn(""),I=mn(!1),B=mn(T),{t:D}=wc(),{prefixCls:F}=ow("icon-picker"),L=_Q(R,100),{getPaginationList:J,getTotal:_,setCurrentPage:U}=lie(B,d.pageSize);pl(()=>{P.value=d.value}),oa(()=>P.value,Q=>(h("update:value",Q),h("change",Q)));function te(Q){U(Q)}function Z(Q){P.value=Q,d.copy&&hee(Q,D("component.icon.copy"))}function R(Q){const X=Q.target.value;if(!X){U(1),B.value=T;return}B.value=T.filter(me=>me.includes(X))}return(Q,X)=>(Yr(),wo(Jt(tp),{value:P.value,"onUpdate:value":X[1]||(X[1]=me=>P.value=me),disabled:"",style:mH({width:Q.width}),placeholder:Jt(D)("component.icon.placeholder"),class:um(Jt(F))},{addonAfter:wa(()=>[ue(Jt(DQ),{modelValue:I.value,"onUpdate:modelValue":X[0]||(X[0]=me=>I.value=me),placement:"bottomLeft",trigger:"click","overlay-class-name":`${Jt(F)}-popover`},{title:wa(()=>[Wv("div",sie,[ue(Jt(tp),{placeholder:Jt(D)("component.icon.search"),"allow-clear":"",onChange:Jt(L)},null,8,["placeholder","onChange"])])]),content:wa(()=>[Jt(J).length?(Yr(),Ho("div",cie,[ue(Jt(AQ),{class:"border border-t-0 border-solid"},{default:wa(()=>[Wv("ul",fie,[(Yr(!0),Ho(eu,null,ap(Jt(J),me=>(Yr(),Ho("li",{key:me,class:um([P.value===me?"border border-primary":"","mr-1 mt-1 w-1/8 flex cursor-pointer items-center justify-center border border-solid p-2 hover:border-primary"]),title:me,onClick:xe=>Z(me)},[x?(Yr(),wo(iU,{key:0,name:me},null,8,["name"])):(Yr(),wo(fb,{key:1,icon:me},null,8,["icon"]))],10,vie))),128))])]),_:1}),Jt(_)>=Q.pageSize?(Yr(),Ho("div",die,[ue(Jt(EW),{"show-less-items":"",size:"small","page-size":Q.pageSize,total:Jt(_),onChange:te},null,8,["page-size","total"])])):pu("",!0)])):(Yr(),Ho("div",mie,[ue(Jt($Q))]))]),default:wa(()=>[x&&P.value?(Yr(),Ho("span",gie,[ue(iU,{name:P.value},null,8,["name"])])):(Yr(),wo(fb,{key:1,icon:P.value||"ion:apps-outline",class:"cursor-pointer px-2 py-1"},null,8,["icon"]))]),_:1},8,["modelValue","overlay-class-name"])]),_:1},8,["value","style","placeholder","class"]))}}),hie=Rr({name:"ApiRadioGroup",__name:"ApiRadioGroup",props:{api:{type:Function,default:null},params:{type:[Object,String],default:()=>({})},value:{type:[String,Number,Boolean]},isBtn:rr.bool.def(!1),numberToString:rr.bool,resultField:rr.string.def(""),labelField:rr.string.def("label"),valueField:rr.string.def("value"),immediate:rr.bool.def(!0),alwaysLoad:rr.bool.def(!0)},emits:["optionsChange","change"],setup(s,{emit:g}){const d=s,h=g,y=Xu.Button,k=Xu.Group,x=mn([]),T=mn(!1),P=mn(!0),I=mn([]),B=dP(),[D]=uw(d),F=yt(()=>{const{labelField:U,valueField:te,numberToString:Z}=d;return Jt(x).reduce((R,Q)=>{if(Q){const X=Q[te];R.push({label:Q[U],value:Z?`${X}`:X,...Yk(Q,[U,te])})}return R},[])});pl(()=>{d.immediate&&L()}),oa(()=>d.params,()=>{(d.alwaysLoad||!Jt(P))&&L()},{deep:!0});async function L(){const U=d.api;if(!(!U||!Lf(U))){x.value=[];try{T.value=!0;const te=await U(d.params);if(Array.isArray(te)){x.value=te,J();return}d.resultField&&(x.value=lm(te,d.resultField)||[]),J()}catch{}finally{T.value=!1}}}function J(){h("optionsChange",Jt(F))}function _(U){I.value=U}return(U,te)=>(Yr(),wo(Jt(k),Lu(Jt(B),{value:Jt(D),"onUpdate:value":te[0]||(te[0]=Z=>iw(D)?D.value=Z:null),"button-style":"solid",onChange:_}),{default:wa(()=>[(Yr(!0),Ho(eu,null,ap(F.value,Z=>(Yr(),Ho(eu,{key:`${Z.value}`},[d.isBtn?(Yr(),wo(Jt(y),{key:0,value:Z.value,disabled:Z.disabled},{default:wa(()=>[Ni(tu(Z.label),1)]),_:2},1032,["value","disabled"])):(Yr(),wo(Jt(Xu),{key:1,value:Z.value,disabled:Z.disabled},{default:wa(()=>[Ni(tu(Z.label),1)]),_:2},1032,["value","disabled"]))],64))),128))]),_:1},16,["value"]))}}),bie=Rr({name:"RadioButtonGroup",__name:"RadioButtonGroup",props:{value:{type:[String,Number,Boolean]},options:{type:Array,default:()=>[]}},emits:["change"],setup(s,{emit:g}){const d=s,h=g,y=Xu.Button,k=Xu.Group,x=dP(),T=mn([]),[P]=uw(d,"value","change",T),I=yt(()=>{const{options:D}=d;return!D||D?.length===0?[]:D.some(L=>gH(L))?D.map(L=>({label:L,value:L})):D});function B(D){T.value=D,h("change",T.value)}return(D,F)=>(Yr(),wo(Jt(k),Lu(Jt(x),{value:Jt(P),"onUpdate:value":F[0]||(F[0]=L=>iw(P)?P.value=L:null),"button-style":"solid"}),{default:wa(()=>[(Yr(!0),Ho(eu,null,ap(I.value,L=>(Yr(),wo(Jt(y),{key:`${L.value}`,value:L.value,disabled:L.disabled,onClick:J=>B(L.value)},{default:wa(()=>[Ni(tu(L.label),1)]),_:2},1032,["value","disabled","onClick"]))),128))]),_:1},16,["value"]))}}),yie=Rr({name:"ApiSelect",inheritAttrs:!1,__name:"ApiSelect",props:{value:{type:[Array,Object,String,Number]},numberToString:rr.bool,api:{type:Function,default:null},params:{type:Object,default:()=>({})},resultField:rr.string.def(""),labelField:rr.string.def("label"),valueField:rr.string.def("value"),immediate:rr.bool.def(!0),alwaysLoad:rr.bool.def(!0),options:{type:Array,default:[]}},emits:["optionsChange","change","update:value"],setup(s,{emit:g}){const d=s,h=g,y=mn([]),k=mn(!1),x=mn(!1),T=mn([]),{t:P}=wc(),[I]=uw(d,"value","change",T),B=yt(()=>{const{labelField:_,valueField:U,numberToString:te}=d;return Jt(y).reduce((Z,R)=>{if(R){const Q=lm(R,U);Z.push({...Yk(R,[_,U]),label:lm(R,_),value:te?`${Q}`:Q})}return Z},[])});oa(()=>I.value,_=>{h("update:value",_)}),oa(()=>d.params,()=>{(d.alwaysLoad||!Jt(x))&&D()},{deep:!0,immediate:d.immediate});async function D(){const _=d.api;if(!(!_||!Lf(_)||k.value)){y.value=[];try{k.value=!0;const U=await _(d.params);if(x.value=!0,Array.isArray(U)){y.value=U,L();return}d.resultField&&(y.value=lm(U,d.resultField)||[]),L()}catch{}finally{k.value=!1}}}async function F(_){_&&(d.alwaysLoad?await D():!d.immediate&&!Jt(x)&&(await D(),x.value=!1))}function L(){h("optionsChange",Jt(B))}function J(_,...U){T.value=U}return(_,U)=>(Yr(),wo(Jt(nP),Lu(_.$attrs,{value:Jt(I),"onUpdate:value":U[0]||(U[0]=te=>iw(I)?I.value=te:null),options:B.value,onDropdownVisibleChange:F,onChange:J}),Xk({_:2},[ap(Object.keys(_.$slots),te=>({name:te,fn:wa(Z=>[Uv(_.$slots,te,Jg(mP(Z||{})))])})),k.value?{name:"suffixIcon",fn:wa(()=>[ue(Jt(ep),{spin:""})]),key:"0"}:void 0,k.value?{name:"notFoundContent",fn:wa(()=>[Wv("span",null,[ue(Jt(ep),{spin:"",class:"mr-1"}),Ni(" "+tu(Jt(P)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1040,["value","options"]))}}),wie=Rr({name:"ApiTree",__name:"ApiTree",props:{api:{type:Function},params:{type:Object},immediate:rr.bool.def(!0),resultField:rr.string.def(""),afterFetch:{type:Function},handleTree:rr.string.def(""),alwaysLoad:rr.bool.def(!0),value:{type:Array}},emits:["optionsChange","change","update:value"],setup(s,{emit:g}){const d=s,h=g,y=tw(),k=PQ(),x=mn([]),T=mn(!1),P=mn(!1),I=mn([]),[B]=uw(d,"value","change",I),D=yt(()=>({...d.api?{treeData:Jt(x)}:{},...y}));oa(()=>B.value,L=>{h("update:value",L)}),oa(()=>d.params,()=>{(d.alwaysLoad||!Jt(T))&&F()},{deep:!0}),oa(()=>d.immediate,L=>{d.alwaysLoad?L&&F():L&&!T.value&&F()}),zf(()=>{d.immediate&&F()});async function F(){const{api:L,afterFetch:J}=d;if(!L||!Lf(L))return;P.value=!0,x.value=[];let _;try{_=await L(d.params)}catch{}J&&Lf(J)&&(_=J(_)),P.value=!1,_&&(d.handleTree&&(_=xW(_,d.handleTree)),Zy(_)||(_=lm(_,d.resultField)),x.value=_||[],T.value=!0,h("optionsChange",x.value))}return(L,J)=>(Yr(),wo(Jt(iee),Lu(D.value,{"selected-keys":Jt(B),"onUpdate:selectedKeys":J[0]||(J[0]=_=>iw(B)?B.value=_:null)}),Xk({_:2},[ap(Object.keys(Jt(k)),_=>({name:_,fn:wa(U=>[Uv(L.$slots,_,Jg(mP(U||{})))])}))]),1040,["selected-keys"]))}}),Cie=Rr({name:"ApiTreeSelect",__name:"ApiTreeSelect",props:{api:{type:Function},params:{type:Object},immediate:rr.bool.def(!0),async:rr.bool.def(!1),resultField:rr.string.def(""),handleTree:rr.string.def(""),parentId:rr.number.def(0),parentLabel:rr.string.def(""),parentFiled:rr.string.def("name"),alwaysLoad:rr.bool.def(!0)},emits:["optionsChange","change","load-data"],setup(s,{emit:g}){const d=s,h=g,y=tw(),k=mn([]),x=mn(!1),T=mn(!1),P=yt(()=>({...d.api?{treeData:Jt(k)}:{},...y}));function I(...F){h("change",...F)}oa(()=>d.params,()=>{(d.alwaysLoad||!Jt(x))&&D()},{deep:!0}),oa(()=>d.immediate,F=>{d.alwaysLoad?F&&D():F&&!x.value&&D()}),zf(()=>{d.immediate&&D()});function B(F){return new Promise(L=>{if(Zy(F.children)&&F.children.length>0){L();return}h("load-data",{treeData:k,treeNode:F,resolve:L})})}async function D(){const{api:F}=d;if(!F||!Lf(F))return;T.value=!0,k.value=[];let L;try{L=await F(d.params)}catch{}if(T.value=!1,!!L){if(Zy(L)||(L=lm(L,d.resultField)),d.handleTree&&(L=xW(L,d.handleTree)),d.parentLabel){let J={id:d.parentId,children:[]};J=MQ(J,d.parentFiled,d.parentLabel),J.children=L||[],k.value.push(J)}else k.value=L||[];x.value=!0,h("optionsChange",k.value)}}return(F,L)=>(Yr(),wo(Jt(zj),Lu(P.value,{"load-data":s.async?B:void 0,onChange:I}),Xk({_:2},[ap(Object.keys(F.$slots),J=>({name:J,fn:wa(_=>[Uv(F.$slots,J,Jg(mP(_||{})))])})),T.value?{name:"suffixIcon",fn:wa(()=>[ue(Jt(ep),{spin:""})]),key:"0"}:void 0]),1040,["load-data"]))}}),Sie=Rr({name:"ApiCascader",__name:"ApiCascader",props:{value:rr.array.def([]),api:{type:Function,default:null},numberToString:rr.bool.def(!1),resultField:rr.string.def(""),labelField:rr.string.def("label"),valueField:rr.string.def("value"),childrenField:rr.string.def("children"),apiParamKey:rr.string.def("parentCode"),immediate:rr.bool.def(!0),initFetchParams:{type:Object,default:()=>({})},isLeaf:{type:Function,default:null},displayRenderArray:{type:Array},alwaysLoad:rr.bool.def(!0)},emits:["change","defaultChange"],setup(s,{emit:g}){const d=s,h=g,y=mn([]),k=mn([]),x=mn(!1),T=mn([]),P=mn(!1),{t:I}=wc(),[B]=uw(d,"value","change",T);oa(y,U=>{const te=D(U);k.value=te},{deep:!0});function D(U){const{labelField:te,valueField:Z,numberToString:R,childrenField:Q,isLeaf:X}=d;return U.reduce((me,xe)=>{if(xe){const fe=xe[Z],se={...Yk(xe,[te,Z]),label:xe[te],value:R?`${fe}`:fe,isLeaf:X&&typeof X=="function"?X(xe):!1},Ce=Reflect.get(xe,Q);Ce&&Reflect.set(se,Q,D(Ce)),me.push(se)}return me},[])}async function F(){const U=d.api;if(!(!U||!Lf(U))){y.value=[],x.value=!0;try{const te=await U(d.initFetchParams);if(Array.isArray(te)){y.value=te;return}d.resultField&&(y.value=lm(te,d.resultField)||[])}catch{}finally{x.value=!1}}}async function L(U){const te=U[U.length-1];te.loading=!0;const Z=d.api;if(!(!Z||!Lf(Z)))try{const R=await Z({[d.apiParamKey]:Reflect.get(te,"value")});if(Array.isArray(R)){const Q=D(R);te.children=Q;return}if(d.resultField){const Q=D(lm(R,d.resultField)||[]);te.children=Q}}catch{}finally{te.loading=!1}}pl(()=>{d.immediate&&F()}),oa(()=>d.initFetchParams,()=>{(d.alwaysLoad||!Jt(P))&&F()},{deep:!0});function J(U,te){T.value=U,h("defaultChange",U,te)}function _({labels:U,selectedOptions:te}){return Jt(T).length===te.length?U.join(" / "):d.displayRenderArray?d.displayRenderArray.join(" / "):""}return(U,te)=>(Yr(),wo(Jt(pj),{value:Jt(B),"onUpdate:value":te[0]||(te[0]=Z=>iw(B)?B.value=Z:null),options:k.value,"load-data":L,"change-on-select":"","display-render":_,onChange:J},Xk({_:2},[x.value?{name:"suffixIcon",fn:wa(()=>[ue(Jt(ep),{spin:""})]),key:"0"}:void 0,x.value?{name:"notFoundContent",fn:wa(()=>[Wv("span",null,[ue(Jt(ep),{spin:"",class:"mr-1"}),Ni(" "+tu(Jt(I)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1032,["value","options"]))}}),xie=Rr({name:"ApiTransfer",__name:"ApiTransfer",props:{value:{type:Array},api:{type:Function,default:null},params:{type:Object},dataSource:{type:Array},immediate:rr.bool.def(!0),alwaysLoad:rr.bool.def(!0),afterFetch:{type:Function},resultField:rr.string.def(""),labelField:rr.string.def("title"),valueField:rr.string.def("key"),showSearch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterOption:{type:Function},selectedKeys:{type:Array},showSelectAll:{type:Boolean,default:!0},targetKeys:{type:Array}},emits:["optionsChange","change"],setup(s,{emit:g}){const d=s,h=g,y=tw(),k=mn([]),x=mn([]),T=yt(()=>({...d.api?{}:{dataSource:Jt(k)},...y})),P=yt(()=>{const{labelField:L,valueField:J}=d;return Jt(k).reduce((_,U)=>(U&&_.push({...Yk(U,[L,J]),title:U[L],key:U[J]}),_),[])}),I=yt(()=>Array.isArray(d.value)?d.value:Array.isArray(d.targetKeys)?d.targetKeys:[]);function B(L,J,_){x.value=L,h("change",L)}pl(()=>{d.immediate&&!d.alwaysLoad&&D()}),oa(()=>d.params,()=>{D()},{deep:!0});async function D(){const L=d.api;if(!L||!Lf(L)){Array.isArray(d.dataSource)&&(k.value=d.dataSource);return}k.value=[];try{const J=await L(d.params);if(Array.isArray(J)){k.value=J,F();return}d.resultField&&(k.value=lm(J,d.resultField)||[]),F()}catch{}}function F(){h("optionsChange",Jt(P))}return(L,J)=>(Yr(),wo(Jt(Lae),Lu(T.value,{"data-source":P.value,"filter-option":s.filterOption,render:_=>_.title,"show-select-all":s.showSelectAll,"selected-keys":s.selectedKeys,"target-keys":I.value,"show-search":s.showSearch,disabled:s.disabled,onChange:B}),null,16,["data-source","filter-option","render","show-select-all","selected-keys","target-keys","show-search","disabled"]))}});rr.bool;const kie="/assets/resume-8f27866b.svg",Tie="/assets/p-rotate-cb8bbfc3.svg",Eie="/assets/scale-44abde22.svg",Oie="/assets/unscale-c552f416.svg",Aie="/assets/unrotate-ef6a2daf.svg";var Wy=function(s){return s[s.LOADING=0]="LOADING",s[s.DONE=1]="DONE",s[s.FAIL=2]="FAIL",s}(Wy||{});const $ie={show:{type:Boolean,default:!1},imageList:{type:Array,default:null},index:{type:Number,default:0},scaleStep:{type:Number},defaultWidth:{type:Number},maskClosable:{type:Boolean},rememberState:{type:Boolean}},_s="img-preview",Die=Rr({name:"ImagePreview",props:$ie,emits:["imgLoad","imgError"],setup(s,{expose:g,emit:d}){const h=new Map,y=vP({currentUrl:"",imgScale:1,imgRotate:0,imgTop:0,imgLeft:0,status:Wy.LOADING,currentIndex:0,moveX:0,moveY:0,show:s.show}),k=mn(null),x=mn(null);function T(){I();const{index:G,imageList:he}=s;if(!he||!he.length)throw new Error("imageList is undefined");y.currentIndex=G,_(he[G])}function P(){y.imgScale=1,y.imgRotate=0,y.imgTop=0,y.imgLeft=0}function I(){const G=Jt(k);G&&(G.onmousewheel=D,document.body.addEventListener("DOMMouseScroll",D),document.ondragstart=function(){return!1})}const B=yt(()=>{const G=s?.scaleStep??0;return G??G<100?G/100:y.imgScale/10});function D(G){G=G||window.event,G.delta=G.wheelDelta||-G.detail,G.preventDefault(),G.delta>0&&F(B.value),G.delta<0&&F(-B.value)}function F(G){y.imgScale<=.2&&G<0||(y.imgScale+=G*.1,y.imgScale<0&&(y.imgScale=.02))}function L(G){y.imgRotate+=G}function J(){const G=Jt(x);G&&(G.onmousemove=null)}function _(G){y.status=Wy.LOADING;const he=new Image;he.src=G,he.onload=Ge=>{if(y.currentUrl!==G){const Me=Ge.composedPath();if(s.rememberState){h.set(y.currentUrl,{scale:y.imgScale,top:y.imgTop,left:y.imgLeft,rotate:y.imgRotate});const je=h.get(G);je?(y.imgScale=je.scale,y.imgTop=je.top,y.imgRotate=je.rotate,y.imgLeft=je.left):(P(),s.defaultWidth&&(y.imgScale=s.defaultWidth/Me[0].naturalWidth))}else s.defaultWidth&&(y.imgScale=s.defaultWidth/Me[0].naturalWidth);Me&&d("imgLoad",{index:y.currentIndex,dom:Me[0],url:G})}y.currentUrl=G,y.status=Wy.DONE},he.onerror=Ge=>{const Me=Ge.composedPath();Me&&d("imgError",{index:y.currentIndex,dom:Me[0],url:G}),y.status=Wy.FAIL}}function U(G){G&&G.stopPropagation(),te()}function te(){y.show=!1,document.body.removeEventListener("DOMMouseScroll",D),document.ondragstart=null}function Z(){P()}g({resume:Z,close:te,prev:R.bind(null,"left"),next:R.bind(null,"right"),setScale:G=>{G>0&&G<=10&&(y.imgScale=G)},setRotate:G=>{y.imgRotate=G}});function R(G){const{currentIndex:he}=y,{imageList:Ge}=s;G==="left"&&(y.currentIndex--,he<=0&&(y.currentIndex=Ge.length-1)),G==="right"&&(y.currentIndex++,he>=Ge.length-1&&(y.currentIndex=0)),_(Ge[y.currentIndex])}function Q(G){G=G||window.event,y.moveX=G.clientX,y.moveY=G.clientY;const he=Jt(x);he&&(he.onmousemove=X)}function X(G){G=G||window.event,G.preventDefault();const he=G.clientX-y.moveX,Ge=G.clientY-y.moveY;y.imgLeft+=he,y.imgTop+=Ge,y.moveX=G.clientX,y.moveY=G.clientY}const me=yt(()=>{const{imgScale:G,imgRotate:he,imgTop:Ge,imgLeft:Me}=y;return{transform:`scale(${G}) rotate(${he}deg)`,marginTop:`${Ge}px`,marginLeft:`${Me}px`,maxWidth:s.defaultWidth?"unset":"100%"}}),xe=yt(()=>{const{imageList:G}=s;return G.length>1});pl(()=>{s.show&&T(),s.imageList&&P()});const fe=G=>{s.maskClosable&&G.target&&G.target.classList.contains(`${_s}-content`)&&U(G)},se=()=>ue("div",{class:`${_s}__close`,onClick:U},[ue(iH,{class:`${_s}__close-icon`},null)]),Ce=()=>{if(!Jt(xe))return null;const{currentIndex:G}=y,{imageList:he}=s;return ue("div",{class:`${_s}__index`},[G+1," ",Ni("/"),he.length])},oe=()=>ue("div",{class:`${_s}__controller`},[ue("div",{class:`${_s}__controller-item`,onClick:()=>F(-B.value)},[ue("img",{src:Oie},null)]),ue("div",{class:`${_s}__controller-item`,onClick:()=>F(B.value)},[ue("img",{src:Eie},null)]),ue("div",{class:`${_s}__controller-item`,onClick:Z},[ue("img",{src:kie},null)]),ue("div",{class:`${_s}__controller-item`,onClick:()=>L(-90)},[ue("img",{src:Aie},null)]),ue("div",{class:`${_s}__controller-item`,onClick:()=>L(90)},[ue("img",{src:Tie},null)])]),z=G=>Jt(xe)?ue("div",{class:[`${_s}__arrow`,G],onClick:()=>R(G)},[G==="left"?ue(eP,null,null):ue(tP,null,null)]):null;return()=>y.show&&ue("div",{class:_s,ref:k,onMouseup:J,onClick:fe},[ue("div",{class:`${_s}-content`},[ue("img",{style:Jt(me),class:[`${_s}-image`,y.status===Wy.DONE?"":"hidden"],ref:x,src:y.currentUrl,onMousedown:Q},null),se(),Ce(),oe(),z("left"),z("right")])])}});let I7=null;function _ie(s){if(!RQ)return;const g={},d=document.createElement("div");return Object.assign(g,{show:!0,index:0,scaleStep:100},s),I7=ue(Die,g),BQ(I7,d),document.body.appendChild(d),I7.component?.exposed}const Pie={key:0},Mie={class:"ant-upload-text"},Rie=Rr({name:"FileUpload",__name:"FileUpload",props:{value:rr.oneOfType([rr.string,rr.array]),text:rr.string.def("上传"),fileType:rr.oneOf(["all","image","file"]).def("all"),uploadUrl:rr.string.def(cW().uploadUrl),bizPath:rr.string.def("temp"),returnUrl:rr.bool.def(!0),maxCount:rr.number.def(0),buttonOpen:rr.bool.def(!0),multiple:rr.bool.def(!0),mover:rr.bool.def(!0),download:rr.bool.def(!0),removeConfirm:rr.bool.def(!1),beforeUpload:rr.func,disabled:rr.bool.def(!1)},emits:["change","update:value"],setup(s,{emit:g}){const d=s,h=g,{createMessage:y,createConfirm:k}=fW(),{prefixCls:x}=ow("upload"),T=dP(),P=vP({Authorization:`Bearer ${FQ()}`,"tenant-id":IQ()}),I=mn([]),B=mn(!0),D=mn(),F=yt(()=>d.maxCount>0&&I.value.length>=d.maxCount),L=yt(()=>d.fileType==="image"),J=yt(()=>{const se=Object.assign({},d,Jt(T));return se.name="file",se.listType=L.value?"picture-card":"text",se.class=[se.class,{"upload-disabled":d.disabled}],se.data={biz:d.bizPath,...se.data},se.beforeUpload||(se.beforeUpload=te),L.value&&!se.accept&&(se.accept="image/*"),se});oa(()=>d.value,se=>{Array.isArray(se)?d.returnUrl?_(se.join(",")):U(se):_(se)},{immediate:!0});function _(se){if(!se||se.length===0){I.value=[];return}const Ce=[];for(const oe of se.split(","))Ce.push({uid:xe(),name:fe(oe),status:"done",url:oe,response:{status:"history",message:oe}});I.value=Ce}function U(se){if(!se||se.length===0){I.value=[];return}const Ce=[];for(const oe of se)Ce.push({uid:xe(),name:oe.fileName,url:oe.filePath,status:"done",response:{status:"history",message:oe.filePath}});I.value=Ce}function te(se){return B.value=!0,L.value&&!se.type.includes("image")?(y.warning("请上传图片"),B.value=!1,!1):typeof d.beforeUpload=="function"?d.beforeUpload(se):!0}function Z(){return d.removeConfirm?new Promise(se=>{k({title:"删除",content:`确定要删除这${L.value?"张图片":"个文件"}吗？`,iconType:"warning",onOk:()=>se(!0),onCancel:()=>se(!1)})}):!0}function R(se){!se.file.status&&B.value===!1&&se.fileList.pop();let Ce=se.fileList;if(d.maxCount>0&&Ce.length>=d.maxCount)if(d.maxCount-Ce.length>=0)Ce=Ce.slice(-d.maxCount);else return;if(se.file.status==="done"){let oe=[];se.file.response.success?oe=Ce.map(z=>{if(z.response){const G=z.response.message;z.url=G}return z}):(oe=Ce.filter(z=>z.uid!==se.file.uid),y.error(`${se.file.name} 上传失败.`)),Ce=oe}else se.file.status==="error"&&y.error(`${se.file.name} 上传失败.`);if(I.value=Ce,se.file.status==="done"||se.file.status==="removed")if(d.returnUrl)Q();else{const oe=[];for(const z of Ce)if(z.status==="done"){const G={fileName:z.name,filePath:z.response.message,fileSize:z.size};oe.push(G)}else return;me(oe)}}function Q(){const se=I.value;let Ce="";(!se||se.length===0)&&(Ce="");const oe=[];for(const z of se)if(z.status==="done")oe.push(z.response.data);else return;oe.length>0&&(Ce=oe.join(",")),me(Ce)}function X(se){L.value?_ie({imageList:[se.url],maskClosable:!0}):window.open(se.url)}function me(se){h("change",se),h("update:value",se)}function xe(){return`-${Number.parseInt(10 .toString())}`}function fe(se){if(se.lastIndexOf("\\")>=0){const Ce=/\\/g;se=se.replace(Ce,"/")}return se.substring(se.lastIndexOf("/")+1)}return(se,Ce)=>{const oe=Zk("a-button");return Yr(),Ho("div",{ref_key:"containerRef",ref:D,class:um(`${Jt(x)}-container`)},[ue(Jt(Gy),Lu({headers:P,multiple:s.multiple,action:s.uploadUrl,"file-list":I.value,disabled:s.disabled},J.value,{onRemove:Z,onChange:R,onPreview:X}),{default:wa(()=>[L.value?(Yr(),Ho(eu,{key:0},[F.value?pu("",!0):(Yr(),Ho("div",Pie,[ue(Jt(fb),{icon:"ant-design:plus-outlined"}),Wv("div",Mie,tu(s.text),1)]))],64)):s.buttonOpen?(Yr(),wo(oe,{key:1,disabled:F.value||s.disabled},{default:wa(()=>[ue(Jt(fb),{icon:"ant-design:upload-outlined"}),Wv("span",null,tu(s.text),1)]),_:1},8,["disabled"])):pu("",!0)]),_:1},16,["headers","multiple","action","file-list","disabled"])],2)}}});const rH=[];for(let s=0;s<=15;s++)rH[s]=s.toString(16);function Bie(){let s="";for(let g=1;g<=36;g++)g===9||g===14||g===19||g===24?s+="-":g===15?s+=4:g===20?s+=rH[Math.random()*4|8]:s+=rH[Math.random()*16|0];return s.replace(/-/g,"")}let JU=0;function aH(s=""){const g=Date.now(),d=Math.floor(Math.random()*1e9);return JU++,`${s}_${d}${JU}${String(g)}`}const Fie={class:"clearfix"},Iie={key:0},Nie={style:{"margin-top":"8px"}},Lie=["src"],zie=Rr({name:"ImageUpload",inheritAttrs:!1,__name:"ImageUpload",props:{value:[Array,String],api:{type:Function,default:null},listType:{type:String,default:()=>"picture-card"},fileType:{type:Array,default:()=>["image/png","image/jpeg"]},multiple:{type:Boolean,default:()=>!1},maxCount:{type:Number,default:()=>1},minCount:{type:Number,default:()=>0},maxSize:{type:Number,default:()=>2}},emits:["change","update:value"],setup(s,{emit:g}){const d=s,h=g,y=dP(),{t:k}=wc(),x=mn(!1),T=mn(""),P=mn(),I=mn([]),[B]=uw(d,"value","change",P),D=vP({newList:[],newStr:"",oldStr:""});oa(()=>I.value,Z=>{D.newList=Z.filter(R=>R?.url&&R.status==="done"&&LQ(R?.url)).map(R=>R?.url),D.newStr=cU(D.newList),D.newStr!==D.oldStr&&(D.oldStr=D.newStr,P.value=d.multiple?D.newList:D.newStr,B.value=d.multiple?D.newList:D.newStr)},{deep:!0}),oa(()=>B.value,Z=>{F(Z),h("update:value",Z)});function F(Z){const R=d.multiple?cU(Z||[]):Z||"";if(R!==D.oldStr){D.oldStr=R;let Q=[];d.multiple?uU(Z)&&(Zy(Z)?Q=Z:Q.push(Z)):uU(Z)&&Q.push(Z),I.value=Q.map(X=>{const me=aH();return{uid:me,name:me,status:"done",url:X}})}}function L(){x.value=!1}async function J(Z){!Z.url&&!Z.preview&&(Z.preview=await te(Z.originFileObj)),T.value=Z.url||Z.preview,x.value=!0}const _=Z=>{if(I.value.length>d.maxCount)return I.value.splice(d.maxCount,I.value.length-d.maxCount),p7.error(k("component.upload.maxNumber",[d.maxCount])),Gy.LIST_IGNORE;const R=d.fileType.includes(Z.type);R||p7.error(k("component.upload.acceptUpload",[d.fileType.toString()]));const Q=Z.size/1024/1024<d.maxSize;return Q||p7.error(k("component.upload.maxSizeMultiple",[d.maxSize])),R&&Q||I.value.pop(),R&&Q||Gy.LIST_IGNORE};async function U(Z){const{file:R}=Z;await d.api(Z).then(Q=>{R.url=Q,R.status="done",I.value.pop(),I.value.push(R)}).catch(()=>{I.value.pop()})}function te(Z){return new Promise((R,Q)=>{const X=new FileReader;X.readAsDataURL(Z),X.onload=()=>R(X.result),X.onerror=me=>Q(me)})}return(Z,R)=>(Yr(),Ho("div",Fie,[ue(Jt(Gy),Lu({"file-list":I.value,"onUpdate:fileList":R[0]||(R[0]=Q=>I.value=Q)},Jt(y),{value:Jt(B),"onUpdate:value":R[1]||(R[1]=Q=>iw(B)?B.value=Q:null),"list-type":s.listType,multiple:s.multiple,"max-count":s.maxCount,"custom-request":U,"before-upload":_,onPreview:J}),{default:wa(()=>[I.value.length<s.maxCount?(Yr(),Ho("div",Iie,[ue(Jt(mee)),Wv("div",Nie,tu(Jt(k)("component.upload.upload")),1)])):pu("",!0)]),_:1},16,["file-list","value","list-type","multiple","max-count"]),ue(Jt(NQ),{open:x.value,footer:null,onCancel:L},{default:wa(()=>[Wv("img",{alt:"example",style:{width:"100%"},src:T.value},null,8,Lie)]),_:1},8,["open"])]))}});const Hie=vW(zie,[["__scopeId","data-v-f6aaad49"]]),jj={helpText:{type:String,default:""},maxSize:{type:Number,default:2},maxNumber:{type:Number,default:Number.POSITIVE_INFINITY},accept:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0},uploadParams:{type:Object,default:()=>({})},api:{type:Function,default:null,required:!0},name:{type:String,default:"file"},filename:{type:String,default:null}},Vie={value:{type:Array,default:()=>[]},...jj,showPreviewNumber:{type:Boolean,default:!0},emptyHidePreview:{type:Boolean,default:!1}},Uie={value:{type:Array,default:()=>[]}},Wie={columns:{type:Array,default:null},actionColumn:{type:Object,default:null},dataSource:{type:Array,default:null}},{t:N7}=wc();function jie({acceptRef:s,helpTextRef:g,maxNumberRef:d,maxSizeRef:h}){const y=yt(()=>{const T=Jt(s);return T&&T.length>0?T:[]}),k=yt(()=>Jt(y).map(T=>T.indexOf("/")>0||T.startsWith(".")?T:`.${T}`).join(",")),x=yt(()=>{const T=Jt(g);if(T)return T;const P=[],I=Jt(s);I.length>0&&P.push(N7("component.upload.accept",[I.join(",")]));const B=Jt(h);B&&P.push(N7("component.upload.maxSize",[B]));const D=Jt(d);return D&&D!==Number.POSITIVE_INFINITY&&P.push(N7("component.upload.maxNumber",[D])),P.join("，")});return{getAccept:y,getStringAccept:k,getHelpText:x}}var us=(s=>(s.SUCCESS="success",s.ERROR="error",s.UPLOADING="uploading",s))(us||{});function qie(s){return qj(s.name)}function qj(s){return/\.(jpg|jpeg|png|gif|webp)$/i.test(s)}function Kie(s){return new Promise((g,d)=>{const h=new FileReader;h.readAsDataURL(s),h.onload=()=>g({result:h.result,file:s}),h.onerror=y=>d(y)})}const Gie={class:"thumb"},Kj=Rr({__name:"ThumbUrl",props:{fileUrl:rr.string.def(""),fileName:rr.string.def("")},setup(s){return(g,d)=>(Yr(),Ho("span",Gie,[s.fileUrl?(Yr(),wo(Jt(j7),{key:0,src:s.fileUrl,width:104},null,8,["src"])):pu("",!0)]))}});const Gj=Symbol("basic-table");function Zue(s){vb(Gj,s)}function Yie(){return db(Gj)}const{table:Xie}=zQ,{pageSizeOptions:Zie,defaultPageSize:Jie,fetchSetting:Qie,defaultSize:eue,defaultSortFn:tue,defaultFilterFn:nue}=Xie,Jue="key",Que=Zie,ele=Jie,tle=Qie,nle=eue,rle=tue,ale=nue,ole="center",ile="INDEX",rue="ACTION",Yj=Rr({name:"TableAction",__name:"TableAction",props:{actions:{type:Array,default:null},dropDownActions:{type:Array,default:null},divider:rr.bool.def(!0),outside:rr.bool,stopButtonPropagation:rr.bool.def(!1)},setup(s){const g=s,{t:d}=wc(),{prefixCls:h}=ow("basic-table-action");let y={};g.outside||(y=Yie());const{hasPermission:k}=HQ();function x(F){const L=F.ifShow;let J=!0;return UQ(L)&&(J=L),Lf(L)&&(J=L(F)),J}const T=yt(()=>(Zc(g.actions)||[]).filter(F=>k(F.auth)&&x(F)).map(F=>{const{popConfirm:L}=F;return{getPopupContainer:()=>Jt(y?.wrapRef.value)??document.body,type:"link",...F,...L||{},onConfirm:L?.confirm,onCancel:L?.cancel,enable:!!L}})),P=yt(()=>{const F=(Zc(g.dropDownActions)||[]).filter(L=>k(L.auth)&&x(L));return F.map((L,J)=>{const{label:_,popConfirm:U}=L;return{...L,...U,onConfirm:U?.confirm,onCancel:U?.cancel,text:_,divider:J<F.length-1?g.divider:!1}})}),I=yt(()=>(y?.getColumns?.()||[]).find(J=>J.flag===rue)?.align??"left");function B(F){return{getPopupContainer:()=>Jt(y?.wrapRef.value)??document.body,placement:"bottom",...gH(F)?{title:F}:F}}function D(F){if(!g.stopButtonPropagation)return;F.composedPath().find(_=>_.tagName?.toUpperCase()==="BUTTON")&&F.stopPropagation()}return(F,L)=>{const J=Zk("a-button");return Yr(),Ho("div",{class:um([Jt(h),I.value]),onClick:D},[(Yr(!0),Ho(eu,null,ap(T.value,(_,U)=>(Yr(),Ho(eu,{key:`${U}-${_.label}`},[_.tooltip?(Yr(),wo(Jt(aw),Jg(Lu({key:0},B(_.tooltip))),{default:wa(()=>[ue(Jt(lU),Jg(mP(_)),{default:wa(()=>[_.icon?(Yr(),wo(Jt(fb),{key:0,icon:_.icon,class:um({"mr-1":!!_.label})},null,8,["icon","class"])):pu("",!0),_.label?(Yr(),Ho(eu,{key:1},[Ni(tu(_.label),1)],64)):pu("",!0)]),_:2},1040)]),_:2},1040)):(Yr(),wo(Jt(lU),Jg(Lu({key:1},_)),{default:wa(()=>[_.icon?(Yr(),wo(Jt(fb),{key:0,icon:_.icon,class:um({"mr-1":!!_.label})},null,8,["icon","class"])):pu("",!0),_.label?(Yr(),Ho(eu,{key:1},[Ni(tu(_.label),1)],64)):pu("",!0)]),_:2},1040)),s.divider&&U<T.value.length-1?(Yr(),wo(Jt(AW),{key:2,type:"vertical",class:"action-divider"})):pu("",!0)],64))),128)),s.dropDownActions&&P.value.length>0?(Yr(),wo(Jt(VQ),{key:0,trigger:["hover"],"drop-menu-list":P.value,popconfirm:""},{default:wa(()=>[Uv(F.$slots,"more"),F.$slots.more?pu("",!0):(Yr(),wo(J,{key:0,type:"link"},{default:wa(()=>[Ni(tu(Jt(d)("action.more"))+" ",1),ue(Jt(TW),{class:"icon-more"})]),_:1}))]),_:3},8,["drop-menu-list"])):pu("",!0)],2)}}});const{t:ls}=wc();function aue(){return[{dataIndex:"thumbUrl",title:ls("component.upload.legend"),width:100,customRender:({record:s})=>{const{thumbUrl:g}=s||{};return g&&ue(Kj,{fileUrl:g},null)}},{dataIndex:"name",title:ls("component.upload.fileName"),align:"left",customRender:({text:s,record:g})=>{const{percent:d,status:h}=g||{};let y="normal";return h===us.ERROR?y="exception":h===us.UPLOADING?y="active":h===us.SUCCESS&&(y="success"),ue("div",null,[ue("p",{class:"mb-1 max-w-70 truncate",title:s},[s]),ue(kj,{percent:d,size:"small",status:y},null)])}},{dataIndex:"size",title:ls("component.upload.fileSize"),width:100,customRender:({text:s=0})=>s&&`${(s/1024).toFixed(2)}KB`},{dataIndex:"status",title:ls("component.upload.fileStatue"),width:100,customRender:({text:s})=>s===us.SUCCESS?ue(X_,{color:"green"},{default:()=>ls("component.upload.uploadSuccess")}):s===us.ERROR?ue(X_,{color:"red"},{default:()=>ls("component.upload.uploadError")}):s===us.UPLOADING?ue(X_,{color:"blue"},{default:()=>ls("component.upload.uploading")}):s||ls("component.upload.pending")}]}function oue(s){return{width:120,title:ls("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:g})=>{const d=[{label:ls("component.upload.del"),danger:!0,onClick:s.bind(null,g)}];return ue(Yj,{actions:d,outside:!0},null)}}}function iue(){return[{dataIndex:"url",title:ls("component.upload.legend"),width:100,customRender:({record:s})=>{const{url:g}=s||{};return qj(g)&&ue(Kj,{fileUrl:g},null)}},{dataIndex:"name",title:ls("component.upload.fileName"),align:"left"}]}function uue({handleRemove:s,handleDownload:g}){return{width:160,title:ls("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:d})=>{const h=[{label:ls("component.upload.del"),danger:!0,onClick:s.bind(null,d)},{label:ls("component.upload.download"),onClick:g.bind(null,d)}];return ue(Yj,{actions:h,outside:!0},null)}}}const Xj=Rr({name:"FileList",props:Wie,setup(s){const g=gee();return oa(()=>s.dataSource,()=>{nw(()=>{g?.redoModalHeight?.()})}),()=>{const{columns:d,actionColumn:h,dataSource:y}=s,k=[...d,h];return ue("div",{class:"overflow-x-auto"},[ue("table",{class:"file-table"},[ue("colgroup",null,[k.map(x=>{const{width:T=0,dataIndex:P}=x,I={width:`${T}px`,minWidth:`${T}px`};return ue("col",{style:T?I:{},key:P},null)})]),ue("thead",null,[ue("tr",{class:"file-table-tr"},[k.map(x=>{const{title:T="",align:P="center",dataIndex:I}=x;return ue("th",{class:["file-table-th",P],key:I},[T])})])]),ue("tbody",null,[y.map((x={},T)=>ue("tr",{class:"file-table-tr",key:`${T+x.name||""}`},[k.map(P=>{const{dataIndex:I="",customRender:B,align:D="center"}=P,F=B&&Lf(B);return ue("td",{class:["file-table-td break-all",D],key:I},[F?B?.({text:x[I],record:x}):x[I]])})]))])])])}}});const lue={class:"upload-modal-toolbar"},sue=Rr({__name:"UploadModal",props:{...jj,previewFileList:{type:Array,default:()=>[]}},emits:["change","register","delete"],setup(s,{emit:g}){const d=s,h=g,y=aue(),k=oue(me),x=mn(!1),T=mn([]),{accept:P,helpText:I,maxNumber:B,maxSize:D}=lH(d),{t:F}=wc(),[L,{closeModal:J}]=$W(),{getStringAccept:_,getHelpText:U}=jie({acceptRef:P,helpTextRef:I,maxNumberRef:B,maxSizeRef:D}),{createMessage:te}=fW(),Z=yt(()=>T.value.length>0&&!T.value.every(oe=>oe.status===us.SUCCESS)),R=yt(()=>{const oe=T.value.some(z=>z.status===us.SUCCESS);return{disabled:x.value||T.value.length===0||!oe}}),Q=yt(()=>{const oe=T.value.some(z=>z.status===us.ERROR);return x.value?F("component.upload.uploading"):F(oe?"component.upload.reUploadFailed":"component.upload.startUpload")});function X(oe){const{size:z,name:G}=oe,{maxSize:he}=d;if(he&&oe.size/1024/1024>=he)return te.error(F("component.upload.maxSizeMultiple",[he])),!1;const Ge={uuid:Bie(),file:oe,size:z,name:G,percent:0,type:G.split(".").pop()};return qie(oe)?Kie(oe).then(({result:Me})=>{T.value=[...Jt(T),{thumbUrl:Me,...Ge}]}):T.value=[...Jt(T),Ge],!1}function me(oe){const z=T.value.findIndex(G=>G.uuid===oe.uuid);z!==-1&&T.value.splice(z,1),h("delete",oe)}async function xe(oe){const{api:z}=d;if(!z||!Lf(z))return WQ();try{oe.status=us.UPLOADING;const{data:G}=await d.api?.({data:{...d.uploadParams||{}},file:oe.file,name:d.name,filename:d.filename},he=>{const Ge=he.loaded/he.total*100|0;oe.percent=Ge});return oe.status=us.SUCCESS,oe.responseData=G,{success:!0,error:null}}catch(G){return oe.status=us.ERROR,{success:!1,error:G}}}async function fe(){const{maxNumber:oe}=d;if(T.value.length+d.previewFileList?.length>oe)return te.warning(F("component.upload.maxNumber",[oe]));try{x.value=!0;const z=T.value.filter(Ge=>Ge.status!==us.SUCCESS)||[],G=await Promise.all(z.map(Ge=>xe(Ge)));x.value=!1;const he=G.filter(Ge=>!Ge.success);if(he.length>0)throw he}catch(z){throw x.value=!1,z}}function se(){if(T.value.length>d.maxNumber)return te.warning(F("component.upload.maxNumber",[d.maxNumber]));if(x.value)return te.warning(F("component.upload.saveWarn"));const oe=[];for(const z of T.value){const{status:G,responseData:he}=z;G===us.SUCCESS&&he&&oe.push(he.url)}if(oe.length<=0)return te.warning(F("component.upload.saveError"));T.value=[],J(),h("change",oe)}async function Ce(){return x.value?(te.warning(F("component.upload.uploadWait")),!1):(T.value=[],!0)}return(oe,z)=>{const G=Zk("a-button");return Yr(),wo(Jt(DW),Lu({width:"800px",title:Jt(F)("component.upload.upload"),"ok-text":Jt(F)("component.upload.save")},oe.$attrs,{"close-func":Ce,"mask-closable":!1,keyboard:!1,class:"upload-modal","ok-button-props":R.value,"cancel-button-props":{disabled:x.value},onRegister:Jt(L),onOk:se}),{centerFooter:wa(()=>[ue(G,{color:"success",disabled:!Z.value,loading:x.value,onClick:fe},{default:wa(()=>[Ni(tu(Q.value),1)]),_:1},8,["disabled","loading"])]),default:wa(()=>[Wv("div",lue,[ue(Jt(jee),{message:Jt(U),type:"info",banner:"",class:"upload-modal-toolbar__text"},null,8,["message"]),ue(Jt(Gy),{accept:Jt(_),multiple:oe.multiple,"before-upload":X,"show-upload-list":!1,class:"upload-modal-toolbar__btn"},{default:wa(()=>[ue(G,{type:"primary"},{default:wa(()=>[Ni(tu(Jt(F)("component.upload.choose")),1)]),_:1})]),_:1},8,["accept","multiple"])]),ue(Xj,{"data-source":T.value,columns:Jt(y),"action-column":Jt(k)},null,8,["data-source","columns","action-column"])]),_:1},16,["title","ok-text","ok-button-props","cancel-button-props","onRegister"])}}});const cue=Rr({__name:"UploadPreviewModal",props:Uie,emits:["list-change","register","delete"],setup(s,{emit:g}){const d=s,h=g,[y]=$W(),{t:k}=wc(),x=iue(),T=uue({handleRemove:I,handleDownload:B}),P=mn([]);oa(()=>d.value,D=>{Zy(D)||(D=[]),P.value=D.filter(F=>!!F).map(F=>({url:F,type:F.split(".").pop()||"",name:F.split("/").pop()||""}))},{immediate:!0});function I(D){const F=P.value.findIndex(L=>L.url===D.url);if(F!==-1){const L=P.value.splice(F,1);h("delete",L[0].url),h("list-change",P.value.map(J=>J.url))}}function B(D){const{url:F=""}=D;jQ({url:F})}return(D,F)=>(Yr(),wo(Jt(DW),Lu({width:"800px",title:Jt(k)("component.upload.preview"),class:"upload-preview-modal"},D.$attrs,{"show-ok-btn":!1,onRegister:Jt(y)}),{default:wa(()=>[ue(Xj,{"data-source":P.value,columns:Jt(x),"action-column":Jt(T)},null,8,["data-source","columns","action-column"])]),_:1},16,["title","onRegister"]))}});const fue=Rr({name:"BasicUpload",__name:"BasicUpload",props:Vie,emits:["change","delete","preview-delete","update:value"],setup(s,{emit:g}){const d=s,h=g,y=tw(),{t:k}=wc(),[x,{openModal:T}]=sU(),[P,{openModal:I}]=sU(),B=mn([]),D=yt(()=>{const{emptyHidePreview:te}=d;return te&&te?B.value.length>0:!0}),F=yt(()=>{const te={...y,...d};return Yk(te,"onChange")});oa(()=>d.value,(te=[])=>{B.value=Zy(te)?te:[]},{immediate:!0});function L(te){B.value=[...Jt(B),...te||[]],h("update:value",B.value),h("change",B.value)}function J(te){B.value=[...te||[]],h("update:value",B.value),h("change",B.value)}function _(te){h("delete",te)}function U(te){h("preview-delete",te)}return(te,Z)=>{const R=Zk("a-button");return Yr(),Ho("div",null,[ue(Jt(see),null,{default:wa(()=>[ue(R,{type:"primary","pre-icon":"carbon:cloud-upload",onClick:Jt(T)},{default:wa(()=>[Ni(tu(Jt(k)("component.upload.upload")),1)]),_:1},8,["onClick"]),D.value?(Yr(),wo(Jt(aw),{key:0,placement:"bottom"},{title:wa(()=>[Ni(tu(Jt(k)("component.upload.uploaded"))+" ",1),B.value.length?(Yr(),Ho(eu,{key:0},[Ni(tu(B.value.length),1)],64)):pu("",!0)]),default:wa(()=>[ue(R,{onClick:Jt(I)},{default:wa(()=>[ue(Jt(fb),{icon:"bi:eye"}),B.value.length&&te.showPreviewNumber?(Yr(),Ho(eu,{key:0},[Ni(tu(B.value.length),1)],64)):pu("",!0)]),_:1},8,["onClick"])]),_:1})):pu("",!0)]),_:1}),ue(sue,Lu(F.value,{"preview-file-list":B.value,onRegister:Jt(x),onChange:L,onDelete:_}),null,16,["preview-file-list","onRegister"]),ue(cue,{value:B.value,onRegister:Jt(P),onListChange:J,onDelete:U},null,8,["value","onRegister"])])}}}),vue=dW(fue);var Zj={exports:{}};(function(s){(function(){var g=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},d=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},h=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},y=function(e,n){return k(function(a,i){return e.eq(n(a),n(i))})},k=function(e){return{eq:e}},x=k(function(e,n){return e===n}),T=x,P=function(e){return k(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},I=function(e,n){return y(P(e),function(a){return h(a,n)})},B=function(e){return k(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!I(T).eq(i,l))return!1;for(var c=i.length,m=0;m<c;m++){var b=i[m];if(!e.eq(n[b],a[b]))return!1}return!0})},D=k(function(e,n){if(e===n)return!0;var a=g(e),i=g(n);return a!==i?!1:d(a)?e===n:a==="array"?P(D).eq(e,n):a==="object"?B(D).eq(e,n):!1}),F=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},L=function(e){return function(n){return F(n)===e}},J=function(e){return function(n){return typeof n===e}},_=function(e){return function(n){return e===n}},U=L("string"),te=L("object"),Z=L("array"),R=_(null),Q=J("boolean"),X=_(void 0),me=function(e){return e==null},xe=function(e){return!me(e)},fe=J("function"),se=J("number"),Ce=function(){},oe=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},z=function(e,n){return function(a){return e(n(a))}},G=function(e){return function(){return e}},he=function(e){return e},Ge=function(e,n){return e===n};function Me(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=n.concat(i);return e.apply(null,c)}}var je=function(e){return function(n){return!e(n)}},tt=function(e){return function(){throw new Error(e)}},E=function(e){return e()},Ae=function(e){e()},Le=G(!1),At=G(!0),ze=function(){return ft},ft=function(){var e=function(i){return i()},n=he,a={fold:function(i,l){return i()},isSome:Le,isNone:At,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:G(null),getOrUndefined:G(void 0),or:n,orThunk:e,map:ze,each:Ce,bind:ze,exists:Le,forall:At,filter:function(){return ze()},toArray:function(){return[]},toString:G("none()")};return a}(),Xe=function(e){var n=G(e),a=function(){return l},i=function(c){return c(e)},l={fold:function(c,m){return m(e)},isSome:At,isNone:Le,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(c){return Xe(c(e))},each:function(c){c(e)},bind:i,exists:i,forall:i,filter:function(c){return c(e)?l:ft},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},ct=function(e){return e==null?ft:Xe(e)},re={some:Xe,none:ze,from:ct},Vt=Array.prototype.slice,it=Array.prototype.indexOf,Oe=Array.prototype.push,dt=function(e,n){return it.call(e,n)},Ne=function(e,n){var a=dt(e,n);return a===-1?re.none():re.some(a)},Be=function(e,n){return dt(e,n)>-1},at=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},gt=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var c=e[l];i[l]=n(c,l)}return i},ut=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},Et=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},_n=function(e,n){for(var a=[],i=[],l=0,c=e.length;l<c;l++){var m=e[l],b=n(m,l)?a:i;b.push(m)}return{pass:a,fail:i}},Re=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var c=e[i];n(c,i)&&a.push(c)}return a},Tt=function(e,n,a){return Et(e,function(i,l){a=n(a,i,l)}),a},ln=function(e,n,a){return ut(e,function(i,l){a=n(a,i,l)}),a},Ut=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var c=e[i];if(n(c,i))return re.some(c);if(a(c,i))break}return re.none()},fn=function(e,n){return Ut(e,n,Le)},bn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return re.some(a)}return re.none()},In=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Z(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Oe.apply(n,e[a])}return n},sr=function(e,n){return In(gt(e,n))},yr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},$t=function(e){var n=Vt.call(e,0);return n.reverse(),n},Dt=function(e,n){return Re(e,function(a){return!Be(n,a)})},Ft=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var c=e[i];a[String(c)]=n(c,i)}return a},rt=function(e,n){var a=Vt.call(e,0);return a.sort(n),a},st=function(e,n){return n>=0&&n<e.length?re.some(e[n]):re.none()},Wt=function(e){return st(e,0)},dn=function(e){return st(e,e.length-1)},Xt=fe(Array.from)?Array.from:function(e){return Vt.call(e)},Ve=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return re.none()},Yt=Object.keys,On=Object.hasOwnProperty,wn=function(e,n){for(var a=Yt(e),i=0,l=a.length;i<l;i++){var c=a[i],m=e[c];n(m,c)}},jn=function(e,n){return He(e,function(a,i){return{k:i,v:n(a,i)}})},He=function(e,n){var a={};return wn(e,function(i,l){var c=n(i,l);a[c.k]=c.v}),a},Lt=function(e){return function(n,a){e[a]=n}},_t=function(e,n,a,i){var l={};return wn(e,function(c,m){(n(c,m)?a:i)(c,m)}),l},an=function(e,n){var a={},i={};return _t(e,n,Lt(a),Lt(i)),{t:a,f:i}},Un=function(e,n){var a={};return _t(e,n,Lt(a),Ce),a},kr=function(e,n){var a=[];return wn(e,function(i,l){a.push(n(i,l))}),a},Oa=function(e){return kr(e,he)},_r=function(e,n){return Ar(e,n)?re.from(e[n]):re.none()},Ar=function(e,n){return On.call(e,n)},_a=function(e,n){return Ar(e,n)&&e[n]!==void 0&&e[n]!==null},xo=function(e,n,a){return a===void 0&&(a=D),B(a).eq(e,n)},oo=Array.isArray,hn=function(e){if(oo(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},or=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Ar(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},tr=function(e,n){var a=[];return or(e,function(i,l){a.push(n(i,l,e))}),a},Wr=function(e,n){var a=[];return or(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},va=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Pa=function(e,n,a,i){for(var l=X(a)?e[0]:a,c=0;c<e.length;c++)l=n.call(i,l,e[c],c);return l},Nr=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Fa=function(e){return e[e.length-1]},Yn=function(){return Yn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},Yn.apply(this,arguments)};function Do(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ga(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,c;i<l;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}var Aa=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},ko=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,c=e.isiOS()&&!l,m=e.isiOS()||e.isAndroid(),b=m||i("(pointer:coarse)"),w=l||!c&&m&&i("(min-device-width:768px)"),M=c||m&&!w,W=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,K=!M&&!w&&!W;return{isiPad:G(l),isiPhone:G(c),isTablet:G(w),isPhone:G(M),isTouch:G(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:G(W),isDesktop:G(K)}},io=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},Yo=function(e,n){var a=io(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return ke(i(1),i(2))},ti=function(e,n){var a=String(n).toLowerCase();return e.length===0?$i():Yo(e,a)},$i=function(){return ke(0,0)},ke=function(e,n){return{major:e,minor:n}},qe={nu:ke,detect:ti,unknown:$i},Te=function(e,n){return Ve(n.brands,function(a){var i=a.brand.toLowerCase();return fn(e,function(l){var c;return i===((c=l.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(function(l){return{current:l.name,version:qe.nu(parseInt(a.version,10),0)}})})},wt=function(e,n){var a=String(n).toLowerCase();return fn(e,function(i){return i.search(a)})},En=function(e,n){return wt(e,n).map(function(a){var i=qe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},zn=function(e,n){return wt(e,n).map(function(a){var i=qe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},ye=function(e,n){return e.substring(n)},Pe=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Ct=function(e,n){return j(e,n)?ye(e,n.length):e},Nt=function(e,n){return e.indexOf(n)!==-1},j=function(e,n){return Pe(e,n,0)},ve=function(e){return function(n){return n.replace(e,"")}},_e=ve(/^\s+|\s+$/g),Je=ve(/^\s+/g),pt=ve(/\s+$/g),bt=function(e){return e.length>0},xn=function(e){return!bt(e)},Bn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fr=function(e){return function(n){return Nt(n,e)}},wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Nt(e,"edge/")&&Nt(e,"chrome")&&Nt(e,"safari")&&Nt(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bn],search:function(e){return Nt(e,"chrome")&&!Nt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Nt(e,"msie")||Nt(e,"trident")}},{name:"Opera",versionRegexes:[Bn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fr("firefox")},{name:"Safari",versionRegexes:[Bn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Nt(e,"safari")||Nt(e,"mobile/"))&&Nt(e,"applewebkit")}}],Qn=[{name:"Windows",search:fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Nt(e,"iphone")||Nt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fr("linux"),versionRegexes:[]},{name:"Solaris",search:fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xr={browsers:G(wr),oses:G(Qn)},ga="Edge",Qa="Chrome",To="IE",nu="Opera",ru="Firefox",eo="Safari",Zu=function(){return hu({current:void 0,version:qe.unknown()})},hu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(ga),isChrome:i(Qa),isIE:i(To),isOpera:i(nu),isFirefox:i(ru),isSafari:i(eo)}},mi={unknown:Zu,nu:hu,edge:G(ga),chrome:G(Qa),ie:G(To),opera:G(nu),firefox:G(ru),safari:G(eo)},Xo="Windows",cs="iOS",Ju="Android",fs="Linux",Rs="OSX",Qu="Solaris",bu="FreeBSD",Bs="ChromeOS",Ll=function(){return vs({current:void 0,version:qe.unknown()})},vs=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Xo),isiOS:i(cs),isAndroid:i(Ju),isOSX:i(Rs),isLinux:i(fs),isSolaris:i(Qu),isFreeBSD:i(bu),isChromeOS:i(Bs)}},le={unknown:Ll,nu:vs,windows:G(Xo),ios:G(cs),android:G(Ju),linux:G(fs),osx:G(Rs),solaris:G(Qu),freebsd:G(bu),chromeos:G(Bs)},Ye=function(e,n,a){var i=xr.browsers(),l=xr.oses(),c=n.bind(function(w){return Te(i,w)}).orThunk(function(){return En(i,e)}).fold(mi.unknown,mi.nu),m=zn(l,e).fold(le.unknown,le.nu),b=ko(m,c,e,a);return{browser:c,os:m,deviceType:b}},mt={detect:Ye},Gt=function(e){return window.matchMedia(e).matches},Cn=Aa(function(){return mt.detect(navigator.userAgent,re.from(navigator.userAgentData),Gt)}),ar=function(){return Cn()},pa=navigator.userAgent,Ma=ar(),jr=Ma.browser,La=Ma.os,co=Ma.deviceType,el=/WebKit/.test(pa)&&!jr.isEdge(),Cc="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Sc=pa.indexOf("Windows Phone")!==-1,dr={opera:jr.isOpera(),webkit:el,ie:jr.isIE()||jr.isEdge()?jr.version.major:!1,gecko:jr.isFirefox(),mac:La.isOSX()||La.isiOS(),iOS:co.isiPad()||co.isiPhone(),android:La.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:jr.isIE()?document.documentMode||7:10,fileApi:Cc,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!jr.isIE(),desktop:co.isDesktop(),windowsPhone:Sc,browser:{current:jr.current,version:jr.version,isChrome:jr.isChrome,isEdge:jr.isEdge,isFirefox:jr.isFirefox,isIE:jr.isIE,isOpera:jr.isOpera,isSafari:jr.isSafari},os:{current:La.current,version:La.version,isAndroid:La.isAndroid,isChromeOS:La.isChromeOS,isFreeBSD:La.isFreeBSD,isiOS:La.isiOS,isLinux:La.isLinux,isOSX:La.isOSX,isSolaris:La.isSolaris,isWindows:La.isWindows},deviceType:{isDesktop:co.isDesktop,isiPad:co.isiPad,isiPhone:co.isiPhone,isPhone:co.isPhone,isTablet:co.isTablet,isTouch:co.isTouch,isWebView:co.isWebView}},hl=/^\s*|\s*$/g,ef=function(e){return e==null?"":(""+e).replace(hl,"")},zu=function(e,n){return n?n==="array"&&oo(e)?!0:typeof e===n:e!==void 0},tf=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Kv=Ar,Hf=function(e,n,a){var i=this,l,c,m,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var w=e[3].match(/(^|\.)(\w+)$/i)[2],M=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!M[w]){if(e[2]==="static"){M[w]=n,this.onCreate&&this.onCreate(e[2],e[3],M[w]);return}n[w]||(n[w]=function(){},b=1),M[w]=n[w],i.extend(M[w].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,c=e[5].match(/\.(\w+)$/i)[1],m=M[w],b?M[w]=function(){return l[c].apply(this,arguments)}:M[w]=function(){return this.parent=l[c],m.apply(this,arguments)},M[w].prototype[w]=M[w],i.each(l,function(W,K){M[w].prototype[K]=l[K]}),i.each(n,function(W,K){l[K]?M[w].prototype[K]=function(){return this.parent=l[K],W.apply(this,arguments)}:K!==w&&(M[w].prototype[K]=W)})),i.each(n.static,function(W,K){M[w][K]=W})}},fo=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var c in l)if(Ar(l,c)){var m=l[c];m!==void 0&&(e[c]=m)}}return e},Fs=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),or(e,function(l,c){if(n.call(i,l,c,a)===!1)return!1;Fs(l,n,a,i)}))},Gv=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},yu=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},zi=function(e,n){return!e||zu(e,"array")?e:tr(e.split(n||","),ef)},xc=function(e){var n=dr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Ht={trim:ef,isArray:oo,is:zu,toArray:hn,makeMap:tf,each:or,map:tr,grep:Wr,inArray:va,hasOwn:Kv,extend:fo,create:Hf,walk:Fs,createNS:Gv,resolve:yu,explode:zi,_addCacheSuffix:xc},Is=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw new Error("HTML must have a single root node");return zl(i.childNodes[0])},ni=function(e,n){var a=n||document,i=a.createElement(e);return zl(i)},nf=function(e,n){var a=n||document,i=a.createTextNode(e);return zl(i)},zl=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ns=function(e,n,a){return re.from(e.dom.elementFromPoint(n,a)).map(zl)},V={fromHtml:Is,fromTag:ni,fromText:nf,fromDom:zl,fromPoint:Ns},A=function(e,n){var a=[],i=function(c){return a.push(c),n(c)},l=n(e);do l=l.bind(i);while(l.isSome());return a},Y=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},ce=function(e,n){return Y(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ie=8,St=9,cn=11,ur=1,Er=3,Fn=function(e,n){var a=e.dom;if(a.nodeType!==ur)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},er=function(e){return e.nodeType!==ur&&e.nodeType!==St&&e.nodeType!==cn||e.childElementCount===0},Lr=function(e,n){var a=n===void 0?document:n.dom;return er(a)?[]:gt(a.querySelectorAll(e),V.fromDom)},Jr=function(e,n){var a=n===void 0?document:n.dom;return er(a)?re.none():re.from(a.querySelector(e)).map(V.fromDom)},Or=function(e,n){return e.dom===n.dom},to=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},Br=function(e,n){return ce(e.dom,n.dom)},Ba=function(e,n){return ar().browser.isIE()?Br(e,n):to(e,n)};typeof window<"u"||Function("return this;")();var Ra=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Hi=function(e){return e.dom.nodeType},Zr=function(e){return function(n){return Hi(n)===e}},cm=function(e){return Hi(e)===Ie||Ra(e)==="#comment"},po=Zr(ur),Vo=Zr(Er),pb=Zr(St),xi=Zr(cn),ip=function(e){return function(n){return po(n)&&Ra(n)===e}},fm=function(e){return V.fromDom(e.dom.ownerDocument)},Pr=function(e){return pb(e)?e:fm(e)},Ls=function(e){return V.fromDom(Pr(e).dom.documentElement)},kc=function(e){return V.fromDom(Pr(e).dom.defaultView)},Io=function(e){return re.from(e.dom.parentNode).map(V.fromDom)},hb=function(e,n){for(var a=fe(n)?n:Le,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var c=i.parentNode,m=V.fromDom(c);if(l.push(m),a(m)===!0)break;i=c}return l},ki=function(e){var n=function(a){return Re(a,function(i){return!Or(e,i)})};return Io(e).map(wu).map(n).getOr([])},rf=function(e){return re.from(e.dom.previousSibling).map(V.fromDom)},Vf=function(e){return re.from(e.dom.nextSibling).map(V.fromDom)},za=function(e){return $t(A(e,rf))},af=function(e){return A(e,Vf)},wu=function(e){return gt(e.dom.childNodes,V.fromDom)},of=function(e,n){var a=e.dom.childNodes;return re.from(a[n]).map(V.fromDom)},ri=function(e){return of(e,0)},bl=function(e){return of(e,e.dom.childNodes.length-1)},bb=function(e){return e.dom.childNodes.length},uf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return V.fromDom(n)},Ya=function(e){return xi(e)&&xe(e.dom.host)},Uf=fe(Element.prototype.attachShadow)&&fe(Node.prototype.getRootNode),lf=G(Uf),Cu=Uf?function(e){return V.fromDom(e.dom.getRootNode())}:Pr,sf=function(e){return Ya(e)?e:uf(Pr(e))},vm=function(e){var n=Cu(e);return Ya(n)?re.some(n):re.none()},yb=function(e){return V.fromDom(e.dom.host)},au=function(e){if(lf()&&xe(e.target)){var n=V.fromDom(e.target);if(po(n)&&Tc(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return Wt(a)}}return re.from(e.target)},Tc=function(e){return xe(e.dom.shadowRoot)},Hl=function(e,n){var a=Io(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Wf=function(e,n){var a=Vf(e);a.fold(function(){var i=Io(e);i.each(function(l){Di(l,n)})},function(i){Hl(i,n)})},up=function(e,n){var a=ri(e);a.fold(function(){Di(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Di=function(e,n){e.dom.appendChild(n.dom)},dm=function(e,n){Hl(e,n),Di(n,e)},sw=function(e,n){ut(n,function(a){Hl(e,a)})},mm=function(e,n){ut(n,function(a){Di(e,a)})},lp=function(e){e.dom.textContent="",ut(wu(e),function(n){Uo(n)})},Uo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},gm=function(e){var n=wu(e);n.length>0&&sw(e,n),Uo(e)},Yv=function(e){var n=Vo(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return vm(V.fromDom(n)).fold(function(){return a.body.contains(n)},z(Yv,yb))},Vi=function(e,n){var a=function(i,l){return Vi(e+i,n+l)};return{left:e,top:n,translate:a}},cf=Vi,cw=function(e){var n=e.getBoundingClientRect();return cf(n.left,n.top)},ff=function(e,n){return e!==void 0?e:n!==void 0?n:0},pm=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return cf(a.offsetLeft,a.offsetTop);var c=ff(i?.pageYOffset,l.scrollTop),m=ff(i?.pageXOffset,l.scrollLeft),b=ff(l.clientTop,a.clientTop),w=ff(l.clientLeft,a.clientLeft);return yl(e).translate(m-w,c-b)},yl=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?cf(i.offsetLeft,i.offsetTop):Yv(e)?cw(n):cf(0,0)},sp=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return cf(a,i)},wl=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},hm=function(e,n){var a=ar().browser.isSafari();a&&fe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},fw=function(e){var n=e===void 0?window:e;return ar().browser.isFirefox()?re.none():re.from(n.visualViewport)},cp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Xv=function(e){var n=e===void 0?window:e,a=n.document,i=sp(V.fromDom(a));return fw(n).fold(function(){var l=n.document.documentElement,c=l.clientWidth,m=l.clientHeight;return cp(i.left,i.top,c,m)},function(l){return cp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},jf=function(e){return function(n){return!!n&&n.nodeType===e}},bm=function(e){return!!e&&!Object.getPrototypeOf(e)},Mr=jf(1),Cl=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Be(n,i)}return!1}},ym=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Mr(i))for(var l=0;l<a.length;l++){var c=i.ownerDocument.defaultView.getComputedStyle(i,null),m=c?c.getPropertyValue(e):null;if(m===a[l])return!0}return!1}},wm=function(e){return function(n){return Mr(n)&&n.hasAttribute(e)}},vw=function(e,n){return function(a){return Mr(a)&&a.getAttribute(e)===n}},vf=function(e){return Mr(e)&&e.hasAttribute("data-mce-bogus")},gi=function(e){return Mr(e)&&e.getAttribute("data-mce-bogus")==="all"},pi=function(e){return Mr(e)&&e.tagName==="TABLE"},Ec=function(e){return function(n){return!!(Mr(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Sl=Cl(["textarea","input"]),Kn=jf(3),df=jf(8),fp=jf(9),Xr=jf(11),Ha=Cl(["br"]),vp=Cl(["img"]),ds=Ec("true"),vo=Ec("false"),Cm=Cl(["td","th"]),Hu=Cl(["video","audio","object","embed"]),Zv=function(e,n,a){return a===void 0&&(a=Ge),e.exists(function(i){return a(i,n)})},wb=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},ou=function(e,n,a){return e.isSome()&&n.isSome()?re.some(a(e.getOrDie(),n.getOrDie())):re.none()},dw=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?re.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):re.none()},mw=function(e,n){return e?re.some(n):re.none()},ho=function(e){return e.style!==void 0&&fe(e.style.getPropertyValue)},dp=function(e,n,a){if(U(a)||Q(a)||se(a))e.setAttribute(n,a+"");else throw new Error("Attribute value was not simple")},$=function(e,n,a){dp(e.dom,n,a)},q=function(e,n){var a=e.dom;wn(n,function(i,l){dp(a,l,i)})},ae=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ee=function(e,n){return re.from(ae(e,n))},lt=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},zt=function(e,n){e.dom.removeAttribute(n)},lr=function(e){return ln(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Fr=function(e,n,a){if(!U(a))throw new Error("CSS value must be a string: "+a);ho(e)&&e.style.setProperty(n,a)},da=function(e,n){var a=e.dom;wn(n,function(i,l){Fr(a,l,i)})},aa=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Yv(e)?uo(a,n):l},uo=function(e,n){return ho(e)?e.style.getPropertyValue(n):""},iu=function(e,n){var a=e.dom,i=uo(a,n);return re.from(i).filter(function(l){return l.length>0})},Cb=function(e){var n={},a=e.dom;if(ho(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},AP=function(e){return e.dom.offsetWidth},eT=ar().browser,tT=function(e){return fn(e,po)},$P=function(e){return eT.isFirefox()&&Ra(e)==="table"?tT(wu(e)).filter(function(n){return Ra(n)==="caption"}).bind(function(n){return tT(af(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,c=n.dom.offsetHeight;return i<=l?-c:0})}).getOr(0):0},gw=function(e,n){return e.children&&Be(e.children,n)},pw=function(e,n,a){var i=0,l=0,c=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&aa(V.fromDom(e),"position")==="static"){var m=n.getBoundingClientRect();return i=m.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,l=m.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:i,y:l}}for(var b=n;b&&b!==a&&b.nodeType&&!gw(b,a);){var w=b;i+=w.offsetLeft||0,l+=w.offsetTop||0,b=w.offsetParent}for(b=n.parentNode;b&&b!==a&&b.nodeType&&!gw(b,a);)i-=b.scrollLeft||0,l-=b.scrollTop||0,b=b.parentNode;l+=$P(V.fromDom(n))}return{x:i,y:l}},nT={},Sm={exports:nT};(function(e,n,a,i){(function(l,c){typeof n=="object"&&typeof a<"u"?a.exports=c():typeof e=="function"&&e.amd?e(c):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=c())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Nf<"u"?Nf:typeof self<"u"?self:{},c={exports:{}};(function(M){(function(W){var K=setTimeout;function ee(){}function de(Ue,ht){return function(){Ue.apply(ht,arguments)}}function pe(Ue){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ue!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ot(Ue,this)}function be(Ue,ht){for(;Ue._state===3;)Ue=Ue._value;if(Ue._state===0){Ue._deferreds.push(ht);return}Ue._handled=!0,pe._immediateFn(function(){var Kt=Ue._state===1?ht.onFulfilled:ht.onRejected;if(Kt===null){(Ue._state===1?we:Fe)(ht.promise,Ue._value);return}var vn;try{vn=Kt(Ue._value)}catch(br){Fe(ht.promise,br);return}we(ht.promise,vn)})}function we(Ue,ht){try{if(ht===Ue)throw new TypeError("A promise cannot be resolved with itself.");if(ht&&(typeof ht=="object"||typeof ht=="function")){var Kt=ht.then;if(ht instanceof pe){Ue._state=3,Ue._value=ht,De(Ue);return}else if(typeof Kt=="function"){ot(de(Kt,ht),Ue);return}}Ue._state=1,Ue._value=ht,De(Ue)}catch(vn){Fe(Ue,vn)}}function Fe(Ue,ht){Ue._state=2,Ue._value=ht,De(Ue)}function De(Ue){Ue._state===2&&Ue._deferreds.length===0&&pe._immediateFn(function(){Ue._handled||pe._unhandledRejectionFn(Ue._value)});for(var ht=0,Kt=Ue._deferreds.length;ht<Kt;ht++)be(Ue,Ue._deferreds[ht]);Ue._deferreds=null}function vt(Ue,ht,Kt){this.onFulfilled=typeof Ue=="function"?Ue:null,this.onRejected=typeof ht=="function"?ht:null,this.promise=Kt}function ot(Ue,ht){var Kt=!1;try{Ue(function(vn){Kt||(Kt=!0,we(ht,vn))},function(vn){Kt||(Kt=!0,Fe(ht,vn))})}catch(vn){if(Kt)return;Kt=!0,Fe(ht,vn)}}pe.prototype.catch=function(Ue){return this.then(null,Ue)},pe.prototype.then=function(Ue,ht){var Kt=new this.constructor(ee);return be(this,new vt(Ue,ht,Kt)),Kt},pe.all=function(Ue){var ht=Array.prototype.slice.call(Ue);return new pe(function(Kt,vn){if(ht.length===0)return Kt([]);var br=ht.length;function Hn(pr,pn){try{if(pn&&(typeof pn=="object"||typeof pn=="function")){var Nn=pn.then;if(typeof Nn=="function"){Nn.call(pn,function(Sn){Hn(pr,Sn)},vn);return}}ht[pr]=pn,--br===0&&Kt(ht)}catch(Sn){vn(Sn)}}for(var en=0;en<ht.length;en++)Hn(en,ht[en])})},pe.resolve=function(Ue){return Ue&&typeof Ue=="object"&&Ue.constructor===pe?Ue:new pe(function(ht){ht(Ue)})},pe.reject=function(Ue){return new pe(function(ht,Kt){Kt(Ue)})},pe.race=function(Ue){return new pe(function(ht,Kt){for(var vn=0,br=Ue.length;vn<br;vn++)Ue[vn].then(ht,Kt)})},pe._immediateFn=typeof setImmediate=="function"?function(Ue){setImmediate(Ue)}:function(Ue){K(Ue,0)},pe._unhandledRejectionFn=function(ht){},pe._setImmediateFn=function(ht){pe._immediateFn=ht},pe._setUnhandledRejectionFn=function(ht){pe._unhandledRejectionFn=ht},M.exports?M.exports=pe:W.Promise||(W.Promise=pe)})(l)})(c);var m=c.exports,b=function(){return typeof window<"u"?window:Function("return this;")()}(),w={boltExport:b.Promise||m};return w})})(void 0,nT,Sm);var hw=Sm.exports.boltExport,bw=function(e){var n=re.none(),a=[],i=function(M){return bw(function(W){l(function(K){W(M(K))})})},l=function(M){m()?w(M):a.push(M)},c=function(M){m()||(n=re.some(M),b(a),a=[])},m=function(){return n.isSome()},b=function(M){ut(M,w)},w=function(M){n.each(function(W){setTimeout(function(){M(W)},0)})};return e(c),{get:l,map:i,isReady:m}},DP=function(e){return bw(function(n){n(e)})},_P={nu:bw,pure:DP},PP=function(e){setTimeout(function(){throw e},0)},zs=function(e){var n=function(w){e().then(w,PP)},a=function(w){return zs(function(){return e().then(w)})},i=function(w){return zs(function(){return e().then(function(M){return w(M).toPromise()})})},l=function(w){return zs(function(){return e().then(function(){return w.toPromise()})})},c=function(){return _P.nu(n)},m=function(){var w=null;return zs(function(){return w===null&&(w=e()),w})},b=e;return{map:a,bind:i,anonBind:l,toLazy:c,toCached:m,toPromise:b,get:n}},rT=function(e){return zs(function(){return new hw(e)})},MP=function(e){return zs(function(){return hw.resolve(e)})},yw={nu:rT,pure:MP},RP=function(e,n){return n(function(a){var i=[],l=0,c=function(m){return function(b){i[m]=b,l++,l>=e.length&&a(i)}};e.length===0?a([]):ut(e,function(m,b){m.get(c(b))})})},BP=function(e){return RP(e,yw.nu)},xm=function(e){var n=function(K){return xm(e)},a=function(K){return xm(e)},i=function(K){return xm(K(e))},l=function(K){return xm(e)},c=function(K){K(e)},m=function(K){return K(e)},b=function(K,ee){return ee(e)},w=function(K){return K(e)},M=function(K){return K(e)},W=function(){return re.some(e)};return{isValue:At,isError:Le,getOr:G(e),getOrThunk:G(e),getOrDie:G(e),or:n,orThunk:a,fold:b,map:i,mapError:l,each:c,bind:m,exists:w,forall:M,toOptional:W}},mp=function(e){var n=function(M){return M()},a=function(){return tt(String(e))()},i=he,l=function(M){return M()},c=function(M){return mp(e)},m=function(M){return mp(M(e))},b=function(M){return mp(e)},w=function(M,W){return M(e)};return{isValue:Le,isError:At,getOr:he,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:w,map:c,mapError:m,each:Ce,bind:b,exists:Le,forall:At,toOptional:re.none}},aT=function(e,n){return e.fold(function(){return mp(n)},xm)},oT={value:xm,error:mp,fromOption:aT},xl=function(e){if(!Z(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return ut(e,function(i,l){var c=Yt(i);if(c.length!==1)throw new Error("one and only one name per case");var m=c[0],b=i[m];if(a[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Z(b))throw new Error("case arguments must be an array");n.push(m),a[m]=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];var W=w.length;if(W!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+W);var K=function(ee){var de=Yt(ee);if(n.length!==de.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+de.join(","));var pe=yr(n,function(be){return Be(de,be)});if(!pe)throw new Error("Not all branches were specified when using match. Specified: "+de.join(", ")+`
Required: `+n.join(", "));return ee[m].apply(null,w)};return{fold:function(){for(var ee=[],de=0;de<arguments.length;de++)ee[de]=arguments[de];if(ee.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+ee.length);var pe=ee[l];return pe.apply(null,w)},match:K,log:function(ee){}}}}),a},vr={generate:xl};vr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var mf=function(e){return e.fold(he,he)};function ww(e,n,a,i,l){return e(a,i)?re.some(a):fe(l)&&l(a)?re.none():n(a,i,l)}var gp=function(e,n,a){for(var i=e.dom,l=fe(a)?a:Le;i.parentNode;){i=i.parentNode;var c=V.fromDom(i);if(n(c))return re.some(c);if(l(c))break}return re.none()},Sb=function(e,n,a){var i=function(l,c){return c(l)};return ww(i,gp,e,n,a)},Cw=function(e,n){var a=e.dom;return a.parentNode?Hs(V.fromDom(a.parentNode),function(i){return!Or(e,i)&&n(i)}):re.none()},Hs=function(e,n){var a=function(l){return n(V.fromDom(l))},i=fn(e.dom.childNodes,a);return i.map(V.fromDom)},Jv=function(e,n,a){return gp(e,function(i){return Fn(i,n)},a)},km=function(e,n){return Jr(n,e)},Wo=function(e,n,a){var i=function(l,c){return Fn(l,c)};return ww(i,Jv,e,n,a)},Ti=window.Promise?window.Promise:hw,pp,iT=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(m){window.setTimeout(m,0)},c=0;c<i.length&&!a;c++)a=window[i[c]+"RequestAnimationFrame"];a||(a=l),a(e,n)},Sw=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},uT=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},xb=function(e){return clearTimeout(e)},FP=function(e){return clearInterval(e)},Tm=function(e,n){var a,i=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];clearTimeout(a),a=Sw(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},Ui={requestAnimationFrame:function(e,n){if(pp){pp.then(e);return}pp=new Ti(function(a){n||(n=document.body),iT(a,n)}).then(e)},setTimeout:Sw,setInterval:uT,setEditorTimeout:function(e,n,a){return Sw(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=uT(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Tm,throttle:Tm,clearInterval:FP,clearTimeout:xb},lT=function(e,n){n===void 0&&(n={});var a=0,i={},l=V.fromDom(e),c=Pr(l),m=n.maxLoadTime||5e3,b=function(we){n.referrerPolicy=we},w=function(we){Di(sf(l),we)},M=function(we){var Fe=sf(l);km(Fe,"#"+we).each(Uo)},W=function(we){return _r(i,we).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},K=function(we,Fe,De){var vt,ot=Ht._addCacheSuffix(we),Ue=W(ot);i[ot]=Ue,Ue.count++;var ht=function(pn,Nn){for(var Sn=pn.length;Sn--;)pn[Sn]();Ue.status=Nn,Ue.passed=[],Ue.failed=[],vt&&(vt.onload=null,vt.onerror=null,vt=null)},Kt=function(){return ht(Ue.passed,2)},vn=function(){return ht(Ue.failed,3)},br=function(pn,Nn){pn()||(Date.now()-pr<m?Ui.setTimeout(Nn):vn())},Hn=function(){br(function(){for(var pn=e.styleSheets,Nn=pn.length;Nn--;){var Sn=pn[Nn],An=Sn.ownerNode;if(An&&An.id===vt.id)return Kt(),!0}return!1},Hn)};if(Fe&&Ue.passed.push(Fe),De&&Ue.failed.push(De),Ue.status!==1){if(Ue.status===2){Kt();return}if(Ue.status===3){vn();return}Ue.status=1;var en=V.fromTag("link",c.dom);q(en,{rel:"stylesheet",type:"text/css",id:Ue.id});var pr=Date.now();n.contentCssCors&&$(en,"crossOrigin","anonymous"),n.referrerPolicy&&$(en,"referrerpolicy",n.referrerPolicy),vt=en.dom,vt.onload=Hn,vt.onerror=vn,w(en),$(en,"href",ot)}},ee=function(we){return yw.nu(function(Fe){K(we,oe(Fe,G(oT.value(we))),oe(Fe,G(oT.error(we))))})},de=function(we,Fe,De){BP(gt(we,ee)).get(function(vt){var ot=_n(vt,function(Ue){return Ue.isValue()});ot.fail.length>0?De(ot.fail.map(mf)):Fe(ot.pass.map(mf))})},pe=function(we){var Fe=Ht._addCacheSuffix(we);_r(i,Fe).each(function(De){var vt=--De.count;vt===0&&(delete i[Fe],M(De.id))})},be=function(we){ut(we,function(Fe){pe(Fe)})};return{load:K,loadAll:de,unload:pe,unloadAll:be,_setReferrerPolicy:b}},Eo=function(){var e=new WeakMap,n=function(a,i){var l=Cu(a),c=l.dom;return re.from(e.get(c)).getOrThunk(function(){var m=lT(c,i);return e.set(c,m),m})};return{forElement:n}},Vs=Eo(),qa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var c,m;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(c=n[i],c)return c;for(m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(c=m[i],c)return c}}},e.prototype.findPreviousNode=function(n,a,i,l){var c,m,b;if(n){if(c=n[i],this.rootNode&&c===this.rootNode)return;if(c){if(!l){for(b=c[a];b;b=b[a])if(!b[a])return b}return c}if(m=n.parentNode,m&&m!==this.rootNode)return m}},e}(),Em=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Vl=["td","th"],IP=["thead","tbody","tfoot"],hi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Vu=["h1","h2","h3","h4","h5","h6"],sT=["li","dd","dt"],tn=["ul","ol","dl"],tl=["pre","script","textarea","style"],qf=function(e){var n;return function(a){return n=n||Ft(e,At),Ar(n,Ra(a))}},$r=qf(Vu),Ul=qf(Em),NP=function(e){return Ra(e)==="table"},uu=function(e){return po(e)&&!Ul(e)},Om=function(e){return po(e)&&Ra(e)==="br"},gf=qf(hi),kb=qf(tn),Su=qf(sT),$a=qf(IP),Us=qf(Vl),hp=qf(tl),no=function(e,n,a){return Jv(e,n,a).isSome()},Qv="\uFEFF",nl=" ",kl=function(e){return e===Qv},LP=function(e){return e.replace(/\uFEFF/g,"")},nt=Qv,rl=kl,Oc=LP,Am=Mr,Wl=Kn,Oo=function(e){return Wl(e)&&(e=e.parentNode),Am(e)&&e.hasAttribute("data-mce-caret")},Xa=function(e){return Wl(e)&&rl(e.data)},jl=function(e){return Oo(e)||Xa(e)},bp=function(e){return e.firstChild!==e.lastChild||!Ha(e.firstChild)},xw=function(e,n){var a=e.ownerDocument,i=a.createTextNode(nt),l=e.parentNode;if(n){var c=e.previousSibling;if(Wl(c)){if(jl(c))return c;if(Eb(c))return c.splitText(c.data.length-1)}l.insertBefore(i,e)}else{var c=e.nextSibling;if(Wl(c)){if(jl(c))return c;if(Tb(c))return c.splitText(1),c}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},Cr=function(e){var n=e.container();return Kn(n)?n.data.charAt(e.offset())===nt||e.isAtStart()&&Xa(n.previousSibling):!1},kw=function(e){var n=e.container();return Kn(n)?n.data.charAt(e.offset()-1)===nt||e.isAtEnd()&&Xa(n.nextSibling):!1},ql=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},zP=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(ql());var c=n.parentNode;return a?c.insertBefore(l,n):n.nextSibling?c.insertBefore(l,n.nextSibling):c.appendChild(l),l},Tb=function(e){return Wl(e)&&e.data[0]===nt},Eb=function(e){return Wl(e)&&e.data[e.data.length-1]===nt},HP=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];vf(a)&&a.parentNode.removeChild(a)},Tw=function(e){return e&&e.hasAttribute("data-mce-caret")?(HP(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Ac=function(e){return Oo(e.startContainer)},ed=ds,VP=vo,UP=Ha,WP=Kn,cT=Cl(["script","style","textarea"]),Ew=Cl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ow=Cl(["table"]),fT=jl,$c=function(e){return fT(e)?!1:WP(e)?!cT(e.parentNode):Ew(e)||UP(e)||Ow(e)||Aw(e)},$m=function(e){return Mr(e)&&e.getAttribute("unselectable")==="true"},Aw=function(e){return $m(e)===!1&&VP(e)},jP=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(Aw(e))return!1;if(ed(e))return!0}return!0},qP=function(e){return Aw(e)?ln(Xt(e.getElementsByTagName("*")),function(n,a){return n||ed(a)},!1)!==!0:!1},KP=function(e){return Ew(e)||qP(e)},ai=function(e,n){return $c(e)&&jP(e,n)},pf=/^[ \t\r\n]*$/,Ws=function(e){return pf.test(e)},yp=function(e,n){var a=V.fromDom(n),i=V.fromDom(e);return no(i,"pre,code",Me(Or,a))},vT=function(e,n){return Kn(e)&&Ws(e.data)&&yp(e,n)===!1},ms=function(e){return Mr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},td=function(e,n){return $c(e)&&vT(e,n)===!1||ms(e)||$w(e)},$w=wm("data-mce-bookmark"),Dw=wm("data-mce-bogus"),Kf=vw("data-mce-bogus","all"),Gf=function(e,n){var a=0;if(td(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new qa(i,e);do{if(n){if(Kf(i)){i=l.next(!0);continue}if(Dw(i)){i=l.next();continue}}if(Ha(i)){a++,i=l.next();continue}if(td(i,e))return!1;i=l.next()}while(i);return a<=1},_i=function(e,n){return n===void 0&&(n=!0),Gf(e.dom,n)},Ob=function(e){return e.nodeName.toLowerCase()==="span"},dT=function(e,n){return xe(e)&&(td(e,n)||uu(V.fromDom(e)))},Dm=function(e,n){var a=new qa(e,n).prev(!1),i=new qa(e,n).next(!1),l=X(a)||dT(a,n),c=X(i)||dT(i,n);return l&&c},_m=function(e){return Ob(e)&&e.getAttribute("data-mce-type")==="bookmark"},wp=function(e,n){return Kn(e)&&e.data.length>0&&Dm(e,n)},GP=function(e){return Mr(e)?e.childNodes.length>0:!1},Cp=function(e){return Xr(e)||fp(e)},_w=function(e,n,a){var i=a||n;if(Mr(n)&&_m(n))return n;for(var l=n.childNodes,c=l.length-1;c>=0;c--)_w(e,l[c],i);if(Mr(n)){var m=n.childNodes;m.length===1&&_m(m[0])&&n.parentNode.insertBefore(m[0],n)}return!Cp(n)&&!td(n,i)&&!GP(n)&&!wp(n,i)&&e.remove(n),n},YP=Ht.makeMap,Ao=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ab=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pm=/[<>&\"\']/g,Pw=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Mw={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Kl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Sp=function(e){var n=V.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Mm=function(e,n){var a,i,l,c={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),Kl[i]||(l="&"+e[a+1]+";",c[i]=l,c[l]=i);return c}},Rw=Mm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xp=function(e,n){return e.replace(n?Ao:Ab,function(a){return Kl[a]||a})},Bw=function(e){return(""+e).replace(Pm,function(n){return Kl[n]||n})},kp=function(e,n){return e.replace(n?Ao:Ab,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Kl[a]||"&#"+a.charCodeAt(0)+";"})},Fw=function(e,n,a){return a=a||Rw,e.replace(n?Ao:Ab,function(i){return Kl[i]||a[i]||i})},XP=function(e,n){var a=Mm(n)||Rw,i=function(m,b){return m.replace(b?Ao:Ab,function(w){return Kl[w]!==void 0?Kl[w]:a[w]!==void 0?a[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},l=function(m,b){return Fw(m,b,a)},c=YP(e.replace(/\+/g,","));return c.named&&c.numeric?i:c.named?n?l:Fw:c.numeric?kp:xp},Iw=function(e){return e.replace(Pw,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Mw[a]||String.fromCharCode(a)):Tl[n]||Rw[n]||Sp(n)})},js={encodeRaw:xp,encodeAllRaw:Bw,encodeNumeric:kp,encodeNamed:Fw,getEncodeFunc:XP,decode:Iw},El={},Tp={},qs=Ht.makeMap,Wi=Ht.each,$b=Ht.extend,Db=Ht.explode,mT=Ht.inArray,Pi=function(e,n){return e=Ht.trim(e),e?e.split(n||" "):[]},Nw=function(e,n){var a=qs(e," ",qs(e.toUpperCase()," "));return $b(a,n)},_b=function(e){return Nw("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Ca=function(e){var n={},a,i,l,c,m,b,w=function(W,K,ee){var de,pe,be,we=function(De,vt){var ot={},Ue,ht;for(Ue=0,ht=De.length;Ue<ht;Ue++)ot[De[Ue]]=vt||{};return ot};ee=ee||[],K=K||"",typeof ee=="string"&&(ee=Pi(ee));var Fe=Pi(W);for(de=Fe.length;de--;)pe=Pi([a,K].join(" ")),be={attributes:we(pe),attributesOrder:pe,children:we(ee,Tp)},n[Fe[de]]=be},M=function(W,K){var ee,de,pe,be,we=Pi(W);ee=we.length;for(var Fe=Pi(K);ee--;)for(de=n[we[ee]],pe=0,be=Fe.length;pe<be;pe++)de.attributes[Fe[pe]]={},de.attributesOrder.push(Fe[pe])};return El[e]?El[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",l=[l,b].join(" "),Wi(Pi(b),function(W){w(W,"",l)}),m="center dir isindex noframes",i=[i,m].join(" "),c=[i,l].join(" "),Wi(Pi(m),function(W){w(W,"",c)})),c=c||[i,l].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),w("address dt dd div caption","",c),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),w("blockquote","cite",c),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",c),w("dl","","dt dd"),w("a","href target rel media hreflang type",l),w("q","cite",l),w("ins del","cite datetime",c),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",c),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),w("param","name value"),w("map","name",[c,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",c),w("th","colspan rowspan headers scope abbr",c),w("form","accept-charset action autocomplete enctype method name novalidate target",c),w("fieldset","disabled form name",[c,"legend"].join(" ")),w("label","form for",l),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?c:l),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[c,"li"].join(" ")),w("noscript","",c),e!=="html4"&&(w("wbr"),w("ruby","",[l,"rt rp"].join(" ")),w("figcaption","",c),w("mark rt rp summary bdi","",l),w("canvas","width height",c),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[l,"option"].join(" ")),w("article section nav aside main header footer","",c),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[c,"figcaption"].join(" ")),w("time","datetime",l),w("dialog","open",c),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",l),w("progress","value max",l),w("meter","value min max low high optimum",l),w("details","open",[c,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(M("script","language xml:space"),M("style","xml:space"),M("object","declare classid code codebase codetype archive standby align border hspace vspace"),M("embed","align name hspace vspace"),M("param","valuetype type"),M("a","charset name rev shape coords"),M("br","clear"),M("applet","codebase archive code object alt name width height align hspace vspace"),M("img","name longdesc align border hspace vspace"),M("iframe","longdesc frameborder marginwidth marginheight scrolling align"),M("font basefont","size color face"),M("input","usemap align"),M("select"),M("textarea"),M("h1 h2 h3 h4 h5 h6 div p legend caption","align"),M("ul","type compact"),M("li","type"),M("ol dl menu dir","compact"),M("pre","width xml:space"),M("hr","align noshade size width"),M("isindex","prompt"),M("table","summary width frame rules cellspacing cellpadding align bgcolor"),M("col","width align char charoff valign"),M("colgroup","width align char charoff valign"),M("thead","align char charoff valign"),M("tr","align char charoff valign bgcolor"),M("th","axis align char charoff valign nowrap bgcolor width height"),M("form","accept"),M("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),M("tfoot","align char charoff valign"),M("tbody","align char charoff valign"),M("area","nohref"),M("body","background bgcolor text link vlink alink")),e!=="html4"&&(M("input button select textarea","autofocus"),M("input textarea","placeholder"),M("a","download"),M("link script img","crossorigin"),M("img","loading"),M("iframe","sandbox seamless allowfullscreen loading")),Wi(Pi("a form meter progress dfn"),function(W){n[W]&&delete n[W].children[W]}),delete n.caption.children.table,delete n.script,El[e]=n,n)},hr=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Wi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?qs(i,/[, ]/):Db(i,/[, ]/)})),a},Ol=function(e){var n={},a={},i=[],l={},c={},m=function(un,kn,ir){var xt=e[un];return xt?xt=qs(xt,/[, ]/,qs(xt.toUpperCase(),/[, ]/)):(xt=El[un],xt||(xt=Nw(kn,ir),El[un]=xt)),xt};e=e||{};var b=Ca(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var w=hr(e.valid_styles),M=hr(e.invalid_styles,"map"),W=hr(e.valid_classes,"map"),K=m("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),de=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),pe=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),be="td th iframe video audio object script code",we=m("non_empty_elements",be+" pre",de),Fe=m("move_caret_before_on_enter_elements",be+" table",de),De=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),vt=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",De),ot=m("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Wi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(un){c[un]=new RegExp("</"+un+"[^>]*>","gi")});var Ue=function(un){return new RegExp("^"+un.replace(/([?+*])/g,".$1")+"$")},ht=function(un){var kn,ir,xt,gn,sn,cr,gr,Ia,ei,Go,Df,fu,Ji,ci,Fl,vu,$s,Wa,ao=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,fi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Bu=/[*?+]/;if(un){var gc=Pi(un,",");for(n["@"]&&(vu=n["@"].attributes,$s=n["@"].attributesOrder),kn=0,ir=gc.length;kn<ir;kn++)if(sn=ao.exec(gc[kn]),sn){if(ci=sn[1],ei=sn[2],Fl=sn[3],Ia=sn[5],fu={},Ji=[],cr={attributes:fu,attributesOrder:Ji},ci==="#"&&(cr.paddEmpty=!0),ci==="-"&&(cr.removeEmpty=!0),sn[4]==="!"&&(cr.removeEmptyAttrs=!0),vu&&(wn(vu,function(pc,Iv){fu[Iv]=pc}),Ji.push.apply(Ji,$s)),Ia){for(Ia=Pi(Ia,"|"),xt=0,gn=Ia.length;xt<gn;xt++)if(sn=fi.exec(Ia[xt]),sn){if(gr={},Df=sn[1],Go=sn[2].replace(/[\\:]:/g,":"),ci=sn[3],Wa=sn[4],Df==="!"&&(cr.attributesRequired=cr.attributesRequired||[],cr.attributesRequired.push(Go),gr.required=!0),Df==="-"){delete fu[Go],Ji.splice(mT(Ji,Go),1);continue}ci&&(ci==="="&&(cr.attributesDefault=cr.attributesDefault||[],cr.attributesDefault.push({name:Go,value:Wa}),gr.defaultValue=Wa),ci===":"&&(cr.attributesForced=cr.attributesForced||[],cr.attributesForced.push({name:Go,value:Wa}),gr.forcedValue=Wa),ci==="<"&&(gr.validValues=qs(Wa,"?"))),Bu.test(Go)?(cr.attributePatterns=cr.attributePatterns||[],gr.pattern=Ue(Go),cr.attributePatterns.push(gr)):(fu[Go]||Ji.push(Go),fu[Go]=gr)}}!vu&&ei==="@"&&(vu=fu,$s=Ji),Fl&&(cr.outputName=ei,n[Fl]=cr),Bu.test(ei)?(cr.pattern=Ue(ei),i.push(cr)):n[ei]=cr}}},Kt=function(un){n={},i=[],ht(un),Wi(b,function(kn,ir){a[ir]=kn.children})},vn=function(un){var kn=/^(~)?(.+)$/;un&&(El.text_block_elements=El.block_elements=null,Wi(Pi(un,","),function(ir){var xt=kn.exec(ir),gn=xt[1]==="~",sn=gn?"span":"div",cr=xt[2];if(a[cr]=a[sn],l[cr]=sn,gn||(vt[cr.toUpperCase()]={},vt[cr]={}),!n[cr]){var gr=n[sn];gr=$b({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,n[cr]=gr}Wi(a,function(Ia,ei){Ia[sn]&&(a[ei]=Ia=$b({},a[ei]),Ia[cr]=Ia[sn])})}))},br=function(un){var kn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;El[e.schema]=null,un&&Wi(Pi(un,","),function(ir){var xt=kn.exec(ir),gn,sn;xt&&(sn=xt[1],sn?gn=a[xt[2]]:gn=a[xt[2]]={"#comment":{}},gn=a[xt[2]],Wi(Pi(xt[3],"|"),function(cr){sn==="-"?delete gn[cr]:gn[cr]={}}))})},Hn=function(un){var kn=n[un],ir;if(kn)return kn;for(ir=i.length;ir--;)if(kn=i[ir],kn.pattern.test(un))return kn};e.valid_elements?Kt(e.valid_elements):(Wi(b,function(un,kn){n[kn]={attributes:un.attributes,attributesOrder:un.attributesOrder},a[kn]=un.children}),e.schema!=="html5"&&Wi(Pi("strong/b em/i"),function(un){var kn=Pi(un,"/");n[kn[1]].outputName=kn[0]}),Wi(ot,function(un,kn){n[kn]&&(e.padd_empty_block_inline_children&&(n[kn].paddInEmptyBlock=!0),n[kn].removeEmpty=!0)}),Wi(Pi("ol ul blockquote a table tbody"),function(un){n[un]&&(n[un].removeEmpty=!0)}),Wi(Pi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(un){n[un].paddEmpty=!0}),Wi(Pi("span"),function(un){n[un].removeEmptyAttrs=!0})),vn(e.custom_elements),br(e.valid_children),ht(e.extended_valid_elements),br("+ol[ul|ol],+ul[ul|ol]"),Wi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(un,kn){n[kn]&&(n[kn].parentsRequired=Pi(un))}),e.invalid_elements&&Wi(Db(e.invalid_elements),function(un){n[un]&&delete n[un]}),Hn("span")||ht("span[!data-mce-type|*]");var en=G(w),pr=G(M),pn=G(W),Nn=G(pe),Sn=G(vt),An=G(De),Gn=G(ot),on=G(de),Vn=G(ee),ta=G(we),Sa=G(Fe),ba=G(K),wi=G(c),bo=function(un,kn){var ir=a[un.toLowerCase()];return!!(ir&&ir[kn.toLowerCase()])},cu=function(un,kn){var ir,xt,gn=Hn(un);if(gn)if(kn){if(gn.attributes[kn])return!0;if(ir=gn.attributePatterns,ir){for(xt=ir.length;xt--;)if(ir[xt].pattern.test(un))return!0}}else return!0;return!1},Ru=G(l);return{children:a,elements:n,getValidStyles:en,getValidClasses:pn,getBlockElements:Sn,getInvalidStyles:pr,getShortEndedElements:on,getTextBlockElements:An,getTextInlineElements:Gn,getBoolAttrs:Nn,getElementRule:Hn,getSelfClosingElements:Vn,getNonEmptyElements:ta,getMoveCaretBeforeOnEnterElements:Sa,getWhiteSpaceElements:ba,getSpecialElements:wi,isValidChild:bo,isValid:cu,getCustomElements:Ru,addValidElements:ht,setValidElements:Kt,addCustomElements:vn,addValidChildren:br}},Pb=function(e,n,a,i){var l=function(c){return c=parseInt(c,10).toString(16),c.length>1?c:"0"+c};return"#"+l(n)+l(a)+l(i)},Ep=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,b,w={},M,W,K=Qv;e=e||{},n&&(M=n.getValidStyles(),W=n.getInvalidStyles());var ee=(`\\" \\' \\; \\: ; : `+K).split(" ");for(b=0;b<ee.length;b++)w[ee[b]]=K+b,w[K+b]=ee[b];return{toHex:function(de){return de.replace(i,Pb)},parse:function(de){var pe={},be,we,Fe,De,vt=e.url_converter,ot=e.url_converter_scope||a,Ue=function(pn,Nn,Sn){var An=pe[pn+"-top"+Nn];if(An){var Gn=pe[pn+"-right"+Nn];if(Gn){var on=pe[pn+"-bottom"+Nn];if(on){var Vn=pe[pn+"-left"+Nn];if(Vn){var ta=[An,Gn,on,Vn];for(b=ta.length-1;b--&&ta[b]===ta[b+1];);b>-1&&Sn||(pe[pn+Nn]=b===-1?ta[0]:ta.join(" "),delete pe[pn+"-top"+Nn],delete pe[pn+"-right"+Nn],delete pe[pn+"-bottom"+Nn],delete pe[pn+"-left"+Nn])}}}}},ht=function(pn){var Nn=pe[pn],Sn;if(Nn){for(Nn=Nn.split(" "),Sn=Nn.length;Sn--;)if(Nn[Sn]!==Nn[0])return!1;return pe[pn]=Nn[0],!0}},Kt=function(pn,Nn,Sn,An){ht(Nn)&&ht(Sn)&&ht(An)&&(pe[pn]=pe[Nn]+" "+pe[Sn]+" "+pe[An],delete pe[Nn],delete pe[Sn],delete pe[An])},vn=function(pn){return De=!0,w[pn]},br=function(pn,Nn){return De&&(pn=pn.replace(/\uFEFF[0-9]/g,function(Sn){return w[Sn]})),Nn||(pn=pn.replace(/\\([\'\";:])/g,"$1")),pn},Hn=function(pn){return String.fromCharCode(parseInt(pn.slice(1),16))},en=function(pn){return pn.replace(/\\[0-9a-f]+/gi,Hn)},pr=function(pn,Nn,Sn,An,Gn,on){if(Gn=Gn||on,Gn)return Gn=br(Gn),"'"+Gn.replace(/\'/g,"\\'")+"'";if(Nn=br(Nn||Sn||An),!e.allow_script_urls){var Vn=Nn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Vn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Vn))return""}return vt&&(Nn=vt.call(ot,Nn,"style")),"url('"+Nn.replace(/\'/g,"\\'")+"')"};if(de){for(de=de.replace(/[\u0000-\u001F]/g,""),de=de.replace(/\\[\"\';:\uFEFF]/g,vn).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(pn){return pn.replace(/[;:]/g,vn)});be=c.exec(de);)if(c.lastIndex=be.index+be[0].length,we=be[1].replace(m,"").toLowerCase(),Fe=be[2].replace(m,""),we&&Fe){if(we=en(we),Fe=en(Fe),we.indexOf(K)!==-1||we.indexOf('"')!==-1||!e.allow_script_urls&&(we==="behavior"||/expression\s*\(|\/\*|\*\//.test(Fe)))continue;we==="font-weight"&&Fe==="700"?Fe="bold":(we==="color"||we==="background-color")&&(Fe=Fe.toLowerCase()),Fe=Fe.replace(i,Pb),Fe=Fe.replace(l,pr),pe[we]=De?br(Fe,!0):Fe}Ue("border","",!0),Ue("border","-width"),Ue("border","-color"),Ue("border","-style"),Ue("padding",""),Ue("margin",""),Kt("border","border-width","border-style","border-color"),pe.border==="medium none"&&delete pe.border,pe["border-image"]==="none"&&delete pe["border-image"]}return pe},serialize:function(de,pe){var be="",we=function(De){var vt,ot=M[De];if(ot)for(var Ue=0,ht=ot.length;Ue<ht;Ue++)De=ot[Ue],vt=de[De],vt&&(be+=(be.length>0?" ":"")+De+": "+vt+";")},Fe=function(De,vt){var ot=W["*"];return ot&&ot[De]?!1:(ot=W[vt],!(ot&&ot[De]))};return pe&&M?(we("*"),we(pe)):wn(de,function(De,vt){De&&(!W||Fe(vt,pe))&&(be+=(be.length>0?" ":"")+vt+": "+De+";")}),be}}},gT={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Va=function(e){return e instanceof Event||fe(e.initEvent)},pT=function(e){return e.isDefaultPrevented===At||e.isDefaultPrevented===Le},ZP=function(e){return me(e.preventDefault)||Va(e)},hT=function(e,n){var a=n??{};for(var i in e)Ar(gT,i)||(a[i]=e[i]);return xe(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},nn=function(e,n,a,i){var l,c=hT(n,i);return c.type=e,me(c.target)&&(c.target=(l=c.srcElement)!==null&&l!==void 0?l:a),ZP(n)&&(c.preventDefault=function(){c.defaultPrevented=!0,c.isDefaultPrevented=At,fe(n.preventDefault)?n.preventDefault():Va(n)&&(n.returnValue=!1)},c.stopPropagation=function(){c.cancelBubble=!0,c.isPropagationStopped=At,fe(n.stopPropagation)?n.stopPropagation():Va(n)&&(n.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=At,c.stopPropagation()},pT(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?At:Le,c.isPropagationStopped=c.cancelBubble===!0?At:Le,c.isImmediatePropagationStopped=Le)),c},Lw="mce-data-",JP=/^(?:mouse|contextmenu)|click/,Rm=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Mb=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Bm=function(e){return xe(e)&&JP.test(e.type)},Yf=function(e,n){var a=nn(e.type,e,document,n);if(Bm(e)&&X(e.pageX)&&!X(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,c=i.body,m=a;m.pageX=e.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0),m.pageY=e.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)}return X(a.metaKey)&&(a.metaKey=!1),a},nd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var c=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},m=function(){Mb(e,"DOMContentLoaded",m),Mb(e,"load",m),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};c()?m():Rm(e,"DOMContentLoaded",m),a.domLoaded||Rm(e,"load",m)},Fm=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Lw+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var c=this,m,b,w,M,W,K,ee,de=window,pe=function(we){c.executeHandlers(Yf(we||de.event),m)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[c.expando]?m=n[c.expando]:(m=c.count++,n[c.expando]=m,c.events[m]={}),l=l||n;var be=a.split(" ");for(w=be.length;w--;){if(M=be[w],K=pe,W=ee=!1,M==="DOMContentLoaded"&&(M="ready"),c.domLoaded&&M==="ready"&&n.readyState==="complete"){i.call(l,Yf({type:M}));continue}c.hasMouseEnterLeave||(W=c.mouseEnterLeave[M],W&&(K=function(we){var Fe=we.currentTarget,De=we.relatedTarget;if(De&&Fe.contains)De=Fe.contains(De);else for(;De&&De!==Fe;)De=De.parentNode;De||(we=Yf(we||de.event),we.type=we.type==="mouseout"?"mouseleave":"mouseenter",we.target=Fe,c.executeHandlers(we,m))})),!c.hasFocusIn&&(M==="focusin"||M==="focusout")&&(ee=!0,W=M==="focusin"?"focus":"blur",K=function(we){we=Yf(we||de.event),we.type=we.type==="focus"?"focusin":"focusout",c.executeHandlers(we,m)}),b=c.events[m][M],b?M==="ready"&&c.domLoaded?i(Yf({type:M})):b.push({func:i,scope:l}):(c.events[m][M]=b=[{func:i,scope:l}],b.fakeName=W,b.capture=ee,b.nativeHandler=K,M==="ready"?nd(n,K,c):Rm(n,W||M,K,ee))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var l,c,m,b,w;if(!n||n.nodeType===3||n.nodeType===8)return this;var M=n[this.expando];if(M){if(w=this.events[M],a){var W=a.split(" ");for(c=W.length;c--;)if(b=W[c],l=w[b],l){if(i){for(m=l.length;m--;)if(l[m].func===i){var K=l.nativeHandler,ee=l.fakeName,de=l.capture;l=l.slice(0,m).concat(l.slice(m+1)),l.nativeHandler=K,l.fakeName=ee,l.capture=de,w[b]=l}}(!i||l.length===0)&&(delete w[b],Mb(n,l.fakeName||b,l.nativeHandler,l.capture))}}else wn(w,function(pe,be){Mb(n,pe.fakeName||be,pe.nativeHandler,pe.capture)}),w={};for(b in w)if(Ar(w,b))return this;delete this.events[M];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var c=Yf({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(c,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!c.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var c=0,m=l.length;c<m;c++){var b=l[c];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),jo,qr,Gl,bT,Yl,zw,Rb,Xf,Zf,Im,Jf,Xl,Qf,Dc,ev,Nm,yT,Zn,lu="sizzle"+-new Date,Ks=window.document,_c=0,wT=0,CT=Kw(),Bb=Kw(),Lm=Kw(),tv=function(e,n){return e===n&&(Im=!0),0},Fb="undefined",Op=1<<31,QP={}.hasOwnProperty,nv=[],Hw=nv.pop,Vw=nv.push,rv=nv.push,Uw=nv.slice,av=nv.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},eM="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_o="[\\x20\\t\\r\\n\\f]",xu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",al="\\["+_o+"*("+xu+")(?:"+_o+"*([*^$|!~]?=)"+_o+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+xu+"))|)"+_o+"*\\]",ST=":("+xu+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+al+")*)|.*)\\)|)",Ib=new RegExp("^"+_o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_o+"+$","g"),tM=new RegExp("^"+_o+"*,"+_o+"*"),xT=new RegExp("^"+_o+"*([>+~]|"+_o+")"+_o+"*"),gs=new RegExp("="+_o+`*([^\\]'"]*?)`+_o+"*\\]","g"),nM=new RegExp(ST),rM=new RegExp("^"+xu+"$"),Nb={ID:new RegExp("^#("+xu+")"),CLASS:new RegExp("^\\.("+xu+")"),TAG:new RegExp("^("+xu+"|[*])"),ATTR:new RegExp("^"+al),PSEUDO:new RegExp("^"+ST),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_o+"*(even|odd|(([+-]|)(\\d*)n|)"+_o+"*(?:([+-]|)"+_o+"*(\\d+)|))"+_o+"*\\)|)","i"),bool:new RegExp("^(?:"+eM+")$","i"),needsContext:new RegExp("^"+_o+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_o+"*((?:-\\d)?\\d*)"+_o+"*\\)|)(?=[^-]|$)","i")},aM=/^(?:input|select|textarea|button)$/i,oM=/^h\d$/i,Ww=/^[^{]+\{\s*\[native \w/,jw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qw=/[+~]/,iM=/'|\\/g,ov=new RegExp("\\\\([\\da-f]{1,6}"+_o+"?|("+_o+")|.)","ig"),iv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{rv.apply(nv=Uw.call(Ks.childNodes),Ks.childNodes),nv[Ks.childNodes.length].nodeType}catch{rv={apply:nv.length?function(n,a){Vw.apply(n,Uw.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var Ka=function(e,n,a,i){var l,c,m,b,w,M,W,K,ee,de;if((n?n.ownerDocument||n:Ks)!==Xl&&Jf(n),n=n||Xl,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if(Dc&&!i){if(l=jw.exec(e))if(m=l[1]){if(b===9)if(c=n.getElementById(m),c&&c.parentNode){if(c.id===m)return a.push(c),a}else return a;else if(n.ownerDocument&&(c=n.ownerDocument.getElementById(m))&&Zn(n,c)&&c.id===m)return a.push(c),a}else{if(l[2])return rv.apply(a,n.getElementsByTagName(e)),a;if((m=l[3])&&jo.getElementsByClassName)return rv.apply(a,n.getElementsByClassName(m)),a}if(jo.qsa&&(!ev||!ev.test(e))){if(K=W=lu,ee=n,de=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(M=Yl(e),(W=n.getAttribute("id"))?K=W.replace(iM,"\\$&"):n.setAttribute("id",K),K="[id='"+K+"'] ",w=M.length;w--;)M[w]=K+Lb(M[w]);ee=qw.test(e)&&Gw(n.parentNode)||n,de=M.join(",")}if(de)try{return rv.apply(a,ee.querySelectorAll(de)),a}catch{}finally{W||n.removeAttribute("id")}}}return Rb(e.replace(Ib,"$1"),n,a,i)};function Kw(){var e=[];function n(a,i){return e.push(a+" ")>qr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Gs(e){return e[lu]=!0,e}function kT(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Op)-(~e.sourceIndex||Op);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function Ys(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function rd(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function ad(e){return Gs(function(n){return n=+n,Gs(function(a,i){for(var l,c=e([],a.length,n),m=c.length;m--;)a[l=c[m]]&&(a[l]=!(i[l]=a[l]))})})}function Gw(e){return e&&typeof e.getElementsByTagName!==Fb&&e}jo=Ka.support={},bT=Ka.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Jf=Ka.setDocument=function(e){var n,a=e?e.ownerDocument||e:Ks,i=a.defaultView;function l(c){try{return c.top}catch{}return null}return a===Xl||a.nodeType!==9||!a.documentElement?Xl:(Xl=a,Qf=a.documentElement,Dc=!bT(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Jf()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Jf()})),jo.attributes=!0,jo.getElementsByTagName=!0,jo.getElementsByClassName=Ww.test(a.getElementsByClassName),jo.getById=!0,qr.find.ID=function(c,m){if(typeof m.getElementById!==Fb&&Dc){var b=m.getElementById(c);return b&&b.parentNode?[b]:[]}},qr.filter.ID=function(c){var m=c.replace(ov,iv);return function(b){return b.getAttribute("id")===m}},qr.find.TAG=jo.getElementsByTagName?function(c,m){if(typeof m.getElementsByTagName!==Fb)return m.getElementsByTagName(c)}:function(c,m){var b,w=[],M=0,W=m.getElementsByTagName(c);if(c==="*"){for(;b=W[M++];)b.nodeType===1&&w.push(b);return w}return W},qr.find.CLASS=jo.getElementsByClassName&&function(c,m){if(Dc)return m.getElementsByClassName(c)},Nm=[],ev=[],jo.disconnectedMatch=!0,ev=ev.length&&new RegExp(ev.join("|")),Nm=Nm.length&&new RegExp(Nm.join("|")),n=Ww.test(Qf.compareDocumentPosition),Zn=n||Ww.test(Qf.contains)?function(c,m){var b=c.nodeType===9?c.documentElement:c,w=m&&m.parentNode;return c===w||!!(w&&w.nodeType===1&&(b.contains?b.contains(w):c.compareDocumentPosition&&c.compareDocumentPosition(w)&16))}:function(c,m){if(m){for(;m=m.parentNode;)if(m===c)return!0}return!1},tv=n?function(c,m){if(c===m)return Im=!0,0;var b=!c.compareDocumentPosition-!m.compareDocumentPosition;return b||(b=(c.ownerDocument||c)===(m.ownerDocument||m)?c.compareDocumentPosition(m):1,b&1||!jo.sortDetached&&m.compareDocumentPosition(c)===b?c===a||c.ownerDocument===Ks&&Zn(Ks,c)?-1:m===a||m.ownerDocument===Ks&&Zn(Ks,m)?1:Zf?av.call(Zf,c)-av.call(Zf,m):0:b&4?-1:1)}:function(c,m){if(c===m)return Im=!0,0;var b,w=0,M=c.parentNode,W=m.parentNode,K=[c],ee=[m];if(!M||!W)return c===a?-1:m===a?1:M?-1:W?1:Zf?av.call(Zf,c)-av.call(Zf,m):0;if(M===W)return kT(c,m);for(b=c;b=b.parentNode;)K.unshift(b);for(b=m;b=b.parentNode;)ee.unshift(b);for(;K[w]===ee[w];)w++;return w?kT(K[w],ee[w]):K[w]===Ks?-1:ee[w]===Ks?1:0},a)},Ka.matches=function(e,n){return Ka(e,null,null,n)},Ka.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Xl&&Jf(e),n=n.replace(gs,"='$1']"),jo.matchesSelector&&Dc&&(!Nm||!Nm.test(n))&&(!ev||!ev.test(n)))try{var a=yT.call(e,n);if(a||jo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return Ka(n,Xl,null,[e]).length>0},Ka.contains=function(e,n){return(e.ownerDocument||e)!==Xl&&Jf(e),Zn(e,n)},Ka.attr=function(e,n){(e.ownerDocument||e)!==Xl&&Jf(e);var a=qr.attrHandle[n.toLowerCase()],i=a&&QP.call(qr.attrHandle,n.toLowerCase())?a(e,n,!Dc):void 0;return i!==void 0?i:jo.attributes||!Dc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},Ka.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ka.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Im=!jo.detectDuplicates,Zf=!jo.sortStable&&e.slice(0),e.sort(tv),Im){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return Zf=null,e},Gl=Ka.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Gl(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Gl(n);return a},qr=Ka.selectors={cacheLength:50,createPseudo:Gs,match:Nb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ov,iv),e[3]=(e[3]||e[4]||e[5]||"").replace(ov,iv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Ka.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Ka.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Nb.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&nM.test(a)&&(n=Yl(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(ov,iv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=CT[e+" "];return n||(n=new RegExp("(^|"+_o+")"+e+"("+_o+"|$)"))&&CT(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Fb&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=Ka.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var c=e.slice(0,3)!=="nth",m=e.slice(-4)!=="last",b=n==="of-type";return i===1&&l===0?function(w){return!!w.parentNode}:function(w,M,W){var K,ee,de,pe,be,we,Fe=c!==m?"nextSibling":"previousSibling",De=w.parentNode,vt=b&&w.nodeName.toLowerCase(),ot=!W&&!b;if(De){if(c){for(;Fe;){for(de=w;de=de[Fe];)if(b?de.nodeName.toLowerCase()===vt:de.nodeType===1)return!1;we=Fe=e==="only"&&!we&&"nextSibling"}return!0}if(we=[m?De.firstChild:De.lastChild],m&&ot){for(ee=De[lu]||(De[lu]={}),K=ee[e]||[],be=K[0]===_c&&K[1],pe=K[0]===_c&&K[2],de=be&&De.childNodes[be];de=++be&&de&&de[Fe]||(pe=be=0)||we.pop();)if(de.nodeType===1&&++pe&&de===w){ee[e]=[_c,be,pe];break}}else if(ot&&(K=(w[lu]||(w[lu]={}))[e])&&K[0]===_c)pe=K[1];else for(;(de=++be&&de&&de[Fe]||(pe=be=0)||we.pop())&&!((b?de.nodeName.toLowerCase()===vt:de.nodeType===1)&&++pe&&(ot&&((de[lu]||(de[lu]={}))[e]=[_c,pe]),de===w)););return pe-=l,pe===i||pe%i===0&&pe/i>=0}}},PSEUDO:function(e,n){var a,i=qr.pseudos[e]||qr.setFilters[e.toLowerCase()]||Ka.error("unsupported pseudo: "+e);return i[lu]?i(n):i.length>1?(a=[e,e,"",n],qr.setFilters.hasOwnProperty(e.toLowerCase())?Gs(function(l,c){for(var m,b=i(l,n),w=b.length;w--;)m=av.call(l,b[w]),l[m]=!(c[m]=b[w])}):function(l){return i(l,0,a)}):i}},pseudos:{not:Gs(function(e){var n=[],a=[],i=zw(e.replace(Ib,"$1"));return i[lu]?Gs(function(l,c,m,b){for(var w,M=i(l,null,b,[]),W=l.length;W--;)(w=M[W])&&(l[W]=!(c[W]=w))}):function(l,c,m){return n[0]=l,i(n,null,m,a),n[0]=null,!a.pop()}}),has:Gs(function(e){return function(n){return Ka(e,n).length>0}}),contains:Gs(function(e){return e=e.replace(ov,iv),function(n){return(n.textContent||n.innerText||Gl(n)).indexOf(e)>-1}}),lang:Gs(function(e){return rM.test(e||"")||Ka.error("unsupported lang: "+e),e=e.replace(ov,iv).toLowerCase(),function(n){var a;do if(a=Dc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Qf},focus:function(e){return e===Xl.activeElement&&(!Xl.hasFocus||Xl.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!qr.pseudos.empty(e)},header:function(e){return oM.test(e.nodeName)},input:function(e){return aM.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:ad(function(){return[0]}),last:ad(function(e,n){return[n-1]}),eq:ad(function(e,n,a){return[a<0?a+n:a]}),even:ad(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:ad(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:ad(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:ad(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},qr.pseudos.nth=qr.pseudos.eq,ut(["radio","checkbox","file","password","image"],function(e){qr.pseudos[e]=Ys(e)}),ut(["submit","reset"],function(e){qr.pseudos[e]=rd(e)});function TT(){}TT.prototype=qr.filters=qr.pseudos,qr.setFilters=new TT,Yl=Ka.tokenize=function(e,n){var a,i,l,c,m,b,w,M=Bb[e+" "];if(M)return n?0:M.slice(0);for(m=e,b=[],w=qr.preFilter;m;){(!a||(i=tM.exec(m)))&&(i&&(m=m.slice(i[0].length)||m),b.push(l=[])),a=!1,(i=xT.exec(m))&&(a=i.shift(),l.push({value:a,type:i[0].replace(Ib," ")}),m=m.slice(a.length));for(c in qr.filter)qr.filter.hasOwnProperty(c)&&(i=Nb[c].exec(m))&&(!w[c]||(i=w[c](i)))&&(a=i.shift(),l.push({value:a,type:c,matches:i}),m=m.slice(a.length));if(!a)break}return n?m.length:m?Ka.error(e):Bb(e,b).slice(0)};function Lb(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Yw(e,n,a){var i=n.dir,l=a&&i==="parentNode",c=wT++;return n.first?function(m,b,w){for(;m=m[i];)if(m.nodeType===1||l)return e(m,b,w)}:function(m,b,w){var M,W,K=[_c,c];if(w){for(;m=m[i];)if((m.nodeType===1||l)&&e(m,b,w))return!0}else for(;m=m[i];)if(m.nodeType===1||l){if(W=m[lu]||(m[lu]={}),(M=W[i])&&M[0]===_c&&M[1]===c)return K[2]=M[2];if(W[i]=K,K[2]=e(m,b,w))return!0}}}function Ap(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function uM(e,n,a){for(var i=0,l=n.length;i<l;i++)Ka(e,n[i],a);return a}function zb(e,n,a,i,l){for(var c,m=[],b=0,w=e.length,M=n!=null;b<w;b++)(c=e[b])&&(!a||a(c,i,l))&&(m.push(c),M&&n.push(b));return m}function zm(e,n,a,i,l,c){return i&&!i[lu]&&(i=zm(i)),l&&!l[lu]&&(l=zm(l,c)),Gs(function(m,b,w,M){var W,K,ee,de=[],pe=[],be=b.length,we=m||uM(n||"*",w.nodeType?[w]:w,[]),Fe=e&&(m||!n)?zb(we,de,e,w,M):we,De=a?l||(m?e:be||i)?[]:b:Fe;if(a&&a(Fe,De,w,M),i)for(W=zb(De,pe),i(W,[],w,M),K=W.length;K--;)(ee=W[K])&&(De[pe[K]]=!(Fe[pe[K]]=ee));if(m){if(l||e){if(l){for(W=[],K=De.length;K--;)(ee=De[K])&&W.push(Fe[K]=ee);l(null,De=[],W,M)}for(K=De.length;K--;)(ee=De[K])&&(W=l?av.call(m,ee):de[K])>-1&&(m[W]=!(b[W]=ee))}}else De=zb(De===b?De.splice(be,De.length):De),l?l(null,b,De,M):rv.apply(b,De)})}function Xw(e){for(var n,a,i,l=e.length,c=qr.relative[e[0].type],m=c||qr.relative[" "],b=c?1:0,w=Yw(function(K){return K===n},m,!0),M=Yw(function(K){return av.call(n,K)>-1},m,!0),W=[function(K,ee,de){var pe=!c&&(de||ee!==Xf)||((n=ee).nodeType?w(K,ee,de):M(K,ee,de));return n=null,pe}];b<l;b++)if(a=qr.relative[e[b].type])W=[Yw(Ap(W),a)];else{if(a=qr.filter[e[b].type].apply(null,e[b].matches),a[lu]){for(i=++b;i<l&&!qr.relative[e[i].type];i++);return zm(b>1&&Ap(W),b>1&&Lb(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(Ib,"$1"),a,b<i&&Xw(e.slice(b,i)),i<l&&Xw(e=e.slice(i)),i<l&&Lb(e))}W.push(a)}return Ap(W)}function lM(e,n){var a=n.length>0,i=e.length>0,l=function(c,m,b,w,M){var W,K,ee,de=0,pe="0",be=c&&[],we=[],Fe=Xf,De=c||i&&qr.find.TAG("*",M),vt=_c+=Fe==null?1:Math.random()||.1,ot=De.length;for(M&&(Xf=m!==Xl&&m);pe!==ot&&(W=De[pe])!=null;pe++){if(i&&W){for(K=0;ee=e[K++];)if(ee(W,m,b)){w.push(W);break}M&&(_c=vt)}a&&((W=!ee&&W)&&de--,c&&be.push(W))}if(de+=pe,a&&pe!==de){for(K=0;ee=n[K++];)ee(be,we,m,b);if(c){if(de>0)for(;pe--;)be[pe]||we[pe]||(we[pe]=Hw.call(w));we=zb(we)}rv.apply(w,we),M&&!c&&we.length>0&&de+n.length>1&&Ka.uniqueSort(w)}return M&&(_c=vt,Xf=Fe),be};return a?Gs(l):l}zw=Ka.compile=function(e,n){var a,i=[],l=[],c=Lm[e+" "];if(!c){for(n||(n=Yl(e)),a=n.length;a--;)c=Xw(n[a]),c[lu]?i.push(c):l.push(c);c=Lm(e,lM(l,i)),c.selector=e}return c},Rb=Ka.select=function(e,n,a,i){var l,c,m,b,w,M=typeof e=="function"&&e,W=!i&&Yl(e=M.selector||e);if(a=a||[],W.length===1){if(c=W[0]=W[0].slice(0),c.length>2&&(m=c[0]).type==="ID"&&jo.getById&&n.nodeType===9&&Dc&&qr.relative[c[1].type]){if(n=(qr.find.ID(m.matches[0].replace(ov,iv),n)||[])[0],n)M&&(n=n.parentNode);else return a;e=e.slice(c.shift().value.length)}for(l=Nb.needsContext.test(e)?0:c.length;l--&&(m=c[l],!qr.relative[b=m.type]);)if((w=qr.find[b])&&(i=w(m.matches[0].replace(ov,iv),qw.test(c[0].type)&&Gw(n.parentNode)||n))){if(c.splice(l,1),e=i.length&&Lb(c),!e)return rv.apply(a,i),a;break}}return(M||zw(e,W))(i,n,!Dc,a,qw.test(e)&&Gw(n.parentNode)||n),a},jo.sortStable=lu.split("").sort(tv).join("")===lu,jo.detectDuplicates=!!Im,Jf(),jo.sortDetached=!0;var ET=document,oi=Array.prototype.push,sM=Array.prototype.slice,Zo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ku=Fm.Event,od=Ht.makeMap("children,contents,next,prev"),Al=function(e){return typeof e<"u"},Zw=function(e){return typeof e=="string"},uv=function(e){return e&&e===e.window},Hm=function(e,n){n=n||ET;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Vm=function(e,n,a,i){var l;if(Zw(n))n=Hm(n,Hb(e[0]));else if(n.length&&!n.nodeType){if(n=Kr.makeArray(n),i)for(l=n.length-1;l>=0;l--)Vm(e,n[l],a,i);else for(l=0;l<n.length;l++)Vm(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},OT=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},AT=function(e,n,a){var i,l;return n=Kr(n)[0],e.each(function(){var c=this;(!a||i!==c.parentNode)&&(i=c.parentNode,l=n.cloneNode(!1),c.parentNode.insertBefore(l,c)),l.appendChild(c)}),e},cM=Ht.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),fM=Ht.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),vM={for:"htmlFor",class:"className",readonly:"readOnly"},dM={float:"cssFloat"},Jw={},Qw={},ji=function(e,n){return new Kr.fn.init(e,n)},eC=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},mM=/^\s*|\s*$/g,$T=function(e){return e==null?"":(""+e).replace(mM,"")},qo=function(e,n){var a,i,l,c;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(c=e[i],n.call(c,i,c)===!1))break}else for(l=0;l<a&&(c=e[l],n.call(c,l,c)!==!1);l++);return e},$l=function(e,n){var a=[];return qo(e,function(i,l){n(l,i)&&a.push(l)}),a},Hb=function(e){return e?e.nodeType===9?e:e.ownerDocument:ET};ji.fn=ji.prototype={constructor:ji,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Kr(e).attr(n);a.context=n=document}if(Zw(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Zo.exec(e),i)if(i[1])for(l=Hm(e,Hb(n)).firstChild;l;)oi.call(a,l),l=l.nextSibling;else{if(l=Hb(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return Kr(n).find(e);else this.add(e,!1);return a},toArray:function(){return Ht.toArray(this)},add:function(e,n){var a=this,i,l;if(Zw(e))return a.add(Kr(e));if(n!==!1)for(i=Kr.unique(a.toArray().concat(Kr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else oi.apply(a,Kr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")qo(e,function(l,c){a.attr(l,c)});else if(Al(n))this.each(function(){var l;if(this.nodeType===1){if(l=Jw[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Jw[e],i&&i.get)return i.get(a[0],e);if(fM[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=vM[e]||e,typeof e=="object")qo(e,function(i,l){a.prop(i,l)});else if(Al(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,c=function(b){return b.replace(/-(\D)/g,function(w,M){return M.toUpperCase()})},m=function(b){return b.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof e=="object")qo(e,function(b,w){a.css(b,w)});else if(Al(n))e=c(e),typeof n=="number"&&!cM[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(l=Qw[e],l&&l.set){l.set(this,n);return}try{this.style[dM[e]||e]=n}catch{}(n===null||n==="")&&(b.removeProperty?b.removeProperty(m(e)):b.removeAttribute(e))});else{if(i=a[0],l=Qw[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(m(e))}catch{return}else return i.currentStyle?i.currentStyle[c(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],ku.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Al(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{Kr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Al(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Vm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Vm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Vm(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Vm(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Kr(e).append(this),this},prependTo:function(e){return Kr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return AT(this,e)},wrapAll:function(e){return AT(this,e,!0)},wrapInner:function(e){return this.each(function(){Kr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Kr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Kr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?qo(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var c=OT(l,e);if(c!==n){var m=l.className;c?l.className=$T((" "+m+" ").replace(" "+e+" "," ")):l.className+=m?" "+e:e}})),a},hasClass:function(e){return OT(this[0],e)},each:function(e){return qo(this,e)},on:function(e,n){return this.each(function(){ku.bind(this,e,n)})},off:function(e,n){return this.each(function(){ku.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?ku.fire(this,e.type,e):ku.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Kr(sM.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Kr.find(e,this[n],i);return Kr(i)},filter:function(e){return Kr(typeof e=="function"?$l(this.toArray(),function(n,a){return e(a,n)}):Kr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Kr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Kr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Kr(n)},offset:function(e){var n,a,i,l=0,c=0,m;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(m=n.getBoundingClientRect(),l=m.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,c=m.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:c})},push:oi,sort:Array.prototype.sort,splice:Array.prototype.splice},Ht.extend(ji,{extend:Ht.extend,makeArray:function(e){return uv(e)||e.nodeType?[e]:Ht.toArray(e)},inArray:eC,isArray:Ht.isArray,each:qo,trim:$T,grep:$l,find:Ka,expr:Ka.selectors,unique:Ka.uniqueSort,text:Ka.getText,contains:Ka.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Kr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Kr.find.matches(e,n),n}});var tC=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof Kr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&Kr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Vb=function(e,n,a,i){var l=[];for(i instanceof Kr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Kr(e).is(i)))break;l.push(e)}return l},DT=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};qo({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return tC(e,"parentNode")},next:function(e){return DT(e,"nextSibling",1)},prev:function(e){return DT(e,"previousSibling",1)},children:function(e){return Vb(e.firstChild,"nextSibling",1)},contents:function(e){return Ht.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){ji.fn[e]=function(a){var i=this,l=[];i.each(function(){var m=n.call(l,this,a,l);m&&(Kr.isArray(m)?l.push.apply(l,m):l.push(m))}),this.length>1&&(od[e]||(l=Kr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var c=Kr(l);return a?c.filter(a):c}}),qo({parentsUntil:function(e,n){return tC(e,"parentNode",n)},nextUntil:function(e,n){return Vb(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Vb(e,"previousSibling",1,n).slice(1)}},function(e,n){ji.fn[e]=function(a,i){var l=this,c=[];l.each(function(){var b=n.call(c,this,a,c);b&&(Kr.isArray(b)?c.push.apply(c,b):c.push(b))}),this.length>1&&(c=Kr.unique(c),(e.indexOf("parents")===0||e==="prevUntil")&&(c=c.reverse()));var m=Kr(c);return i?m.filter(i):m}}),ji.fn.is=function(e){return!!e&&this.filter(e).length>0},ji.fn.init.prototype=ji.fn,ji.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return Kr.extend(a,this),a},ji.attrHooks=Jw,ji.cssHooks=Qw;var Kr=ji,Um=Ht.each,Ub=Ht.grep,nC=dr.ie,ii=/^([a-z0-9],?)+$/i,Xs=function(e,n,a){var i=n.keep_values,l={set:function(m,b,w){n.url_converter&&b!==null&&(b=n.url_converter.call(n.url_converter_scope||a(),b,w,m[0])),m.attr("data-mce-"+w,b).attr(w,b)},get:function(m,b){return m.attr("data-mce-"+b)||m.attr(b)}},c={style:{set:function(m,b){if(b!==null&&typeof b=="object"){m.css(b);return}i&&m.attr("data-mce-style",b),b!==null&&typeof b=="string"?(m.removeAttr("style"),m.css(e.parse(b))):m.attr("style",b)},get:function(m){var b=m.attr("data-mce-style")||m.attr("style");return b=e.serialize(e.parse(b),m[0].nodeName),b}}};return i&&(c.href=c.src=l),c},_T=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},id=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},lo=function(e,n){n===void 0&&(n={});var a={},i=window,l={},c=0,m=!0,b=!0,w=Vs.forElement(V.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),M=[],W=n.schema?n.schema:Ol({}),K=Ep({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ee=n.ownEvents?new Fm:Fm.Event,de=W.getBlockElements(),pe=Kr.overrideDefaults(function(){return{context:e,element:_f.getRoot()}}),be=function(Ke){if(typeof Ke=="string")return!!de[Ke];if(Ke){var Pt=Ke.nodeType;if(Pt)return!!(Pt===1&&de[Ke.nodeName])}return!1},we=function(Ke){return Ke&&e&&U(Ke)?e.getElementById(Ke):Ke},Fe=function(Ke){return pe(typeof Ke=="string"?we(Ke):Ke)},De=function(Ke,Pt,yn){var Dn,Gr,ma=Fe(Ke);return ma.length&&(Dn=Ok[Pt],Dn&&Dn.get?Gr=Dn.get(ma,Pt):Gr=ma.attr(Pt)),typeof Gr>"u"&&(Gr=yn||""),Gr},vt=function(Ke){var Pt=we(Ke);return Pt?Pt.attributes:[]},ot=function(Ke,Pt,yn){yn===""&&(yn=null);var Dn=Fe(Ke),Gr=Dn.attr(Pt);if(Dn.length){var ma=Ok[Pt];ma&&ma.set?ma.set(Dn,yn,Pt):Dn.attr(Pt,yn),Gr!==yn&&n.onSetAttrib&&n.onSetAttrib({attrElm:Dn,attrName:Pt,attrValue:yn})}},Ue=function(Ke,Pt){if(!nC||Ke.nodeType!==1||Pt)return Ke.cloneNode(Pt);var yn=e.createElement(Ke.nodeName);return Um(vt(Ke),function(Dn){ot(yn,Dn.nodeName,De(Ke,Dn.nodeName))}),yn},ht=function(){return n.root_element||e.body},Kt=function(Ke){var Pt=Xv(Ke);return{x:Pt.x,y:Pt.y,w:Pt.width,h:Pt.height}},vn=function(Ke,Pt){return pw(e.body,we(Ke),Pt)},br=function(Ke,Pt,yn){var Dn=U(Pt)?Fe(Ke).css(Pt,yn):Fe(Ke).css(Pt);n.update_styles&&_T(K,Dn)},Hn=function(Ke,Pt){var yn=Fe(Ke).css(Pt);n.update_styles&&_T(K,yn)},en=function(Ke,Pt,yn){var Dn=Fe(Ke);return yn?Dn.css(Pt):(Pt=Pt.replace(/-(\D)/g,function(Gr,ma){return ma.toUpperCase()}),Pt==="float"&&(Pt=dr.browser.isIE()?"styleFloat":"cssFloat"),Dn[0]&&Dn[0].style?Dn[0].style[Pt]:void 0)},pr=function(Ke){var Pt,yn;return Ke=we(Ke),Pt=en(Ke,"width"),yn=en(Ke,"height"),Pt.indexOf("px")===-1&&(Pt=0),yn.indexOf("px")===-1&&(yn=0),{w:parseInt(Pt,10)||Ke.offsetWidth||Ke.clientWidth,h:parseInt(yn,10)||Ke.offsetHeight||Ke.clientHeight}},pn=function(Ke){Ke=we(Ke);var Pt=vn(Ke),yn=pr(Ke);return{x:Pt.x,y:Pt.y,w:yn.w,h:yn.h}},Nn=function(Ke,Pt){var yn;if(!Ke)return!1;if(!Array.isArray(Ke)){if(Pt==="*")return Ke.nodeType===1;if(ii.test(Pt)){var Dn=Pt.toLowerCase().split(/,/),Gr=Ke.nodeName.toLowerCase();for(yn=Dn.length-1;yn>=0;yn--)if(Dn[yn]===Gr)return!0;return!1}if(Ke.nodeType&&Ke.nodeType!==1)return!1}var ma=Array.isArray(Ke)?Ke:[Ke];return Ka(Pt,ma[0].ownerDocument||ma[0],null,ma).length>0},Sn=function(Ke,Pt,yn,Dn){var Gr=[],ma,mo=we(Ke);for(Dn=Dn===void 0,yn=yn||(ht().nodeName!=="BODY"?ht().parentNode:null),Ht.is(Pt,"string")&&(ma=Pt,Pt==="*"?Pt=function(Nv){return Nv.nodeType===1}:Pt=function(Nv){return Nn(Nv,ma)});mo&&!(mo===yn||me(mo.nodeType)||fp(mo)||Xr(mo));){if(!Pt||typeof Pt=="function"&&Pt(mo))if(Dn)Gr.push(mo);else return[mo];mo=mo.parentNode}return Dn?Gr:null},An=function(Ke,Pt,yn){var Dn=Sn(Ke,Pt,yn,!1);return Dn&&Dn.length>0?Dn[0]:null},Gn=function(Ke,Pt,yn){var Dn=Pt;if(Ke){for(typeof Pt=="string"&&(Dn=function(Gr){return Nn(Gr,Pt)}),Ke=Ke[yn];Ke;Ke=Ke[yn])if(typeof Dn=="function"&&Dn(Ke))return Ke}return null},on=function(Ke,Pt){return Gn(Ke,Pt,"nextSibling")},Vn=function(Ke,Pt){return Gn(Ke,Pt,"previousSibling")},ta=function(Ke,Pt){return Ka(Ke,we(Pt)||n.root_element||e,[])},Sa=function(Ke,Pt,yn){var Dn,Gr=typeof Ke=="string"?we(Ke):Ke;if(!Gr)return!1;if(Ht.isArray(Gr)&&(Gr.length||Gr.length===0))return Dn=[],Um(Gr,function(mo,Nv){mo&&Dn.push(Pt.call(yn,typeof mo=="string"?we(mo):mo,Nv))}),Dn;var ma=yn||this;return Pt.call(ma,Gr)},ba=function(Ke,Pt){Fe(Ke).each(function(yn,Dn){Um(Pt,function(Gr,ma){ot(Dn,ma,Gr)})})},wi=function(Ke,Pt){var yn=Fe(Ke);nC?yn.each(function(Dn,Gr){if(Gr.canHaveHTML!==!1){for(;Gr.firstChild;)Gr.removeChild(Gr.firstChild);try{Gr.innerHTML="<br>"+Pt,Gr.removeChild(Gr.firstChild)}catch{Kr("<div></div>").html("<br>"+Pt).contents().slice(1).appendTo(Gr)}return Pt}}):yn.html(Pt)},bo=function(Ke,Pt,yn,Dn,Gr){return Sa(Ke,function(ma){var mo=typeof Pt=="string"?e.createElement(Pt):Pt;return ba(mo,yn),Dn&&(typeof Dn!="string"&&Dn.nodeType?mo.appendChild(Dn):typeof Dn=="string"&&wi(mo,Dn)),Gr?mo:ma.appendChild(mo)})},cu=function(Ke,Pt,yn){return bo(e.createElement(Ke),Ke,Pt,yn,!0)},Ru=js.decode,un=js.encodeAllRaw,kn=function(Ke,Pt,yn){var Dn="",Gr;Dn+="<"+Ke;for(Gr in Pt)_a(Pt,Gr)&&(Dn+=" "+Gr+'="'+un(Pt[Gr])+'"');return typeof yn<"u"?Dn+">"+yn+"</"+Ke+">":Dn+" />"},ir=function(Ke){var Pt,yn=e.createElement("div"),Dn=e.createDocumentFragment();for(Dn.appendChild(yn),Ke&&(yn.innerHTML=Ke);Pt=yn.firstChild;)Dn.appendChild(Pt);return Dn.removeChild(yn),Dn},xt=function(Ke,Pt){var yn=Fe(Ke);return Pt?yn.each(function(){for(var Dn;Dn=this.firstChild;)Dn.nodeType===3&&Dn.data.length===0?this.removeChild(Dn):this.parentNode.insertBefore(Dn,this)}).remove():yn.remove(),yn.length>1?yn.toArray():yn[0]},gn=function(Ke){return Sa(Ke,function(Pt){var yn,Dn=Pt.attributes;for(yn=Dn.length-1;yn>=0;yn--)Pt.removeAttributeNode(Dn.item(yn))})},sn=function(Ke){return K.parse(Ke)},cr=function(Ke,Pt){return K.serialize(Ke,Pt)},gr=function(Ke){var Pt,yn;if(_f!==lo.DOM&&e===document){if(a[Ke])return;a[Ke]=!0}yn=e.getElementById("mceDefaultStyles"),yn||(yn=e.createElement("style"),yn.id="mceDefaultStyles",yn.type="text/css",Pt=e.getElementsByTagName("head")[0],Pt.firstChild?Pt.insertBefore(yn,Pt.firstChild):Pt.appendChild(yn)),yn.styleSheet?yn.styleSheet.cssText+=Ke:yn.appendChild(e.createTextNode(Ke))},Ia=function(Ke){Ke||(Ke=""),ut(Ke.split(","),function(Pt){l[Pt]=!0,w.load(Pt,Ce)})},ei=function(Ke,Pt,yn){Fe(Ke).toggleClass(Pt,yn).each(function(){this.className===""&&Kr(this).attr("class",null)})},Go=function(Ke,Pt){Fe(Ke).addClass(Pt)},Df=function(Ke,Pt){ei(Ke,Pt,!1)},fu=function(Ke,Pt){return Fe(Ke).hasClass(Pt)},Ji=function(Ke){Fe(Ke).show()},ci=function(Ke){Fe(Ke).hide()},Fl=function(Ke){return Fe(Ke).css("display")==="none"},vu=function(Ke){return(Ke||"mce_")+c++},$s=function(Ke){var Pt=typeof Ke=="string"?we(Ke):Ke;return Mr(Pt)?Pt.outerHTML:Kr("<div></div>").append(Kr(Pt).clone()).html()},Wa=function(Ke,Pt){Fe(Ke).each(function(){try{if("outerHTML"in this){this.outerHTML=Pt;return}}catch{}xt(Kr(this).html(Pt),!0)})},ao=function(Ke,Pt){var yn=we(Pt);return Sa(Ke,function(Dn){var Gr=yn.parentNode,ma=yn.nextSibling;return ma?Gr.insertBefore(Dn,ma):Gr.appendChild(Dn),Dn})},fi=function(Ke,Pt,yn){return Sa(Pt,function(Dn){return Ht.is(Dn,"array")&&(Ke=Ke.cloneNode(!0)),yn&&Um(Ub(Dn.childNodes),function(Gr){Ke.appendChild(Gr)}),Dn.parentNode.replaceChild(Ke,Dn)})},Bu=function(Ke,Pt){var yn;return Ke.nodeName!==Pt.toUpperCase()&&(yn=cu(Pt),Um(vt(Ke),function(Dn){ot(yn,Dn.nodeName,De(Ke,Dn.nodeName))}),fi(yn,Ke,!0)),yn||Ke},gc=function(Ke,Pt){for(var yn=Ke,Dn;yn;){for(Dn=Pt;Dn&&yn!==Dn;)Dn=Dn.parentNode;if(yn===Dn)break;yn=yn.parentNode}return!yn&&Ke.ownerDocument?Ke.ownerDocument.documentElement:yn},pc=function(Ke){return K.toHex(Ht.trim(Ke))},Iv=function(Ke){if(Mr(Ke)){var Pt=Ke.nodeName.toLowerCase()==="a"&&!De(Ke,"href")&&De(Ke,"id");if(De(Ke,"name")||De(Ke,"data-mce-bookmark")||Pt)return!0}return!1},Vg=function(Ke,Pt){var yn,Dn,Gr=0;if(Iv(Ke))return!1;if(Ke=Ke.firstChild,Ke){var ma=new qa(Ke,Ke.parentNode),mo=W?W.getWhiteSpaceElements():{};Pt=Pt||(W?W.getNonEmptyElements():null);do{if(yn=Ke.nodeType,Mr(Ke)){var Nv=Ke.getAttribute("data-mce-bogus");if(Nv){Ke=ma.next(Nv==="all");continue}if(Dn=Ke.nodeName.toLowerCase(),Pt&&Pt[Dn]){if(Dn==="br"){Gr++,Ke=ma.next();continue}return!1}if(Iv(Ke))return!1}if(yn===8||yn===3&&!Ws(Ke.nodeValue)||yn===3&&Ke.parentNode&&mo[Ke.parentNode.nodeName]&&Ws(Ke.nodeValue))return!1;Ke=ma.next()}while(Ke)}return Gr<=1},Iy=function(){return e.createRange()},g_=function(Ke,Pt,yn){var Dn=Iy(),Gr,ma,mo;if(Ke&&Pt)return Dn.setStart(Ke.parentNode,id(Ke)),Dn.setEnd(Pt.parentNode,id(Pt)),Gr=Dn.extractContents(),Dn=Iy(),Dn.setStart(Pt.parentNode,id(Pt)+1),Dn.setEnd(Ke.parentNode,id(Ke)+1),ma=Dn.extractContents(),mo=Ke.parentNode,mo.insertBefore(_w(_f,Gr),Ke),yn?mo.insertBefore(yn,Ke):mo.insertBefore(Pt,Ke),mo.insertBefore(_w(_f,ma),Ke),xt(Ke),yn||Pt},p_=function(Ke,Pt,yn,Dn){if(Ht.isArray(Ke)){for(var Gr=Ke.length,ma=[];Gr--;)ma[Gr]=p_(Ke[Gr],Pt,yn,Dn);return ma}n.collect&&(Ke===e||Ke===i)&&M.push([Ke,Pt,yn,Dn]);var mo=ee.bind(Ke,Pt,yn,Dn||_f);return mo},Tk=function(Ke,Pt,yn){if(Ht.isArray(Ke)){for(var Dn=Ke.length,Gr=[];Dn--;)Gr[Dn]=Tk(Ke[Dn],Pt,yn);return Gr}else{if(M.length>0&&(Ke===e||Ke===i))for(var Dn=M.length;Dn--;){var ma=M[Dn];Ke===ma[0]&&(!Pt||Pt===ma[1])&&(!yn||yn===ma[2])&&ee.unbind(ma[0],ma[1],ma[2])}return ee.unbind(Ke,Pt,yn)}},xz=function(Ke,Pt,yn){return ee.fire(Ke,Pt,yn)},h_=function(Ke){if(Ke&&Mr(Ke)){var Pt=Ke.getAttribute("data-mce-contenteditable");return Pt&&Pt!=="inherit"?Pt:Ke.contentEditable!=="inherit"?Ke.contentEditable:null}else return null},kz=function(Ke){for(var Pt=ht(),yn=null;Ke&&Ke!==Pt&&(yn=h_(Ke),yn===null);Ke=Ke.parentNode);return yn},b_=function(){if(M.length>0)for(var Ke=M.length;Ke--;){var Pt=M[Ke];ee.unbind(Pt[0],Pt[1],Pt[2])}wn(l,function(yn,Dn){w.unload(Dn),delete l[Dn]}),Ka.setDocument&&Ka.setDocument()},Ek=function(Ke,Pt){if(nC){for(;Ke;){if(Pt===Ke)return!0;Ke=Ke.parentNode}return!1}else return Ke===Pt||Pt.contains(Ke)},Tz=function(Ke){return"startContainer: "+Ke.startContainer.nodeName+", startOffset: "+Ke.startOffset+", endContainer: "+Ke.endContainer.nodeName+", endOffset: "+Ke.endOffset},_f={doc:e,settings:n,win:i,files:l,stdMode:m,boxModel:b,styleSheetLoader:w,boundEvents:M,styles:K,schema:W,events:ee,isBlock:be,$:pe,$$:Fe,root:null,clone:Ue,getRoot:ht,getViewPort:Kt,getRect:pn,getSize:pr,getParent:An,getParents:Sn,get:we,getNext:on,getPrev:Vn,select:ta,is:Nn,add:bo,create:cu,createHTML:kn,createFragment:ir,remove:xt,setStyle:br,getStyle:en,setStyles:Hn,removeAllAttribs:gn,setAttrib:ot,setAttribs:ba,getAttrib:De,getPos:vn,parseStyle:sn,serializeStyle:cr,addStyle:gr,loadCSS:Ia,addClass:Go,removeClass:Df,hasClass:fu,toggleClass:ei,show:Ji,hide:ci,isHidden:Fl,uniqueId:vu,setHTML:wi,getOuterHTML:$s,setOuterHTML:Wa,decode:Ru,encode:un,insertAfter:ao,replace:fi,rename:Bu,findCommonAncestor:gc,toHex:pc,run:Sa,getAttribs:vt,isEmpty:Vg,createRng:Iy,nodeIndex:id,split:g_,bind:p_,unbind:Tk,fire:xz,getContentEditable:h_,getContentEditableParent:kz,destroy:b_,isChildOf:Ek,dumpRng:Tz},Ok=Xs(K,n,G(_f));return _f};lo.DOM=lo(document),lo.nodeIndex=id;var ud=lo.DOM,Wb=Ht.each,Wm=Ht.grep,rC=0,PT=1,jb=2,MT=3,hf=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=ud,c,m=function(){l.remove(M),c&&(c.onerror=c.onload=c=null)},b=function(){m(),a()},w=function(){m(),fe(i)&&i()},M=l.uniqueId();c=document.createElement("script"),c.id=M,c.type="text/javascript",c.src=Ht._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=b,c.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)},e.prototype.isDone=function(n){return this.states[n]===jb},e.prototype.markDone=function(n){this.states[n]=jb},e.prototype.add=function(n,a,i,l){var c=this.states[n];this.queue.push(n),c===void 0&&(this.states[n]=rC),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var c=this,m=[],b=function(M,W){Wb(c.scriptLoadedCallbacks[W],function(K){fe(K[M])&&K[M].call(K.scope)}),c.scriptLoadedCallbacks[W]=void 0};c.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var w=function(){var M=Wm(n);if(n.length=0,Wb(M,function(K){if(c.states[K]===jb){b("success",K);return}if(c.states[K]===MT){b("failure",K);return}c.states[K]!==PT&&(c.states[K]=PT,c.loading++,c.loadScript(K,function(){c.states[K]=jb,c.loading--,b("success",K),w()},function(){c.states[K]=MT,c.loading--,m.push(K),b("failure",K),w()}))}),!c.loading){var W=c.queueLoadedCallbacks.slice(0);c.queueLoadedCallbacks.length=0,Wb(W,function(K){m.length===0?fe(K.success)&&K.success.call(K.scope):fe(K.failure)&&K.failure.call(K.scope,m)})}};w()},e.ScriptLoader=new e,e}(),Tu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},aC=function(e){return te(e)&&Ar(e,"raw")},gM=function(e){return Z(e)&&e.length>1},jm={},$p=Tu("en"),RT=function(){return _r(jm,$p.get())},pM=function(){return jn(jm,function(e){return Yn({},e)})},hM=function(e){e&&$p.set(e)},qb=function(){return $p.get()},ld=function(e,n){var a=jm[e];a||(jm[e]=a={}),wn(n,function(i,l){a[l.toLowerCase()]=i})},Kb=function(e){var n=RT().getOr({}),a=function(w){return fe(w)?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||w===void 0},l=function(w){var M=a(w);return _r(n,M.toLowerCase()).map(a).getOr(M)},c=function(w){return w.replace(/{context:\w+}$/,"")};if(i(e))return"";if(aC(e))return a(e.raw);if(gM(e)){var m=e.slice(1),b=l(e[0]).replace(/\{([0-9]+)\}/g,function(w,M){return Ar(m,M)?a(m[M]):w});return c(b)}return c(l(e))},xa=function(){return RT().bind(function(e){return _r(e,"_dir")}).exists(function(e){return e==="rtl"})},ol=function(e){return Ar(jm,e)},Eu={getData:pM,setCode:hM,getCode:qb,add:ld,translate:Kb,isRtl:xa,hasCode:ol},Uu=function(){var e=[],n={},a={},i=[],l=function(be,we){var Fe=Re(i,function(De){return De.name===be&&De.state===we});ut(Fe,function(De){return De.callback()})},c=function(be){if(a[be])return a[be].instance},m=function(be){var we;return a[be]&&(we=a[be].dependencies),we||[]},b=function(be,we){Uu.languageLoad!==!1&&pe(be,function(){var Fe=Eu.getCode(),De=","+(we||"")+",";!Fe||we&&De.indexOf(","+Fe+",")===-1||hf.ScriptLoader.add(n[be]+"/langs/"+Fe+".js")},"loaded")},w=function(be,we,Fe){var De=we;return e.push(De),a[be]={instance:De,dependencies:Fe},l(be,"added"),De},M=function(be){delete n[be],delete a[be]},W=function(be,we){return typeof we=="object"?we:typeof be=="string"?{prefix:"",resource:we,suffix:""}:{prefix:be.prefix,resource:we,suffix:be.suffix}},K=function(be,we){var Fe=n[be];ut(we,function(De){hf.ScriptLoader.add(Fe+"/"+De)})},ee=function(be,we,Fe,De){var vt=m(be);ut(vt,function(ot){var Ue=W(we,ot);de(Ue.resource,Ue,void 0,void 0)}),Fe&&(De?Fe.call(De):Fe.call(hf))},de=function(be,we,Fe,De,vt){if(!n[be]){var ot=typeof we=="string"?we:we.prefix+we.resource+we.suffix;ot.indexOf("/")!==0&&ot.indexOf("://")===-1&&(ot=Uu.baseURL+"/"+ot),n[be]=ot.substring(0,ot.lastIndexOf("/"));var Ue=function(){l(be,"loaded"),ee(be,we,Fe,De)};a[be]?Ue():hf.ScriptLoader.add(ot,Ue,De,vt)}},pe=function(be,we,Fe){Fe===void 0&&(Fe="added"),Ar(a,be)&&Fe==="added"||Ar(n,be)&&Fe==="loaded"?we():i.push({name:be,state:Fe,callback:we})};return{items:e,urls:n,lookup:a,_listeners:i,get:c,dependencies:m,requireLangPack:b,add:w,remove:M,createUrl:W,addComponents:K,load:de,waitFor:pe}};Uu.languageLoad=!0,Uu.baseURL="",Uu.PluginManager=Uu(),Uu.ThemeManager=Uu();var ro=function(e){var n=Tu(re.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(re.none())},l=function(){return n.get().isSome()},c=function(){return n.get()},m=function(b){a(),n.set(re.some(b))};return{clear:i,isSet:l,get:c,set:m}},sd=function(){var e=ro(Ce),n=function(a){return e.get().each(a)};return Yn(Yn({},e),{on:n})},Gb=function(e,n){var a=null,i=function(){R(a)||(clearTimeout(a),a=null)},l=function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];R(a)&&(a=setTimeout(function(){a=null,e.apply(null,c)},n))};return{cancel:i,throttle:l}},Ei=function(e,n){var a=null,i=function(){R(a)||(clearTimeout(a),a=null)},l=function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];i(),a=setTimeout(function(){a=null,e.apply(null,c)},n)};return{cancel:i,throttle:l}},Pc=function(e,n){var a=ae(e,n);return a===void 0||a===""?[]:a.split(" ")},bM=function(e,n,a){var i=Pc(e,n),l=i.concat([a]);return $(e,n,l.join(" ")),!0},yM=function(e,n,a){var i=Re(Pc(e,n),function(l){return l!==a});return i.length>0?$(e,n,i.join(" ")):zt(e,n),!1},Yb=function(e){return e.dom.classList!==void 0},Xb=function(e){return Pc(e,"class")},oC=function(e,n){return bM(e,"class",n)},iC=function(e,n){return yM(e,"class",n)},qm=function(e,n){Yb(e)?e.dom.classList.add(n):oC(e,n)},BT=function(e){var n=Yb(e)?e.dom.classList:Xb(e);n.length===0&&zt(e,"class")},FT=function(e,n){if(Yb(e)){var a=e.dom.classList;a.remove(n)}else iC(e,n);BT(e)},uC=function(e,n){return Yb(e)&&e.dom.classList.contains(n)},lC=function(e,n){var a=[];return ut(wu(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(lC(i,n))}),a},Mi=function(e,n){return Lr(n,e)},il=G("mce-annotation"),Dp=G("data-mce-annotation"),ui=G("data-mce-annotation-uid"),IT=function(e,n){var a=e.selection.getRng(),i=V.fromDom(a.startContainer),l=V.fromDom(e.getBody()),c=n.fold(function(){return"."+il()},function(M){return"["+Dp()+'="'+M+'"]'}),m=of(i,a.startOffset).getOr(i),b=Wo(m,c,function(M){return Or(M,l)}),w=function(M,W){return lt(M,W)?re.some(ae(M,W)):re.none()};return b.bind(function(M){return w(M,""+ui()).bind(function(W){return w(M,""+Dp()).map(function(K){var ee=NT(e,W);return{uid:W,name:K,elements:ee}})})})},lv=function(e){return po(e)&&uC(e,il())},NT=function(e,n){var a=V.fromDom(e.getBody());return Mi(a,"["+ui()+'="'+n+'"]')},LT=function(e,n){var a=V.fromDom(e.getBody()),i=Mi(a,"["+Dp()+'="'+n+'"]'),l={};return ut(i,function(c){var m=ae(c,ui()),b=_r(l,m).getOr([]);l[m]=b.concat([c])}),l},zT=function(e,n){var a=Tu({}),i=function(){return{listeners:[],previous:sd()}},l=function(W,K){c(W,function(ee){return K(ee),ee})},c=function(W,K){var ee=a.get(),de=_r(ee,W).getOrThunk(i),pe=K(de);ee[W]=pe,a.set(ee)},m=function(W,K,ee){l(W,function(de){ut(de.listeners,function(pe){return pe(!0,W,{uid:K,nodes:gt(ee,function(be){return be.dom})})})})},b=function(W){l(W,function(K){ut(K.listeners,function(ee){return ee(!1,W)})})},w=Ei(function(){var W=a.get(),K=rt(Yt(W));ut(K,function(ee){c(ee,function(de){var pe=de.previous.get();return IT(e,re.some(ee)).fold(function(){pe.isSome()&&(b(ee),de.previous.clear())},function(be){var we=be.uid,Fe=be.name,De=be.elements;Zv(pe,we)||(m(Fe,we,De),de.previous.set(we))}),{previous:de.previous,listeners:de.listeners}})})},30);e.on("remove",function(){w.cancel()}),e.on("NodeChange",function(){w.throttle()});var M=function(W,K){c(W,function(ee){return{previous:ee.previous,listeners:ee.listeners.concat([K])}})};return{addListener:M}},sC=function(e,n){var a=function(i){return re.from(i.attr(Dp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){ut(i,function(l){a(l).each(function(c){c.persistent===!1&&l.unwrap()})})})})},cC=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return _r(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},fC=0,HT=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return fC++,e+"_"+i+fC+String(a)},wM=function(e,n){ut(n,function(a){qm(e,a)})},qi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,wu(V.fromDom(i))},Ki=function(e){return gt(e,V.fromDom)},Wu=function(e){return e.dom.innerHTML},Ou=function(e,n){var a=fm(e),i=a.dom,l=V.fromDom(i.createDocumentFragment()),c=qi(n,i);mm(l,c),lp(e),Di(e,l)},ju=function(e,n){return V.fromDom(e.dom.cloneNode(n))},Jo=function(e){return ju(e,!1)},Zb=function(e){return ju(e,!0)},Jb=function(e,n,a){a===void 0&&(a=Le);var i=new qa(e,n),l=function(c){var m;do m=i[c]();while(m&&!Kn(m)&&!a(m));return re.from(m).filter(Kn)};return{current:function(){return re.from(i.current()).filter(Kn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},vC=function(e,n){var a=n||function(m){return e.isBlock(m)||Ha(m)||vo(m)},i=function(m,b,w,M){if(Kn(m)){var W=M(m,b,m.data);if(W!==-1)return re.some({container:m,offset:W})}return w().bind(function(K){return i(K.container,K.offset,w,M)})},l=function(m,b,w,M){var W=Jb(m,M,a);return i(m,b,function(){return W.prev().map(function(K){return{container:K,offset:K.length}})},w).getOrNull()},c=function(m,b,w,M){var W=Jb(m,M,a);return i(m,b,function(){return W.next().map(function(K){return{container:K,offset:0}})},w).getOrNull()};return{backwards:l,forwards:c}},cd=Math.round,sv=function(e){return e?{left:cd(e.left),top:cd(e.top),bottom:cd(e.bottom),right:cd(e.right),width:cd(e.width),height:cd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},dC=function(e,n){return e=sv(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},mC=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},Qb=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Km=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:Qb(n.top-e.bottom,e,n)},Gm=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:Qb(n.bottom-e.top,e,n)},VT=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},CM=function(e,n,a){return Math.min(Math.max(e,n),a)},e1=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Mc=function(e,n){if(Mr(e)&&e.hasChildNodes()){var a=e.childNodes,i=CM(n,0,a.length-1);return a[i]}else return e},SM=function(e,n){if(!(n<0&&Mr(e)&&e.hasChildNodes()))return Mc(e,n)},xM=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),UT=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&xM.test(e)},kM=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},WT=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},$n=Mr,TM=$c,bi=ym("display","block table"),EM=ym("float","left right"),Ym=WT($n,TM,je(EM)),OM=je(ym("white-space","pre pre-line pre-wrap")),qu=Kn,gC=Ha,jT=lo.nodeIndex,_p=SM,Zs=function(e){return"createRange"in e?e.createRange():lo.DOM.createRng()},pC=function(e){return e&&/[\r\n\t ]/.test(e)},hC=function(e){return!!e.setStart&&!!e.setEnd},Js=function(e){var n=e.startContainer,a=e.startOffset;if(pC(e.toString())&&OM(n.parentNode)&&Kn(n)){var i=n.data;if(pC(i[a-1])||pC(i[a+1]))return!0}return!1},Qs=function(e){var n=e.ownerDocument,a=Zs(n),i=n.createTextNode(nl),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var c=sv(a.getBoundingClientRect());return l.removeChild(i),c},qT=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&Kn(a)&&i===0&&l===1){var c=e.cloneRange();return c.setEndAfter(a),cv(c)}else return null},ps=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},cv=function(e){var n,a=e.getClientRects();return a.length>0?n=sv(a[0]):n=sv(e.getBoundingClientRect()),!hC(e)&&gC(e)&&ps(n)?Qs(e):ps(n)&&hC(e)?qT(e):n},fv=function(e,n){var a=dC(e,n);return a.width=1,a.right=a.left+1,a},bC=function(e){var n=[],a=function(w){w.height!==0&&(n.length>0&&mC(w,n[n.length-1])||n.push(w))},i=function(w,M){var W=Zs(w.ownerDocument);if(M<w.data.length){if(UT(w.data[M]))return n;if(UT(w.data[M-1])&&(W.setStart(w,M),W.setEnd(w,M+1),!Js(W)))return a(fv(cv(W),!1)),n}M>0&&(W.setStart(w,M-1),W.setEnd(w,M),Js(W)||a(fv(cv(W),!1))),M<w.data.length&&(W.setStart(w,M),W.setEnd(w,M+1),Js(W)||a(fv(cv(W),!0)))},l=e.container(),c=e.offset();if(qu(l))return i(l,c),n;if($n(l))if(e.isAtEnd()){var m=_p(l,c);qu(m)&&i(m,m.data.length),Ym(m)&&!gC(m)&&a(fv(cv(m),!1))}else{var m=_p(l,c);if(qu(m)&&i(m,0),Ym(m)&&e.isAtEnd())return a(fv(cv(m),!1)),n;var b=_p(e.container(),e.offset()-1);Ym(b)&&!gC(b)&&(bi(b)||bi(m)||!Ym(m))&&a(fv(cv(b),!1)),Ym(m)&&a(fv(cv(m),!0))}return n},It=function(e,n,a){var i=function(){return qu(e),n===0},l=function(){return qu(e)?n>=e.data.length:n>=e.childNodes.length},c=function(){var W=Zs(e.ownerDocument);return W.setStart(e,n),W.setEnd(e,n),W},m=function(){return a||(a=bC(It(e,n))),a},b=function(){return m().length>0},w=function(W){return W&&e===W.container()&&n===W.offset()},M=function(W){return _p(e,W?n-1:n)};return{container:G(e),offset:G(n),toRange:c,getClientRects:m,isVisible:b,isAtStart:i,isAtEnd:l,isEqual:w,getNode:M}};It.fromRangeStart=function(e){return It(e.startContainer,e.startOffset)},It.fromRangeEnd=function(e){return It(e.endContainer,e.endOffset)},It.after=function(e){return It(e.parentNode,jT(e)+1)},It.before=function(e){return It(e.parentNode,jT(e))},It.isAbove=function(e,n){return ou(Wt(n.getClientRects()),dn(e.getClientRects()),Km).getOr(!1)},It.isBelow=function(e,n){return ou(dn(n.getClientRects()),Wt(e.getClientRects()),Gm).getOr(!1)},It.isAtStart=function(e){return e?e.isAtStart():!1},It.isAtEnd=function(e){return e?e.isAtEnd():!1},It.isTextPosition=function(e){return e?Kn(e.container()):!1},It.isElementPosition=function(e){return It.isTextPosition(e)===!1};var Pp=function(e,n){Kn(n)&&n.data.length===0&&e.remove(n)},yC=function(e,n,a){n.insertNode(a),Pp(e,a.previousSibling),Pp(e,a.nextSibling)},AM=function(e,n,a){var i=re.from(a.firstChild),l=re.from(a.lastChild);n.insertNode(a),i.each(function(c){return Pp(e,c.previousSibling)}),l.each(function(c){return Pp(e,c.nextSibling)})},t1=function(e,n,a){Xr(a)?AM(e,n,a):yC(e,n,a)},ec=Kn,KT=vf,GT=lo.nodeIndex,YT=function(e){var n=e.parentNode;return KT(n)?YT(n):n},wC=function(e){return e?Pa(e.childNodes,function(n,a){return KT(a)&&a.nodeName!=="BR"?n=n.concat(wC(a)):n.push(a),n},[]):[]},CC=function(e,n){for(;(e=e.previousSibling)&&ec(e);)n+=e.data.length;return n},XT=function(e){return function(n){return e===n}},ZT=function(e){var n,a;n=wC(YT(e)),a=Nr(n,XT(e),e),n=n.slice(0,a+1);var i=Pa(n,function(l,c,m){return ec(c)&&ec(n[m-1])&&l++,l},0);return n=Wr(n,Cl([e.nodeName])),a=Nr(n,XT(e),e),a-i},JT=function(e){var n;return ec(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+ZT(e)+"]"},n1=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},QT=function(e,n){var a,i,l=[],c,m,b;return a=n.container(),i=n.offset(),ec(a)?c=CC(a,i):(m=a.childNodes,i>=m.length?(c="after",i=m.length-1):c="before",a=m[i]),l.push(JT(a)),b=n1(e,a),b=Wr(b,je(vf)),l=l.concat(tr(b,function(w){return JT(w)})),l.reverse().join("/")+","+c},$M=function(e,n,a){var i=wC(e);return i=Wr(i,function(l,c){return!ec(l)||!ec(i[c-1])}),i=Wr(i,Cl([n])),i[a]},DM=function(e,n){for(var a=e,i=0,l;ec(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!ec(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return ec(e)&&n>e.data.length&&(n=e.data.length),It(e,n)},eE=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var c=Pa(l,function(m,b){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return w?(w[1]==="text()"&&(w[1]="#text"),$M(m,w[1],parseInt(w[2],10))):null},e);return c?ec(c)?DM(c,parseInt(a,10)):(a==="after"?a=GT(c)+1:a=GT(c),It(c.parentNode,a)):null},r1=vo,SC=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Kn(i);i=i.previousSibling)l+=e(i.data).length;return l},xC=function(e,n,a,i,l){var c=i[l?"startContainer":"endContainer"],m=i[l?"startOffset":"endOffset"],b=[],w,M=0,W=e.getRoot();for(Kn(c)?b.push(a?SC(n,c,m):m):(w=c.childNodes,m>=w.length&&w.length&&(M=1,m=Math.max(0,w.length-1)),b.push(e.nodeIndex(w[m],a)+M));c&&c!==W;c=c.parentNode)b.push(e.nodeIndex(c,a));return b},Xm=function(e,n,a,i){var l=n.dom,c={};return c.start=xC(l,e,a,i,!0),n.isCollapsed()||(c.end=xC(l,e,a,i,!1)),Ac(i)&&(c.isFakeCaret=!0),c},kC=function(e,n,a){var i=0;return Ht.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},Po=function(e,n){var a,i,l,c=n?"start":"end";a=e[c+"Container"],i=e[c+"Offset"],Mr(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},TC=function(e){return Po(e,!0),Po(e,!1),e},Ko=function(e,n){var a;if(Mr(e)&&(e=Mc(e,n),r1(e)))return e;if(jl(e)&&(Kn(e)&&Oo(e)&&(e=e.parentNode),a=e.previousSibling,r1(a)||(a=e.nextSibling,r1(a))))return a},a1=function(e){return Ko(e.startContainer,e.startOffset)||Ko(e.endContainer,e.endOffset)},EC=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,c=a.getRng();if(r1(i)||l==="IMG")return{name:l,index:kC(a.dom,l,i)};var m=a1(c);return m?(l=m.tagName,{name:l,index:kC(a.dom,l,m)}):Xm(e,a,n,c)},tE=function(e){var n=e.getRng();return{start:QT(e.dom.getRoot(),It.fromRangeStart(n)),end:QT(e.dom.getRoot(),It.fromRangeEnd(n))}},o1=function(e){return{rng:e.getRng()}},nE=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},rE=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),c=e.isCollapsed(),m=e.getNode(),b=m.nodeName;if(b==="IMG")return{name:b,index:kC(a,b,m)};var w=TC(i.cloneRange());if(!c){w.collapse(!1);var M=nE(a,l+"_end",n);t1(a,w,M)}i=TC(i),i.collapse(!0);var W=nE(a,l+"_start",n);return t1(a,i,W),e.moveToBookmark({id:l,keep:!0}),{id:l}},_M=function(e,n,a){return n===2?EC(Oc,a,e):n===3?tE(e):n?o1(e):rE(e,!1)},aE=Me(EC,he,!0),PM=lo.DOM,MM="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",oE=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return _r(l,e.id).getOr(a)}else return i},RM=function(e){return e.getParam("iframe_attrs",{})},BM=function(e){return e.getParam("doctype","<!DOCTYPE html>")},FM=function(e){return e.getParam("document_base_url","")},IM=function(e){return oE(e,"body_id","tinymce")},NM=function(e){return oE(e,"body_class","")},iE=function(e){return e.getParam("content_security_policy","")},LM=function(e){return e.getParam("br_in_pre",!0)},Gi=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Mp=function(e){return e.getParam("forced_root_block_attrs",{})},Rp=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},uE=function(e){return e.getParam("no_newline_selector","")},zM=function(e){return e.getParam("keep_styles",!0)},HM=function(e){return e.getParam("end_container_on_empty_block",!1)},VM=function(e){return Ht.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Zm=function(e){return Ht.explode(e.getParam("font_size_classes",""))},i1=function(e){return e.getParam("images_dataimg_filter",At,"function")},Bp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},OC=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},UM=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Rc=function(e){return e.getParam("icons","","string")},AC=function(e){return e.getParam("icons_url","","string")},WM=function(e){return e.getParam("images_upload_url","","string")},vv=function(e){return e.getParam("images_upload_base_path","","string")},u1=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},jM=function(e){return e.getParam("images_upload_handler",null,"function")},qM=function(e){return e.getParam("content_css_cors",!1,"boolean")},lE=function(e){return e.getParam("referrer_policy","","string")},sE=function(e){return e.getParam("language","en","string")},cE=function(e){return e.getParam("language_url","","string")},fE=function(e){return e.getParam("indent_use_margin",!1)},KM=function(e){return e.getParam("indentation","40px","string")},vE=function(e){var n=e.getParam("content_css");return U(n)?gt(n.split(","),_e):Z(n)?n:n===!1||e.inline?[]:["default"]},dE=function(e){var n=e.getParam("font_css",[]);return Z(n)?n:gt(n.split(","),_e)},mE=function(e){return e.getParam("directionality",Eu.isRtl()?"rtl":void 0)},GM=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},gE=function(e){var n=e.getParam("object_resizing");return n===!1||dr.iOS?!1:U(n)?n:"table,img,figure.image,div,video,iframe"},YM=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},pE=function(e){return e.getParam("placeholder",PM.getAttrib(e.getElement(),"placeholder"),"string")},$C=function(e){return e.getParam("event_root")},hE=function(e){return e.getParam("service_message")},Fp=function(e){return e.getParam("theme")},XM=function(e){return e.getParam("validate")},Ip=function(e){return e.getParam("inline_boundaries")!==!1},ZM=function(e){return e.getParam("formats")},JM=function(e){var n=e.getParam("preview_styles",MM);return U(n)?n:""},DC=function(e){return e.getParam("format_empty_lines",!1,"boolean")},_C=function(e){return e.getParam("custom_ui_selector","","string")},QM=function(e){return e.getParam("theme_url")},eR=function(e){return e.getParam("inline")},tR=function(e){return e.getParam("hidden_input")},nR=function(e){return e.getParam("submit_patch")},rR=function(e){return e.getParam("encoding")==="xml"},aR=function(e){return e.getParam("add_form_submit_trigger")},l1=function(e){return e.getParam("add_unload_trigger")},oR=function(e){return Gi(e)!==""},iR=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},uR=function(e){return e.getParam("disable_nodechange")},lR=function(e){return e.getParam("readonly")},sR=function(e){return e.getParam("content_css_cors")},PC=function(e){return e.getParam("plugins","","string")},cR=function(e){return e.getParam("external_plugins")},Np=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},fR=function(e){return e.getParam("visual",!0,"boolean")},vR=function(e){return e.getParam("visual_table_class","mce-item-table","string")},bE=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},yE=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},wE=Mr,CE=Kn,SE=function(e){var n=e.parentNode;n&&n.removeChild(e)},Jm=function(e){var n=Oc(e);return{count:e.length-n.length,text:n}},MC=function(e){for(var n;(n=e.data.lastIndexOf(nt))!==-1;)e.deleteData(n,1)},xE=function(e,n){return fd(e),n},dR=function(e,n){var a=Jm(e.data.substr(0,n.offset())),i=Jm(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(MC(e),It(e,n.offset()-a.count)):n},mR=function(e,n){var a=n.container(),i=Ne(Xt(a.childNodes),e).map(function(l){return l<n.offset()?It(a,n.offset()-1):n}).getOr(n);return fd(e),i},kE=function(e,n){return CE(e)&&n.container()===e?dR(e,n):xE(e,n)},gR=function(e,n){return n.container()===e.parentNode?mR(e,n):xE(e,n)},TE=function(e,n){return It.isTextPosition(n)?kE(e,n):gR(e,n)},fd=function(e){wE(e)&&jl(e)&&(bp(e)?e.removeAttribute("data-mce-caret"):SE(e)),CE(e)&&(MC(e),e.data.length===0&&SE(e))},s1=ar().browser,pR=vo,hR=Hu,bR=Cm,yR="*[contentEditable=false],video,audio,embed,object",EE=function(e,n,a){var i=dC(n.getBoundingClientRect(),a),l,c;if(e.tagName==="BODY"){var m=e.ownerDocument.documentElement;l=e.scrollLeft||m.scrollLeft,c=e.scrollTop||m.scrollTop}else{var b=e.getBoundingClientRect();l=e.scrollLeft-b.left,c=e.scrollTop-b.top}i.left+=l,i.right+=l,i.top+=c,i.bottom+=c,i.width=1;var w=n.offsetWidth-n.clientWidth;return w>0&&(a&&(w*=-1),i.left+=w,i.right+=w),i},wR=function(e){for(var n=Mi(V.fromDom(e),yR),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(Eb(l)){var c=l.data;c.length===1?l.parentNode.removeChild(l):l.deleteData(c.length-1,1)}if(l=i.nextSibling,Tb(l)){var c=l.data;c.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},Au=function(e,n,a,i){var l=sd(),c,m,b=Gi(e),w=b.length>0?b:"p",M=function(be,we){var Fe;if(W(),bR(we))return null;if(a(we)){m=zP(w,we,be);var De=EE(n,we,be);Kr(m).css("top",De.top);var vt=Kr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Yn({},De)).appendTo(n)[0];l.set({caret:vt,element:we,before:be}),be&&Kr(vt).addClass("mce-visual-caret-before"),K(),Fe=we.ownerDocument.createRange(),Fe.setStart(m,0),Fe.setEnd(m,0)}else return m=xw(we,be),Fe=we.ownerDocument.createRange(),Lp(m.nextSibling)?(Fe.setStart(m,0),Fe.setEnd(m,0)):(Fe.setStart(m,1),Fe.setEnd(m,1)),Fe;return Fe},W=function(){wR(n),m&&(fd(m),m=null),l.on(function(be){Kr(be.caret).remove(),l.clear()}),c&&(Ui.clearInterval(c),c=void 0)},K=function(){c=Ui.setInterval(function(){i()?Kr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Kr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},ee=function(){l.on(function(be){var we=EE(n,be.element,be.before);Kr(be.caret).css(Yn({},we))})},de=function(){return Ui.clearInterval(c)},pe=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:M,hide:W,getCss:pe,reposition:ee,destroy:de}},OE=function(){return s1.isIE()||s1.isEdge()||s1.isFirefox()},Lp=function(e){return pR(e)||hR(e)},vd=function(e){return Lp(e)||pi(e)&&OE()},c1=vo,CR=Hu,SR=ym("display","block table table-cell table-caption list-item"),RC=jl,AE=Oo,zp=Mr,xR=$c,dd=function(e){return e>0},dv=function(e){return e<0},f1=function(e,n){for(var a;a=e(n);)if(!AE(a))return a;return null},Qm=function(e,n,a,i,l){var c=new qa(e,i),m=c1(e)||AE(e);if(dv(n)){if(m&&(e=f1(c.prev.bind(c),!0),a(e)))return e;for(;e=f1(c.prev.bind(c),l);)if(a(e))return e}if(dd(n)){if(m&&(e=f1(c.next.bind(c),!0),a(e)))return e;for(;e=f1(c.next.bind(c),l);)if(a(e))return e}return null},tc=function(e,n){for(;e&&e!==n;){if(SR(e))return e;e=e.parentNode}return null},nc=function(e,n,a){return tc(e.container(),a)===tc(n.container(),a)},v1=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return zp(a)?a.childNodes[i+e]:null},BC=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},$E=function(e,n,a){return tc(n,e)===tc(a,e)},FC=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(RC(l)&&(l=l[i]),c1(l)||CR(l)){if($E(n,l,a))return l;break}if(xR(l))break;a=a.parentNode}return null},eg=Me(BC,!0),tg=Me(BC,!1),d1=function(e,n,a){var i,l=Me(FC,!0,n),c=Me(FC,!1,n),m=a.startContainer,b=a.startOffset;if(Oo(m)){zp(m)||(m=m.parentNode);var w=m.getAttribute("data-mce-caret");if(w==="before"&&(i=m.nextSibling,vd(i)))return eg(i);if(w==="after"&&(i=m.previousSibling,vd(i)))return tg(i)}if(!a.collapsed)return a;if(Kn(m)){if(RC(m)){if(e===1){if(i=c(m),i)return eg(i);if(i=l(m),i)return tg(i)}if(e===-1){if(i=l(m),i)return tg(i);if(i=c(m),i)return eg(i)}return a}if(Eb(m)&&b>=m.data.length-1)return e===1&&(i=c(m),i)?eg(i):a;if(Tb(m)&&b<=1)return e===-1&&(i=l(m),i)?tg(i):a;if(b===m.data.length)return i=c(m),i?eg(i):a;if(b===0)return i=l(m),i?tg(i):a}return a},IC=function(e,n){return re.from(v1(e?0:-1,n)).filter(c1)},ng=function(e,n,a){var i=d1(e,n,a);return e===-1?It.fromRangeStart(i):It.fromRangeEnd(i)},m1=function(e){return re.from(e.getNode()).map(V.fromDom)},kR=function(e){return re.from(e.getNode(!0)).map(V.fromDom)},NC=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},g1=function(e,n){var a=nc(e,n);return!a&&Ha(e.getNode())?!0:a},Ri;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ri||(Ri={}));var TR=vo,Bc=Kn,DE=Mr,LC=Ha,rg=$c,zC=KP,Hp=ai,ER=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},_E=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},PE=function(e,n){if(dd(e)){if(rg(n.previousSibling)&&!Bc(n.previousSibling))return It.before(n);if(Bc(n))return It(n,0)}if(dv(e)){if(rg(n.nextSibling)&&!Bc(n.nextSibling))return It.after(n);if(Bc(n))return It(n,n.data.length)}return dv(e)?LC(n)?It.before(n):It.after(n):It.before(n)},OR=function(e,n){var a=n.nextSibling;return a&&rg(a)?Bc(a)?It(a,0):It.before(a):HC(Ri.Forwards,It.after(n),e)},HC=function(e,n,a){var i,l,c,m;if(!DE(a)||!n)return null;if(n.isEqual(It.after(a))&&a.lastChild){if(m=It.after(a.lastChild),dv(e)&&rg(a.lastChild)&&DE(a.lastChild))return LC(a.lastChild)?It.before(a.lastChild):m}else m=n;var b=m.container(),w=m.offset();if(Bc(b)){if(dv(e)&&w>0)return It(b,--w);if(dd(e)&&w<b.length)return It(b,++w);i=b}else{if(dv(e)&&w>0&&(l=_E(b,w-1),rg(l)))return!zC(l)&&(c=Qm(l,e,Hp,l),c)?Bc(c)?It(c,c.data.length):It.after(c):Bc(l)?It(l,l.data.length):It.before(l);if(dd(e)&&w<b.childNodes.length&&(l=_E(b,w),rg(l)))return LC(l)?OR(a,l):!zC(l)&&(c=Qm(l,e,Hp,l),c)?Bc(c)?It(c,0):It.before(c):Bc(l)?It(l,0):It.after(l);i=l||m.getNode()}if((dd(e)&&m.isAtEnd()||dv(e)&&m.isAtStart())&&(i=Qm(i,e,At,a,!0),Hp(i,a)))return PE(e,i);l=Qm(i,e,Hp,a);var M=Fa(Re(ER(b,a),TR));return M&&(!l||!M.contains(l))?(dd(e)?m=It.after(M):m=It.before(M),m):l?PE(e,l):null},Mo=function(e){return{next:function(n){return HC(Ri.Forwards,n,e)},prev:function(n){return HC(Ri.Backwards,n,e)}}},p1=function(e,n,a){var i=e?It.before(a):It.after(a);return Dl(e,n,i)},h1=function(e){return Ha(e)?It.before(e):It.after(e)},VC=function(e){return It.isTextPosition(e)?e.offset()===0:$c(e.getNode())},ME=function(e){if(It.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return $c(e.getNode(!0))},UC=function(e,n){return!It.isTextPosition(e)&&!It.isTextPosition(n)&&e.getNode()===n.getNode(!0)},md=function(e){return!It.isTextPosition(e)&&Ha(e.getNode())},RE=function(e,n,a){return e?!UC(n,a)&&!md(n)&&ME(n)&&VC(a):!UC(a,n)&&VC(n)&&ME(a)},Dl=function(e,n,a){var i=Mo(n);return re.from(e?i.next(a):i.prev(a))},Fc=function(e,n,a){return Dl(e,n,a).bind(function(i){return nc(a,i,n)&&RE(e,a,i)?Dl(e,n,i):re.some(i)})},WC=function(e,n,a,i){return Fc(e,n,a).bind(function(l){return i(l)?WC(e,n,l,i):re.some(l)})},mv=function(e,n){var a=e?n.firstChild:n.lastChild;return Kn(a)?re.some(It(a,e?0:a.data.length)):a?$c(a)?re.some(e?It.before(a):h1(a)):p1(e,n,a):re.none()},rc=Me(Dl,!0),ac=Me(Dl,!1),$u=Me(mv,!0),oc=Me(mv,!1),jC="_mce_caret",Ic=function(e){return Mr(e)&&e.id===jC},gd=function(e,n){for(;n&&n!==e;){if(n.id===jC)return n;n=n.parentNode}return null},BE=function(e){return U(e.start)},FE=function(e){return Ar(e,"rng")},AR=function(e){return Ar(e,"id")},$R=function(e){return Ar(e,"name")},IE=function(e){return Ht.isArray(e.start)},NE=function(e,n){return Mr(n)&&e.isBlock(n)&&!n.innerHTML&&!dr.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},LE=function(e,n){var a,i=e.createRng();return a=eE(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=eE(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},DR=function(e,n){var a=e.ownerDocument.createTextNode(nt);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},zE=function(e){return e.hasChildNodes()===!1},_R=function(e,n){return oc(e).fold(Le,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},HE=function(e,n,a){return zE(n)&&gd(e,n)?(DR(n,a),!0):!1},VE=function(e,n,a,i){var l=a[n?"start":"end"],c,m,b,w,M=e.getRoot();if(l){for(b=l[0],m=M,c=l.length-1;c>=1;c--){if(w=m.childNodes,HE(M,m,i))return!0;if(l[c]>w.length-1)return HE(M,m,i)?!0:_R(m,i);m=w[l[c]]}m.nodeType===3&&(b=Math.min(l[0],m.nodeValue.length)),m.nodeType===1&&(b=Math.min(l[0],m.childNodes.length)),n?i.setStart(m,b):i.setEnd(m,b)}return!0},qC=function(e){return Kn(e)&&e.data.length>0},UE=function(e,n,a){var i=e.get(a.id+"_"+n),l,c,m,b,w=a.keep,M,W;if(i){if(l=i.parentNode,n==="start"?(w?i.hasChildNodes()?(l=i.firstChild,c=1):qC(i.nextSibling)?(l=i.nextSibling,c=0):qC(i.previousSibling)?(l=i.previousSibling,c=i.previousSibling.data.length):(l=i.parentNode,c=e.nodeIndex(i)+1):c=e.nodeIndex(i),M=l,W=c):(w?i.hasChildNodes()?(l=i.firstChild,c=1):qC(i.previousSibling)?(l=i.previousSibling,c=i.previousSibling.data.length):(l=i.parentNode,c=e.nodeIndex(i)):c=e.nodeIndex(i),M=l,W=c),!w){for(b=i.previousSibling,m=i.nextSibling,Ht.each(Ht.grep(i.childNodes),function(K){Kn(K)&&(K.nodeValue=K.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&m&&b.nodeType===m.nodeType&&Kn(b)&&!dr.opera&&(c=b.nodeValue.length,b.appendData(m.nodeValue),e.remove(m),M=b,W=c)}return re.some(It(M,W))}else return re.none()},PR=function(e,n){var a=e.createRng();return VE(e,!0,n,a)&&VE(e,!1,n,a)?re.some(a):re.none()},ua=function(e,n){var a=UE(e,"start",n),i=UE(e,"end",n);return ou(a,i.or(a),function(l,c){var m=e.createRng();return m.setStart(NE(e,l.container()),l.offset()),m.setEnd(NE(e,c.container()),c.offset()),m})},pd=function(e,n){return re.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},ag=function(e,n){var a=e.dom;if(n){if(IE(n))return PR(a,n);if(BE(n))return re.some(LE(a,n));if(AR(n))return ua(a,n);if($R(n))return pd(a,n);if(FE(n))return re.some(n.rng)}return re.none()},KC=function(e,n,a){return _M(e,n,a)},MR=function(e,n){ag(e,n).each(function(a){e.setRng(a)})},ul=function(e){return Mr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},RR=function(e){return function(n){return e===n}},hd=RR(nl),gv=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},b1=function(e){return!gv(e)&&!hd(e)},y1=function(e){return!!e.nodeType},BR=function(e){return e&&/^(IMG)$/.test(e.nodeName)},WE=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&BR(l.childNodes[i]))&&Mr(l)){var c=l.childNodes,m=void 0;i<c.length?(l=c[i],m=new qa(l,e.getParent(l,e.isBlock))):(l=c[c.length-1],m=new qa(l,e.getParent(l,e.isBlock)),m.next(!0));for(var b=m.current();b;b=m.next())if(Kn(b)&&!w1(b)){a.setStart(b,0),n.setRng(a);return}}},GC=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Mr(e)||!w1(e))return e}},YC=function(e,n){return y1(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},og=function(e,n,a){return e.schema.isValidChild(n,a)},w1=function(e,n){if(n===void 0&&(n=!1),xe(e)&&Kn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Ws(a)}else return!1},FR=function(e){return xe(e)&&Kn(e)&&e.length===0},Nc=function(e,n){return fe(e)?e=e(n):xe(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},XC=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},ZC=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Vp=function(e,n,a){return ZC(e,e.getStyle(n,a),a)},jE=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},C1=function(e,n,a){return e.getParents(n,a,e.getRoot())},IR=function(e,n){var a=function(i){var l=function(c){return c.length>1&&c.charAt(0)==="%"};return at(["styles","attributes"],function(c){return _r(i,c).exists(function(m){var b=Z(m)?m:Oa(m);return at(b,l)})})};return at(e.formatter.get(n),a)},NR=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(c){return Un(c,function(m,b){return at(i,function(w){return w===b})})};return at(e.formatter.get(n),function(c){var m=l(c);return at(e.formatter.get(a),function(b){var w=l(b);return xo(m,w)})})},Lc=function(e){return _a(e,"block")},_l=function(e){return _a(e,"selector")},Bi=function(e){return _a(e,"inline")},LR=function(e){return _l(e)&&Bi(e)&&Zv(_r(e,"mixed"),!0)},JC=function(e){return _l(e)&&e.expand!==!1&&!Bi(e)},ig=ul,qE=C1,KE=w1,zR=YC,HR=function(e){return Ha(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Rn=function(e,n){for(var a=n;a;){if(Mr(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},li=function(e,n,a,i){for(var l=n.data,c=a;e?c>=0:c<l.length;e?c--:c++)if(i(l.charAt(c)))return e?c+1:c;return-1},S1=function(e,n,a){return li(e,n,a,function(i){return hd(i)||gv(i)})},Oi=function(e,n,a){return li(e,n,a,b1)},Zl=function(e,n,a,i,l,c){var m,b=e.getParent(a,e.isBlock)||n,w=function(W,K,ee){var de=vC(e),pe=l?de.backwards:de.forwards;return re.from(pe(W,K,function(be,we){return ig(be.parentNode)?-1:(m=be,ee(l,be,we))},b))},M=w(a,i,S1);return M.bind(function(W){return c?w(W.container,W.offset+(l?-1:0),Oi):re.some(W)}).orThunk(function(){return m?re.some({container:m,offset:l?0:m.length}):re.none()})},QC=function(e,n,a,i,l){Kn(i)&&xn(i.data)&&i[l]&&(i=i[l]);for(var c=qE(e,i),m=0;m<c.length;m++)for(var b=0;b<n.length;b++){var w=n[b];if(!(xe(w.collapsed)&&w.collapsed!==a.collapsed)&&_l(w)&&e.is(c[m],w.selector))return c[m]}return i},Up=function(e,n,a,i){var l=a,c=e.dom,m=c.getRoot(),b=n[0];if(Lc(b)&&(l=b.wrapper?null:c.getParent(a,b.block,m)),!l){var w=c.getParent(a,"LI,TD,TH");l=c.getParent(Kn(a)?a.parentNode:a,function(M){return M!==m&&zR(e,M)},w)}if(l&&Lc(b)&&b.wrapper&&(l=qE(c,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!c.isBlock(l[i])&&(l=l[i],!XC(l,"br")););return l||a},x1=function(e,n,a,i){var l=a.parentNode;return xe(a[i])?!1:l===n||me(l)||e.isBlock(l)?!0:x1(e,n,l,i)},k1=function(e,n,a,i,l){var c=a,m=l?"previousSibling":"nextSibling",b=e.getRoot();if(Kn(a)&&!KE(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(c))return c;for(var w=c[m];w;w=w[m]){var M=Kn(w)&&!x1(e,b,w,m);if(!ig(w)&&!HR(w)&&!KE(w,M))return c}if(c===b||c.parentNode===b){a=c;break}c=c.parentNode}return a},GE=function(e){return ig(e.parentNode)||ig(e)},bd=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,c=n.startOffset,m=n.endContainer,b=n.endOffset,w=e.dom,M=a[0];if(Mr(l)&&l.hasChildNodes()&&(l=Mc(l,c),Kn(l)&&(c=0)),Mr(m)&&m.hasChildNodes()&&(m=Mc(m,n.collapsed?b:b-1),Kn(m)&&(b=m.nodeValue.length)),l=Rn(w,l),m=Rn(w,m),GE(l)&&(l=ig(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Kn(l)&&(c=n.collapsed?l.length:0)),GE(m)&&(m=ig(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,Kn(m)&&(b=n.collapsed?0:m.length)),n.collapsed){var W=Zl(w,e.getBody(),l,c,!0,i);W.each(function(ee){var de=ee.container,pe=ee.offset;l=de,c=pe});var K=Zl(w,e.getBody(),m,b,!1,i);K.each(function(ee){var de=ee.container,pe=ee.offset;m=de,b=pe})}return(Bi(M)||M.block_expand)&&((!Bi(M)||!Kn(l)||c===0)&&(l=k1(w,a,l,c,!0)),(!Bi(M)||!Kn(m)||b===m.nodeValue.length)&&(m=k1(w,a,m,b,!1))),JC(M)&&(l=QC(w,a,n,l,"previousSibling"),m=QC(w,a,n,m,"nextSibling")),(Lc(M)||_l(M))&&(l=Up(e,a,l,"previousSibling"),m=Up(e,a,m,"nextSibling"),Lc(M)&&(w.isBlock(l)||(l=k1(w,a,l,c,!0)),w.isBlock(m)||(m=k1(w,a,m,b,!1)))),Mr(l)&&(c=w.nodeIndex(l),l=l.parentNode),Mr(m)&&(b=w.nodeIndex(m)+1,m=m.parentNode),{startContainer:l,startOffset:c,endContainer:m,endOffset:b}},Wp=function(e,n,a){var i=n.startOffset,l=Mc(n.startContainer,i),c=n.endOffset,m=Mc(n.endContainer,c-1),b=function(be){var we=be[0];Kn(we)&&we===l&&i>=we.data.length&&be.splice(0,1);var Fe=be[be.length-1];return c===0&&be.length>0&&Fe===m&&Kn(Fe)&&be.splice(be.length-1,1),be},w=function(be,we,Fe){for(var De=[];be&&be!==Fe;be=be[we])De.push(be);return De},M=function(be,we){return e.getParent(be,function(Fe){return Fe.parentNode===we},we)},W=function(be,we,Fe){for(var De=Fe?"nextSibling":"previousSibling",vt=be,ot=vt.parentNode;vt&&vt!==we;vt=ot){ot=vt.parentNode;var Ue=w(vt===be?vt:vt[De],De);Ue.length&&(Fe||Ue.reverse(),a(b(Ue)))}};if(l===m)return a(b([l]));var K=e.findCommonAncestor(l,m);if(e.isChildOf(l,m))return W(l,K,!0);if(e.isChildOf(m,l))return W(m,K);var ee=M(l,K)||l,de=M(m,K)||m;W(l,ee,!0);var pe=w(ee===l?ee:ee.nextSibling,"nextSibling",de===m?de.nextSibling:de);pe.length&&a(b(pe)),W(m,de)},e2=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},VR=function(e){return sr(e,function(n){var a=e1(n);return a?[V.fromDom(a)]:[]})},YE=function(e){return e2(e).length>1},UR=function(e){return Re(VR(e),Us)},XE=function(e){return Mi(e,"td[data-mce-selected],th[data-mce-selected]")},jp=function(e,n){var a=XE(n);return a.length>0?a:UR(e)},bf=function(e){return jp(e2(e.selection.getSel()),V.fromDom(e.getBody()))},yd=function(e,n){return Jv(e,"table",n)},T1=function(e){var n=e.startContainer,a=e.startOffset;return Kn(n)?a===0?re.some(V.fromDom(n)):re.none():re.from(n.childNodes[a]).map(V.fromDom)},t2=function(e){var n=e.endContainer,a=e.endOffset;return Kn(n)?a===n.data.length?re.some(V.fromDom(n)):re.none():re.from(n.childNodes[a-1]).map(V.fromDom)},ZE=function(e){return ri(e).fold(G([e]),function(n){return[e].concat(ZE(n))})},ug=function(e){return bl(e).fold(G([e]),function(n){return Ra(n)==="br"?rf(n).map(function(a){return[e].concat(ug(a))}).getOr([]):[e].concat(ug(n))})},lg=function(e,n){return ou(T1(n),t2(n),function(a,i){var l=fn(ZE(e),Me(Or,a)),c=fn(ug(e),Me(Or,i));return l.isSome()&&c.isSome()}).getOr(!1)},n2=function(e,n,a,i){var l=a,c=new qa(a,l),m=Un(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,w){return!Be(["td","th","table"],w.toLowerCase())});do{if(Kn(a)&&Ht.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(m[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?c.next():c.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},E1=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},r2=function(e,n){var a=bf(e);a.length>0?ut(a,function(i){var l=i.dom,c=e.dom.createRng();c.setStartBefore(l),c.setEndAfter(l),n(c,!0)}):n(e.selection.getRng(),!1)},a2=function(e,n,a){var i=rE(e,n);a(i),e.moveToBookmark(i)},JE=function(e,n){var a=function(c){if(!e(c))throw new Error("Can only get "+n+" value of a "+n+" node");return i(c).getOr("")},i=function(c){return e(c)?re.from(c.dom.nodeValue):re.none()},l=function(c,m){if(!e(c))throw new Error("Can only set raw "+n+" value of a "+n+" node");c.dom.nodeValue=m};return{get:a,getOption:i,set:l}},QE=JE(Vo,"text"),o2=function(e){return QE.get(e)},O1=function(e){return Vo(e)&&o2(e)===nt},Yi=function(e,n,a,i){return Io(n).fold(function(){return"skipping"},function(l){return i==="br"||O1(n)?"valid":lv(n)?"existing":Ic(n.dom)?"caret":!og(e,a,i)||!og(e,Ra(l),a)?"invalid-child":"valid"})},hs=function(e,n){var a=bd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},bs=function(e,n,a,i){var l=n.uid,c=l===void 0?HT("mce-annotation"):l,m=Do(n,["uid"]),b=V.fromTag("span",e);qm(b,il()),$(b,""+ui(),c),$(b,""+Dp(),a);var w=i(c,m),M=w.attributes,W=M===void 0?{}:M,K=w.classes,ee=K===void 0?[]:K;return q(b,W),wM(b,ee),b},A1=function(e,n,a,i,l){var c=[],m=bs(e.getDoc(),l,a,i),b=sd(),w=function(){b.clear()},M=function(){return b.get().getOrThunk(function(){var de=Jo(m);return c.push(de),b.set(de),de})},W=function(de){ut(de,K)},K=function(de){var pe=Yi(e,de,"span",Ra(de));switch(pe){case"invalid-child":{w();var be=wu(de);W(be),w();break}case"valid":{var we=M();dm(de,we);break}}},ee=function(de){var pe=gt(de,V.fromDom);W(pe)};return Wp(e.dom,n,function(de){w(),ee(de)}),c},i2=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,c=l.getRng(),m=bf(e).length>0;if(c.collapsed&&!m&&hs(e,c),l.getRng().collapsed&&!m){var b=bs(e.getDoc(),i,n,a.decorate);Ou(b,nl),l.getRng().insertNode(b.dom),l.select(b.dom)}else a2(l,!1,function(){r2(e,function(w){A1(e,w,n,a.decorate,i)})})})},eO=function(e){var n=cC();sC(e,n);var a=zT(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(c){i2(e,i,c,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){IT(e,re.some(i)).each(function(l){var c=l.elements;ut(c,gm)})},getAll:function(i){var l=LT(e,i);return jn(l,function(c){return gt(c,function(m){return m.dom})})}}},wd=function(e){return{getBookmark:Me(KC,e),moveToBookmark:Me(MR,e)}};wd.isBookmarkNode=ul;var sg=function(e,n){for(;n&&n!==e;){if(ds(n)||vo(n))return n;n=n.parentNode}return null},qp=function(e,n,a){if(a.collapsed)return!1;if(dr.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Mr(i))return at(i.getClientRects(),function(l){return VT(l,e,n)})}return at(a.getClientRects(),function(l){return VT(l,e,n)})},WR=function(e,n){return e.fire("PreProcess",n)},u2=function(e,n){return e.fire("PostProcess",n)},tO=function(e){return e.fire("remove")},nO=function(e){return e.fire("detach")},l2=function(e,n){return e.fire("SwitchMode",{mode:n})},s2=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},Ua=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},zc=function(e){return e.fire("PreInit")},rO=function(e){return e.fire("PostRender")},aO=function(e){return e.fire("Init")},oO=function(e,n){return e.fire("PlaceholderToggle",{state:n})},$1=function(e,n,a){return e.fire(n,a)},c2=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},Kp=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Tr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Tr.metaKeyPressed(e)},metaKeyPressed:function(e){return dr.mac?e.metaKey:e.ctrlKey&&!e.altKey}},jR=vo,f2=function(e,n){var a="data-mce-selected",i=n.dom,l=Ht.each,c,m,b,w,M,W,K,ee,de,pe,be,we,Fe,De,vt,ot=n.getDoc(),Ue=document,ht=Math.abs,Kt=Math.round,vn=n.getBody(),br,Hn,en={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},pr=function(xt){return xt&&(xt.nodeName==="IMG"||n.dom.is(xt,"figure.image"))},pn=function(xt){return Hu(xt)||i.hasClass(xt,"mce-preview-object")},Nn=function(xt,gn){if(xt.type==="longpress"||xt.type.indexOf("touch")===0){var sn=xt.touches[0];return pr(xt.target)&&!qp(sn.clientX,sn.clientY,gn)}else return pr(xt.target)&&!qp(xt.clientX,xt.clientY,gn)},Sn=function(xt){var gn=xt.target;Nn(xt,n.selection.getRng())&&!xt.isDefaultPrevented()&&n.selection.select(gn)},An=function(xt){return i.is(xt,"figure.image")?[xt.querySelector("img")]:i.hasClass(xt,"mce-preview-object")&&xe(xt.firstElementChild)?[xt,xt.firstElementChild]:[xt]},Gn=function(xt){var gn=gE(n);return!gn||xt.getAttribute("data-mce-resize")==="false"||xt===n.getBody()?!1:i.hasClass(xt,"mce-preview-object")?Fn(V.fromDom(xt.firstElementChild),gn):Fn(V.fromDom(xt),gn)},on=function(xt){return pn(xt)?i.create("img",{src:dr.transparentSrc}):xt.cloneNode(!0)},Vn=function(xt,gn,sn){if(xe(sn)){var cr=An(xt);ut(cr,function(gr){gr.style[gn]||!n.schema.isValid(gr.nodeName.toLowerCase(),gn)?i.setStyle(gr,gn,sn):i.setAttrib(gr,gn,""+sn)})}},ta=function(xt,gn,sn){Vn(xt,"width",gn),Vn(xt,"height",sn)},Sa=function(xt){var gn,sn,cr,gr,Ia;gn=xt.screenX-W,sn=xt.screenY-K,De=gn*w[2]+pe,vt=sn*w[3]+be,De=De<5?5:De,vt=vt<5?5:vt,(pr(c)||pn(c))&&YM(n)!==!1?cr=!Tr.modifierPressed(xt):cr=Tr.modifierPressed(xt),cr&&(ht(gn)>ht(sn)?(vt=Kt(De*we),De=Kt(vt/we)):(De=Kt(vt/we),vt=Kt(De*we))),ta(m,De,vt),gr=w.startPos.x+gn,Ia=w.startPos.y+sn,gr=gr>0?gr:0,Ia=Ia>0?Ia:0,i.setStyles(b,{left:gr,top:Ia,display:"block"}),b.innerHTML=De+" &times; "+vt,w[2]<0&&m.clientWidth<=De&&i.setStyle(m,"left",ee+(pe-De)),w[3]<0&&m.clientHeight<=vt&&i.setStyle(m,"top",de+(be-vt)),gn=vn.scrollWidth-br,sn=vn.scrollHeight-Hn,gn+sn!==0&&i.setStyles(b,{left:gr-gn,top:Ia-sn}),Fe||(s2(n,c,pe,be,"corner-"+w.name),Fe=!0)},ba=function(){var xt=Fe;Fe=!1,xt&&(Vn(c,"width",De),Vn(c,"height",vt)),i.unbind(ot,"mousemove",Sa),i.unbind(ot,"mouseup",ba),Ue!==ot&&(i.unbind(Ue,"mousemove",Sa),i.unbind(Ue,"mouseup",ba)),i.remove(m),i.remove(b),i.remove(M),wi(c),xt&&(Ua(n,c,De,vt,"corner-"+w.name),i.setAttrib(c,"style",i.getAttrib(c,"style"))),n.nodeChanged()},wi=function(xt){un();var gn=i.getPos(xt,vn),sn=gn.x,cr=gn.y,gr=xt.getBoundingClientRect(),Ia=gr.width||gr.right-gr.left,ei=gr.height||gr.bottom-gr.top;c!==xt&&(bo(),c=xt,De=vt=0);var Go=n.fire("ObjectSelected",{target:xt}),Df=i.getAttrib(c,a,"1");Gn(xt)&&!Go.isDefaultPrevented()?l(en,function(fu,Ji){var ci,Fl=function(vu){var $s=An(c)[0];W=vu.screenX,K=vu.screenY,pe=$s.clientWidth,be=$s.clientHeight,we=be/pe,w=fu,w.name=Ji,w.startPos={x:Ia*fu[0]+sn,y:ei*fu[1]+cr},br=vn.scrollWidth,Hn=vn.scrollHeight,M=i.add(vn,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(M,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),m=on(c),i.addClass(m,"mce-clonedresizable"),i.setAttrib(m,"data-mce-bogus","all"),m.contentEditable="false",i.setStyles(m,{left:sn,top:cr,margin:0}),ta(m,Ia,ei),m.removeAttribute(a),vn.appendChild(m),i.bind(ot,"mousemove",Sa),i.bind(ot,"mouseup",ba),Ue!==ot&&(i.bind(Ue,"mousemove",Sa),i.bind(Ue,"mouseup",ba)),b=i.add(vn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},pe+" &times; "+be)};ci=i.get("mceResizeHandle"+Ji),ci&&i.remove(ci),ci=i.add(vn,"div",{id:"mceResizeHandle"+Ji,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ji+"-resize; margin:0; padding:0"}),dr.ie===11&&(ci.contentEditable=!1),i.bind(ci,"mousedown",function(vu){vu.stopImmediatePropagation(),vu.preventDefault(),Fl(vu)}),fu.elm=ci,i.setStyles(ci,{left:Ia*fu[0]+sn-ci.offsetWidth/2,top:ei*fu[1]+cr-ci.offsetHeight/2})}):bo(),i.getAttrib(c,a)||c.setAttribute(a,Df)},bo=function(){un(),c&&c.removeAttribute(a),wn(en,function(xt,gn){var sn=i.get("mceResizeHandle"+gn);sn&&(i.unbind(sn),i.remove(sn))})},cu=function(xt){var gn,sn,cr=function(gr,Ia){if(gr)do if(gr===Ia)return!0;while(gr=gr.parentNode)};if(!(Fe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(gr){gr.removeAttribute(a)}),sn=xt.type==="mousedown"?xt.target:e.getNode(),sn=i.$(sn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],cr(sn,vn)&&(kn(),gn=e.getStart(!0),cr(gn,sn)&&cr(e.getEnd(!0),sn))){wi(sn);return}bo()}},Ru=function(xt){return jR(sg(n.getBody(),xt))},un=function(){wn(en,function(xt){xt.elm&&(i.unbind(xt.elm),delete xt.elm)})},kn=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(kn(),dr.browser.isIE()||dr.browser.isEdge()){n.on("mousedown click",function(sn){var cr=sn.target,gr=cr.nodeName;!Fe&&/^(TABLE|IMG|HR)$/.test(gr)&&!Ru(cr)&&(sn.button!==2&&n.selection.select(cr,gr==="TABLE"),sn.type==="mousedown"&&n.nodeChanged())});var xt=function(sn){var cr=function(gr){Ui.setEditorTimeout(n,function(){return n.selection.select(gr)})};if(Ru(sn.target)||Hu(sn.target)){sn.preventDefault(),cr(sn.target);return}/^(TABLE|IMG|HR)$/.test(sn.target.nodeName)&&(sn.preventDefault(),sn.target.tagName==="IMG"&&cr(sn.target))};i.bind(vn,"mscontrolselect",xt),n.on("remove",function(){return i.unbind(vn,"mscontrolselect",xt)})}var gn=Ui.throttle(function(sn){n.composing||cu(sn)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",gn),n.on("keyup compositionend",function(sn){c&&c.nodeName==="TABLE"&&gn(sn)}),n.on("hide blur",bo),n.on("contextmenu longpress",Sn,!0)}),n.on("remove",un);var ir=function(){c=m=M=null};return{isResizable:Gn,showResizeRect:wi,hideResizeRect:bo,updateResizeRect:cu,destroy:ir}},qR=function(e){return ds(e)||vo(e)},v2=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},KR=function(e,n,a){var i,l=a.elementFromPoint(e,n),c=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),c.moveToElementText(l),i=Ht.toArray(c.getClientRects()),i=i.sort(function(m,b){return m=Math.abs(Math.max(m.top-n,m.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),m-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return c.moveToPoint(e,n),c.collapse(!0),c}catch{}}return null},iO=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return vo(v2(a,n,qR))?null:e},d2=function(e,n,a){var i,l,c=a;if(c.caretPositionFromPoint)l=c.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(c.caretRangeFromPoint)i=c.caretRangeFromPoint(e,n);else if(c.body.createTextRange){i=c.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=KR(e,n,a)}return iO(i,a.body)}return i},m2=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},GR=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Pl=function(e,n,a){return GR(e,n,a)!==null},Du=function(e,n,a){return Pl(e,n,function(i){return i.nodeName===a})},pv=function(e){return e&&e.nodeName==="TABLE"},YR=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},XR=function(e,n){return jl(e)&&Pl(e,n,Ic)===!1},uO=function(e,n,a){for(var i=new qa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(Ha(n))return!0},ia=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},ZR=function(e,n){for(;n&&n!==e;){if(vo(n))return!0;n=n.parentNode}return!1},D1=function(e,n,a,i,l){var c,m=e.getRoot(),b,w=e.schema.getNonEmptyElements(),M=e.getParent(l.parentNode,e.isBlock)||m;if(i&&Ha(l)&&n&&e.isEmpty(M))return re.some(It(l.parentNode,e.nodeIndex(l)));for(var W=new qa(l,M);b=W[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||XR(b,m))return re.none();if(Kn(b)&&b.nodeValue.length>0)return Du(b,m,"A")===!1?re.some(It(b,i?b.nodeValue.length:0)):re.none();if(e.isBlock(b)||w[b.nodeName.toLowerCase()])return re.none();c=b}return a&&c?re.some(It(c,0)):re.none()},_1=function(e,n,a,i){var l,c,m=e.getRoot(),b,w,M=!1;l=i[(a?"start":"end")+"Container"],c=i[(a?"start":"end")+"Offset"];var W=Mr(l)&&c===l.childNodes.length,K=e.schema.getNonEmptyElements();if(w=a,jl(l))return re.none();if(Mr(l)&&c>l.childNodes.length-1&&(w=!1),fp(l)&&(l=m,c=0),l===m){if(w&&(b=l.childNodes[c>0?c-1:0],b&&(jl(b)||K[b.nodeName]||pv(b))))return re.none();if(l.hasChildNodes()){if(c=Math.min(!w&&c>0?c-1:c,l.childNodes.length-1),l=l.childNodes[c],c=Kn(l)&&W?l.data.length:0,!n&&l===m.lastChild&&pv(l)||ZR(m,l)||jl(l))return re.none();if(l.hasChildNodes()&&pv(l)===!1){b=l;var ee=new qa(l,m);do{if(vo(b)||jl(b)){M=!1;break}if(Kn(b)&&b.nodeValue.length>0){c=w?0:b.nodeValue.length,l=b,M=!0;break}if(K[b.nodeName.toLowerCase()]&&!YR(b)){c=e.nodeIndex(b),l=b.parentNode,w||c++,M=!0;break}}while(b=w?ee.next():ee.prev())}}}return n&&(Kn(l)&&c===0&&D1(e,W,n,!0,l).each(function(de){l=de.container(),c=de.offset(),M=!0}),Mr(l)&&(b=l.childNodes[c],b||(b=l.childNodes[c-1]),b&&Ha(b)&&!ia(b,"A")&&!uO(e,b,!1)&&!uO(e,b,!0)&&D1(e,W,n,!0,b).each(function(de){l=de.container(),c=de.offset(),M=!0}))),w&&!n&&Kn(l)&&c===l.nodeValue.length&&D1(e,W,n,!1,l).each(function(de){l=de.container(),c=de.offset(),M=!0}),M?re.some(It(l,c)):re.none()},P1=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=It.fromRangeStart(n);return _1(e,a,!0,i).each(function(c){(!a||!It.isAbove(l,c))&&i.setStart(c.container(),c.offset())}),a||_1(e,a,!1,i).each(function(c){i.setEnd(c.container(),c.offset())}),a&&i.collapse(!0),m2(n,i)?re.none():re.some(i)},M1=function(e,n){return e.splitText(n)},R1=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&Kn(n)?a>0&&a<n.nodeValue.length&&(i=M1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=M1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(Kn(n)&&a>0&&a<n.nodeValue.length&&(n=M1(n,a),a=0),Kn(i)&&l>0&&l<i.nodeValue.length&&(i=M1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},Gp=function(e){var n=function(l,c){return Wp(e,l,c)},a=R1,i=function(l){return P1(e,l).fold(Le,function(c){return l.setStart(c.startContainer,c.startOffset),l.setEnd(c.endContainer,c.endOffset),!0})};return{walk:n,split:a,normalize:i}};Gp.compareRanges=m2,Gp.getCaretRangeFromPoint=d2,Gp.getSelectedNode=e1,Gp.getNode=Mc;var JR=function(e,n){var a=function(b,w){if(!se(w)&&!w.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+w);var M=b.dom;ho(M)&&(M.style[e]=w+"px")},i=function(b){var w=n(b);if(w<=0||w===null){var M=aa(b,e);return parseFloat(M)||0}return w},l=i,c=function(b,w){return ln(w,function(M,W){var K=aa(b,W),ee=K===void 0?0:parseInt(K,10);return isNaN(ee)?M:M+ee},0)},m=function(b,w,M){var W=c(b,M),K=w>W?w-W:0;return K};return{set:a,get:i,getOuter:l,aggregate:c,max:m}},QR=JR("height",function(e){var n=e.dom;return Yv(e)?n.getBoundingClientRect().height:n.offsetHeight}),g2=function(e){return QR.get(e)},B1=function(e,n){var a=e.view(n);return a.fold(G([]),function(i){var l=e.owner(i),c=B1(e,l);return[i].concat(c)})},lO=function(e,n){var a=n.owner(e);return B1(n,a)},eB=function(e){var n,a=e.dom===document?re.none():re.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(V.fromDom)},tB=function(e){return Pr(e)},nB=Object.freeze({__proto__:null,view:eB,owner:tB}),rB=function(e){var n=V.fromDom(document),a=sp(n),i=lO(e,nB),l=yl(e),c=Tt(i,function(m,b){var w=yl(b);return{left:m.left+w.left,top:m.top+w.top}},{left:0,top:0});return cf(c.left+l.left+a.left,c.top+l.top+a.top)},p2=function(e){return Ra(e)==="textarea"},aB=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},mr=function(e,n){e.fire("AfterScrollIntoView",n)},sO=function(e,n){var a=wu(e);if(a.length===0||p2(e))return{element:e,offset:n};if(n<a.length&&!p2(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return p2(i)?{element:e,offset:n}:Ra(i)==="img"?{element:i,offset:1}:Vo(i)?{element:i,offset:o2(i).length}:{element:i,offset:wu(i).length}},cO=function(e,n){var a=pm(e),i=g2(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},oB=function(e,n){var a=sO(e,n),i=V.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+nt+"</span>");return Hl(a.element,i),cO(i,function(){return Uo(i)})},Yp=function(e){return cO(V.fromDom(e),Ce)},fO=function(e,n,a,i){h2(e,function(l,c){return iB(e,n,a,i)},a)},vO=function(e,n,a,i,l){var c={elm:i.element.dom,alignToTop:l};if(!aB(e,c)){var m=sp(n).top;a(n,m,i,l),mr(e,c)}},iB=function(e,n,a,i){var l=V.fromDom(e.getBody()),c=V.fromDom(e.getDoc());AP(l);var m=oB(V.fromDom(a.startContainer),a.startOffset);vO(e,c,n,m,i),m.cleanup()},dO=function(e,n,a,i){var l=V.fromDom(e.getDoc());vO(e,l,a,Yp(n),i)},h2=function(e,n,a){var i=a.startContainer,l=a.startOffset,c=a.endContainer,m=a.endOffset;n(V.fromDom(i),V.fromDom(c));var b=e.dom.createRng();b.setStart(i,l),b.setEnd(c,m),e.selection.setRng(a)},b2=function(e,n,a,i){var l=e.pos;if(a)wl(l.left,l.top,i);else{var c=l.top-n+e.height;wl(l.left,c,i)}},mO=function(e,n,a,i,l){var c=a+n,m=i.pos.top,b=i.bottom,w=b-m>=a;if(m<n)b2(i,a,l!==!1,e);else if(m>c){var M=w?l!==!1:l===!0;b2(i,a,M,e)}else b>c&&!w&&b2(i,a,l===!0,e)},y2=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;mO(e,n,l,a,i)},w2=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;mO(e,n,l,a,i);var c=rB(a.element),m=Xv(window);c.top<m.y?hm(a.element,i!==!1):c.top>m.bottom&&hm(a.element,i===!0)},gO=function(e,n,a){return fO(e,y2,n,a)},uB=function(e,n,a){return dO(e,n,y2,a)},lB=function(e,n,a){return fO(e,w2,n,a)},pO=function(e,n,a){return dO(e,n,w2,a)},sB=function(e,n,a){var i=e.inline?uB:pO;i(e,n,a)},Xp=function(e,n,a){var i=e.inline?gO:lB;i(e,n,a)},Da=function(){return V.fromDom(document)},cB=function(e){return e.dom.focus()},yf=function(e){var n=Cu(e).dom;return e.dom===n.activeElement},ys=function(e){return e===void 0&&(e=Da()),re.from(e.dom.activeElement).map(V.fromDom)},F1=function(e){return ys(Cu(e)).filter(function(n){return e.dom.contains(n.dom)})},ll=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},I1={create:ll},Cd=vr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),N1=function(e,n,a,i){return e.fold(n,a,i)},cg=function(e){return e.fold(he,he,he)},fB=Cd.before,vB=Cd.on,dB=Cd.after,mB={before:fB,on:vB,after:dB,cata:N1,getStart:cg},na=vr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ic=function(e){return na.exact(e.start,e.soffset,e.finish,e.foffset)},fg=function(e){return e.match({domRange:function(n){return V.fromDom(n.startContainer)},relative:function(n,a){return mB.getStart(n)},exact:function(n,a,i,l){return n}})},gB=na.domRange,Zp=na.relative,ca=na.exact,pB=function(e){var n=fg(e);return kc(n)},hO=I1.create,Jp={domRange:gB,relative:Zp,exact:ca,exactFromRange:ic,getWin:pB,range:hO},bO=ar().browser,Qp=function(e,n){var a=Vo(n)?o2(n).length:wu(n).length+1;return e>a?a:e<0?0:e},Sd=function(e){return Jp.range(e.start,Qp(e.soffset,e.start),e.finish,Qp(e.foffset,e.finish))},C2=function(e,n){return!bm(n.dom)&&(Ba(e,n)||Or(e,n))},S2=function(e){return function(n){return C2(e,n.start)&&C2(e,n.finish)}},yO=function(e){return e.inline===!0||bO.isIE()},wO=function(e){return Jp.range(V.fromDom(e.startContainer),e.startOffset,V.fromDom(e.endContainer),e.endOffset)},eh=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?re.none():re.from(n.getRangeAt(0));return a.map(wO)},vg=function(e){var n=kc(e);return eh(n.dom).filter(S2(e))},hB=function(e,n){return re.from(n).filter(S2(e)).map(Sd)},CO=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),re.some(n)}catch{return re.none()}},L1=function(e){var n=yO(e)?vg(V.fromDom(e.getBody())):re.none();e.bookmark=n.isSome()?n:e.bookmark},bB=function(e,n){var a=V.fromDom(e.getBody()),i=yO(e)?re.from(n):re.none(),l=i.map(wO).filter(S2(a));e.bookmark=l.isSome()?l:e.bookmark},x2=function(e){var n=e.bookmark?e.bookmark:re.none();return n.bind(function(a){return hB(V.fromDom(e.getBody()),a)}).bind(CO)},SO=function(e){x2(e).each(function(n){return e.selection.setRng(n)})},yB=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},xO={isEditorUIElement:yB},kO=function(e){return e.type==="nodechange"&&e.selectionChange},k2=function(e,n){var a=function(){n.throttle()};lo.DOM.bind(document,"mouseup",a),e.on("remove",function(){lo.DOM.unbind(document,"mouseup",a)})},T2=function(e){e.on("focusout",function(){L1(e)})},E2=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},TO=function(e,n){var a=ar().browser;a.isIE()?T2(e):E2(e,n),e.on("keyup NodeChange",function(i){kO(i)||L1(e)})},EO=function(e){var n=Gb(function(){L1(e)},0);e.on("init",function(){e.inline&&k2(e,n),TO(e,n)}),e.on("remove",function(){n.cancel()})},dg,mg=lo.DOM,wB=function(e){return xO.isEditorUIElement(e)},OO=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},z1=function(e,n){var a=_C(e),i=mg.getParent(n,function(l){return wB(l)||(a?e.dom.is(l,a):!1)});return i!==null},AO=function(e){try{var n=Cu(V.fromDom(e.getElement()));return ys(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},$O=function(e,n){var a=n.editor;EO(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Ui.setEditorTimeout(a,function(){var i=e.focusedEditor;!z1(a,AO(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),dg||(dg=function(i){var l=e.activeEditor;l&&au(i).each(function(c){c.ownerDocument===document&&c!==document.body&&!z1(l,c)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},mg.bind(document,"focusin",dg))},DO=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(mg.unbind(document,"focusin",dg),dg=null)},_O=function(e){e.on("AddEditor",Me($O,e)),e.on("RemoveEditor",Me(DO,e))},PO=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},CB=function(e){return e.collapsed?re.from(Mc(e.startContainer,e.startOffset)).map(V.fromDom):re.none()},SB=function(e,n){return CB(n).bind(function(a){return $a(a)?re.some(a):Ba(e,a)===!1?re.some(e):re.none()})},MO=function(e,n){SB(V.fromDom(e.getBody()),n).bind(function(a){return $u(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},O2=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},xB=function(e){return yf(e)||F1(e).isSome()},kB=function(e){return e.iframeElement&&yf(V.fromDom(e.iframeElement))},TB=function(e){var n=e.getBody();return n&&xB(V.fromDom(n))},EB=function(e){var n=Cu(V.fromDom(e.getElement()));return ys(n).filter(function(a){return!OO(a.dom)&&z1(e,a.dom)}).isSome()},Hc=function(e){return e.inline?TB(e):kB(e)},RO=function(e){return Hc(e)||EB(e)},OB=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Hc(e)===!1&&x2(e).each(function(c){e.selection.setRng(c),i=c});var l=PO(e,n.getNode());if(e.$.contains(a,l)){O2(l),MO(e,i),H1(e);return}e.inline||(dr.opera||O2(a),e.getWin().focus()),(dr.gecko||e.inline)&&(O2(a),MO(e,i)),H1(e)},H1=function(e){return e.editorManager.setActive(e)},BO=function(e,n){e.removed||(n?H1(e):OB(e))},FO=function(e,n,a,i,l){var c=a?n.startContainer:n.endContainer,m=a?n.startOffset:n.endOffset;return re.from(c).map(V.fromDom).map(function(b){return!i||!n.collapsed?of(b,l(b,m)).getOr(b):b}).bind(function(b){return po(b)?re.some(b):Io(b).filter(po)}).map(function(b){return b.dom}).getOr(e)},IO=function(e,n,a){return FO(e,n,!0,a,function(i,l){return Math.min(bb(i),l)})},NO=function(e,n,a){return FO(e,n,!1,a,function(i,l){return l>0?l-1:l})},LO=function(e,n){for(var a=e;e&&Kn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},AB=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var c=n.startOffset,m=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&m-c<2&&i.hasChildNodes()&&(a=i.childNodes[c]),i.nodeType===3&&l.nodeType===3&&(i.length===c?i=LO(i.nextSibling,!0):i=i.parentNode,m===0?l=LO(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},V1=function(e,n,a,i){var l,c=[],m=e.getRoot();if(a=e.getParent(a||IO(m,n,n.collapsed),e.isBlock),i=e.getParent(i||NO(m,n,n.collapsed),e.isBlock),a&&a!==m&&c.push(a),a&&i&&a!==i){l=a;for(var b=new qa(a,m);(l=b.next())&&l!==i;)e.isBlock(l)&&c.push(l)}return i&&a!==i&&i!==m&&c.push(i),c},$B=function(e,n,a){return re.from(n).map(function(i){var l=e.nodeIndex(i),c=e.createRng();return c.setStart(i.parentNode,l),c.setEnd(i.parentNode,l+1),a&&(n2(e,c,i,!0),n2(e,c,i,!1)),c})},A2=function(e,n){return gt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},$2={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},U1=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var c=e[l];if(c)return c;for(var m=e.parent;m&&m!==n;m=m.parent)if(c=m[l],c)return c}},zO=function(e){if(!Ws(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},D2=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},Jl=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,$2[n]||1);return a&&wn(a,function(l,c){i.attr(c,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&wn(n,function(m,b){i.attr(b,m)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var c=l.length;c--;)if(l[c].name===n)return l.splice(c,1),i}return i}if(n in l.map){for(var c=l.length;c--;)if(l[c].name===n){l[c].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var c=0,m=i.length;c<m;c++){var b=i[c];b.name!=="id"&&(l[l.length]={name:b.name,value:b.value},l.map[b.name]=b.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=U1(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=U1(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,c=l.firstChild;if(D2(l))return!1;if(c)do{if(c.type===1){if(c.attr("data-mce-bogus"))continue;if(n[c.name]||D2(c))return!1}if(c.type===8||c.type===3&&!zO(c)||c.type===3&&c.parent&&a[c.parent.name]&&Ws(c.value)||i&&i(c))return!1}while(c=U1(c,l));return!0},e.prototype.walk=function(n){return U1(this,null,n)},e}(),DB=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=HT("img"),c,m=0,b=0;c=n.exec(e);){var w=c[0],M=l+"_"+b++;i[M]=w,m<c.index&&a.push(e.substr(m,c.index-m)),a.push(M),m=c.index+w.length}var W=new RegExp(l+"_[0-9]+","g");return m===0?{prefix:l,uris:i,html:e,re:W}:(m<e.length&&a.push(e.substr(m)),{prefix:l,uris:i,html:a.join(""),re:W})},_2=function(e,n){return e.replace(n.re,function(a){return _r(n.uris,a).getOr(a)})},_B=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?re.some({type:n[1],data:decodeURIComponent(n[2])}):re.none()},HO=Ht.each,W1=Ht.trim,VO="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),UO={ftp:21,http:80,https:443,mailto:25},WO=["img","video"],jO=function(e,n){return xe(e)?!e:xe(n)?!Be(WO,n):!0},PB=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?jO(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},hv=function(){function e(n,a){n=W1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var c=n.indexOf("//")===0;if(n.indexOf("/")===0&&!c&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var m=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(m,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(m,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);HO(VO,function(M,W){var K=w[W];K&&(K=K.replace(/\(mce_at\)/g,"@@")),l[M]=K}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),c&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=js.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!PB(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),c=i.getURI();return l===c||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===c?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=UO[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",c,m,b=n.substring(0,n.lastIndexOf("/")).split("/"),w=a.split("/");if(b.length>=w.length){for(c=0,m=b.length;c<m;c++)if(c>=w.length||b[c]!==w[c]){i=c+1;break}}if(b.length<w.length){for(c=0,m=w.length;c<m;c++)if(c>=b.length||b[c]!==w[c]){i=c+1;break}}if(i===1)return a;for(c=0,m=b.length-(i-1);c<m;c++)l+="../";for(c=i-1,m=w.length;c<m;c++)c!==i-1?l+="/"+w[c]:l+=w[c];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,c=[],m,b=/\/$/.test(a)?"/":"",w=n.split("/"),M=a.split("/");for(HO(w,function(W){W&&c.push(W)}),w=c,i=M.length-1,c=[];i>=0;i--)if(!(M[i].length===0||M[i]===".")){if(M[i]===".."){l++;continue}if(l>0){l--;continue}c.push(M[i])}return i=w.length-l,i<=0?m=$t(c).join("/"):m=w.slice(0,i).join("/")+"/"+$t(c).join("/"),m.indexOf("/")!==0&&(m="/"+m),b&&m.lastIndexOf("/")!==m.length-1&&(m+=b),m},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),MB=Ht.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),RB=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},BB=Aa(function(){return document.implementation.createHTMLDocument("parser")}),P2=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,c=e.getShortEndedElements(),m=1,b=a;m!==0;)for(i.lastIndex=b;;){var w=i.exec(n);if(w===null)return b;if(w[1]==="!"){j(w[2],"--")?b=M2(n,!1,w.index+3):b=M2(n,!0,w.index+1);break}else{l.lastIndex=i.lastIndex;var M=l.exec(n);if(R(M)||M.index!==i.lastIndex)continue;w[1]==="/"?m-=1:Ar(c,w[2])||(m+=1),b=i.lastIndex+M[0].length;break}}return b},FB=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},M2=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&FB(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var c=i.indexOf(">",a);return c!==-1?c:i.length}else{var m=/--!?>/g;m.lastIndex=a;var b=m.exec(e);return b?b.index+b[0].length:i.length}},IB=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},j1=function(e,n){n===void 0&&(n=Ol()),e=e||{};var a=BB(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:Ce,c=e.cdata?e.cdata:Ce,m=e.text?e.text:Ce,b=e.start?e.start:Ce,w=e.end?e.end:Ce,M=e.pi?e.pi:Ce,W=e.doctype?e.doctype:Ce,K=function(de,pe){pe===void 0&&(pe="html");for(var be=de.html,we,Fe=0,De,vt,ot=[],Ue,ht,Kt,vn,br,Hn,en,pr,pn,Nn,Sn,An,Gn,on,Vn,ta,Sa,ba=0,wi=js.decode,bo=Ht.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),cu=pe==="html"?0:1,Ru=function(Wa){var ao,fi;for(ao=ot.length;ao--&&ot[ao].name!==Wa;);if(ao>=0){for(fi=ot.length-1;fi>=ao;fi--)Wa=ot[fi],Wa.valid&&w(Wa.name);ot.length=ao}},un=function(Wa,ao){return m(_2(Wa,de),ao)},kn=function(Wa){Wa!==""&&(Wa.charAt(0)===">"&&(Wa=" "+Wa),!e.allow_conditional_comments&&Wa.substr(0,3).toLowerCase()==="[if"&&(Wa=" "+Wa),l(_2(Wa,de)))},ir=function(Wa){return _2(Wa,de)},xt=function(Wa,ao){var fi=Wa||"",Bu=!j(fi,"--"),gc=M2(be,Bu,ao);return Wa=be.substr(ao,gc-ao),kn(Bu?fi+Wa:Wa),gc+1},gn=function(Wa,ao,fi,Bu,gc){if(ao=ao.toLowerCase(),fi=ir(ao in ei?ao:wi(fi||Bu||gc||"")),Go&&!br&&RB(ao)===!1){var pc=Sn[ao];if(!pc&&An){for(var Iv=An.length;Iv--&&(pc=An[Iv],!pc.pattern.test(ao)););Iv===-1&&(pc=null)}if(!pc||pc.validValues&&!(fi in pc.validValues))return}var Vg=ao==="name"||ao==="id";Vg&&Wa in MB&&(fi in a||fi in i)||bo[ao]&&!hv.isDomSafe(fi,Wa,e)||br&&(ao in bo||ao.indexOf("on")===0)||(Ue.map[ao]=fi,Ue.push({name:ao,value:fi}))},sn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),cr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,gr=n.getShortEndedElements(),Ia=e.self_closing_elements||n.getSelfClosingElements(),ei=n.getBoolAttrs(),Go=e.validate,Df=e.remove_internals,fu=e.fix_self_closing,Ji=n.getSpecialElements(),ci=be+">";we=sn.exec(ci);){var Fl=we[0];if(Fe<we.index&&un(wi(be.substr(Fe,we.index-Fe))),De=we[7])De=De.toLowerCase(),De.charAt(0)===":"&&(De=De.substr(1)),Ru(De);else if(De=we[8]){if(we.index+Fl.length>be.length){un(wi(be.substr(we.index))),Fe=we.index+Fl.length;continue}De=De.toLowerCase(),De.charAt(0)===":"&&(De=De.substr(1)),Hn=De in gr,fu&&Ia[De]&&ot.length>0&&ot[ot.length-1].name===De&&Ru(De);var vu=IB(cr,we[9]);if(vu!==null){if(vu==="all"){Fe=P2(n,be,sn.lastIndex),sn.lastIndex=Fe;continue}pr=!1}if(!Go||(en=n.getElementRule(De))){if(pr=!0,Go&&(Sn=en.attributes,An=en.attributePatterns),(Nn=we[9])?(br=Nn.indexOf("data-mce-type")!==-1,br&&Df&&(pr=!1),Ue=[],Ue.map={},Nn.replace(cr,function(Wa,ao,fi,Bu,gc){return gn(De,ao,fi,Bu,gc),""})):(Ue=[],Ue.map={}),Go&&!br){if(Gn=en.attributesRequired,on=en.attributesDefault,Vn=en.attributesForced,ta=en.removeEmptyAttrs,ta&&!Ue.length&&(pr=!1),Vn)for(ht=Vn.length;ht--;)pn=Vn[ht],vn=pn.name,Sa=pn.value,Sa==="{$uid}"&&(Sa="mce_"+ba++),Ue.map[vn]=Sa,Ue.push({name:vn,value:Sa});if(on)for(ht=on.length;ht--;)pn=on[ht],vn=pn.name,vn in Ue.map||(Sa=pn.value,Sa==="{$uid}"&&(Sa="mce_"+ba++),Ue.map[vn]=Sa,Ue.push({name:vn,value:Sa}));if(Gn){for(ht=Gn.length;ht--&&!(Gn[ht]in Ue.map););ht===-1&&(pr=!1)}if(pn=Ue.map["data-mce-bogus"]){if(pn==="all"){Fe=P2(n,be,sn.lastIndex),sn.lastIndex=Fe;continue}pr=!1}}pr&&b(De,Ue,Hn)}else pr=!1;if(vt=Ji[De]){vt.lastIndex=Fe=we.index+Fl.length,(we=vt.exec(be))?(pr&&(Kt=be.substr(Fe,we.index-Fe)),Fe=we.index+we[0].length):(Kt=be.substr(Fe),Fe=be.length),pr&&(Kt.length>0&&un(Kt,!0),w(De)),sn.lastIndex=Fe;continue}Hn||(!Nn||Nn.indexOf("/")!==Nn.length-1?ot.push({name:De,valid:pr}):pr&&w(De))}else if(De=we[1])kn(De);else if(De=we[2]){var $s=cu===1||e.preserve_cdata||ot.length>0&&n.isValidChild(ot[ot.length-1].name,"#cdata");if($s)c(De);else{Fe=xt("",we.index+2),sn.lastIndex=Fe;continue}}else if(De=we[3])W(De);else if((De=we[4])||Fl==="<!"){Fe=xt(De,we.index+Fl.length),sn.lastIndex=Fe;continue}else if(De=we[5])if(cu===1)M(De,we[6]);else{Fe=xt("?",we.index+2),sn.lastIndex=Fe;continue}Fe=we.index+Fl.length}for(Fe<be.length&&un(wi(be.substr(Fe))),ht=ot.length-1;ht>=0;ht--)De=ot[ht],De.valid&&w(De.name)},ee=function(de,pe){pe===void 0&&(pe="html"),K(DB(de),pe)};return{parse:ee}};j1.findEndTag=P2;var NB=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},qO=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=NB(e.getTempAttrs(),n),c=i.getShortEndedElements(),m;m=a.exec(l);){var b=a.lastIndex,w=m[0].length,M=void 0;c[m[1]]?M=b:M=j1.findEndTag(i,l,b),l=l.substring(0,b-w)+l.substring(M),a.lastIndex=b-w}return Oc(l)},q1=qO,KO=function(e,n){var a=Gi(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},GO=function(e,n){return Yn(Yn({},e),{format:n,get:!0,getInner:!0})},LB=function(e,n,a,i){var l=GO(n,a),c=n.no_events?l:e.fire("BeforeGetContent",l),m;return c.format==="raw"?m=Ht.trim(q1(e.serializer,i.innerHTML)):c.format==="text"?m=e.dom.isEmpty(i)?"":Oc(i.innerText||i.textContent):c.format==="tree"?m=e.serializer.serialize(i,c):m=KO(e,e.serializer.serialize(i,c)),!Be(["text","tree"],c.format)&&!hp(V.fromDom(i))?c.content=Ht.trim(m):c.content=m,c.no_events?c.content:e.fire("GetContent",c).content},zB=function(e,n,a){return re.from(e.getBody()).fold(G(n.format==="tree"?new Jl("body",11):""),function(i){return LB(e,n,a,i)})},HB=Ht.each,YO=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(m){var b={};return HB(e.getAttribs(m),function(w){var M=w.nodeName.toLowerCase();M.indexOf("_")!==0&&M!=="style"&&M.indexOf("data-")!==0&&(b[M]=e.getAttrib(m,M))}),b},c=function(m,b){var w,M;for(M in m)if(Ar(m,M)){if(w=b[M],typeof w>"u"||m[M]!==w)return!1;delete b[M]}for(M in b)if(Ar(b,M))return!1;return!0};return!c(l(a),l(i))||!c(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!ul(a)&&!ul(i)};return{compare:n}},XO=Ht.makeMap,ZO=function(e){var n=[];e=e||{};var a=e.indent,i=XO(e.indent_before||""),l=XO(e.indent_after||""),c=js.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format==="html";return{start:function(b,w,M){var W,K,ee,de;if(a&&i[b]&&n.length>0&&(de=n[n.length-1],de.length>0&&de!==`
`&&n.push(`
`)),n.push("<",b),w)for(W=0,K=w.length;W<K;W++)ee=w[W],n.push(" ",ee.name,'="',c(ee.value,!0),'"');!M||m?n[n.length]=">":n[n.length]=" />",M&&a&&l[b]&&n.length>0&&(de=n[n.length-1],de.length>0&&de!==`
`&&n.push(`
`))},end:function(b){var w;n.push("</",b,">"),a&&l[b]&&n.length>0&&(w=n[n.length-1],w.length>0&&w!==`
`&&n.push(`
`))},text:function(b,w){b.length>0&&(n[n.length]=w?b:c(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,w){w?n.push("<?",b," ",c(w),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},xd=function(e,n){n===void 0&&(n=Ol());var a=ZO(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var c=e.validate,m={3:function(w){a.text(w.value,w.raw)},8:function(w){a.comment(w.value)},7:function(w){a.pi(w.name,w.value)},10:function(w){a.doctype(w.value)},4:function(w){a.cdata(w.value)},11:function(w){if(w=w.firstChild)do b(w);while(w=w.next)}};a.reset();var b=function(w){var M=m[w.type];if(M)M(w);else{var W=w.name,K=w.shortEnded,ee=w.attributes;if(c&&ee&&ee.length>1){var de=[];de.map={};var pe=n.getElementRule(w.name);if(pe){for(var be=0,we=pe.attributesOrder.length;be<we;be++){var Fe=pe.attributesOrder[be];if(Fe in ee.map){var De=ee.map[Fe];de.map[Fe]=De,de.push({name:Fe,value:De})}}for(var be=0,we=ee.length;be<we;be++){var Fe=ee[be].name;if(!(Fe in de.map)){var De=ee.map[Fe];de.map[Fe]=De,de.push({name:Fe,value:De})}}ee=de}}if(a.start(w.name,ee,K),!K){if(w=w.firstChild)do b(w);while(w=w.next);a.end(W)}}};return l.type===1&&!e.inner?b(l):m[11](l),a.getContent()};return{serialize:i}},JO=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];ut(e,function(n){JO.add(n)})})();var R2=["font","text-decoration","text-emphasis"],K1=function(e,n){return Yt(e.parseStyle(e.getAttrib(n,"style")))},VB=function(e){return JO.has(e)},UB=function(e,n){return yr(K1(e,n),function(a){return!VB(a)})},WB=function(e){return Re(e,function(n){return at(R2,function(a){return j(n,a)})})},jB=function(e,n,a){var i=K1(e,n),l=K1(e,a),c=function(m){var b=e.getStyle(n,m),w=e.getStyle(a,m);return bt(b)&&bt(w)&&b!==w};return at(i,function(m){var b=function(M){return at(M,function(W){return W===m})};if(!b(l)&&b(R2)){var w=WB(l);return at(w,c)}else return c(m)})},QO=function(e,n,a){return re.from(a.container()).filter(Kn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},B2=Me(QO,!0,gv),F2=Me(QO,!1,gv),qB=function(e){var n=e.container();return Kn(n)&&(n.data.length===0||rl(n.data)&&wd.isBookmarkNode(n.parentNode))},bv=function(e,n){return function(a){return re.from(v1(e?0:-1,a)).filter(n).isSome()}},eA=function(e){return vp(e)&&aa(V.fromDom(e),"display")==="block"},tA=function(e){return vo(e)&&!gi(e)},KB=bv(!0,eA),GB=bv(!1,eA),gg=bv(!0,Hu),pg=bv(!1,Hu),nA=bv(!0,pi),rA=bv(!1,pi),yv=bv(!0,tA),wv=bv(!1,tA),Sr=function(e){for(var n=[],a=e.dom;a;)n.push(V.fromDom(a)),a=a.lastChild;return n},YB=function(e){var n=Mi(e,"br"),a=Re(Sr(e).slice(-1),Om);n.length===a.length&&ut(a,Uo)},wf=function(e){lp(e),Di(e,V.fromHtml('<br data-mce-bogus="1">'))},XB=function(e){bl(e).each(function(n){rf(n).each(function(a){Ul(e)&&Om(n)&&Ul(a)&&Uo(n)})})},ZB=function(e){return e.slice(0,-1)},aA=function(e,n,a){return Ba(n,e)?ZB(hb(e,function(i){return a(i)||Or(i,n)})):[]},th=function(e,n){return aA(e,n,Le)},Vc=function(e,n){return[e].concat(th(e,n))},I2=function(e,n,a){return WC(e,n,a,qB)},oA=function(e,n){return fn(Vc(V.fromDom(n.container()),e),Ul)},Ir=function(e,n,a){return I2(e,n.dom,a).forall(function(i){return oA(n,a).fold(function(){return nc(i,a,n.dom)===!1},function(l){return nc(i,a,n.dom)===!1&&Ba(l,V.fromDom(i.container()))})})},iA=function(e,n,a){return oA(n,a).fold(function(){return I2(e,n.dom,a).forall(function(i){return nc(i,a,n.dom)===!1})},function(i){return I2(e,i.dom,a).isNone()})},Vr=Me(iA,!1),N2=Me(iA,!0),JB=Me(Ir,!1),QB=Me(Ir,!0),eF=function(e){return m1(e).exists(Om)},G1=function(e,n,a){var i=Re(Vc(V.fromDom(a.container()),n),Ul),l=Wt(i).getOr(n);return Dl(e,l.dom,a).filter(eF)},L2=function(e,n){return m1(n).exists(Om)||G1(!0,e,n).isSome()},z2=function(e,n){return kR(n).exists(Om)||G1(!1,e,n).isSome()},tF=Me(G1,!1),Dr=Me(G1,!0),uA=function(e){return It.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},H2=function(e,n){var a=Re(Vc(V.fromDom(n.container()),e),Ul);return Wt(a).getOr(e)},V2=function(e,n){return uA(n)?F2(n):F2(n)||ac(H2(e,n).dom,n).exists(F2)},U2=function(e,n){return uA(n)?B2(n):B2(n)||rc(H2(e,n).dom,n).exists(B2)},lA=function(e){return Be(["pre","pre-wrap"],e)},Y1=function(e){return m1(e).bind(function(n){return Sb(n,po)}).exists(function(n){return lA(aa(n,"white-space"))})},W2=function(e,n){return ac(e.dom,n).isNone()},nF=function(e,n){return rc(e.dom,n).isNone()},sA=function(e,n){return W2(e,n)||nF(e,n)||Vr(e,n)||N2(e,n)||z2(e,n)||L2(e,n)},rF=function(e,n){return Y1(n)?!1:sA(e,n)||V2(e,n)||U2(e,n)},X1=function(e,n){return Y1(n)?!1:Vr(e,n)||JB(e,n)||z2(e,n)||V2(e,n)},aF=function(e){var n=e.container(),a=e.offset();return Kn(n)&&a<n.data.length?It(n,a+1):e},Z1=function(e,n){return Y1(n)?!1:N2(e,n)||QB(e,n)||L2(e,n)||U2(e,n)},cA=function(e,n){return X1(e,n)||Z1(e,aF(n))},fA=function(e,n){return hd(e.charAt(n))},oF=function(e){var n=e.container();return Kn(n)&&Nt(n.data,nl)},vA=function(e){var n=e.split("");return gt(n,function(a,i){return hd(a)&&i>0&&i<n.length-1&&b1(n[i-1])&&b1(n[i+1])?" ":a}).join("")},iF=function(e,n){var a=n.data,i=It(n,0);return fA(a,0)&&!cA(e,i)?(n.data=" "+a.slice(1),!0):!1},fa=function(e){var n=e.data,a=vA(n);return a!==n?(e.data=a,!0):!1},dA=function(e,n){var a=n.data,i=It(n,a.length-1);return fA(a,a.length-1)&&!cA(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},J1=function(e,n){return re.some(n).filter(oF).bind(function(a){var i=a.container(),l=iF(e,i)||fa(i)||dA(e,i);return l?re.some(a):re.none()})},j2=function(e){var n=V.fromDom(e.getBody());e.selection.isCollapsed()&&J1(n,It.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},mA=function(e,n,a){var i=ln(e,function(l,c){return gv(c)||hd(c)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+nl}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+c}},{previousCharIsSpace:!1,str:""});return i.str},q2=function(e,n,a){if(a!==0){var i=V.fromDom(e),l=gp(i,Ul).getOr(i),c=e.data.slice(n,n+a),m=n+a>=e.data.length&&Z1(l,It(e,e.data.length)),b=n===0&&X1(l,It(e,0));e.replaceData(n,a,mA(c,b,m))}},nh=function(e,n){var a=e.data.slice(n),i=a.length-Je(a).length;q2(e,n,i)},Q1=function(e,n){var a=e.data.slice(0,n),i=a.length-pt(a).length;q2(e,n-i,i)},K2=function(e,n,a,i){i===void 0&&(i=!0);var l=pt(e.data).length,c=i?e:n,m=i?n:e;return i?c.appendData(m.data):c.insertData(0,m.data),Uo(V.fromDom(m)),a&&nh(c,l),c},uF=function(e,n){var a=e.container(),i=e.offset();return It.isTextPosition(e)===!1&&a===n.parentNode&&i>It.before(n).offset()},lF=function(e,n){return uF(n,e)?It(n.container(),n.offset()-1):n},sF=function(e){return Kn(e)?It(e,0):It.before(e)},cF=function(e){return Kn(e)?It(e,e.data.length):It.after(e)},e0=function(e){return $c(e.previousSibling)?re.some(cF(e.previousSibling)):e.previousSibling?oc(e.previousSibling):re.none()},t0=function(e){return $c(e.nextSibling)?re.some(sF(e.nextSibling)):e.nextSibling?$u(e.nextSibling):re.none()},fF=function(e,n){var a=It.before(n.previousSibling?n.previousSibling:n.parentNode);return ac(e,a).fold(function(){return rc(e,It.after(n))},re.some)},vF=function(e,n){return rc(e,It.after(n)).fold(function(){return ac(e,It.before(n))},re.some)},dF=function(e,n){return e0(n).orThunk(function(){return t0(n)}).orThunk(function(){return fF(e,n)})},mF=function(e,n){return t0(n).orThunk(function(){return e0(n)}).orThunk(function(){return vF(e,n)})},gF=function(e,n,a){return e?mF(n,a):dF(n,a)},pF=function(e,n,a){return gF(e,n,a).map(Me(lF,a))},gA=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},hF=function(e){return function(n){return n.dom===e}},pA=function(e,n){return n&&Ar(e.schema.getBlockElements(),Ra(n))},bF=function(e){if(_i(e)){var n=V.fromHtml('<br data-mce-bogus="1">');return lp(e),Di(e,n),re.some(It.before(n.dom))}else return re.none()},Cv=function(e,n,a){var i=rf(e).filter(Vo),l=Vf(e).filter(Vo);return Uo(e),dw(i,l,n,function(c,m,b){var w=c.dom,M=m.dom,W=w.data.length;return K2(w,M,a),b.container()===M?It(w,W):b}).orThunk(function(){return a&&(i.each(function(c){return Q1(c.dom,c.dom.length)}),l.each(function(c){return nh(c.dom,0)})),n})},yF=function(e,n){return Ar(e.schema.getTextInlineElements(),Ra(n))},Sv=function(e,n,a,i){i===void 0&&(i=!0);var l=pF(n,e.getBody(),a.dom),c=gp(a,Me(pA,e),hF(e.getBody())),m=Cv(a,l,yF(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):c.bind(bF).fold(function(){i&&gA(e,n,m)},function(b){i&&gA(e,n,re.some(b))})},wF=function(e){return function(n){return Or(e,n)}},G2=function(e){return Mi(e,"td,th")},hA=function(e,n){var a=function(M){return yd(V.fromDom(M),n)},i=a(e.startContainer),l=a(e.endContainer),c=i.isSome(),m=l.isSome(),b=ou(i,l,Or).getOr(!1),w=!b&&c&&m;return{startTable:i,endTable:l,isStartInTable:c,isEndInTable:m,isSameTable:b,isMultiTable:w}},n0=function(e,n){return{start:e,end:n}},CF=function(e,n,a){return{rng:e,table:n,cells:a}},rh=vr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),r0=function(e,n){return Wo(V.fromDom(e),"td,th",n)},bA=function(e){return!Or(e.start,e.end)},yA=function(e,n){return yd(e.start,n).bind(function(a){return yd(e.end,n).bind(function(i){return mw(Or(a,i),a)})})},kd=function(e,n){return!bA(e)&&yA(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},SF=function(e,n){var a=r0(e.startContainer,n),i=r0(e.endContainer,n);return ou(a,i,n0)},xF=function(e){return function(n){return yd(n,e).bind(function(a){return dn(G2(a)).map(function(i){return n0(n,i)})})}},So=function(e){return function(n){return yd(n,e).bind(function(a){return Wt(G2(a)).map(function(i){return n0(i,n)})})}},Uc=function(e){return function(n){return yA(n,e).map(function(a){return CF(n,a,G2(a))})}},a0=function(e,n,a,i){if(a.collapsed||!e.forall(bA))return re.none();if(n.isSameTable){var l=e.bind(Uc(i));return re.some({start:l,end:l})}else{var c=r0(a.startContainer,i),m=r0(a.endContainer,i),b=c.bind(xF(i)).bind(Uc(i)),w=m.bind(So(i)).bind(Uc(i));return re.some({start:b,end:w})}},Y2=function(e,n){return bn(e,function(a){return Or(a,n)})},ah=function(e){return ou(Y2(e.cells,e.rng.start),Y2(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},X2=function(e,n,a){return e.exists(function(i){return kd(i,a)&&lg(i.start,n)})},o0=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(c){return l.setStartAfter(c.dom)}),i.each(function(c){return l.setEndBefore(c.dom)}),l},wA=function(e,n,a,i){return a0(e,n,a,i).bind(function(l){var c=l.start,m=l.end;return c.or(m)}).bind(function(l){var c=n.isSameTable,m=ah(l).getOr([]);if(c&&l.cells.length===m.length)return re.some(rh.fullTable(l.table));if(m.length>0){if(c)return re.some(rh.partialTable(m,re.none()));var b=o0(a,n);return re.some(rh.partialTable(m,re.some(Yn(Yn({},n),{rng:b}))))}else return re.none()})},i0=function(e,n,a,i){return a0(e,n,a,i).bind(function(l){var c=l.start,m=l.end,b=c.bind(ah).getOr([]),w=m.bind(ah).getOr([]);if(b.length>0&&w.length>0){var M=o0(a,n);return re.some(rh.multiTable(b,w,M))}else return re.none()})},u0=function(e,n){var a=wF(e),i=SF(n,a),l=hA(n,a);return X2(i,n,a)?i.map(function(c){return rh.singleCellTable(n,c.start)}):l.isMultiTable?i0(i,l,n,a):wA(i,l,n,a)},hg=function(e){var n=cm(e)?rf(e):bl(e);return n.bind(hg).orThunk(function(){return re.some(e)})},bg=function(e){return ut(e,function(n){zt(n,"contenteditable"),wf(n)})},uc=function(e,n){return re.from(e.dom.getParent(n,e.dom.isBlock)).map(V.fromDom)},yg=function(e,n,a){a.each(function(i){n?Uo(i):(wf(i),e.selection.setCursorLocation(i.dom,0))})},l0=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),J2(e,l,n,!1)},Z2=function(e){var n=bf(e),a=V.fromDom(e.selection.getNode());Cm(a.dom)&&_i(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&at(n,function(i){return Or(i,a)})&&$(a,"data-mce-selected","1")},CA=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(c){var m=c.rng,b=c.isStartInTable,w=uc(e,b?m.endContainer:m.startContainer);m.deleteContents(),yg(e,b,w.filter(_i));var M=b?n[0]:n[n.length-1];return l0(e,M,i,b),_i(M)?re.none():re.some(b?n.slice(1):n.slice(0,-1))}).getOr(n);return bg(l),Z2(e),!0},SA=function(e,n,a,i){var l=e.selection.getRng(),c=n[0],m=a[a.length-1];l0(e,c,l,!0),l0(e,m,l,!1);var b=_i(c)?n:n.slice(1),w=_i(m)?a:a.slice(0,-1);return bg(b.concat(w)),i.deleteContents(),Z2(e),!0},J2=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=hg(a).getOr(a),c=V.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(_i(c)&&(wf(c),i&&e.selection.setCursorLocation(c.dom,0)),!Or(a,c)){var m=Zv(Io(c),a)?[]:ki(c);ut(m.concat(wu(a)),function(b){!Or(b,c)&&!Ba(b,c)&&_i(b)&&Uo(b)})}return!0},kF=function(e,n){return Sv(e,!1,n),!0},xv=function(e,n,a){return u0(n,a).map(function(i){return i.fold(Me(J2,e),Me(kF,e),Me(CA,e),Me(SA,e))})},TF=function(e,n){return wg(e,n)},_u=function(e,n,a,i){return Q2(n,i).fold(function(){return xv(e,n,a)},function(l){return TF(e,l)}).getOr(!1)},ka=function(e,n,a){var i=V.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?CA(e,a,re.none()):_u(e,i,l,n)},ws=function(e,n){return fn(Vc(n,e),Us)},Q2=function(e,n){return fn(Vc(n,e),ip("caption"))},xA=function(e,n,a,i,l){return Fc(a,e.getBody(),l).bind(function(c){return ws(n,V.fromDom(c.getNode())).map(function(m){return Or(m,i)===!1})})},wg=function(e,n){return wf(n),e.selection.setCursorLocation(n.dom,0),re.some(!0)},eS=function(e,n,a,i){return $u(e.dom).bind(function(l){return oc(e.dom).map(function(c){return n?a.isEqual(l)&&i.isEqual(c):a.isEqual(c)&&i.isEqual(l)})}).getOr(!0)},kA=function(e,n){return wg(e,n)},TA=function(e,n,a){return Q2(e,V.fromDom(a.getNode())).map(function(i){return Or(i,n)===!1})},EF=function(e,n,a,i,l){return Fc(a,e.getBody(),l).bind(function(c){return eS(i,a,l,c)?kA(e,i):TA(n,i,c)}).or(re.some(!0))},OF=function(e,n,a,i){var l=It.fromRangeStart(e.selection.getRng());return ws(a,i).bind(function(c){return _i(c)?wg(e,c):xA(e,a,n,c,l)}).getOr(!1)},tS=function(e,n,a,i){var l=It.fromRangeStart(e.selection.getRng());return _i(i)?wg(e,i):EF(e,a,n,i,l)},nS=function(e,n){return e?nA(n):rA(n)},lc=function(e,n){var a=It.fromRangeStart(e.selection.getRng());return nS(n,a)||Dl(n,e.getBody(),a).exists(function(i){return nS(n,i)})},AF=function(e,n,a){var i=V.fromDom(e.getBody());return Q2(i,a).fold(function(){return OF(e,n,i,a)||lc(e,n)},function(l){return tS(e,n,i,l).getOr(!1)})},s0=function(e,n){var a=V.fromDom(e.selection.getStart(!0)),i=bf(e);return e.selection.isCollapsed()&&i.length===0?AF(e,n,a):ka(e,a,i)},$F=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},rS=function(e){var n=It.fromRangeStart(e),a=It.fromRangeEnd(e),i=e.commonAncestorContainer;return Dl(!1,i,a).map(function(l){return!nc(n,a,i)&&nc(n,l,i)?$F(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},aS=function(e){return e.collapsed?e:rS(e)},DF=function(e){return e.firstChild&&e.firstChild===e.lastChild},oS=function(e){return e.name==="br"||e.value===nl},_F=function(e,n){var a=e.getBlockElements();return a[n.name]&&DF(n)&&oS(n.firstChild)},PF=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||_F(e,n))},EA=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),PF(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},MF=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},RF=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return MF(l)},c0=function(e){return Re(e.childNodes,function(n){return n.nodeName==="LI"})},BF=function(e){return e.data===nl||Ha(e)},OA=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&BF(e.firstChild)},AA=function(e){return!e.firstChild||OA(e)},iS=function(e){return e.length>0&&AA(e[e.length-1])?e.slice(0,-1):e},uS=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},FF=function(e,n){return!!uS(e,n)},lS=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},IF=function(e,n){var a=It.before(e),i=Mo(n),l=i.next(a);return l?l.toRange():null},$A=function(e,n){var a=It.after(e),i=Mo(n),l=i.prev(a);return l?l.toRange():null},oh=function(e,n,a,i){var l=lS(e,i),c=e.parentNode;return c.insertBefore(l[0],e),Ht.each(n,function(m){c.insertBefore(m,e)}),c.insertBefore(l[1],e),c.removeChild(e),$A(n[n.length-1],a)},sS=function(e,n,a){var i=e.parentNode;return Ht.each(n,function(l){i.insertBefore(l,e)}),IF(e,a)},NF=function(e,n,a,i){return i.insertAfter(n.reverse(),e),$A(n[0],a)},LF=function(e,n,a,i){var l=RF(n,e,i),c=uS(n,a.startContainer),m=iS(c0(l.firstChild)),b=1,w=2,M=n.getRoot(),W=function(K){var ee=It.fromRangeStart(a),de=Mo(n.getRoot()),pe=K===b?de.prev(ee):de.next(ee);return pe?uS(n,pe.getNode())!==c:!0};return W(b)?sS(c,m,M):W(w)?NF(c,m,M,n):oh(c,m,M,a)},DA=function(e,n,a){var i=V.fromDom(e.getRoot());return X1(i,It.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),Z1(i,It.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},f0=Cm,zF=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,f0);return a===i&&lg(V.fromDom(a),n)}else return!1},HF=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},VF=function(e,n){re.from(e.getParent(n,"td,th")).map(V.fromDom).each(XB)},UF=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),c=YO(i);Ht.each(i.select("*[data-mce-fragment]"),function(m){var b=xe(a[m.nodeName.toLowerCase()]);if(b&&UB(i,m))for(var w=m.parentNode;xe(w)&&w!==l;w=w.parentNode){var M=jB(i,m,w);if(M)break;if(c.compare(w,m)){i.remove(m,!0);break}}})}},_A=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},PA=function(e){Ht.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},WF=function(e){return!!e.getAttribute("data-mce-fragment")},jF=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},qF=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var c=sg(e.getBody(),n);if(i.getContentEditable(c)==="false"){i.remove(n),l.select(c);return}var m=i.createRng(),b=n.previousSibling;if(Kn(b)){if(m.setStart(b,b.nodeValue.length),!dr.ie){var w=n.nextSibling;Kn(w)&&(b.appendData(w.data),w.parentNode.removeChild(w))}}else m.setStartBefore(n),m.setEndBefore(n);var M=function(K){var ee=It.fromRangeStart(K),de=Mo(e.getBody());if(ee=de.next(ee),ee)return ee.toRange()},W=i.getParent(n,i.isBlock);i.remove(n),W&&i.isEmpty(W)&&(e.$(W).empty(),m.setStart(W,0),m.setEnd(W,0),!f0(W)&&!WF(W)&&(a=M(m))?(m=a,i.remove(W)):i.add(W,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(m)}},KF=function(e){var n=e.dom,a=aS(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,f0);zF(n,a,i)?J2(e,a,V.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},GF=function(e,n,a){var i,l,c,m=e.selection,b=e.dom;/^ | $/.test(n)&&(n=DA(b,m.getRng(),n));var w=e.parser,M=a.merge,W=xd({validate:XM(e)},e.schema),K='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',ee=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(ee.isDefaultPrevented()){e.fire("SetContent",{content:ee.content,format:"html",selection:!0,paste:a.paste});return}n=ee.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,K),l=m.getRng();var de=l.startContainer||(l.parentElement?l.parentElement():null),pe=e.getBody();de===pe&&m.isCollapsed()&&b.isBlock(pe.firstChild)&&jF(e,pe.firstChild)&&b.isEmpty(pe.firstChild)&&(l=b.createRng(),l.setStart(pe.firstChild,0),l.setEnd(pe.firstChild,0),m.setRng(l)),m.isCollapsed()||KF(e),i=m.getNode();var be={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},we=w.parse(n,be);if(a.paste===!0&&EA(e.schema,we)&&FF(b,i)){l=LF(W,b,m.getRng(),we),m.setRng(l),e.fire("SetContent",ee);return}if(_A(we),c=we.lastChild,c.attr("id")==="mce_marker"){var Fe=c;for(c=c.prev;c;c=c.walk(!0))if(c.type===3||!b.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(Fe,c,c.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!be.invalid)n=W.serialize(we),HF(e,n,i);else{e.selection.setContent(K),i=m.getNode();var De=e.getBody();for(i.nodeType===9?i=c=De:c=i;c!==De;)i=c,c=c.parentNode;n=i===De?De.innerHTML:b.getOuterHTML(i),n=W.serialize(w.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return W.serialize(we)}))),i===De?b.setHTML(De,n):b.setOuterHTML(i,n)}UF(e,M),qF(e,b.get("mce_marker")),PA(e.getBody()),VF(b,m.getStart()),e.fire("SetContent",ee),e.addVisual()},cS=function(e,n){n(e),e.firstChild&&cS(e.firstChild,n),e.next&&cS(e.next,n)},ih=function(e,n,a){var i={},l={},c=[];a.firstChild&&cS(a.firstChild,function(w){ut(e,function(M){M.name===w.name&&(i[M.name]?i[M.name].nodes.push(w):i[M.name]={filter:M,nodes:[w]})}),ut(n,function(M){typeof w.attr(M.name)=="string"&&(l[M.name]?l[M.name].nodes.push(w):l[M.name]={filter:M,nodes:[w]})})});for(var m in i)Ar(i,m)&&c.push(i[m]);for(var b in l)Ar(l,b)&&c.push(l[b]);return c},YF=function(e,n,a){var i=ih(e,n,a);ut(i,function(l){ut(l.filter.callbacks,function(c){c(l.nodes,l.filter.name,{})})})},MA="html",uh=function(e){return e instanceof Jl},XF=function(e){Hc(e)&&$u(e.getBody()).each(function(n){var a=n.getNode(),i=pi(a)?$u(a).getOr(n):n;e.selection.setRng(i.toRange())})},v0=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&XF(e)},RA=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var c=Gi(e);c&&e.schema.isValidChild(n.nodeName.toLowerCase(),c.toLowerCase())?(a=l,a=e.dom.createHTML(c,Mp(e),a)):a||(a='<br data-mce-bogus="1">'),v0(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=xd({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=hp(V.fromDom(n))?a:Ht.trim(a),v0(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},ZF=function(e,n,a,i){YF(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=xd({validate:e.validate},e.schema).serialize(a);return i.content=hp(V.fromDom(n))?l:Ht.trim(l),v0(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},JF=function(e,n){return Yn(Yn({format:MA},e),{set:!0,content:uh(n)?"":n})},QF=function(e,n,a){var i=JF(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return uh(n)||(n=l.content),re.from(e.getBody()).fold(G(n),function(c){return uh(n)?ZF(e,c,n,l):RA(e,c,n,l)})},eI=function(e,n){return Cw(e,n).isSome()},BA=function(e){return fe(e)?e:Le},tI=function(e,n,a){for(var i=e.dom,l=BA(a);i.parentNode;){i=i.parentNode;var c=V.fromDom(i),m=n(c);if(m.isSome())return m;if(l(c))break}return re.none()},fS=function(e,n,a){var i=n(e),l=BA(a);return i.orThunk(function(){return l(e)?re.none():tI(e,n,l)})},vS=XC,FA=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var c=i[l];if(_l(c)&&c.inherit===!1&&e.dom.is(n,c.selector))return!0}return!1},dS=function(e,n,a,i,l){var c=e.dom.getRoot();return n===c?!1:(n=e.dom.getParent(n,function(m){return FA(e,m,a)?!0:m.parentNode===c||!!Fi(e,m,a,i,!0)}),!!Fi(e,n,a,i,l))},mS=function(e,n,a){if(vS(n,a.inline)||vS(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},d0=function(e,n,a,i,l,c){var m=a[i];if(fe(a.onmatch))return a.onmatch(n,a,i);if(m){if(X(m.length)){for(var b in m)if(Ar(m,b)){var w=i==="attributes"?e.getAttrib(n,b):Vp(e,n,b),M=Nc(m[b],c),W=me(w)||xn(w);if(W&&me(M))continue;if(l&&W&&!a.exact||(!l||a.exact)&&!vS(w,ZC(e,M,b)))return!1}}else for(var K=0;K<m.length;K++)if(i==="attributes"?e.getAttrib(n,m[K]):Vp(e,n,m[K]))return!0}return!0},Fi=function(e,n,a,i,l){var c=e.formatter.get(a),m=e.dom;if(c&&n)for(var b=0;b<c.length;b++){var w=c[b];if(mS(e.dom,n,w)&&d0(m,n,w,"attributes",l,i)&&d0(m,n,w,"styles",l,i)){var M=w.classes;if(M){for(var W=0;W<M.length;W++)if(!e.dom.hasClass(n,Nc(M[W],i)))return}return w}}},lh=function(e,n,a,i,l){if(i)return dS(e,i,n,a,l);if(i=e.selection.getNode(),dS(e,i,n,a,l))return!0;var c=e.selection.getStart();return!!(c!==i&&dS(e,c,n,a,l))},gS=function(e,n,a){var i=[],l={},c=e.selection.getStart();return e.dom.getParent(c,function(m){for(var b=0;b<n.length;b++){var w=n[b];!l[w]&&Fi(e,m,w,a)&&(l[w]=!0,i.push(w))}},e.dom.getRoot()),i},pS=function(e,n){var a=function(l){return Or(l,V.fromDom(e.getBody()))},i=function(l,c){return Fi(e,l.dom,c)?re.some(c):re.none()};return re.from(e.selection.getStart(!0)).bind(function(l){return fS(V.fromDom(l),function(c){return Ve(n,function(m){return i(c,m)})},a)}).getOrNull()},nI=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),c=C1(i,l),m=a.length-1;m>=0;m--){var b=a[m];if(!_l(b)||xe(b.defaultBlock))return!0;for(var w=c.length-1;w>=0;w--)if(i.is(c[w],b.selector))return!0}return!1},IA=function(e,n,a){return ln(a,function(i,l){var c=IR(e,l);return e.formatter.matchNode(n,l,{},c)?i.concat([l]):i},[])},Cg=nt,hS="_mce_caret",bS=function(e,n){return e.importNode(n,!0)},rI=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==Cg||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},yS=function(e){return rI(e).length>0},NA=function(e){if(e){var n=new qa(e,e);for(e=n.current();e;e=n.next())if(Kn(e))return e}return null},Td=function(e){var n=V.fromTag("span");return q(n,{id:hS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Di(n,V.fromText(Cg)),n},LA=function(e){var n=NA(e);return n&&n.nodeValue.charAt(0)===Cg&&n.deleteData(0,1),n},wS=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(yS(n))Sv(e,!1,V.fromDom(n),a);else{var c=l.getRng(),m=i.getParent(n,i.isBlock),b=c.startContainer,w=c.startOffset,M=c.endContainer,W=c.endOffset,K=LA(n);i.remove(n,!0),b===K&&w>0&&c.setStart(K,w-1),M===K&&W>0&&c.setEnd(K,W-1),m&&i.isEmpty(m)&&wf(V.fromDom(m)),l.setRng(c)}},m0=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)wS(e,n,a);else if(n=gd(e.getBody(),l.getStart()),!n)for(;n=i.get(hS);)wS(e,n,!1)},aI=function(e,n,a){var i=e.dom,l=i.getParent(a,Me(YC,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(YB(V.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},zA=function(e,n){return e.appendChild(n),n},HA=function(e,n){var a=Tt(e,function(i,l){return zA(i,l.cloneNode(!1))},n);return zA(a,a.ownerDocument.createTextNode(Cg))},oI=function(e,n,a,i,l,c){var m=e.formatter,b=e.dom,w=Re(Yt(m.get()),function(ee){return ee!==i&&!Nt(ee,"removeformat")}),M=IA(e,a,w),W=Re(M,function(ee){return!NR(e,ee,i)});if(W.length>0){var K=a.cloneNode(!1);return b.add(n,K),m.remove(i,l,K,c),b.remove(K),re.some(K)}else return re.none()},iI=function(e,n,a){var i,l,c=e.selection,m=c.getRng(),b=m.startOffset,w=m.startContainer,M=w.nodeValue;i=gd(e.getBody(),c.getStart()),i&&(l=NA(i));var W=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(M&&b>0&&b<M.length&&W.test(M.charAt(b))&&W.test(M.charAt(b-1))){var K=c.getBookmark();m.collapse(!0);var ee=bd(e,m,e.formatter.get(n));ee=R1(ee),e.formatter.apply(n,a,ee),c.moveToBookmark(K)}else(!i||l.nodeValue!==Cg)&&(i=bS(e.getDoc(),Td(!0).dom),l=i.firstChild,m.insertNode(i),b=1),e.formatter.apply(n,a,i),c.setCursorLocation(l,b)},VA=function(e,n,a,i){var l=e.dom,c=e.selection,m,b,w,M=[],W=c.getRng(),K=W.startContainer,ee=W.startOffset;for(b=K,K.nodeType===3&&(ee!==K.nodeValue.length&&(m=!0),b=b.parentNode);b;){if(Fi(e,b,n,a,i)){w=b;break}b.nextSibling&&(m=!0),M.push(b),b=b.parentNode}if(w)if(m){var de=c.getBookmark();W.collapse(!0);var pe=bd(e,W,e.formatter.get(n),!0);pe=R1(pe),e.formatter.remove(n,a,pe,i),c.moveToBookmark(de)}else{var be=gd(e.getBody(),w),we=Td(!1).dom;aI(e,we,be!==null?be:w);var Fe=oI(e,we,w,n,a,i),De=HA(M.concat(Fe.toArray()),we);wS(e,be,!1),c.setCursorLocation(De,1),l.isEmpty(w)&&l.remove(w)}},uI=function(e,n){var a=e.selection,i=e.getBody();m0(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===Cg&&m0(e,gd(i,a.getStart())),(n===37||n===39)&&m0(e,gd(i,a.getStart()))},CS=function(e){e.on("mouseup keydown",function(n){uI(e,n.keyCode)})},Sg=function(e,n){var a=Td(!1),i=HA(n,a.dom);return Hl(V.fromDom(e),a),Uo(V.fromDom(e)),It(i,0)},lI=function(e,n){var a=e.schema.getTextInlineElements();return Ar(a,Ra(n))&&!Ic(n.dom)&&!vf(n.dom)},sI=function(e){return Ic(e.dom)&&yS(e.dom)},Ed={},g0=Wr,UA=or,cI=function(e,n){var a=Ed[e];a||(Ed[e]=[]),Ed[e].push(n)},WA=function(e,n){UA(Ed[e],function(a){a(n)})};cI("pre",function(e){var n=e.selection.getRng(),a,i=function(m){return c(m.previousSibling)&&va(a,m.previousSibling)!==-1},l=function(m,b){Kr(b).remove(),Kr(m).append("<br><br>").append(b.childNodes)},c=Cl(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),UA(g0(g0(a,c),i),function(m){l(m.previousSibling,m)}))});var sh=Ht.each,SS=function(e){return Mr(e)&&!ul(e)&&!Ic(e)&&!vf(e)},ch=function(e,n){for(var a=e;a;a=a[n]){if(Kn(a)&&bt(a.data))return e;if(Mr(a)&&!ul(a))return a}return e},Wc=function(e,n,a){var i=YO(e);if(n&&a&&(n=ch(n,"previousSibling"),a=ch(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var c=l;l=l.nextSibling,n.appendChild(c)}return e.remove(a),Ht.each(Ht.grep(a.childNodes),function(m){n.appendChild(m)}),n}return a},jA=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=Wc(e,GC(i),i);Wc(e,l,GC(l,!0))}},xS=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";sh(e.select(i,a),function(l){SS(l)&&sh(n.styles,function(c,m){e.setStyle(l,m,"")})})}},kS=function(e,n,a){sh(e.childNodes,function(i){SS(i)&&(n(i)&&a(i),i.hasChildNodes()&&kS(i,n,a))})},fI=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},qA=function(e,n){return function(a){return!!(a&&Vp(e,a,n))}},KA=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),fI(e,i)}},xg=vr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),vI=/^(src|href|style)$/,kv=Ht.each,kg=XC,dI=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},GA=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},YA=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Mr(i)){var c=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>c?c:l]}return Kn(i)&&a&&l>=i.nodeValue.length&&(i=new qa(i,e.getBody()).next()||i),Kn(i)&&!a&&l===0&&(i=new qa(i,e.getBody()).prev()||i),i},TS=function(e,n){var a=n?"firstChild":"lastChild";if(dI(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},ES=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},XA=function(e,n,a,i,l){var c=V.fromDom(n),m=V.fromDom(e.create(i,l)),b=a?af(c):za(c);return mm(m,b),a?(Hl(c,m),up(m,c)):(Wf(c,m),Di(m,c)),m.dom},mI=function(e,n,a){if(Bi(a)&&kg(n,a.inline)||Lc(a)&&kg(n,a.block))return!0;if(_l(a))return Mr(n)&&e.is(n,a.selector)},gI=function(e,n){return n.links&&e.nodeName==="A"},p0=function(e,n,a,i){var l=GC(n,a,i);return me(l)||l.nodeName==="BR"||e.isBlock(l)},pI=function(e,n,a){var i=n.parentNode,l,c=e.dom,m=Gi(e);Lc(a)&&(m?i===c.getRoot()&&(!a.list_block||!kg(n,a.list_block))&&ut(Xt(n.childNodes),function(b){og(e,m,b.nodeName.toLowerCase())?l?l.appendChild(b):(l=ES(c,b,m),c.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):c.isBlock(n)&&!c.isBlock(i)&&(!p0(c,n,!1)&&!p0(c,n.firstChild,!0,!0)&&n.insertBefore(c.create("br"),n.firstChild),!p0(c,n,!0)&&!p0(c,n.lastChild,!1,!0)&&n.appendChild(c.create("br")))),!(LR(a)&&!kg(a.inline,n))&&c.remove(n,!0)},ZA=function(e,n,a,i,l){var c,m=e.dom;if(!mI(m,i,n)&&!gI(i,n))return xg.keep();var b=i;if(Bi(n)&&n.remove==="all"&&Z(n.preserve_attributes)){var w=Re(m.getAttribs(b),function(ee){return Be(n.preserve_attributes,ee.name.toLowerCase())});if(m.removeAllAttribs(b),ut(w,function(ee){return m.setAttrib(b,ee.name,ee.value)}),w.length>0)return xg.rename("span")}if(n.remove!=="all"){kv(n.styles,function(ee,de){ee=ZC(m,Nc(ee,a),de+""),se(de)&&(de=ee,l=null),(n.remove_similar||!l||kg(Vp(m,l,de),ee))&&m.setStyle(b,de,""),c=!0}),c&&m.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),kv(n.attributes,function(ee,de){var pe;if(ee=Nc(ee,a),se(de)&&(de=ee,l=null),n.remove_similar||!l||kg(m.getAttrib(l,de),ee)){if(de==="class"&&(ee=m.getAttrib(b,de),ee&&(pe="",ut(ee.split(/\s+/),function(be){/mce\-\w+/.test(be)&&(pe+=(pe?" ":"")+be)}),pe))){m.setAttrib(b,de,pe);return}if(vI.test(de)&&b.removeAttribute("data-mce-"+de),de==="style"&&Cl(["li"])(b)&&m.getStyle(b,"list-style-type")==="none"){b.removeAttribute(de),m.setStyle(b,"list-style-type","none");return}de==="class"&&b.removeAttribute("className"),b.removeAttribute(de)}}),kv(n.classes,function(ee){ee=Nc(ee,a),(!l||m.hasClass(l,ee))&&m.removeClass(b,ee)});for(var M=m.getAttribs(b),W=0;W<M.length;W++){var K=M[W].nodeName;if(K.indexOf("_")!==0&&K.indexOf("data-")!==0)return xg.keep()}}return n.remove!=="none"?(pI(e,b,n),xg.removed()):xg.keep()},Tg=function(e,n,a,i,l){return ZA(e,n,a,i,l).fold(Le,function(c){return e.dom.rename(i,c),!0},At)},hI=function(e,n,a,i,l){var c;return ut(C1(e.dom,n.parentNode).reverse(),function(m){if(!c&&m.id!=="_start"&&m.id!=="_end"){var b=Fi(e,m,a,i,l);b&&b.split!==!1&&(c=m)}}),c},bI=function(e,n,a,i){return ZA(e,n,a,i,i).fold(G(i),function(l){var c=e.dom.createFragment();return c.appendChild(i),e.dom.rename(i,l)},G(null))},OS=function(e,n,a,i,l,c,m,b){var w,M,W,K=e.dom;if(a){for(var ee=a.parentNode,de=i.parentNode;de&&de!==ee;de=de.parentNode){w=K.clone(de,!1);for(var pe=0;pe<n.length&&(w=bI(e,n[pe],b,w),w!==null);pe++);w&&(M&&w.appendChild(M),W||(W=w),M=w)}c&&(!m.mixed||!K.isBlock(a))&&(i=K.split(a,i)),M&&(l.parentNode.insertBefore(M,l),W.appendChild(l),Bi(m)&&jA(K,m,b,M))}return i},AS=function(e,n,a,i,l){var c=e.formatter.get(n),m=c[0],b=!0,w=e.dom,M=e.selection,W=function(De){var vt=hI(e,De,n,a,l);return OS(e,c,vt,De,De,!0,m,a)},K=function(De){return ul(De)&&Mr(De)&&(De.id==="_start"||De.id==="_end")},ee=function(De){return at(c,function(vt){return Tg(e,vt,a,De,De)})},de=function(De){var vt=!0,ot=!1;Mr(De)&&w.getContentEditable(De)&&(vt=b,b=w.getContentEditable(De)==="true",ot=!0);var Ue=Xt(De.childNodes);if(b&&!ot){var ht=ee(De),Kt=ht||at(c,function(en){return mS(w,De,en)}),vn=De.parentNode;!Kt&&xe(vn)&&JC(m)&&ee(vn)}if(m.deep&&Ue.length){for(var br=0;br<Ue.length;br++)de(Ue[br]);ot&&(b=vt)}var Hn=["underline","line-through","overline"];ut(Hn,function(en){Mr(De)&&e.dom.getStyle(De,"text-decoration")===en&&De.parentNode&&jE(w,De.parentNode)===en&&Tg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:en}},null,De)})},pe=function(De){var vt=w.get(De?"_start":"_end"),ot=vt[De?"firstChild":"lastChild"];return K(ot)&&(ot=ot[De?"firstChild":"lastChild"]),Kn(ot)&&ot.data.length===0&&(ot=De?vt.previousSibling||vt.nextSibling:vt.nextSibling||vt.previousSibling),w.remove(vt,!0),ot},be=function(De){var vt,ot,Ue=bd(e,De,c,De.collapsed);if(m.split){if(Ue=R1(Ue),vt=YA(e,Ue,!0),ot=YA(e,Ue),vt!==ot){if(vt=TS(vt,!0),ot=TS(ot,!1),GA(w,vt,ot)){var ht=re.from(vt.firstChild).getOr(vt);W(XA(w,ht,!0,"span",{id:"_start","data-mce-type":"bookmark"})),pe(!0);return}if(GA(w,ot,vt)){var ht=re.from(ot.lastChild).getOr(ot);W(XA(w,ht,!1,"span",{id:"_end","data-mce-type":"bookmark"})),pe(!1);return}vt=ES(w,vt,"span",{id:"_start","data-mce-type":"bookmark"}),ot=ES(w,ot,"span",{id:"_end","data-mce-type":"bookmark"});var Kt=w.createRng();Kt.setStartAfter(vt),Kt.setEndBefore(ot),Wp(w,Kt,function(vn){ut(vn,function(br){!ul(br)&&!ul(br.parentNode)&&W(br)})}),W(vt),W(ot),vt=pe(!0),ot=pe()}else vt=ot=W(vt);Ue.startContainer=vt.parentNode?vt.parentNode:vt,Ue.startOffset=w.nodeIndex(vt),Ue.endContainer=ot.parentNode?ot.parentNode:ot,Ue.endOffset=w.nodeIndex(ot)+1}Wp(w,Ue,function(vn){ut(vn,de)})};if(i){if(y1(i)){var we=w.createRng();we.setStartBefore(i),we.setEndAfter(i),be(we)}else be(i);Kp(e,n,i,a);return}if(w.getContentEditable(M.getNode())==="false"){i=M.getNode();for(var Fe=0;Fe<c.length&&!(c[Fe].ceFalseOverride&&Tg(e,c[Fe],a,i,i));Fe++);Kp(e,n,i,a);return}!M.isCollapsed()||!Bi(m)||bf(e).length?(a2(M,!0,function(){r2(e,be)}),Bi(m)&&lh(e,n,a,M.getStart())&&WE(w,M,M.getRng()),e.nodeChanged()):VA(e,n,a,l),Kp(e,n,i,a)},JA=Ht.each,h0=function(e,n,a,i){var l=function(c){if(c.nodeType===1&&c.parentNode&&c.parentNode.nodeType===1){var m=jE(e,c.parentNode);e.getStyle(c,"color")&&m?e.setStyle(c,"text-decoration",m):e.getStyle(c,"text-decoration")===m&&e.setStyle(c,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Ht.walk(i,l,"childNodes"),l(i))},QA=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&kS(i,qA(e,"fontSize"),KA(e,"backgroundColor",Nc(n.styles.backgroundColor,a)))},fh=function(e,n,a,i){Bi(n)&&(n.inline==="sub"||n.inline==="sup")&&(kS(i,qA(e,"fontSize"),KA(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},vh=function(e,n,a,i){JA(n,function(l){Bi(l)&&JA(e.dom.select(l.inline,i),function(c){SS(c)&&Tg(e,l,a,c,l.exact?c:null)}),xS(e.dom,l,i)})},e3=function(e,n,a,i,l){Fi(e,l.parentNode,a,i)&&Tg(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(c){if(Fi(e,c,a,i))return Tg(e,n,i,l),!0})},b0=Ht.each,yI=function(e){return Mr(e)&&!ul(e)&&!Ic(e)&&!vf(e)},wI=function(e,n,a,i){if(DC(e)&&Bi(n)){var l=_b(e.schema),c=eI(V.fromDom(a),function(m){return Ic(m.dom)});return _a(l,i)&&_i(V.fromDom(a.parentNode),!1)&&!c}else return!1},$S=function(e,n,a,i){var l=e.formatter.get(n),c=l[0],m=!i&&e.selection.isCollapsed(),b=e.dom,w=e.selection,M=function(vt,ot){if(ot===void 0&&(ot=c),fe(ot.onformat)&&ot.onformat(vt,ot,a,i),b0(ot.styles,function(ht,Kt){b.setStyle(vt,Kt,Nc(ht,a))}),ot.styles){var Ue=b.getAttrib(vt,"style");Ue&&b.setAttrib(vt,"data-mce-style",Ue)}b0(ot.attributes,function(ht,Kt){b.setAttrib(vt,Kt,Nc(ht,a))}),b0(ot.classes,function(ht){ht=Nc(ht,a),b.hasClass(vt,ht)||b.addClass(vt,ht)})},W=function(vt,ot){var Ue=!1;return b0(vt,function(ht){if(!_l(ht))return!1;if(!(xe(ht.collapsed)&&ht.collapsed!==m)&&b.is(ot,ht.selector)&&!Ic(ot))return M(ot,ht),Ue=!0,!1}),Ue},K=function(vt){if(U(vt)){var ot=b.create(vt);return M(ot),ot}else return null},ee=function(vt,ot,Ue){var ht=[],Kt=!0,vn=c.inline||c.block,br=K(vn);Wp(vt,ot,function(Hn){var en,pr=function(pn){var Nn=!1,Sn=Kt,An=pn.nodeName.toLowerCase(),Gn=pn.parentNode,on=Gn.nodeName.toLowerCase();if(Mr(pn)&&vt.getContentEditable(pn)&&(Sn=Kt,Kt=vt.getContentEditable(pn)==="true",Nn=!0),Ha(pn)&&!wI(e,c,pn,on)){en=null,Lc(c)&&vt.remove(pn);return}if(Lc(c)&&c.wrapper&&Fi(e,pn,n,a)){en=null;return}if(Kt&&!Nn&&Lc(c)&&!c.wrapper&&YC(e,An)&&og(e,on,vn)){var Vn=vt.rename(pn,vn);M(Vn),ht.push(Vn),en=null;return}if(_l(c)){var ta=W(l,pn);if(!ta&&xe(Gn)&&JC(c)&&(ta=W(l,Gn)),!Bi(c)||ta){en=null;return}}Kt&&!Nn&&og(e,vn,An)&&og(e,on,vn)&&!(!Ue&&Kn(pn)&&rl(pn.data))&&!Ic(pn)&&(!Bi(c)||!vt.isBlock(pn))?(en||(en=vt.clone(br,!1),pn.parentNode.insertBefore(en,pn),ht.push(en)),en.appendChild(pn)):(en=null,ut(Xt(pn.childNodes),pr),Nn&&(Kt=Sn),en=null)};ut(Hn,pr)}),c.links===!0&&ut(ht,function(Hn){var en=function(pr){pr.nodeName==="A"&&M(pr,c),ut(Xt(pr.childNodes),en)};en(Hn)}),ut(ht,function(Hn){var en=function(Nn){var Sn=0;return ut(Nn.childNodes,function(An){!FR(An)&&!ul(An)&&Sn++}),Sn},pr=function(Nn){var Sn=fn(Nn.childNodes,yI).filter(function(An){return mS(vt,An,c)});return Sn.map(function(An){var Gn=vt.clone(An,!1);return M(Gn),vt.replace(Gn,Nn,!0),vt.remove(An,!0),Gn}).getOr(Nn)},pn=en(Hn);if((ht.length>1||!vt.isBlock(Hn))&&pn===0){vt.remove(Hn,!0);return}(Bi(c)||Lc(c)&&c.wrapper)&&(!c.exact&&pn===1&&(Hn=pr(Hn)),vh(e,l,a,Hn),e3(e,c,n,a,Hn),QA(vt,c,a,Hn),h0(vt,c,a,Hn),fh(vt,c,a,Hn),jA(vt,c,a,Hn))})};if(b.getContentEditable(w.getNode())==="false"){i=w.getNode();for(var de=0,pe=l.length;de<pe;de++){var be=l[de];if(be.ceFalseOverride&&_l(be)&&b.is(i,be.selector)){M(i,be);break}}c2(e,n,i,a);return}if(c){if(i)if(y1(i)){if(!W(l,i)){var we=b.createRng();we.setStartBefore(i),we.setEndAfter(i),ee(b,bd(e,we,l),!0)}}else ee(b,i,!0);else if(!m||!Bi(c)||bf(e).length){var Fe=w.getNode(),De=l[0];!e.settings.forced_root_block&&De.defaultBlock&&!b.getParent(Fe,b.isBlock)&&$S(e,De.defaultBlock),w.setRng(aS(w.getRng())),a2(w,!0,function(){r2(e,function(vt,ot){var Ue=ot?vt:bd(e,vt,l);ee(b,Ue,!1)})}),WE(b,w,w.getRng()),e.nodeChanged()}else iI(e,n,a);WA(n,e)}c2(e,n,i,a)},t3=function(e){return Ar(e,"vars")},CI=function(e,n){e.set({}),n.on("NodeChange",function(a){Eg(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=re.from(a.node).map(function(l){return y1(l)?l:l.startContainer}).bind(function(l){return Mr(l)?re.some(l):re.from(l.parentElement)}).getOrThunk(function(){return n3(n)});Eg(n,i,e.get())})},n3=function(e){return e.selection.getStart()},DS=function(e,n,a,i,l){var c=function(b){var w=e.formatter.matchNode(b,a,l??{},i);return!X(w)},m=function(b){return FA(e,b,a)?!0:i?!1:xe(e.formatter.matchNode(b,a,l,!0))};return Ut(n,c,m)},r3=function(e,n){var a=n??n3(e);return Re(C1(e.dom,a),function(i){return Mr(i)&&!vf(i)})},Eg=function(e,n,a){var i=r3(e,n);wn(a,function(l,c){var m=function(b){var w=DS(e,i,c,b.similar,t3(b)?b.vars:void 0),M=w.isSome();if(b.state.get()!==M){b.state.set(M);var W=w.getOr(n);t3(b)?b.callback(M,{node:W,format:c,parents:i}):ut(b.callbacks,function(K){return K(M,{node:W,format:c,parents:i})})}};ut([l.withSimilar,l.withoutSimilar],m),ut(l.withVars,m)})},SI=function(e,n,a,i,l,c){var m=n.get();ut(a.split(","),function(b){var w=_r(m,b).getOrThunk(function(){var K={withSimilar:{state:Tu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Tu(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=K,K}),M=function(){var K=r3(e);return DS(e,K,b,l,c).isSome()};if(X(c)){var W=l?w.withSimilar:w.withoutSimilar;W.callbacks.push(i),W.callbacks.length===1&&W.state.set(M())}else w.withVars.push({state:Tu(M()),similar:l,vars:c,callback:i})}),n.set(m)},xI=function(e,n,a){var i=e.get();ut(n.split(","),function(l){return _r(i,l).each(function(c){i[l]={withSimilar:Yn(Yn({},c.withSimilar),{callbacks:Re(c.withSimilar.callbacks,function(m){return m!==a})}),withoutSimilar:Yn(Yn({},c.withoutSimilar),{callbacks:Re(c.withoutSimilar.callbacks,function(m){return m!==a})}),withVars:Re(c.withVars,function(m){return m.callback!==a})}})}),e.set(i)},kI=function(e,n,a,i,l,c){return n.get()===null&&CI(n,e),SI(e,n,a,i,l,c),{unbind:function(){return xI(n,a,i)}}},TI=function(e,n,a,i){var l=e.formatter.get(n);lh(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?AS(e,n,a,i):$S(e,n,a,i)},y0=function(e,n){var a=n||document,i=a.createDocumentFragment();return ut(e,function(l){i.appendChild(l.dom)}),V.fromDom(i)},w0=function(e,n,a){return{element:e,width:n,rows:a}},_S=function(e,n){return{element:e,cells:n}},a3=function(e,n){return{x:e,y:n}},C0=function(e,n){var a=parseInt(ae(e,n),10);return isNaN(a)?1:a},o3=function(e,n,a,i,l){for(var c=C0(l,"rowspan"),m=C0(l,"colspan"),b=e.rows,w=a;w<a+c;w++){b[w]||(b[w]=_S(Zb(i),[]));for(var M=n;M<n+m;M++){var W=b[w].cells;W[M]=w===a&&M===n?l:Jo(l)}}},EI=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},OI=function(e,n,a){for(;EI(e,n,a);)n++;return n},i3=function(e){return ln(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},u3=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,c=0;c<l.length;c++)if(Or(l[c],n))return re.some(a3(c,i));return re.none()},l3=function(e,n,a,i,l){for(var c=[],m=e.rows,b=a;b<=l;b++){var w=m[b].cells,M=n<i?w.slice(n,i+1):w.slice(i,n+1);c.push(_S(m[b].element,M))}return c},PS=function(e,n,a){var i=n.x,l=n.y,c=a.x,m=a.y,b=l<m?l3(e,i,l,c,m):l3(e,i,m,c,l);return w0(e.element,i3(b),b)},MS=function(e,n){var a=Jo(e.element),i=V.fromTag("tbody");return mm(i,n),Di(a,i),a},s3=function(e){return gt(e.rows,function(n){var a=gt(n.cells,function(l){var c=Zb(l);return zt(c,"colspan"),zt(c,"rowspan"),c}),i=Jo(n.element);return mm(i,a),i})},S0=function(e){var n=w0(Jo(e),0,[]);return ut(Mi(e,"tr"),function(a,i){ut(Mi(a,"td,th"),function(l,c){o3(n,OI(n,c,i),i,a,l)})}),w0(n.element,i3(n.rows),n.rows)},Ml=function(e){return MS(e,s3(e))},dh=function(e,n,a){return u3(e,n).bind(function(i){return u3(e,a).map(function(l){return PS(e,i,l)})})},Od=function(e){return fn(e,function(n){return Ra(n)==="ul"||Ra(n)==="ol"})},AI=function(e,n){return fn(e,function(a){return Ra(a)==="li"&&lg(a,n)}).fold(G([]),function(a){return Od(e).map(function(i){var l=V.fromTag(Ra(i)),c=Un(Cb(i),function(m,b){return j(b,"list-style")});return da(l,c),[V.fromTag("li"),l]}).getOr([])})},c3=function(e,n){var a=ln(n,function(i,l){return Di(l,i),l},e);return n.length>0?y0([a]):a},f3=function(e){return Su(e)?Io(e).filter(kb).fold(G([]),function(n){return[e,n]}):kb(e)?[e]:[]},$I=function(e,n){var a=V.fromDom(n.commonAncestorContainer),i=Vc(a,e),l=Re(i,function(b){return uu(b)||$r(b)}),c=AI(i,n),m=l.concat(c.length?c:f3(a));return gt(m,Jo)},v3=function(){return y0([])},DI=function(e,n){return c3(V.fromDom(n.cloneContents()),$I(e,n))},d3=function(e,n){return Jv(n,"table",Me(Or,e))},x0=function(e,n){return d3(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],c=S0(a);return dh(c,i,l).map(function(m){return y0([Ml(m)])})}).getOrThunk(v3)},m3=function(e,n){return n.length>0&&n[0].collapsed?v3():DI(e,n[0])},g3=function(e,n){var a=jp(n,e);return a.length>0?x0(e,a):m3(e,n)},k0=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},T0=function(e,n){return n>=0&&n<e.length&&gv(e.charAt(n))},p3=function(e,n){var a=Oc(e.innerText);return n?k0(a):a},_I=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},PI=function(e){return re.from(e.selection.getRng()).map(function(n){var a=re.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=_I(a),c=dr.browser.isIE()&&l!=="pre",m=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=p3(m,c),w=Oc(m.textContent);if(e.dom.remove(m),T0(w,0)||T0(w,w.length-1)){var M=a.getOr(i),W=p3(M,c),K=W.indexOf(b);if(K===-1)return b;var ee=T0(W,K-1),de=T0(W,K+b.length);return(ee?" ":"")+b+(de?" ":"")}else return b}).getOr("")},MI=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),c=A2(e,e2(l)),m=n.contextual?g3(V.fromDom(e.getBody()),c).dom:a.cloneContents();return m&&i.appendChild(m),e.selection.serializer.serialize(i,n)},RI=function(e,n){return Yn(Yn({},e),{format:n,get:!0,selection:!0})},BI=function(e,n,a){a===void 0&&(a={});var i=RI(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return PI(e);l.getInner=!0;var c=MI(e,l);return l.format==="tree"?c:(l.content=e.selection.isCollapsed()?"":c,e.fire("GetContent",l),l.content)},RS=0,h3=1,b3=2,FI=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),c=function(W,K,ee){return{start:W,end:K,diag:ee}},m=function(W,K,ee,de,pe){var be=w(W,K,ee,de);if(be===null||be.start===K&&be.diag===K-de||be.end===W&&be.diag===W-ee)for(var we=W,Fe=ee;we<K||Fe<de;)we<K&&Fe<de&&e[we]===n[Fe]?(pe.push([RS,e[we]]),++we,++Fe):K-W>de-ee?(pe.push([b3,e[we]]),++we):(pe.push([h3,n[Fe]]),++Fe);else{m(W,be.start,ee,be.start-be.diag,pe);for(var De=be.start;De<be.end;++De)pe.push([RS,e[De]]);m(be.end,K,be.end-be.diag,de,pe)}},b=function(W,K,ee,de){for(var pe=W;pe-K<de&&pe<ee&&e[pe]===n[pe-K];)++pe;return c(W,pe,K)},w=function(W,K,ee,de){var pe=K-W,be=de-ee;if(pe===0||be===0)return null;var we=pe-be,Fe=be+pe,De=(Fe%2===0?Fe:Fe+1)/2;i[1+De]=W,l[1+De]=K+1;var vt,ot,Ue,ht,Kt;for(vt=0;vt<=De;++vt){for(ot=-vt;ot<=vt;ot+=2){for(Ue=ot+De,ot===-vt||ot!==vt&&i[Ue-1]<i[Ue+1]?i[Ue]=i[Ue+1]:i[Ue]=i[Ue-1]+1,ht=i[Ue],Kt=ht-W+ee-ot;ht<K&&Kt<de&&e[ht]===n[Kt];)i[Ue]=++ht,++Kt;if(we%2!==0&&we-vt<=ot&&ot<=we+vt&&l[Ue-we]<=i[Ue])return b(l[Ue-we],ot+W-ee,K,de)}for(ot=we-vt;ot<=we+vt;ot+=2){for(Ue=ot+De-we,ot===we-vt||ot!==we+vt&&l[Ue+1]<=l[Ue-1]?l[Ue]=l[Ue+1]-1:l[Ue]=l[Ue-1],ht=l[Ue]-1,Kt=ht-W+ee-ot;ht>=W&&Kt>=ee&&e[ht]===n[Kt];)l[Ue]=ht--,Kt--;if(we%2===0&&-vt<=ot&&ot<=vt&&l[Ue]<=i[Ue+we])return b(l[Ue],ot+W-ee,K,de)}}},M=[];return m(0,e.length,0,n.length,M),M},y3=function(e){return Mr(e)?e.outerHTML:Kn(e)?js.encodeRaw(e.data,!1):df(e)?"<!--"+e.data+"-->":""},BS=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},II=function(e,n,a){var i=BS(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},Og=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},w3=function(e,n){var a=0;ut(e,function(i){i[0]===RS?a++:i[0]===h3?(II(n,i[1],a),a++):i[0]===b3&&Og(n,a)})},Qo=function(e){return Re(gt(Xt(e.childNodes),y3),function(n){return n.length>0})},NI=function(e,n){var a=gt(Xt(n.childNodes),y3);return w3(FI(a,e),n),n},LI=Aa(function(){return document.implementation.createHTMLDocument("undo")}),zI=function(e){return e.indexOf("</iframe>")!==-1},HI=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Cs=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ag=function(e){var n=Qo(e.getBody()),a=sr(n,function(l){var c=qO(e.serializer,l);return c.length>0?[c]:[]}),i=a.join("");return zI(i)?HI(a):Cs(i)},Ad=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?NI(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:xe(i)&&IE(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},$d=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},E0=function(e){var n=V.fromTag("body",LI());return Ou(n,$d(e)),ut(Mi(n,"*[data-mce-bogus]"),gm),Wu(n)},VI=function(e,n){return $d(e)===$d(n)},UI=function(e,n){return E0(e)===E0(n)},Cf=function(e,n){return!e||!n?!1:VI(e,n)?!0:UI(e,n)},Tv=function(e){return e.get()===0},Sf=function(e,n,a){Tv(a)&&(e.typing=n)},O0=function(e,n){e.typing&&(Sf(e,!1,n),e.add())},WI=function(e){e.typing&&(e.typing=!1,e.add())},FS=function(e,n,a){Tv(n)&&a.set(aE(e.selection))},C3=function(e,n,a,i,l,c,m){var b=Ag(e);if(c=c||{},c=Ht.extend(c,b),Tv(i)===!1||e.removed)return null;var w=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:c,lastLevel:w,originalEvent:m}).isDefaultPrevented()||w&&Cf(w,c))return null;n.data[a.get()]&&l.get().each(function(ee){n.data[a.get()].beforeBookmark=ee});var M=iR(e);if(M&&n.data.length>M){for(var W=0;W<n.data.length-1;W++)n.data[W]=n.data[W+1];n.data.length--,a.set(n.data.length)}c.bookmark=aE(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(c),a.set(n.data.length-1);var K={level:c,lastLevel:w,originalEvent:m};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",K),e.fire("change",K)):e.fire("AddUndo",K),c},S3=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},jI=function(e,n,a,i,l){if(n.transact(i)){var c=n.data[a.get()].bookmark,m=n.data[a.get()-1];Ad(e,m,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=c)}},qI=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],Ad(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},x3=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Sf(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],Ad(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},KI=function(e){e.clear(),e.add()},GI=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Cf(Ag(e),n.data[0])},YI=function(e,n){return n.get()<e.data.length-1&&!e.typing},XI=function(e,n,a){return O0(e,n),e.beforeChange(),e.ignore(a),e.add()},ZI=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},k3=function(e,n){var a=e.dom,i=xe(n)?n:e.getBody();X(e.hasVisual)&&(e.hasVisual=fR(e)),ut(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var c=vR(e),m=a.getAttrib(l,"border");(!m||m==="0")&&e.hasVisual?a.addClass(l,c):a.removeClass(l,c);break;case"A":if(!a.getAttrib(l,"href")){var b=a.getAttrib(l,"name")||l.id,w=bE(e);b&&e.hasVisual?a.addClass(l,w):a.removeClass(l,w)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},T3=function(e){return{undoManager:{beforeChange:function(n,a){return FS(e,n,a)},add:function(n,a,i,l,c,m){return C3(e,n,a,i,l,c,m)},undo:function(n,a,i){return x3(e,n,a,i)},redo:function(n,a){return qI(e,n,a)},clear:function(n,a){return S3(e,n,a)},reset:function(n){return KI(n)},hasUndo:function(n,a){return GI(e,n,a)},hasRedo:function(n,a){return YI(n,a)},transact:function(n,a,i){return XI(n,a,i)},ignore:function(n,a){return ZI(n,a)},extra:function(n,a,i,l){return jI(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return lh(e,n,a,i,l)},matchAll:function(n,a){return gS(e,n,a)},matchNode:function(n,a,i,l){return Fi(e,n,a,i,l)},canApply:function(n){return nI(e,n)},closest:function(n){return pS(e,n)},apply:function(n,a,i){return $S(e,n,a,i)},remove:function(n,a,i,l){return AS(e,n,a,i,l)},toggle:function(n,a,i){return TI(e,n,a,i)},formatChanged:function(n,a,i,l,c){return kI(e,n,a,i,l,c)}},editor:{getContent:function(n,a){return zB(e,n,a)},setContent:function(n,a){return QF(e,n,a)},insertContent:function(n,a){return GF(e,n,a)},addVisual:function(n){return k3(e,n)}},selection:{getContent:function(n,a){return BI(e,n,a)}},raw:{getModel:function(){return re.none()}}}},mh=function(e){var n=function(b){return te(b)?b:{}},a=e.undoManager,i=e.formatter,l=e.editor,c=e.selection,m=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(b,w,M){return a.transact(M)},ignore:function(b,w){return a.ignore(w)},extra:function(b,w,M,W){return a.extra(M,W)}},formatter:{match:function(b,w,M,W){return i.match(b,n(w),W)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(b){return i.canApply(b)},closest:function(b){return i.closest(b)},apply:function(b,w,M){return i.apply(b,n(w))},remove:function(b,w,M,W){return i.remove(b,n(w))},toggle:function(b,w,M){return i.toggle(b,n(w))},formatChanged:function(b,w,M,W,K){return i.formatChanged(w,M,W,K)}},editor:{getContent:function(b,w){return l.getContent(b)},setContent:function(b,w){return l.setContent(b,w)},insertContent:function(b,w){return l.insertContent(b)},addVisual:l.addVisual},selection:{getContent:function(b,w){return c.getContent(w)}},raw:{getModel:function(){return re.some(m.getRawModel())}}}},E3=function(){var e=G(null),n=G("");return{undoManager:{beforeChange:Ce,add:e,undo:e,redo:e,clear:Ce,reset:Ce,hasUndo:Le,hasRedo:Le,transact:e,ignore:Ce,extra:Ce},formatter:{match:Le,matchAll:G([]),matchNode:G(void 0),canApply:Le,closest:n,apply:Ce,remove:Ce,toggle:Ce,formatChanged:G({unbind:Ce})},editor:{getContent:n,setContent:n,insertContent:Ce,addVisual:Ce},selection:{getContent:n},raw:{getModel:G(re.none())}}},xf=function(e){return Ar(e.plugins,"rtc")},O3=function(e){return _r(e.plugins,"rtc").bind(function(n){return re.from(n.setup)})},JI=function(e){var n=e;return O3(e).fold(function(){return n.rtcInstance=T3(e),re.none()},function(a){return n.rtcInstance=E3(),re.some(function(){return a().then(function(i){return n.rtcInstance=mh(i),i.rtc.isRemote})})})},A0=function(e){return e.rtcInstance?e.rtcInstance:T3(e)},yi=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},QI=function(e,n,a){yi(e).undoManager.beforeChange(n,a)},A3=function(e,n,a,i,l,c,m){return yi(e).undoManager.add(n,a,i,l,c,m)},$3=function(e,n,a,i){return yi(e).undoManager.undo(n,a,i)},D3=function(e,n,a){return yi(e).undoManager.redo(n,a)},_3=function(e,n,a){yi(e).undoManager.clear(n,a)},P3=function(e,n){yi(e).undoManager.reset(n)},eN=function(e,n,a){return yi(e).undoManager.hasUndo(n,a)},tN=function(e,n,a){return yi(e).undoManager.hasRedo(n,a)},nN=function(e,n,a,i){return yi(e).undoManager.transact(n,a,i)},rN=function(e,n,a){yi(e).undoManager.ignore(n,a)},IS=function(e,n,a,i,l){yi(e).undoManager.extra(n,a,i,l)},gh=function(e,n,a,i,l){return yi(e).formatter.match(n,a,i,l)},M3=function(e,n,a){return yi(e).formatter.matchAll(n,a)},R3=function(e,n,a,i,l){return yi(e).formatter.matchNode(n,a,i,l)},$0=function(e,n){return yi(e).formatter.canApply(n)},aN=function(e,n){return yi(e).formatter.closest(n)},oN=function(e,n,a,i){yi(e).formatter.apply(n,a,i)},Ev=function(e,n,a,i,l){yi(e).formatter.remove(n,a,i,l)},NS=function(e,n,a,i){yi(e).formatter.toggle(n,a,i)},B3=function(e,n,a,i,l,c){return yi(e).formatter.formatChanged(n,a,i,l,c)},ph=function(e,n,a){return A0(e).editor.getContent(n,a)},F3=function(e,n,a){return A0(e).editor.setContent(n,a)},I3=function(e,n,a){return A0(e).editor.insertContent(n,a)},N3=function(e,n,a){return yi(e).selection.getContent(n,a)},L3=function(e,n){return yi(e).editor.addVisual(n)},iN=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return N3(e,a,n)},z3=function(e){return e.dom.length===0?(Uo(e),re.none()):re.some(e)},uN=function(e,n){return e.filter(function(a){return wd.isBookmarkNode(a.dom)}).bind(n?Vf:rf)},LS=function(e,n,a,i){var l=e.dom,c=n.dom,m=i?l.length:c.length;i?(K2(l,c,!1,!i),a.setStart(c,m)):(K2(c,l,!1,!i),a.setEnd(c,m))},lN=function(e,n){Io(e).each(function(a){var i=e.dom;n&&X1(a,It(i,0))?nh(i,0):!n&&Z1(a,It(i,i.length))&&Q1(i,i.length)})},H3=function(e,n,a,i){e.bind(function(l){var c=i?Q1:nh;return c(l.dom,i?l.dom.length:0),n.filter(Vo).map(function(m){return LS(l,m,a,i)})}).orThunk(function(){var l=uN(n,i).or(n).filter(Vo);return l.map(function(c){return lN(c,i)})})},hh=function(e,n){var a=re.from(n.firstChild).map(V.fromDom),i=re.from(n.lastChild).map(V.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(rf).filter(Vo).bind(z3),c=i.bind(Vf).filter(Vo).bind(z3);H3(l,a,e,!0),H3(c,i,e,!1),e.collapse(!1)},zS=function(e,n){return Yn(Yn({format:"html"},e),{set:!0,selection:!0,content:n})},sN=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},c=e.parser.parse(n.content,Yn(Yn({isRootContent:!0,forced_root_block:!1},l),n));return xd({validate:e.validate},e.schema).serialize(c)}else return n.content},V3=function(e,n,a){a===void 0&&(a={});var i=zS(a,n),l=i;if(!i.no_events){var c=e.fire("BeforeSetContent",i);if(c.isDefaultPrevented()){e.fire("SetContent",c);return}else l=c}l.content=sN(e,l);var m=e.selection.getRng();hh(m,m.createContextualFragment(l.content)),e.selection.setRng(m),Xp(e,m),l.no_events||e.fire("SetContent",l)},U3=function(e,n,a){if(e&&Ar(e,n)){var i=Re(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function D0(e,n){var a,i,l=function(m,b){return fn(b,function(w){return e.is(w,m)})},c=function(m){return e.getParents(m,null,e.getRoot())};return{selectorChangedWithUnbind:function(m,b){return a||(a={},i={},n.on("NodeChange",function(w){var M=w.element,W=c(M),K={};Ht.each(a,function(ee,de){l(de,W).each(function(pe){i[de]||(ut(ee,function(be){be(!0,{node:pe,selector:de,parents:W})}),i[de]=ee),K[de]=ee})}),Ht.each(i,function(ee,de){K[de]||(delete i[de],Ht.each(ee,function(pe){pe(!1,{node:M,selector:de,parents:W})}))})})),a[m]||(a[m]=[]),a[m].push(b),l(m,c(n.selection.getStart())).each(function(){i[m]=a[m]}),{unbind:function(){U3(a,m,b),U3(i,m,b)}}}}}var HS=function(e){return!!e.select},W3=function(e){return!!(e&&e.ownerDocument)&&Ba(V.fromDom(e.ownerDocument),V.fromDom(e))},si=function(e){return e?HS(e)?!0:W3(e.startContainer)&&W3(e.endContainer):!1},j3=function(e,n,a,i){var l,c,m=D0(e,i).selectorChangedWithUnbind,b=function(on,Vn){var ta=e.createRng();xe(on)&&xe(Vn)?(ta.setStart(on,Vn),ta.setEnd(on,Vn),vt(ta),we(!1)):(n2(e,ta,i.getBody(),!0),vt(ta))},w=function(on){return iN(i,on)},M=function(on,Vn){return V3(i,on,Vn)},W=function(on){return IO(i.getBody(),De(),on)},K=function(on){return NO(i.getBody(),De(),on)},ee=function(on,Vn){return An.getBookmark(on,Vn)},de=function(on){return An.moveToBookmark(on)},pe=function(on,Vn){return $B(e,on,Vn).each(vt),on},be=function(){var on=De(),Vn=Fe();return!on||on.item?!1:on.compareEndPoints?on.compareEndPoints("StartToEnd",on)===0:!Vn||on.collapsed},we=function(on){var Vn=De();Vn.collapse(!!on),vt(Vn)},Fe=function(){return n.getSelection?n.getSelection():n.document.selection},De=function(){var on,Vn,ta,Sa=function(bo,cu,Ru){try{return cu.compareBoundaryPoints(bo,Ru)}catch{return-1}},ba=n.document;if(i.bookmark!==void 0&&Hc(i)===!1){var wi=x2(i);if(wi.isSome())return wi.map(function(bo){return A2(i,[bo])[0]}).getOr(ba.createRange())}try{(on=Fe())&&!bm(on.anchorNode)&&(on.rangeCount>0?Vn=on.getRangeAt(0):Vn=on.createRange?on.createRange():ba.createRange(),Vn=A2(i,[Vn])[0])}catch{}return Vn||(Vn=ba.createRange?ba.createRange():ba.body.createTextRange()),Vn.setStart&&Vn.startContainer.nodeType===9&&Vn.collapsed&&(ta=e.getRoot(),Vn.setStart(ta,0),Vn.setEnd(ta,0)),l&&c&&(Sa(Vn.START_TO_START,Vn,l)===0&&Sa(Vn.END_TO_END,Vn,l)===0?Vn=c:(l=null,c=null)),Vn},vt=function(on,Vn){var ta;if(si(on)){var Sa=HS(on)?on:null;if(Sa){c=null;try{Sa.select()}catch{}return}var ba=Fe(),wi=i.fire("SetSelectionRange",{range:on,forward:Vn});if(on=wi.range,ba){c=on;try{ba.removeAllRanges(),ba.addRange(on)}catch{}Vn===!1&&ba.extend&&(ba.collapse(on.endContainer,on.endOffset),ba.extend(on.startContainer,on.startOffset)),l=ba.rangeCount>0?ba.getRangeAt(0):null}!on.collapsed&&on.startContainer===on.endContainer&&ba.setBaseAndExtent&&!dr.ie&&on.endOffset-on.startOffset<2&&on.startContainer.hasChildNodes()&&(ta=on.startContainer.childNodes[on.startOffset],ta&&ta.tagName==="IMG"&&(ba.setBaseAndExtent(on.startContainer,on.startOffset,on.endContainer,on.endOffset),(ba.anchorNode!==on.startContainer||ba.focusNode!==on.endContainer)&&ba.setBaseAndExtent(ta,0,ta,1))),i.fire("AfterSetSelectionRange",{range:on,forward:Vn})}},ot=function(on){return M(e.getOuterHTML(on)),on},Ue=function(){return AB(i.getBody(),De())},ht=function(on,Vn){return V1(e,De(),on,Vn)},Kt=function(){var on=Fe(),Vn=on?.anchorNode,ta=on?.focusNode;if(!on||!Vn||!ta||bm(Vn)||bm(ta))return!0;var Sa=e.createRng();Sa.setStart(Vn,on.anchorOffset),Sa.collapse(!0);var ba=e.createRng();return ba.setStart(ta,on.focusOffset),ba.collapse(!0),Sa.compareBoundaryPoints(Sa.START_TO_START,ba)<=0},vn=function(){var on=De(),Vn=Fe();if(!YE(Vn)&&E1(i)){var ta=P1(e,on);return ta.each(function(Sa){vt(Sa,Kt())}),ta.getOr(on)}return on},br=function(on,Vn){return m(on,Vn),Sn},Hn=function(){for(var on,Vn=e.getRoot();Vn&&Vn.nodeName!=="BODY";){if(Vn.scrollHeight>Vn.clientHeight){on=Vn;break}Vn=Vn.parentNode}return on},en=function(on,Vn){xe(on)?sB(i,on,Vn):Xp(i,De(),Vn)},pr=function(on,Vn){return vt(d2(on,Vn,i.getDoc()))},pn=function(){var on=De();return on.collapsed?It.fromRangeStart(on).getClientRects()[0]:on.getBoundingClientRect()},Nn=function(){n=l=c=null,Gn.destroy()},Sn={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:we,setCursorLocation:b,getContent:w,setContent:M,getBookmark:ee,moveToBookmark:de,select:pe,isCollapsed:be,isForward:Kt,setNode:ot,getNode:Ue,getSel:Fe,setRng:vt,getRng:De,getStart:W,getEnd:K,getSelectedBlocks:ht,normalize:vn,selectorChanged:br,selectorChangedWithUnbind:m,getScrollContainer:Hn,scrollIntoView:en,placeCaretAt:pr,getBoundingClientRect:pn,destroy:Nn},An=wd(Sn),Gn=f2(Sn,i);return Sn.bookmarkManager=An,Sn.controlSelection=Gn,Sn},q3=function(e,n){ut(n,function(a){e.attr(a,null)})},cN=function(e,n,a){e.addNodeFilter("font",function(i){ut(i,function(l){var c=n.parse(l.attr("style")),m=l.attr("color"),b=l.attr("face"),w=l.attr("size");m&&(c.color=m),b&&(c["font-family"]=b),w&&(c["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(c)),q3(l,["color","face","size"])})})},fN=function(e,n){e.addNodeFilter("strike",function(a){ut(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},K3=function(e,n){var a=Ep();n.convert_fonts_to_spans&&cN(e,a,Ht.explode(n.font_size_legacy_values)),fN(e,a)},vN=function(e,n){n.inline_styles&&K3(e,n)},VS=function(e){return new Ti(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},US=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},WS=function(e,n){var a;try{a=atob(n)}catch{return re.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return re.some(new Blob([i],{type:e}))},jS=function(e){return new Ti(function(n){var a=US(e),i=a.type,l=a.data;WS(i,l).fold(function(){return n(new Blob([]))},n)})},G3=function(e){return e.indexOf("blob:")===0?VS(e):e.indexOf("data:")===0?jS(e):null},dN=function(e){return new Ti(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},mN=0,qS=function(e){return(e||"blobid")+mN++},gN=function(e,n,a,i){var l,c;if(n.src.indexOf("blob:")===0){c=e.getByUri(n.src),c?a({image:n,blobInfo:c}):G3(n.src).then(function(M){dN(M).then(function(W){l=US(W).data,c=e.create(qS(),M,l),e.add(c),a({image:n,blobInfo:c})})},function(M){i(M)});return}var m=US(n.src),b=m.data,w=m.type;l=b,c=e.getByData(l,w),c?a({image:n,blobInfo:c}):G3(n.src).then(function(M){c=e.create(qS(),M,l),e.add(c),a({image:n,blobInfo:c})},function(M){i(M)})},Y3=function(e){return e?Xt(e.getElementsByTagName("img")):[]},X3=function(e,n){var a={},i=function(l,c){c||(c=At);var m=Re(Y3(l),function(w){var M=w.src;return!dr.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!M||M===dr.transparentSrc?!1:M.indexOf("blob:")===0?!e.isUploaded(M)&&c(w):M.indexOf("data:")===0?c(w):!1}),b=gt(m,function(w){if(a[w.src]!==void 0)return new Ti(function(W){a[w.src].then(function(K){if(typeof K=="string")return K;W({image:w,blobInfo:K.blobInfo})})});var M=new Ti(function(W,K){gN(n,w,W,K)}).then(function(W){return delete a[W.image.src],W}).catch(function(W){return delete a[w.src],W});return a[w.src]=M,M});return Ti.all(b)};return{findAll:i}},bh=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new Jl("br",1)).shortEnded=!0:i.empty().append(new Jl("#text",3)).value=nl},Z3=function(e){return KS(e,"#text")&&e.firstChild.value===nl},KS=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},J3=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},$g=function(e,n,a,i){return i.isEmpty(n,a,function(l){return J3(e,l)})},Q3=function(e,n){return e&&(Ar(n,e.name)||e.name==="br")},e$=function(e){return xe(e.attr("data-mce-bogus"))},pN=function(e){return e.attr("src")===dr.transparentSrc||xe(e.attr("data-mce-placeholder"))},GS=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),wn(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},hN=function(e,n){var a=n.blob_cache,i=function(l){var c=l.attr("src");pN(l)||e$(l)||_B(c).filter(function(){return GS(l,n)}).bind(function(m){var b=m.type,w=m.data;return re.from(a.getByData(w,b)).orThunk(function(){return WS(b,w).map(function(M){var W=a.create(qS(),M,w);return a.add(W),W})})}).each(function(m){l.attr("src",m.blobUri())})};a&&e.addAttributeFilter("src",function(l){return ut(l,i)})},_0=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,c){var m,b=i.length,w,M=Ht.extend({},a.getBlockElements()),W=a.getNonEmptyElements(),K,ee,de,pe,be=a.getWhiteSpaceElements(),we,Fe;for(M.body=1,m=0;m<b;m++)if(w=i[m],K=w.parent,M[w.parent.name]&&w===K.lastChild){for(de=w.prev;de;){if(pe=de.name,pe!=="span"||de.attr("data-mce-type")!=="bookmark"){pe==="br"&&(w=null);break}de=de.prev}w&&(w.remove(),$g(a,W,be,K)&&(we=a.getElementRule(K.name),we&&(we.removeEmpty?K.remove():we.paddEmpty&&bh(n,c,M,K))))}else{for(ee=w;K&&K.firstChild===ee&&K.lastChild===ee&&(ee=K,!M[K.name]);)K=K.parent;ee===K&&n.padd_empty_with_br!==!0&&(Fe=new Jl("#text",3),Fe.value=nl,w.replace(Fe))}}),e.addAttributeFilter("href",function(i){var l=i.length,c=function(w){var M=w.split(" ").filter(function(W){return W.length>0});return M.concat(["noopener"]).sort().join(" ")},m=function(w){var M=w?Ht.trim(w):"";return/\b(noopener)\b/g.test(M)?M:c(M)};if(!n.allow_unsafe_link_target)for(;l--;){var b=i[l];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",m(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,c,m,b,w;l--;)if(w=i[l],w.name==="a"&&w.firstChild&&!w.attr("href")){b=w.parent,c=w.lastChild;do m=c.prev,b.insert(c,w),c=m;while(c)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,c,m;l--;)if(c=i[l],m=c.parent,m.name==="ul"||m.name==="ol")if(c.prev&&c.prev.name==="li")c.prev.append(c);else{var b=new Jl("li",1);b.attr("style","list-style-type: none"),c.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),c=i.length;c--;){for(var m=i[c],b=m.attr("class").split(" "),w="",M=0;M<b.length;M++){var W=b[M],K=!1,ee=l["*"];ee&&ee[W]&&(K=!0),ee=l[m.name],!K&&ee&&ee[W]&&(K=!0),K&&(w&&(w+=" "),w+=W)}w.length||(w=null),m.attr("class",w)}}),hN(e,n)},t$=Ht.makeMap,n$=Ht.each,r$=Ht.explode,a$=Ht.extend,P0=function(e,n){n===void 0&&(n=Ol());var a={},i=[],l={},c={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var m=function(pe){for(var be=t$("tr,td,th,tbody,thead,tfoot,table"),we=n.getNonEmptyElements(),Fe=n.getWhiteSpaceElements(),De=n.getTextBlockElements(),vt=n.getSpecialElements(),ot=function(An,Gn){if(Gn===void 0&&(Gn=An.parent),vt[An.name])An.empty().remove();else{for(var on=An.children(),Vn=0,ta=on;Vn<ta.length;Vn++){var Sa=ta[Vn];n.isValidChild(Gn.name,Sa.name)||ot(Sa,Gn)}An.unwrap()}},Ue=0;Ue<pe.length;Ue++){var ht=pe[Ue],Kt=void 0,vn=void 0,br=void 0;if(!(!ht.parent||ht.fixed)){if(De[ht.name]&&ht.parent.name==="li"){for(var Hn=ht.next;Hn&&De[Hn.name];){Hn.name="li",Hn.fixed=!0,ht.parent.insert(Hn,ht.parent);Hn=Hn.next}ht.unwrap();continue}var en=[ht];for(Kt=ht.parent;Kt&&!n.isValidChild(Kt.name,ht.name)&&!be[Kt.name];Kt=Kt.parent)en.push(Kt);if(Kt&&en.length>1)if(n.isValidChild(Kt.name,ht.name)){en.reverse(),vn=b(en[0].clone());for(var pr=vn,pn=0;pn<en.length-1;pn++){n.isValidChild(pr.name,en[pn].name)?(br=b(en[pn].clone()),pr.append(br)):br=pr;for(var Nn=en[pn].firstChild;Nn&&Nn!==en[pn+1];){var Sn=Nn.next;br.append(Nn),Nn=Sn}pr=br}$g(n,we,Fe,vn)?Kt.insert(ht,en[0],!0):(Kt.insert(vn,en[0],!0),Kt.insert(ht,vn)),Kt=en[0],($g(n,we,Fe,Kt)||KS(Kt,"br"))&&Kt.empty().remove()}else ot(ht);else if(ht.parent){if(ht.name==="li"){var Hn=ht.prev;if(Hn&&(Hn.name==="ul"||Hn.name==="ol")){Hn.append(ht);continue}if(Hn=ht.next,Hn&&(Hn.name==="ul"||Hn.name==="ol")){Hn.insert(ht,Hn.firstChild,!0);continue}ht.wrap(b(new Jl("ul",1)));continue}n.isValidChild(ht.parent.name,"div")&&n.isValidChild("div",ht.name)?ht.wrap(b(new Jl("div",1))):ot(ht)}}}},b=function(pe){var be=pe.name;if(be in a){var we=l[be];we?we.push(pe):l[be]=[pe]}for(var Fe=i.length;Fe--;){var De=i[Fe].name;if(De in pe.attributes.map){var we=c[De];we?we.push(pe):c[De]=[pe]}}return pe},w=function(pe,be){n$(r$(pe),function(we){var Fe=a[we];Fe||(a[we]=Fe=[]),Fe.push(be)})},M=function(){var pe=[];for(var be in a)Ar(a,be)&&pe.push({name:be,callbacks:a[be]});return pe},W=function(pe,be){n$(r$(pe),function(we){var Fe;for(Fe=0;Fe<i.length;Fe++)if(i[Fe].name===we){i[Fe].callbacks.push(be);return}i.push({name:we,callbacks:[be]})})},K=function(){return[].concat(i)},ee=function(pe,be){var we,Fe,De,vt,ot,Ue,ht,Kt=[],vn,br=function(xt){return xt===!1?"":xt===!0?"p":xt};be=be||{},l={},c={};var Hn=a$(t$("script,style,head,html,body,title,meta,param"),n.getBlockElements()),en=_b(n),pr=n.getNonEmptyElements(),pn=n.children,Nn=e.validate,Sn="forced_root_block"in be?be.forced_root_block:e.forced_root_block,An=br(Sn),Gn=n.getWhiteSpaceElements(),on=/^[ \t\r\n]+/,Vn=/[ \t\r\n]+$/,ta=/[ \t\r\n]+/g,Sa=/^[ \t\r\n]+$/,ba=Ar(Gn,be.context)||Ar(Gn,e.root_name),wi=function(){var xt=ir.firstChild,gn=null,sn=function(gr){gr&&(xt=gr.firstChild,xt&&xt.type===3&&(xt.value=xt.value.replace(on,"")),xt=gr.lastChild,xt&&xt.type===3&&(xt.value=xt.value.replace(Vn,"")))};if(n.isValidChild(ir.name,An.toLowerCase())){for(;xt;){var cr=xt.next;xt.type===3||xt.type===1&&xt.name!=="p"&&!Hn[xt.name]&&!xt.attr("data-mce-type")?(gn||(gn=bo(An,1),gn.attr(e.forced_root_block_attrs),ir.insert(gn,xt)),gn.append(xt)):(sn(gn),gn=null),xt=cr}sn(gn)}},bo=function(xt,gn){var sn=new Jl(xt,gn),cr;return xt in a&&(cr=l[xt],cr?cr.push(sn):l[xt]=[sn]),sn},cu=function(xt){for(var gn=n.getBlockElements(),sn=xt.prev;sn&&sn.type===3;){var cr=sn.value.replace(Vn,"");if(cr.length>0){sn.value=cr;return}var gr=sn.next;if(gr){if(gr.type===3&&gr.value.length){sn=sn.prev;continue}if(!gn[gr.name]&&gr.name!=="script"&&gr.name!=="style"){sn=sn.prev;continue}}var Ia=sn.prev;sn.remove(),sn=Ia}},Ru=function(xt){var gn={};for(var sn in xt)sn!=="li"&&sn!=="p"&&(gn[sn]=xt[sn]);return gn},un=function(xt){for(var gn=xt;xe(gn);){if(gn.name in en)return $g(n,pr,Gn,gn);gn=gn.parent}return!1},kn=j1({validate:Nn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Ru(n.getSelfClosingElements()),cdata:function(xt){vn.append(bo("#cdata",4)).value=xt},text:function(xt,gn){var sn;ba||(xt=xt.replace(ta," "),Q3(vn.lastChild,Hn)&&(xt=xt.replace(on,""))),xt.length!==0&&(sn=bo("#text",3),sn.raw=!!gn,vn.append(sn).value=xt)},comment:function(xt){vn.append(bo("#comment",8)).value=xt},pi:function(xt,gn){vn.append(bo(xt,7)).value=gn,cu(vn)},doctype:function(xt){var gn=vn.append(bo("#doctype",10));gn.value=xt,cu(vn)},start:function(xt,gn,sn){var cr=Nn?n.getElementRule(xt):{};if(cr){var gr=bo(cr.outputName||xt,1);gr.attributes=gn,gr.shortEnded=sn,vn.append(gr);var Ia=pn[vn.name];Ia&&pn[gr.name]&&!Ia[gr.name]&&Kt.push(gr);for(var ei=i.length;ei--;){var Go=i[ei].name;Go in gn.map&&(Ue=c[Go],Ue?Ue.push(gr):c[Go]=[gr])}Hn[xt]&&cu(gr),sn||(vn=gr),!ba&&Gn[xt]&&(ba=!0)}},end:function(xt){var gn,sn,cr,gr=Nn?n.getElementRule(xt):{};if(gr){if(Hn[xt]&&!ba){if(gn=vn.firstChild,gn&&gn.type===3)if(sn=gn.value.replace(on,""),sn.length>0)gn.value=sn,gn=gn.next;else for(cr=gn.next,gn.remove(),gn=cr;gn&&gn.type===3;)sn=gn.value,cr=gn.next,(sn.length===0||Sa.test(sn))&&(gn.remove(),gn=cr),gn=cr;if(gn=vn.lastChild,gn&&gn.type===3)if(sn=gn.value.replace(Vn,""),sn.length>0)gn.value=sn,gn=gn.prev;else for(cr=gn.prev,gn.remove(),gn=cr;gn&&gn.type===3;)sn=gn.value,cr=gn.prev,(sn.length===0||Sa.test(sn))&&(gn.remove(),gn=cr),gn=cr}ba&&Gn[xt]&&(ba=!1);var Ia=$g(n,pr,Gn,vn),ei=vn.parent;gr.paddInEmptyBlock&&Ia&&un(vn)?bh(e,be,Hn,vn):gr.removeEmpty&&Ia?Hn[vn.name]?vn.empty().remove():vn.unwrap():gr.paddEmpty&&(Z3(vn)||Ia)&&bh(e,be,Hn,vn),vn=ei}}},n),ir=vn=new Jl(be.context||e.root_name,11);if(kn.parse(pe,be.format),Nn&&Kt.length&&(be.context?be.invalid=!0:m(Kt)),An&&(ir.name==="body"||be.isRootContent)&&wi(),!be.invalid){for(ht in l)if(Ar(l,ht)){for(Ue=a[ht],we=l[ht],vt=we.length;vt--;)we[vt].parent||we.splice(vt,1);for(Fe=0,De=Ue.length;Fe<De;Fe++)Ue[Fe](we,ht,be)}for(Fe=0,De=i.length;Fe<De;Fe++)if(Ue=i[Fe],Ue.name in c){for(we=c[Ue.name],vt=we.length;vt--;)we[vt].parent||we.splice(vt,1);for(vt=0,ot=Ue.callbacks.length;vt<ot;vt++)Ue.callbacks[vt](we,Ue.name,be)}}return ir},de={schema:n,addAttributeFilter:W,getAttributeFilters:K,addNodeFilter:w,getNodeFilters:M,filterNode:b,parse:ee};return _0(de,e),vN(de,e),de},bN=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var c=i.length;c--;){var m=i[c];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var c="data-mce-"+l,m=n.url_converter,b=n.url_converter_scope,w=i.length;w--;){var M=i[w],W=M.attr(c);W!==void 0?(M.attr(l,W.length>0?W:null),M.attr(c,null)):(W=M.attr(l),l==="style"?W=a.serializeStyle(a.parseStyle(W),M.name):m&&(W=m.call(b,W,l,M.name)),M.attr(l,W.length>0?W:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var c=i[l],m=c.attr("class");m&&(m=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,c){for(var m=i.length;m--;){var b=i[m];if(b.attr("data-mce-type")==="bookmark"&&!c.cleanup){var w=re.from(b.firstChild).exists(function(M){return!rl(M.value)});w?b.unwrap():b.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var c=i[l].firstChild;c&&(c.value=js.decode(c.value))}}),e.addNodeFilter("script,style",function(i,l){for(var c=function(W){return W.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},m=i.length;m--;){var b=i[m],w=b.firstChild?b.firstChild.value:"";if(l==="script"){var M=b.attr("type");M&&b.attr("type",M==="mce-no/type"?null:M.replace(/^mce\-/,"")),n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`// <![CDATA[
`+c(w)+`
// ]]>`)}else n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`<!--
`+c(w)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var c=i[l];n.preserve_cdata&&c.value.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=a.decode(c.value.replace(/^\[CDATA\[|\]\]$/g,""))):c.value.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var c=i.length;c--;){var m=i[c];m.type===7?m.remove():m.type===1&&l==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){ut(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var c=i.length;c--;)i[c].attr(l,null)})},yN=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},wN=function(e,n,a){var i,l=e.dom,c=n.cloneNode(!0),m=document.implementation;if(m.createHTMLDocument){var b=m.createHTMLDocument("");Ht.each(c.nodeName==="BODY"?c.childNodes:[c],function(w){b.body.appendChild(b.importNode(w,!0))}),c.nodeName!=="BODY"?c=b.body.firstChild:c=b.body,i=l.doc,l.doc=b}return WR(e,Yn(Yn({},a),{node:c})),i&&(l.doc=i),c},CN=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},o$=function(e,n,a){return CN(e,a)?wN(e,n,a):n},SN=function(e,n,a){Ht.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var c=i.length;c--;)i[c].attr(l,null)}),n.push(a))},xN=function(e,n,a){if(!n.no_events&&e){var i=u2(e,Yn(Yn({},n),{content:a}));return i.content}else return a},kN=function(e,n,a){var i=Oc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||hp(V.fromDom(n))?i:Ht.trim(i)},TN=function(e,n,a){var i=a.selection?Yn({forced_root_block:!1},a):a,l=e.parse(n,i);return yN(l),l},EN=function(e,n,a){var i=xd(e,n);return i.serialize(a)},ON=function(e,n,a,i,l){var c=EN(n,a,i);return xN(e,l,c)},AN=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:lo.DOM,l=n&&n.schema?n.schema:Ol(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var c=P0(e,l);bN(c,e,i);var m=function(b,w){w===void 0&&(w={});var M=Yn({format:"html"},w),W=o$(n,b,M),K=kN(i,W,M),ee=TN(c,K,M);return M.format==="tree"?ee:ON(n,e,l,ee,M)};return{schema:l,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:m,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:Me(SN,c,a),getTempAttrs:G(a),getNodeFilters:c.getNodeFilters,getAttributeFilters:c.getAttributeFilters}},i$=function(e,n){var a=AN(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},u$="html",$N=function(e,n){n===void 0&&(n={});var a=n.format?n.format:u$;return ph(e,n,a)},YS=function(e,n,a){return a===void 0&&(a={}),F3(e,n,a)},M0=lo.DOM,DN=function(e){M0.setStyle(e.id,"display",e.orgDisplay)},R0=function(e){return re.from(e).each(function(n){return n.destroy()})},yh=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},_N=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),M0.unbind(n,"submit reset",e.formEventDelegate))},PN=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&M0.remove(l.nextSibling),tO(e),e.editorManager.remove(e),!e.inline&&i&&DN(e),nO(e),M0.remove(e.getContainer()),R0(n),R0(a),e.destroy()}},l$=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),R0(a),R0(i)),_N(e),yh(e),e.destroyed=!0}},s$=function(e,n){var a=te(e)&&te(n);return a?c$(e,n):n},MN=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var c=n[l];for(var m in c)Ar(c,m)&&(i[m]=e(i[m],c[m]))}return i}},c$=MN(s$),RN="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),wh="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),f$="imagetools,toc".split(","),v$=function(e){var n=Re(RN,function(i){return Ar(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),rt(n)},BN=function(e){var n=Ht.makeMap(e.plugins," "),a=function(l){return Ar(n,l)},i=Ga(Ga([],Re(wh,a),!0),sr(f$,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return rt(i)},d$=function(e,n){var a=v$(e),i=BN(n),l=i.length>0,c=a.length>0,m=n.theme==="mobile";if(l||c||m)var b=`
- `,w=m?`

Themes:`+b+"mobile":"",M=l?`

Plugins:`+b+i.join(b):"",W=c?`

Settings:`+b+a.join(b):""},FN=function(e,n){return{sections:G(e),settings:G(n)}},XS=ar().deviceType,IN=XS.isTouch(),ZS=XS.isPhone(),NN=XS.isTablet(),LN=["lists","autolink","autosave"],m$={table_grid:!1,object_resizing:!1,resize:!1},Dg=function(e){var n=Z(e)?e.join(" "):e,a=gt(U(n)?n.split(" "):[],_e);return Re(a,function(i){return i.length>0})},zN=function(e){return Re(e,Me(Be,LN))},HN=function(e,n){var a=an(n,function(i,l){return Be(e,l)});return FN(a.t,a.f)},Ch=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=_r(i,n).getOr({});return Ht.extend({},a,l)},Sh=function(e,n){return Ar(e.sections(),n)},g$=function(e,n,a){var i=e.sections();return Sh(e,n)&&i[n].theme===a},VN=function(e,n){return Sh(e,n)?e.sections()[n]:{}},p$=function(e,n){return _r(e,"toolbar_mode").orThunk(function(){return _r(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},UN=function(e,n,a,i,l){var c={id:n,theme:"silver",toolbar_mode:p$(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Yn(Yn({},c),i?m$:{})},h$=function(e,n){var a={resize:!1,toolbar_mode:p$(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Yn(Yn(Yn({},m$),a),n?i:{})},WN=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Ht.extend({},e.external_plugins,a):a},jN=function(e,n){return[].concat(Dg(e)).concat(Dg(n))},qN=function(e,n,a,i){return e&&g$(n,"mobile","mobile")?zN(i):e&&Sh(n,"mobile")?i:a},KN=function(e,n,a,i){var l=Dg(a.forced_plugins),c=Dg(i.plugins),m=VN(n,"mobile"),b=m.plugins?Dg(m.plugins):c,w=qN(e,n,c,b),M=jN(l,w);if(dr.browser.isIE()&&Be(M,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Ht.extend(i,{plugins:M.join(" ")})},GN=function(e,n){return e&&Sh(n,"mobile")},Xi=function(e,n,a,i,l){var c=e?{mobile:h$(l.mobile||{},n)}:{},m=HN(["mobile"],c$(c,l)),b=Ht.extend(a,i,m.settings(),GN(e,m)?Ch(m,"mobile"):{},{validate:!0,external_plugins:WN(i,m.settings())});return KN(e,m,i,b)},b$=function(e,n,a,i,l){var c=UN(l,n,a,IN,e),m=Xi(ZS||NN,ZS,c,i,l);return m.deprecation_warnings!==!1&&d$(l,m),m},Dd=function(e,n,a){return re.from(n.settings[a]).filter(e)},YN=function(e){var n={};return typeof e=="string"?ut(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Ht.trim(i[0])]=Ht.trim(i[1]):n[Ht.trim(i[0])]=Ht.trim(i[0])}):n=e,n},XN=function(e){return function(n){return Z(n)&&yr(n,e)}},ZN=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?YN(l):i==="string"?Dd(U,e,n).getOr(a):i==="number"?Dd(se,e,n).getOr(a):i==="boolean"?Dd(Q,e,n).getOr(a):i==="object"?Dd(te,e,n).getOr(a):i==="array"?Dd(Z,e,n).getOr(a):i==="string[]"?Dd(XN(U),e,n).getOr(a):i==="function"?Dd(fe,e,n).getOr(a):l},ha=function(){var e={},n=function(l,c){e[l]=c},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return Ar(e,l)};return{add:n,get:a,has:i}},B0=ha(),y$=function(e,n){var a=n.dom;return a[e]},w$=function(e,n){return parseInt(aa(n,e),10)},Ro=Me(y$,"clientWidth"),JN=Me(y$,"clientHeight"),xh=Me(w$,"margin-top"),QN=Me(w$,"margin-left"),e5=function(e){return e.dom.getBoundingClientRect()},t5=function(e,n,a){var i=Ro(e),l=JN(e);return n>=0&&a>=0&&n<=i&&a<=l},C$=function(e,n,a,i){var l=e5(n),c=e?l.left+n.dom.clientLeft+QN(n):0,m=e?l.top+n.dom.clientTop+xh(n):0,b=a-c,w=i-m;return{x:b,y:w}},kf=function(e,n,a){var i=V.fromDom(e.getBody()),l=e.inline?i:Ls(i),c=C$(e.inline,l,n,a);return t5(l,c.x,c.y)},Rl=function(e){return re.from(e).map(V.fromDom)},kh=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Rl(n).map(Yv).getOr(!1)},_d=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},sc=function(e){var n=[],a=function(){var ee=e.theme;return ee&&ee.getNotificationManagerImpl?ee.getNotificationManagerImpl():_d()},i=function(){return re.from(n[0])},l=function(ee,de){return ee.type===de.type&&ee.text===de.text&&!ee.progressBar&&!ee.timeout&&!de.progressBar&&!de.timeout},c=function(){n.length>0&&a().reposition(n)},m=function(ee){n.push(ee)},b=function(ee){bn(n,function(de){return de===ee}).each(function(de){n.splice(de,1)})},w=function(ee,de){if(de===void 0&&(de=!0),!(e.removed||!kh(e)))return de&&e.fire("BeforeOpenNotification",{notification:ee}),fn(n,function(pe){return l(a().getArgs(pe),ee)}).getOrThunk(function(){e.editorManager.setActive(e);var pe=a().open(ee,function(){b(pe),c(),i().fold(function(){return e.focus()},function(be){return cB(V.fromDom(be.getEl()))})});return m(pe),c(),e.fire("OpenNotification",{notification:Yn({},pe)}),pe})},M=function(){i().each(function(ee){a().close(ee),b(ee),c()})},W=G(n),K=function(ee){ee.on("SkinLoaded",function(){var de=hE(ee);de&&w({text:de,type:"warning",timeout:0},!1),c()}),ee.on("show ResizeEditor ResizeWindow NodeChange",function(){Ui.requestAnimationFrame(c)}),ee.on("remove",function(){ut(n.slice(),function(de){a().close(de)})})};return K(e),{open:w,close:M,getNotifications:W}},sl=Uu.PluginManager,jc=Uu.ThemeManager;function JS(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var QS=function(e){var n=[],a=function(){var be=e.theme;return be&&be.getWindowManagerImpl?be.getWindowManagerImpl():JS()},i=function(be,we){return function(){for(var Fe=[],De=0;De<arguments.length;De++)Fe[De]=arguments[De];return we?we.apply(be,Fe):void 0}},l=function(be){e.fire("OpenWindow",{dialog:be})},c=function(be){e.fire("CloseWindow",{dialog:be})},m=function(be){n.push(be),l(be)},b=function(be){c(be),n=Re(n,function(we){return we!==be}),n.length===0&&e.focus()},w=function(){return re.from(n[n.length-1])},M=function(be){e.editorManager.setActive(e),L1(e);var we=be();return m(we),we},W=function(be,we){return M(function(){return a().open(be,we,b)})},K=function(be){return M(function(){return a().openUrl(be,b)})},ee=function(be,we,Fe){var De=a();De.alert(be,i(Fe||De,we))},de=function(be,we,Fe){var De=a();De.confirm(be,i(Fe||De,we))},pe=function(){w().each(function(be){a().close(be),b(be)})};return e.on("remove",function(){ut(n,function(be){a().close(be)})}),{open:W,openUrl:K,alert:ee,confirm:de,close:pe}},ex=function(e,n){e.notificationManager.open({type:"error",text:n})},F0=function(e,n){e._skinLoaded?ex(e,n):e.on("SkinLoaded",function(){ex(e,n)})},S$=function(e,n){F0(e,Eu.translate(["Failed to upload image: {0}",n]))},I0=function(e,n,a){$1(e,n,{message:a})},tx=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},N0=function(e,n,a){I0(e,"PluginLoadError",tx("plugin",n,a))},n5=function(e,n,a){I0(e,"IconsLoadError",tx("icons",n,a))},Th=function(e,n,a){I0(e,"LanguageLoadError",tx("language",n,a))},x$=function(e,n,a){var i=Eu.translate(["Failed to initialize plugin: {0}",n]);$1(e,"PluginLoadError",{message:i}),Eh(i,a),F0(e,i)},Eh=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ga([e],n,!1)):i.log.apply(i,Ga([e],n,!1)))},Tf=function(e){return/^[a-z0-9\-]+$/i.test(e)},nx=function(e){return k$(e,vE(e))},r5=function(e){return k$(e,dE(e))},k$=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",c=e.inline===!0;return gt(n,function(m){return Tf(m)&&!c?a+"/"+m+"/"+l:e.documentBaseURI.toAbsolute(m)})},a5=function(e){e.contentCSS=e.contentCSS.concat(nx(e),r5(e))},Pd=function(){var e=1,n=2,a={},i=function(ee,de){return{status:ee,resultUri:de}},l=function(ee){return ee in a},c=function(ee){var de=a[ee];return de?de.resultUri:null},m=function(ee){return l(ee)?a[ee].status===e:!1},b=function(ee){return l(ee)?a[ee].status===n:!1},w=function(ee){a[ee]=i(e,null)},M=function(ee,de){a[ee]=i(n,de)},W=function(ee){delete a[ee]},K=function(){a={}};return{hasBlobUri:l,getResultUri:c,isPending:m,isUploaded:b,markPending:w,markUploaded:M,removeFailed:W,destroy:K}},o5=0,i5=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Ai=function(e){return e+o5+++i5()},u5=function(){var e=[],n=function(K){var ee={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return ee[K.toLowerCase()]||"dat"},a=function(K,ee,de,pe,be){if(U(K)){var we=K;return i({id:we,name:pe,filename:be,blob:ee,base64:de})}else{if(te(K))return i(K);throw new Error("Unknown input type")}},i=function(K){if(!K.blob||!K.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var ee=K.id||Ai("blobid"),de=K.name||ee,pe=K.blob;return{id:G(ee),name:G(de),filename:G(K.filename||de+"."+n(pe.type)),blob:G(pe),base64:G(K.base64),blobUri:G(K.blobUri||URL.createObjectURL(pe)),uri:G(K.uri)}},l=function(K){m(K.id())||e.push(K)},c=function(K){return fn(e,K).getOrUndefined()},m=function(K){return c(function(ee){return ee.id()===K})},b=function(K){return c(function(ee){return ee.blobUri()===K})},w=function(K,ee){return c(function(de){return de.base64()===K&&de.blob().type===ee})},M=function(K){e=Re(e,function(ee){return ee.blobUri()===K?(URL.revokeObjectURL(ee.blobUri()),!1):!0})},W=function(){ut(e,function(K){URL.revokeObjectURL(K.blobUri())}),e=[]};return{create:a,add:l,get:m,getByUri:b,getByData:w,findFirst:c,removeByUri:M,destroy:W}},T$=function(e,n){var a={},i=function(pe,be){return pe?pe.replace(/\/$/,"")+"/"+be.replace(/^\//,""):be},l=function(pe,be,we,Fe){var De=new XMLHttpRequest;De.open("POST",n.url),De.withCredentials=n.credentials,De.upload.onprogress=function(ot){Fe(ot.loaded/ot.total*100)},De.onerror=function(){we("Image upload failed due to a XHR Transport error. Code: "+De.status)},De.onload=function(){if(De.status<200||De.status>=300){we("HTTP Error: "+De.status);return}var ot=JSON.parse(De.responseText);if(!ot||typeof ot.location!="string"){we("Invalid JSON: "+De.responseText);return}be(i(n.basePath,ot.location))};var vt=new FormData;vt.append("file",pe.blob(),pe.filename()),De.send(vt)},c=function(){return new Ti(function(pe){pe([])})},m=function(pe,be){return{url:be,blobInfo:pe,status:!0}},b=function(pe,be,we){return{url:"",blobInfo:pe,status:!1,error:{message:be,options:we}}},w=function(pe,be){Ht.each(a[pe],function(we){we(be)}),delete a[pe]},M=function(pe,be,we){return e.markPending(pe.blobUri()),new Ti(function(Fe){var De,vt;try{var ot=function(){De&&(De.close(),vt=Ce)},Ue=function(Kt){ot(),e.markUploaded(pe.blobUri(),Kt),w(pe.blobUri(),m(pe,Kt)),Fe(m(pe,Kt))},ht=function(Kt,vn){var br=vn||{};ot(),e.removeFailed(pe.blobUri()),w(pe.blobUri(),b(pe,Kt,br)),Fe(b(pe,Kt,br))};vt=function(Kt){Kt<0||Kt>100||re.from(De).orThunk(function(){return re.from(we).map(E)}).each(function(vn){De=vn,vn.progressBar.value(Kt)})},be(pe,Ue,ht,vt)}catch(Kt){Fe(b(pe,Kt.message,{}))}})},W=function(pe){return pe===l},K=function(pe){var be=pe.blobUri();return new Ti(function(we){a[be]=a[be]||[],a[be].push(we)})},ee=function(pe,be){return pe=Ht.grep(pe,function(we){return!e.isUploaded(we.blobUri())}),Ti.all(Ht.map(pe,function(we){return e.isPending(we.blobUri())?K(we):M(we,n.handler,be)}))},de=function(pe,be){return!n.url&&W(n.handler)?c():ee(pe,be)};return fe(n.handler)===!1&&(n.handler=l),{upload:de}},rx=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},ax=function(e,n){return T$(n,{url:WM(e),basePath:vv(e),credentials:u1(e),handler:jM(e)})},E$=function(e){var n=Pd(),a=ax(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?rx(e):void 0)}}},ox=function(e){var n=Tu(null);e.on("change AddUndo",function(i){n.set(Yn({},i.level))});var a=function(){var i=e.undoManager.data;dn(i).filter(function(l){return!Cf(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:st(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},l5=function(e){var n=u5(),a,i,l=Pd(),c=[],m=ox(e),b=function(ot){return function(Ue){return e.selection?ot(Ue):[]}},w=function(ot){return ot+(ot.indexOf("?")===-1?"?":"&")+new Date().getTime()},M=function(ot,Ue,ht){var Kt=0;do Kt=ot.indexOf(Ue,Kt),Kt!==-1&&(ot=ot.substring(0,Kt)+ht+ot.substr(Kt+Ue.length),Kt+=ht.length-Ue.length+1);while(Kt!==-1);return ot},W=function(ot,Ue,ht){var Kt='src="'+ht+'"'+(ht===dr.transparentSrc?' data-mce-placeholder="1"':"");return ot=M(ot,'src="'+Ue+'"',Kt),ot=M(ot,'data-mce-src="'+Ue+'"','data-mce-src="'+ht+'"'),ot},K=function(ot,Ue){ut(e.undoManager.data,function(ht){ht.type==="fragmented"?ht.fragments=gt(ht.fragments,function(Kt){return W(Kt,ot,Ue)}):ht.content=W(ht.content,ot,Ue)})},ee=function(ot,Ue){var ht=e.convertURL(Ue,"src");K(ot.src,Ue),e.$(ot).attr({src:OC(e)?w(Ue):Ue,"data-mce-src":ht})},de=function(ot){return a||(a=ax(e,l)),Fe().then(b(function(Ue){var ht=gt(Ue,function(Kt){return Kt.blobInfo});return a.upload(ht,rx(e)).then(b(function(Kt){var vn=[],br=gt(Kt,function(Hn,en){var pr=Ue[en].blobInfo,pn=Ue[en].image;return Hn.status&&UM(e)?(n.removeByUri(pn.src),xf(e)||ee(pn,Hn.url)):Hn.error&&(Hn.error.options.remove&&(K(pn.getAttribute("src"),dr.transparentSrc),vn.push(pn)),S$(e,Hn.error.message)),{element:pn,status:Hn.status,uploadUri:Hn.url,blobInfo:pr}});return br.length>0&&m.fireIfChanged(),vn.length>0&&(xf(e)||e.undoManager.transact(function(){ut(vn,function(Hn){e.dom.remove(Hn),n.removeByUri(Hn.src)})})),ot&&ot(br),br}))}))},pe=function(ot){if(Bp(e))return de(ot)},be=function(ot){if(yr(c,function(ht){return ht(ot)})===!1)return!1;if(ot.getAttribute("src").indexOf("data:")===0){var Ue=i1(e);return Ue(ot)}return!0},we=function(ot){c.push(ot)},Fe=function(){return i||(i=X3(l,n)),i.findAll(e.getBody(),be).then(b(function(ot){return ot=Re(ot,function(Ue){return typeof Ue=="string"?(F0(e,Ue),!1):!0}),xf(e)||ut(ot,function(Ue){K(Ue.image.src,Ue.blobInfo.blobUri()),Ue.image.src=Ue.blobInfo.blobUri(),Ue.image.removeAttribute("data-mce-src")}),ot}))},De=function(){n.destroy(),l.destroy(),i=a=null},vt=function(ot){return ot.replace(/src="(blob:[^"]+)"/g,function(Ue,ht){var Kt=l.getResultUri(ht);if(Kt)return'src="'+Kt+'"';var vn=n.getByUri(ht);if(vn||(vn=ln(e.editorManager.get(),function(Hn,en){return Hn||en.editorUpload&&en.editorUpload.blobCache.getByUri(ht)},null)),vn){var br=vn.blob();return'src="data:'+br.type+";base64,"+vn.base64()+'"'}return Ue})};return e.on("SetContent",function(){Bp(e)?pe():Fe()}),e.on("RawSaveContent",function(ot){ot.content=vt(ot.content)}),e.on("GetContent",function(ot){ot.source_view||ot.format==="raw"||ot.format==="tree"||(ot.content=vt(ot.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(ot){ut(ot,function(Ue){var ht=Ue.attr("src");if(!n.getByUri(ht)){var Kt=l.getResultUri(ht);Kt&&Ue.attr("src",Kt)}})})}),{blobCache:n,addFilter:we,uploadImages:de,uploadImagesAuto:pe,scanForImages:Fe,destroy:De}},s5=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Mr(a)&&a.hasAttribute("href")},onformat:function(a,i,l){Ht.each(l,function(c,m){e.setAttrib(a,m,c)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a?.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ht.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},c5=function(e){var n={},a=function(m){return xe(m)?n[m]:n},i=function(m){return Ar(n,m)},l=function(m,b){m&&(U(m)?(Z(b)||(b=[b]),ut(b,function(w){X(w.deep)&&(w.deep=!_l(w)),X(w.split)&&(w.split=!_l(w)||Bi(w)),X(w.remove)&&_l(w)&&!Bi(w)&&(w.remove="none"),_l(w)&&Bi(w)&&(w.mixed=!0,w.block_expand=!0),U(w.classes)&&(w.classes=w.classes.split(/\s+/))}),n[m]=b):wn(m,function(w,M){l(M,w)}))},c=function(m){return m&&n[m]&&delete n[m],n};return l(s5(e.dom)),l(ZM(e)),{get:a,has:i,register:l,unregister:c}},L0=Ht.each,Pu=lo.DOM,cc=function(e,n){var a,i,l,c=n&&n.schema||Ol({}),m=function(W,K){K.classes.length&&Pu.addClass(W,K.classes.join(" ")),Pu.setAttribs(W,K.attrs)},b=function(W){i=typeof W=="string"?{name:W,classes:[],attrs:{}}:W;var K=Pu.create(i.name);return m(K,i),K},w=function(W,K){var ee=typeof W!="string"?W.nodeName.toLowerCase():W,de=c.getElementRule(ee),pe=de&&de.parentsRequired;return pe&&pe.length?K&&Ht.inArray(pe,K)!==-1?K:pe[0]:!1},M=function(W,K,ee){var de,pe,be=K.length>0&&K[0],we=be&&be.name,Fe=w(W,we);if(Fe)we===Fe?(pe=K[0],K=K.slice(1)):pe=Fe;else if(be)pe=K[0],K=K.slice(1);else if(!ee)return W;return pe&&(de=b(pe),de.appendChild(W)),ee&&(de||(de=Pu.create("div"),de.appendChild(W)),Ht.each(ee,function(De){var vt=b(De);de.insertBefore(vt,W)})),M(de,K,pe&&pe.siblings)};return e&&e.length?(i=e[0],a=b(i),l=Pu.create("div"),l.appendChild(M(a,e.slice(1),i.siblings)),l):""},f5=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Ht.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,c,m,b){switch(l){case"#":a.attrs.id=c;break;case".":a.classes.push(c);break;case":":Ht.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(a.attrs[c]=c);break}if(m==="["){var w=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(a.attrs[w[1]]=w[2])}return""})),a.name=n||"div",a},v5=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ht.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Ht.map(n.split(/(?:~\+|~|\+)/),f5),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},d5=function(e,n){var a,i,l="",c,m=JM(e);if(m==="")return"";var b=function(K){return K.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var w=_r(n,"preview");if(Zv(w,!1))return"";m=w.getOr(m)}a=n.block||n.inline||"span";var M=v5(n.selector);M.length?(M[0].name||(M[0].name=a),a=n.selector,i=cc(M,e)):i=cc([a],e);var W=Pu.select(a,i)[0]||i.firstChild;return L0(n.styles,function(K,ee){var de=b(K);de&&Pu.setStyle(W,ee,de)}),L0(n.attributes,function(K,ee){var de=b(K);de&&Pu.setAttrib(W,ee,de)}),L0(n.classes,function(K){var ee=b(K);Pu.hasClass(W,ee)||Pu.addClass(W,ee)}),e.fire("PreviewFormats"),Pu.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),c=Pu.getStyle(e.getBody(),"fontSize",!0),c=/px$/.test(c)?parseInt(c,10):0,L0(m.split(" "),function(K){var ee=Pu.getStyle(W,K,!0);if(!(K==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ee)&&(ee=Pu.getStyle(e.getBody(),K,!0),Pu.toHex(ee).toLowerCase()==="#ffffff"))&&!(K==="color"&&Pu.toHex(ee).toLowerCase()==="#000000")){if(K==="font-size"&&/em|%$/.test(ee)){if(c===0)return;var de=parseFloat(ee)/(/%$/.test(ee)?100:1);ee=de*c+"px"}K==="border"&&ee&&(l+="padding:0 2px;"),l+=K+":"+ee+";"}}),e.fire("AfterPreviewFormats"),Pu.remove(i),l},m5=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},O$=function(e){var n=c5(e),a=Tu(null);return m5(e),CS(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,c){oN(e,i,l,c)},remove:function(i,l,c,m){Ev(e,i,l,c,m)},toggle:function(i,l,c){NS(e,i,l,c)},match:function(i,l,c,m){return gh(e,i,l,c,m)},closest:function(i){return aN(e,i)},matchAll:function(i,l){return M3(e,i,l)},matchNode:function(i,l,c,m){return R3(e,i,l,c,m)},canApply:function(i){return $0(e,i)},formatChanged:function(i,l,c,m){return B3(e,a,i,l,c,m)},getCssText:Me(d5,e)}},Bo=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},A$=function(e,n,a){var i=Tu(!1),l=function(w){Sf(n,!1,a),n.add({},w)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(w){var M=w.command;Bo(M)||(O0(n,a),n.beforeChange())}),e.on("ExecCommand",function(w){var M=w.command;Bo(M)||l(w)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(w){var M=w.keyCode;w.isDefaultPrevented()||((M>=33&&M<=36||M>=37&&M<=40||M===45||w.ctrlKey)&&(l(),e.nodeChanged()),(M===46||M===8)&&e.nodeChanged(),i.get()&&n.typing&&Cf(Ag(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(w){var M=w.keyCode;if(!w.isDefaultPrevented()){if(M>=33&&M<=36||M>=37&&M<=40||M===45){n.typing&&l(w);return}var W=w.ctrlKey&&!w.altKey||w.metaKey;(M<16||M>20)&&M!==224&&M!==91&&!n.typing&&!W&&(n.beforeChange(),Sf(n,!0,a),n.add({},w),i.set(!0))}}),e.on("mousedown",function(w){n.typing&&l(w)});var c=function(w){return w.inputType==="insertReplacementText"},m=function(w){return w.inputType==="insertText"&&w.data===null},b=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};e.on("input",function(w){w.inputType&&(c(w)||m(w)||b(w))&&l(w)}),e.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||e.nodeChanged()})},$$=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Ss=function(e){var n=sd(),a=Tu(0),i=Tu(0),l={data:[],typing:!1,beforeChange:function(){QI(e,a,n)},add:function(c,m){return A3(e,l,i,a,n,c,m)},undo:function(){return $3(e,l,a,i)},redo:function(){return D3(e,i,l.data)},clear:function(){_3(e,l,i)},reset:function(){P3(e,l)},hasUndo:function(){return eN(e,l,i)},hasRedo:function(){return tN(e,l,i)},transact:function(c){return nN(e,l,a,c)},ignore:function(c){rN(e,a,c)},extra:function(c,m){IS(e,l,i,c,m)}};return xf(e)||A$(e,l,a),$$(e),l},D$=[9,27,Tr.HOME,Tr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Tr.DOWN,Tr.UP,Tr.LEFT,Tr.RIGHT].concat(dr.browser.isFirefox()?[224]:[]),_$="data-mce-placeholder",P$=function(e){return e.type==="keydown"||e.type==="keyup"},z0=function(e){var n=e.keyCode;return n===Tr.BACKSPACE||n===Tr.DELETE},g5=function(e){if(P$(e)){var n=e.keyCode;return!z0(e)&&(Tr.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Be(D$,n))}else return!1},_g=function(e){return P$(e)&&!(z0(e)||e.type==="keyup"&&e.keyCode===229)},p5=function(e,n,a){if(_i(V.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},M$=function(e){var n=e.dom,a=Gi(e),i=pE(e),l=function(c,m){if(!g5(c)){var b=e.getBody(),w=_g(c)?!1:p5(n,b,a),M=n.getAttrib(b,_$)!=="";(M!==w||m)&&(n.setAttrib(b,_$,w?i:null),n.setAttrib(b,"aria-placeholder",w?i:null),oO(e,w),e.on(w?"keydown":"keyup",l),e.off(w?"keyup":"keydown",l))}};i&&e.on("init",function(c){l(c,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(m){return Ui.setEditorTimeout(e,function(){return l(m)})})})},R$=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ix=function(e){return R$.test(e)},Ov=function(e,n){return Fn(V.fromDom(n),GM(e))},ux=function(e){return lo.DOM.getStyle(e,"direction",!0)==="rtl"||ix(e.textContent)},h5=function(e,n,a){return Re(lo.DOM.getParents(a.container(),"*",n),e)},Av=function(e,n,a){var i=h5(e,n,a);return re.from(i[i.length-1])},b5=function(e,n,a){var i=tc(n,e),l=tc(a,e);return i&&i===l},xs=function(e){return Cr(e)||kw(e)},Ql=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Xa(a)?Kn(a.nextSibling)?It(a.nextSibling,0):It.after(a):Cr(n)?It(a,i+1):n:Xa(a)?Kn(a.previousSibling)?It(a.previousSibling,a.previousSibling.data.length):It.before(a):kw(n)?It(a,i-1):n},B$=Me(Ql,!0),F$=Me(Ql,!1),Oh=function(e){return function(n){return Or(e,V.fromDom(n.dom.parentNode))}},y5=function(e){return gf(e)||Su(e)},Ah=function(e,n){return Ba(e,n)?Sb(n,y5,Oh(e)):re.none()},I$=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},lx=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),I$(e))},w5=function(e,n,a){return ou($u(a),oc(a),function(i,l){var c=Ql(!0,i),m=Ql(!1,l),b=Ql(!1,n);return e?rc(a,b).exists(function(w){return w.isEqual(m)&&n.isEqual(c)}):ac(a,b).exists(function(w){return w.isEqual(c)&&n.isEqual(m)})}).getOr(!0)},C5=function(e,n){return{block:e,position:n}},$v=function(e,n){return{from:e,to:n}},sx=function(e,n){var a=V.fromDom(e),i=V.fromDom(n.container());return Ah(a,i).map(function(l){return C5(l,n)})},S5=function(e){return Or(e.from.block,e.to.block)===!1},x5=function(e){return Io(e.from.block).bind(function(n){return Io(e.to.block).filter(function(a){return Or(n,a)})}).isSome()},k5=function(e){return vo(e.from.block.dom)===!1&&vo(e.to.block.dom)===!1},T5=function(e,n,a){return Ha(a.position.getNode())&&_i(a.block)===!1?mv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Dl(n,e,i).bind(function(l){return sx(e,l)}):re.some(a)}).getOr(a):a},E5=function(e,n,a){var i=sx(e,It.fromRangeStart(a)),l=i.bind(function(c){return Dl(n,e,c.position).bind(function(m){return sx(e,m).map(function(b){return T5(e,n,b)})})});return ou(i,l,$v).filter(function(c){return S5(c)&&x5(c)&&k5(c)})},O5=function(e,n,a){return a.collapsed?E5(e,n,a):re.none()},A5=function(e){var n=wu(e);return bn(n,Ul).fold(G(n),function(a){return n.slice(0,a)})},N$=function(e){var n=A5(e);return ut(n,Uo),n},L$=function(e,n){var a=Vc(n,e);return fn(a.reverse(),function(i){return _i(i)}).each(Uo)},$5=function(e){return Re(za(e),function(n){return!_i(n)}).length===0},D5=function(e,n,a,i){if(_i(a))return wf(a),$u(a.dom);$5(i)&&_i(n)&&Hl(i,V.fromTag("br"));var l=ac(a.dom,It.before(i.dom));return ut(N$(n),function(c){Hl(i,c)}),L$(e,n),l},$h=function(e,n,a){if(_i(a))return Uo(a),_i(n)&&wf(n),$u(n.dom);var i=oc(a.dom);return ut(N$(n),function(l){Di(a,l)}),L$(e,n),i},_5=function(e,n){var a=Vc(n,e);return re.from(a[a.length-1])},cx=function(e,n){return Ba(n,e)?_5(n,e):re.none()},z$=function(e,n){mv(e,n.dom).map(function(a){return a.getNode()}).map(V.fromDom).filter(Om).each(Uo)},H$=function(e,n,a){return z$(!0,n),z$(!1,a),cx(n,a).fold(Me($h,e,n,a),Me(D5,e,n,a))},V$=function(e,n,a,i){return n?H$(e,i,a):H$(e,a,i)},H0=function(e,n){var a=V.fromDom(e.getBody()),i=O5(a.dom,n,e.selection.getRng()).bind(function(l){return V$(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},Md=function(e,n){var a=n.getRng();return ou(Ah(e,V.fromDom(a.startContainer)),Ah(e,V.fromDom(a.endContainer)),function(i,l){return Or(i,l)===!1?(a.deleteContents(),V$(e,!0,i,l).each(function(c){n.setRng(c.toRange())}),!0):!1}).getOr(!1)},Dv=function(e,n){var a=V.fromDom(n),i=Me(Or,e);return gp(a,Us,i).isSome()},V0=function(e,n){return Dv(e,n.startContainer)||Dv(e,n.endContainer)},U0=function(e,n){var a=ac(e.dom,It.fromRangeStart(n)).isNone(),i=rc(e.dom,It.fromRangeEnd(n)).isNone();return!V0(e,n)&&a&&i},Rd=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},Bd=function(e){var n=V.fromDom(e.getBody()),a=e.selection.getRng();return U0(n,a)?Rd(e):Md(n,e.selection)},Fd=function(e,n){return e.selection.isCollapsed()?!1:Bd(e)},W0=ds,U$=vo,fc=function(e,n,a,i,l){return re.from(n._selectionOverrides.showCaret(e,a,i,l))},fx=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},Id=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?re.none():re.some(fx(n))},vx=function(e,n,a){var i=d1(1,e.getBody(),n),l=It.fromRangeStart(i),c=l.getNode();if(Lp(c))return fc(1,e,c,!l.isAtEnd(),!1);var m=l.getNode(!0);if(Lp(m))return fc(1,e,m,!1,!1);var b=e.dom.getParent(l.getNode(),function(w){return U$(w)||W0(w)});return Lp(b)?fc(1,e,b,!1,a):re.none()},_v=function(e,n,a){return n.collapsed?vx(e,n,a).getOr(n):n},W$=function(e){return yv(e)||gg(e)},j$=function(e){return wv(e)||pg(e)},q$=function(e,n){Kn(n)&&n.data.length===0&&e.remove(n)},Dh=function(e,n,a,i,l,c){return fc(i,e,c.getNode(!l),l,!0).each(function(m){if(n.collapsed){var b=n.cloneRange();l?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),q$(e.dom,a),!0},K$=function(e,n){var a=e.selection.getRng();if(!Kn(a.commonAncestorContainer))return!1;var i=n?Ri.Forwards:Ri.Backwards,l=Mo(e.getBody()),c=Me(NC,n?l.next:l.prev),m=n?W$:j$,b=ng(i,e.getBody(),a),w=Ql(n,c(b));if(!w||!g1(b,w))return!1;if(m(w))return Dh(e,a,b.getNode(),i,n,w);var M=c(w);return M&&m(M)&&g1(w,M)?Dh(e,a,b.getNode(),i,n,M):!1},_h=function(e,n){return K$(e,n)},G$=function(e){return Us(V.fromDom(e))||Su(V.fromDom(e))},cl=vr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ef=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Mr(a)&&a.getAttribute("data-mce-caret")===i},Y$=function(e,n,a,i){var l=function(c){return uu(V.fromDom(c))&&!nc(a,i,e)};return IC(!n,a).fold(function(){return IC(n,i).fold(Le,l)},l)},dx=function(e,n,a,i){var l=i.getNode(n===!1);return Ah(V.fromDom(e),V.fromDom(a.getNode())).map(function(c){return _i(c)?cl.remove(c.dom):cl.moveToElement(l)}).orThunk(function(){return re.some(cl.moveToElement(l))})},Of=function(e,n,a){return Dl(n,e,a).bind(function(i){return G$(i.getNode())||Y$(e,n,a,i)?re.none():n&&vo(i.getNode())||n===!1&&vo(i.getNode(!0))?dx(e,n,a,i):n&&wv(a)||n===!1&&yv(a)?re.some(cl.moveToPosition(i)):re.none()})},ks=function(e,n){return e&&vo(n.nextSibling)?re.some(cl.moveToElement(n.nextSibling)):e===!1&&vo(n.previousSibling)?re.some(cl.moveToElement(n.previousSibling)):re.none()},P5=function(e,n,a){return a.fold(function(i){return re.some(cl.remove(i))},function(i){return re.some(cl.moveToElement(i))},function(i){return nc(n,i,e)?re.none():re.some(cl.moveToPosition(i))})},M5=function(e,n,a){return Ef(n,a)?ks(n,a.getNode(n===!1)).fold(function(){return Of(e,n,a)},re.some):Of(e,n,a).bind(function(i){return P5(e,a,i)})},R5=function(e,n,a){var i=d1(n?1:-1,e,a),l=It.fromRangeStart(i),c=V.fromDom(e);return n===!1&&wv(l)?re.some(cl.remove(l.getNode(!0))):n&&yv(l)?re.some(cl.remove(l.getNode())):n===!1&&yv(l)&&z2(c,l)?tF(c,l).map(function(m){return cl.remove(m.getNode())}):n&&wv(l)&&L2(c,l)?Dr(c,l).map(function(m){return cl.remove(m.getNode())}):M5(e,n,l)},B5=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Sv(e,n,V.fromDom(a)),!0}},F5=function(e,n){return function(a){var i=n?It.before(a):It.after(a);return e.selection.setRng(i.toRange()),!0}},I5=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},X$=function(e,n){return re.from(sg(e.getBody(),n))},N5=function(e,n){var a=e.selection.getNode();return X$(e,a).filter(vo).fold(function(){return R5(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(B5(e,n),F5(e,n),I5(e))})},At)},L5=function(e){ut(Mi(e,".mce-offscreen-selection"),Uo)},z5=function(e,n){var a=e.selection.getNode();if(vo(a)&&!Cm(a)){var i=X$(e,a.parentNode).filter(vo);return i.fold(function(){return L5(V.fromDom(e.getBody())),Sv(e,n,V.fromDom(e.selection.getNode())),lx(e),!0},At)}return!1},Z$=function(e){var n=e.dom,a=e.selection,i=sg(e.getBody(),a.getNode());if(ds(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(It.before(l).toRange())}return!0},j0=function(e,n){return e.selection.isCollapsed()?N5(e,n):z5(e,n)},mx=function(e,n){var a=It.fromRangeStart(e.selection.getRng());return Dl(n,e.getBody(),a).filter(function(i){return n?KB(i):GB(i)}).bind(function(i){return re.from(v1(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Pg=function(e,n){return e.selection.isCollapsed()?mx(e,n):!1},Nd=Kn,J$=function(e){return Nd(e)&&e.data[0]===nt},Q$=function(e){return Nd(e)&&e.data[e.data.length-1]===nt},gx=function(e){return e.ownerDocument.createTextNode(nt)},eD=function(e){if(Nd(e.previousSibling))return Q$(e.previousSibling)||e.previousSibling.appendData(nt),e.previousSibling;if(Nd(e))return J$(e)||e.insertData(0,nt),e;var n=gx(e);return e.parentNode.insertBefore(n,e),n},px=function(e){if(Nd(e.nextSibling))return J$(e.nextSibling)||e.nextSibling.insertData(0,nt),e.nextSibling;if(Nd(e))return Q$(e)||e.appendData(nt),e;var n=gx(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},Ph=function(e,n){return e?eD(n):px(n)},tD=Me(Ph,!0),hx=Me(Ph,!1),nD=function(e,n){return Kn(e.container())?Ph(n,e.container()):Ph(n,e.getNode())},rD=function(e,n){var a=n.get();return a&&e.container()===a&&Xa(a)},Ts=function(e,n){return n.fold(function(a){fd(e.get());var i=tD(a);return e.set(i),re.some(It(i,i.length-1))},function(a){return $u(a).map(function(i){if(rD(i,e))return It(e.get(),1);fd(e.get());var l=nD(i,!0);return e.set(l),It(l,1)})},function(a){return oc(a).map(function(i){if(rD(i,e))return It(e.get(),e.get().length-1);fd(e.get());var l=nD(i,!1);return e.set(l),It(l,l.length-1)})},function(a){fd(e.get());var i=hx(a);return e.set(i),re.some(It(i,1))})},es=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return re.none()},Ii=vr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),bx=function(e,n){var a=tc(n,e);return a||e},q0=function(e,n,a){var i=B$(a),l=bx(n,i.container());return Av(e,l,i).fold(function(){return rc(l,i).bind(Me(Av,e,l)).map(function(c){return Ii.before(c)})},re.none)},aD=function(e,n){return gd(e,n)===null},yx=function(e,n,a){return Av(e,n,a).filter(Me(aD,n))},oD=function(e,n,a){var i=F$(a);return yx(e,n,i).bind(function(l){var c=ac(l,i);return c.isNone()?re.some(Ii.start(l)):re.none()})},iD=function(e,n,a){var i=B$(a);return yx(e,n,i).bind(function(l){var c=rc(l,i);return c.isNone()?re.some(Ii.end(l)):re.none()})},uD=function(e,n,a){var i=F$(a),l=bx(n,i.container());return Av(e,l,i).fold(function(){return ac(l,i).bind(Me(Av,e,l)).map(function(c){return Ii.after(c)})},re.none)},wx=function(e){return ux(Mg(e))===!1},ts=function(e,n,a){var i=es([q0,oD,iD,uD],[e,n,a]);return i.filter(wx)},Mg=function(e){return e.fold(he,he,he,he)},K0=function(e){return e.fold(G("before"),G("start"),G("end"),G("after"))},G0=function(e){return e.fold(Ii.before,Ii.before,Ii.after,Ii.after)},Cx=function(e){return e.fold(Ii.start,Ii.start,Ii.end,Ii.end)},H5=function(e,n){return K0(e)===K0(n)&&Mg(e)===Mg(n)},V5=function(e,n,a,i,l,c){return ou(Av(n,a,i),Av(n,a,l),function(m,b){return m!==b&&b5(a,m,b)?Ii.after(e?m:b):c}).getOr(c)},lD=function(e,n){return e.fold(At,function(a){return!H5(a,n)})},U5=function(e,n,a,i,l){var c=Ql(e,l),m=Dl(e,a,c).map(Me(Ql,e)),b=m.fold(function(){return i.map(G0)},function(w){return ts(n,a,w).map(Me(V5,e,n,a,c,w)).filter(Me(lD,i))});return b.filter(wx)},W5=function(e,n){return e?n.fold(oe(re.some,Ii.start),re.none,oe(re.some,Ii.after),re.none):n.fold(re.none,oe(re.some,Ii.before),re.none,oe(re.some,Ii.end))},Mh=function(e,n,a,i){var l=Ql(e,i),c=ts(n,a,l);return ts(n,a,l).bind(Me(W5,e)).orThunk(function(){return U5(e,n,a,c,i)})};Me(Mh,!1),Me(Mh,!0);var j5=function(e){return fe(e.selection.getSel().modify)},sD=function(e,n,a){var i=e?1:-1;return n.setRng(It(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},q5=function(e,n){var a=n.selection.getRng(),i=e?It.fromRangeEnd(a):It.fromRangeStart(a);return j5(n)?e&&Cr(i)?sD(!0,n.selection,i):!e&&kw(i)?sD(!1,n.selection,i):!1:!1},qc;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(qc||(qc={}));var Y0=function(e,n){return e===Ri.Backwards?$t(n):n},K5=function(e,n,a){return e===Ri.Forwards?n.next(a):n.prev(a)},G5=function(e,n,a,i){return Ha(i.getNode(n===Ri.Forwards))?qc.Br:nc(a,i)===!1?qc.Block:qc.Wrap},Rh=function(e,n,a,i){for(var l=Mo(a),c=i,m=[];c;){var b=K5(n,l,c);if(!b)break;if(Ha(b.getNode(!1)))return n===Ri.Forwards?{positions:Y0(n,m).concat([b]),breakType:qc.Br,breakAt:re.some(b)}:{positions:Y0(n,m),breakType:qc.Br,breakAt:re.some(b)};if(!b.isVisible()){c=b;continue}if(e(c,b)){var w=G5(a,n,c,b);return{positions:Y0(n,m),breakType:w,breakAt:re.some(b)}}m.push(b),c=b}return{positions:Y0(n,m),breakType:qc.Eol,breakAt:re.none()}},Bh=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var c=n(a,l).positions;return e===Ri.Backwards?c.concat(l):[l].concat(c)}).getOr([])},Fh=function(e,n){return ln(e,function(a,i){return a.fold(function(){return re.some(i)},function(l){return ou(Wt(l.getClientRects()),Wt(i.getClientRects()),function(c,m){var b=Math.abs(n-c.left),w=Math.abs(n-m.left);return w<=b?i:l}).or(a)})},re.none())},cD=function(e,n){return Wt(n.getClientRects()).bind(function(a){return Fh(e,a.left)})},Ih=Me(Rh,It.isAbove,-1),Nh=Me(Rh,It.isBelow,1),Y5=Me(Bh,-1,Ih),fD=Me(Bh,1,Nh),X5=function(e,n){return Ih(e,n).breakAt.isNone()},Z5=function(e,n){return Nh(e,n).breakAt.isNone()},Sx=function(e){return $u(e).map(function(n){return[n].concat(Nh(e,n).positions)}).getOr([])},J5=function(e){return oc(e).map(function(n){return Ih(e,n).positions.concat(n)}).getOr([])},Q5=function(e){var n=function(i){return gt(i,function(l){var c=sv(l);return c.node=e,c})};if(Mr(e))return n(e.getClientRects());if(Kn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},xx=function(e){return sr(e,Q5)},Ld;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Ld||(Ld={}));var e6=function(e,n,a,i){for(;i=Qm(i,e,ai,n);)if(a(i))return},vD=function(e,n,a,i,l,c){var m=0,b=[],w=function(K){var ee=xx([K]);e===-1&&(ee=ee.reverse());for(var de=0;de<ee.length;de++){var pe=ee[de];if(!a(pe,M)){if(b.length>0&&n(pe,Fa(b))&&m++,pe.line=m,l(pe))return!0;b.push(pe)}}},M=Fa(c.getClientRects());if(!M)return b;var W=c.getNode();return w(W),e6(e,i,w,W),b},t6=function(e,n){return n.line>e},X0=function(e,n){return n.line===e},Z0=Me(vD,Ld.Up,Km,Gm),n6=Me(vD,Ld.Down,Gm,Km),r6=function(e,n,a,i){var l=Mo(n),c,m,b,w,M=[],W=0,K=function(be){return Fa(be.getClientRects())};e===1?(c=l.next,m=Gm,b=Km,w=It.after(i)):(c=l.prev,m=Km,b=Gm,w=It.before(i));var ee=K(w);do if(w.isVisible()){var de=K(w);if(!b(de,ee)){M.length>0&&m(de,Fa(M))&&W++;var pe=sv(de);if(pe.position=w,pe.line=W,a(pe))return M;M.push(pe)}}while(w=c(w));return M},Lh=function(e){return function(n){return t6(e,n)}},kx=function(e){return function(n){return X0(e,n)}},a6=vo,dD=Qm,Tx=function(e,n){return Math.abs(e.left-n)},Ex=function(e,n){return Math.abs(e.right-n)},mD=function(e,n){return e>=n.left&&e<=n.right},o6=function(e,n){return e>=n.top&&e<=n.bottom},i6=function(e){return _a(e,"node")},J0=function(e,n,a){return a===void 0&&(a=At),Pa(e,function(i,l){if(mD(n,l))return a(l)?l:i;if(mD(n,i))return a(i)?i:l;var c=Math.min(Tx(i,n),Ex(i,n)),m=Math.min(Tx(l,n),Ex(l,n));return m===c&&i6(l)&&a6(l.node)||m<c?l:i})},gD=function(e,n,a,i,l){var c=dD(i,e,ai,n,!l);do if(!c||a(c))return;while(c=dD(c,e,ai,n))},u6=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(c,m){var b=Re(xx([m]),function(w){return!c(w,n)});return i=i.concat(b),b.length===0};return i.push(n),gD(Ld.Up,e,Me(l,Km),n.node,a),gD(Ld.Down,e,Me(l,Gm),n.node,a),i},l6=function(e){return Re(Xt(e.getElementsByTagName("*")),vd)},Es=function(e,n){return{node:e.node,before:Tx(e,n)<Ex(e,n)}},Ox=function(e,n,a){var i=xx(l6(e)),l=Re(i,Me(o6,a)),c=function(w){return!pi(w.node)&&!Hu(w.node)},m=J0(l,n,c);if(m){var b=c(m);if(m=J0(u6(e,m,b),n,c),m&&vd(m.node))return Es(m,n)}return null},Kc=function(e,n){e.selection.setRng(n),Xp(e,e.selection.getRng())},Q0=function(e,n,a){return re.some(_v(e,n,a))},pD=function(e,n,a,i,l,c){var m=n===Ri.Forwards,b=Mo(e.getBody()),w=Me(NC,m?b.next:b.prev),M=m?i:l;if(!a.collapsed){var W=e1(a);if(c(W))return fc(n,e,W,n===Ri.Backwards,!1)}var K=ng(n,e.getBody(),a);if(M(K))return Id(e,K.getNode(!m));var ee=Ql(m,w(K)),de=Ac(a);if(!ee)return de?re.some(a):re.none();if(M(ee))return fc(n,e,ee.getNode(!m),m,!1);var pe=w(ee);return pe&&M(pe)&&g1(ee,pe)?fc(n,e,pe.getNode(!m),m,!1):de?Q0(e,ee.toRange(),!1):re.none()},Ax=function(e,n,a,i,l,c){var m=ng(n,e.getBody(),a),b=Fa(m.getClientRects()),w=n===Ld.Down;if(!b)return re.none();var M=w?n6:Z0,W=M(e.getBody(),Lh(1),m),K=Re(W,kx(1)),ee=b.left,de=J0(K,ee);if(de&&c(de.node)){var pe=Math.abs(ee-de.left),be=Math.abs(ee-de.right);return fc(n,e,de.node,pe<be,!1)}var we;if(i(m)?we=m.getNode():l(m)?we=m.getNode(!0):we=e1(a),we){var Fe=r6(n,e.getBody(),Lh(1),we),De=J0(Re(Fe,kx(1)),ee);if(De||(De=Fa(Re(Fe,kx(0))),De))return Q0(e,De.position.toRange(),!1)}return K.length===0?$x(e,w).filter(w?l:i).map(function(vt){return _v(e,vt.toRange(),!1)}):re.none()},$x=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=It.fromRangeEnd(a),c=Nh(i,l);return dn(c.positions)}else{var l=It.fromRangeStart(a),c=Ih(i,l);return Wt(c.positions)}},Dx=function(e,n,a){return $x(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},ey=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},hD=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},bD=function(e,n,a){return Ts(n,a).map(function(i){return ey(e,i),a})},Rg=function(e,n,a){var i=e.getBody(),l=It.fromRangeStart(e.selection.getRng()),c=Me(Ov,e),m=Mh(a,c,i,l);return m.bind(function(b){return bD(e,n,b)})},yD=function(e,n,a){var i=gt(Mi(V.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(m){return m.dom}),l=Re(i,e),c=Re(a,e);ut(Dt(l,c),Me(hD,!1)),ut(Dt(c,l),Me(hD,!0))},wD=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=It.fromRangeStart(e.selection.getRng());It.isTextPosition(a)&&xs(a)===!1&&(ey(e,TE(n.get(),a)),n.set(null))}},CD=function(e,n,a,i){if(n.selection.isCollapsed()){var l=Re(i,e);ut(l,function(c){var m=It.fromRangeStart(n.selection.getRng());ts(e,n.getBody(),m).bind(function(b){return bD(n,a,b)})})}},ty=function(e,n,a){return Ip(e)?Rg(e,n,a).isSome():!1},SD=function(e,n,a){return Ip(n)?q5(e,n):!1},s6=function(e){var n=Tu(null),a=Me(Ov,e);return e.on("NodeChange",function(i){Ip(e)&&!(dr.browser.isIE()&&i.initial)&&(yD(a,e.dom,i.parents),wD(e,n),CD(a,e,n,i.parents))}),n},c6=Me(SD,!0),f6=Me(SD,!1),ny=function(e,n,a){if(Ip(e)){var i=$x(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?It.fromRangeEnd(l):It.fromRangeStart(l)});return ts(Me(Ov,e),e.getBody(),i).exists(function(l){var c=G0(l);return Ts(a,c).exists(function(m){return ey(e,m),!0})})}else return!1},v6=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},vc=function(e){return ou($u(e),oc(e),function(n,a){var i=Ql(!0,n),l=Ql(!1,a);return rc(e,i).forall(function(c){return c.isEqual(l)})}).getOr(!0)},xD=function(e,n){return function(a){return Ts(n,a).exists(function(i){return ey(e,i),!0})}},kD=function(e,n,a,i){var l=e.getBody(),c=Me(Ov,e);e.undoManager.ignore(function(){e.selection.setRng(v6(a,i)),e.execCommand("Delete"),ts(c,l,It.fromRangeStart(e.selection.getRng())).map(Cx).map(xD(e,n))}),e.nodeChanged()},d6=function(e,n){var a=tc(n,e);return a||e},m6=function(e,n,a,i){var l=d6(e.getBody(),i.container()),c=Me(Ov,e),m=ts(c,l,i);return m.bind(function(b){return a?b.fold(G(re.some(Cx(b))),re.none,G(re.some(G0(b))),re.none):b.fold(re.none,G(re.some(G0(b))),re.none,G(re.some(Cx(b))))}).map(xD(e,n)).getOrThunk(function(){var b=Fc(a,l,i),w=b.bind(function(M){return ts(c,l,M)});return ou(m,w,function(){return Av(c,l,i).exists(function(M){return vc(M)?(Sv(e,a,V.fromDom(M)),!0):!1})}).orThunk(function(){return w.bind(function(M){return b.map(function(W){return a?kD(e,n,i,W):kD(e,n,W,i),!0})})}).getOr(!1)})},ry=function(e,n,a){if(e.selection.isCollapsed()&&Ip(e)){var i=It.fromRangeStart(e.selection.getRng());return m6(e,n,a,i)}return!1},g6=function(e,n){var a=Vc(n,e);return bn(a,Ul).fold(G(a),function(i){return a.slice(0,i)})},p6=function(e){return bb(e)===1},Pv=function(e,n,a,i){var l=Me(lI,n),c=gt(Re(i,l),function(b){return b.dom});if(c.length===0)Sv(n,e,a);else{var m=Sg(a.dom,c);n.selection.setRng(m.toRange())}},h6=function(e,n){var a=V.fromDom(e.getBody()),i=V.fromDom(e.selection.getStart()),l=Re(g6(a,i),p6);return dn(l).exists(function(c){var m=It.fromRangeStart(e.selection.getRng());return w5(n,m,c.dom)&&!sI(c)?(Pv(n,e,c,l),!0):!1})},ay=function(e,n){return e.selection.isCollapsed()?h6(e,n):!1},oy=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Sv(e,n,V.fromDom(a)),!0},_x=function(e,n){var a=n?gg:pg,i=n?Ri.Forwards:Ri.Backwards,l=ng(i,e.getBody(),e.selection.getRng());return a(l)?oy(e,n,l.getNode(!n)):re.from(Ql(n,l)).filter(function(c){return a(c)&&g1(l,c)}).exists(function(c){return oy(e,n,c.getNode(!n))})},b6=function(e,n){var a=e.selection.getNode();return Hu(a)?oy(e,n,a):!1},iy=function(e,n){return e.selection.isCollapsed()?_x(e,n):b6(e,n)},y6=function(e){return Sb(e,function(n){return ds(n.dom)||vo(n.dom)}).exists(function(n){return ds(n.dom)})},Af=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},TD=function(e,n){var a=e||NP(n)?"margin":"padding",i=aa(n,"direction")==="rtl"?"-right":"-left";return a+i},w6=function(e,n,a,i,l,c){var m=TD(a,V.fromDom(c));if(n==="outdent"){var b=Math.max(0,Af(c.style[m])-i);e.setStyle(c,m,b?b+l:"")}else{var b=Af(c.style[m])+i+l;e.setStyle(c,m,b)}},C6=function(e,n){return yr(n,function(a){var i=TD(fE(e),a),l=iu(a,i).map(Af).getOr(0),c=e.dom.getContentEditable(a.dom);return c!=="false"&&l>0})},ED=function(e){var n=Mx(e);return!e.mode.isReadOnly()&&(n.length>1||C6(e,n))},uy=function(e){return kb(e)||Su(e)},Px=function(e){return Io(e).exists(uy)},Mx=function(e){return Re(Ki(e.selection.getSelectedBlocks()),function(n){return!uy(n)&&!Px(n)&&y6(n)})},Rx=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,c=KM(e),m=/[a-z%]+$/i.exec(c)[0],b=parseInt(c,10),w=fE(e),M=Gi(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&M===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),ut(Mx(e),function(W){w6(a,n,w,b,m,W.dom)})},Bx=function(e,n){if(e.selection.isCollapsed()&&ED(e)){var a=e.dom,i=e.selection.getRng(),l=It.fromRangeStart(i),c=a.getParent(i.startContainer,a.isBlock);if(c!==null&&Vr(V.fromDom(c),l))return Rx(e,"outdent"),!0}return!1},OD=function(e,n){e.getDoc().execCommand(n,!1,null)},zh=function(e,n){if(!Bx(e)){if(j0(e,!1))return;if(_h(e,!1))return;if(ry(e,n,!1))return;if(H0(e,!1))return;if(s0(e))return;if(Pg(e,!1))return;if(iy(e,!1))return;if(Fd(e))return;if(ay(e,!1))return;OD(e,"Delete"),lx(e)}},S6=function(e,n){if(!j0(e,!0)){if(_h(e,!0))return;if(ry(e,n,!0))return;if(H0(e,!0))return;if(s0(e))return;if(Pg(e,!0))return;if(iy(e,!0))return;if(Fd(e))return;if(ay(e,!0))return;OD(e,"ForwardDelete")}},x6=function(e,n){e.addCommand("delete",function(){zh(e,n)}),e.addCommand("forwardDelete",function(){S6(e,n)})},AD=5,Bg=400,$D=function(e){return e.touches===void 0||e.touches.length!==1?re.none():re.some(e.touches[0])},$f=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>AD||i>AD},k6=function(e){var n=sd(),a=Tu(!1),i=Ei(function(l){e.fire("longpress",Yn(Yn({},l),{type:"longpress"})),a.set(!0)},Bg);e.on("touchstart",function(l){$D(l).each(function(c){i.cancel();var m={x:c.clientX,y:c.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(m)})},!0),e.on("touchmove",function(l){i.cancel(),$D(l).each(function(c){n.on(function(m){$f(c,m)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(c){return c.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Yn(Yn({},l),{type:"tap"}))})},!0)},Hh=function(e,n){return Ar(e,n.nodeName)},Fx=function(e,n){return Kn(n)?!0:Mr(n)?!Hh(e,n)&&!ul(n):!1},T6=function(e,n,a){return at(th(V.fromDom(a),V.fromDom(n)),function(i){return Hh(e,i.dom)})},E6=function(e,n){if(Kn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||Hh(e,n.nextSibling)))return!0}return!1},O6=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),c=a.getStart(),m=e.getBody(),b,w,M,W=Gi(e);if(!(!c||!Mr(c)||!W)){var K=m.nodeName.toLowerCase();if(!(!i.isValidChild(K,W.toLowerCase())||T6(l,m,c))){var ee=a.getRng(),de=ee.startContainer,pe=ee.startOffset,be=ee.endContainer,we=ee.endOffset,Fe=Hc(e);for(c=m.firstChild;c;)if(Fx(l,c)){if(E6(l,c)){w=c,c=c.nextSibling,n.remove(w);continue}b||(b=n.create(W,Mp(e)),c.parentNode.insertBefore(b,c),M=!0),w=c,c=c.nextSibling,b.appendChild(w)}else b=null,c=c.nextSibling;M&&Fe&&(ee.setStart(de,pe),ee.setEnd(be,we),a.setRng(ee),e.nodeChanged())}}},DD=function(e){Gi(e)&&e.on("NodeChange",Me(O6,e))},A6=function(e){return km(V.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},$6=function(e){e.selection.setRng(e.selection.getRng())},_D=function(e,n){n.hasAttribute("data-mce-caret")&&(Tw(n),$6(e),e.selection.scrollIntoView(n))},D6=function(e,n){var a=A6(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),_D(e,a);return}bp(a)&&(_D(e,a),e.undoManager.add())}},PD=function(e){e.on("keyup compositionstart",Me(D6,e))},MD=vo,zd=function(e,n,a){return pD(n,e,a,yv,wv,MD)},_6=function(e,n,a){var i=function(c){return yv(c)||nA(c)},l=function(c){return wv(c)||rA(c)};return Ax(n,e,a,i,l,MD)},Vh=function(e){var n=e.dom.create(Gi(e));return(!dr.ie||dr.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},Ix=function(e,n,a){var i=Mo(e.getBody()),l=Me(NC,n===1?i.next:i.prev);if(a.collapsed&&oR(e)){var c=e.dom.getParent(a.startContainer,"PRE");if(!c)return;var m=l(It.fromRangeStart(a));if(!m){var b=Vh(e);n===1?e.$(c).after(b):e.$(c).before(b),e.selection.select(b,!0),e.selection.collapse()}}},Nx=function(e,n){var a=n?Ri.Forwards:Ri.Backwards,i=e.selection.getRng();return zd(a,e,i).orThunk(function(){return Ix(e,a,i),re.none()})},Lx=function(e,n){var a=n?1:-1,i=e.selection.getRng();return _6(a,e,i).orThunk(function(){return Ix(e,a,i),re.none()})},RD=function(e,n){return Nx(e,n).exists(function(a){return Kc(e,a),!0})},BD=function(e,n){return Lx(e,n).exists(function(a){return Kc(e,a),!0})},FD=function(e,n){var a=n?wv:yv;return Dx(e,n,a)},zx=function(e){return Be(["figcaption"],Ra(e))},ID=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},ND=function(e,n,a){a?Di(e,n):up(e,n)},P6=function(e,n){var a=V.fromTag("br");return ND(e,a,n),ID(a)},M6=function(e,n,a,i){var l=V.fromTag(a),c=V.fromTag("br");return q(l,i),Di(l,c),ND(e,l,n),ID(c)},LD=function(e,n,a,i){return n===""?P6(e,i):M6(e,i,n,a)},R6=function(e,n){var a=Me(Or,n);return Sb(V.fromDom(e.container()),Ul,a).filter(zx)},B6=function(e,n,a){return n?Z5(e.dom,a):X5(e.dom,a)},F6=function(e,n){var a=V.fromDom(e.getBody()),i=It.fromRangeStart(e.selection.getRng()),l=Gi(e),c=Mp(e);return R6(i,a).exists(function(){if(B6(a,n,i)){var m=LD(a,l,c,n);return e.selection.setRng(m),!0}else return!1})},zD=function(e,n){return e.selection.isCollapsed()?F6(e,n):!1},I6=function(e){return gt(e,function(n){return Yn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ce},n)})},N6=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},L6=function(e,n){return sr(I6(e),function(a){return N6(a,n)?[a]:[]})},la=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},Hd=function(e,n){return fn(L6(e,n),function(a){return a.action()})},HD=function(e,n){var a=n?Ri.Forwards:Ri.Backwards,i=e.selection.getRng();return pD(e,a,i,gg,pg,Hu).exists(function(l){return Kc(e,l),!0})},Hx=function(e,n){var a=n?1:-1,i=e.selection.getRng();return Ax(e,a,i,gg,pg,Hu).exists(function(l){return Kc(e,l),!0})},VD=function(e,n){var a=n?pg:gg;return Dx(e,n,a)},z6=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},H6=function(e,n){return sr(n,function(a){var i=z6(sv(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},V6=function(e,n,a){return ln(e,function(i,l){return i.fold(function(){return re.some(l)},function(c){var m=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-a)),b=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return re.some(b<m?l:c)})},re.none())},UD=function(e,n,a,i,l){var c=Mi(V.fromDom(a),"td,th,caption").map(function(b){return b.dom}),m=Re(H6(e,c),function(b){return n(b,l)});return V6(m,i,l).map(function(b){return b.cell})},U6=function(e){return e.bottom},W6=function(e){return e.top},j6=function(e,n){return e.y<n},q6=function(e,n){return e.y>n},K6=Me(UD,U6,j6),G6=Me(UD,W6,q6),Y6=function(e,n){return Wt(n.getClientRects()).bind(function(a){return K6(e,a.left,a.top)}).bind(function(a){return cD(J5(a),n)})},X6=function(e,n){return dn(n.getClientRects()).bind(function(a){return G6(e,a.left,a.top)}).bind(function(a){return cD(Sx(a),n)})},WD=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},Z6=function(e){return e.breakType===qc.Wrap&&e.positions.length===0},J6=function(e){return e.breakType===qc.Br&&e.positions.length===1},Vx=function(e,n,a){var i=e(n,a);return Z6(i)||!Ha(a.getNode())&&J6(i)?!WD(e,n,i):i.breakAt.isNone()},jD=Me(Vx,Ih),ly=Me(Vx,Nh),qD=function(e,n,a){var i=It.fromRangeStart(n);return mv(!e,a).exists(function(l){return l.isEqual(i)})},Ux=function(e,n,a,i){var l=e.selection.getRng(),c=n?1:-1;return OE()&&qD(n,l,a)?(fc(c,e,a,!n,!1).each(function(m){Kc(e,m)}),!0):!1},Wx=function(e,n,a){return Y6(n,a).orThunk(function(){return Wt(a.getClientRects()).bind(function(i){return Fh(Y5(e,It.before(n)),i.left)})}).getOr(It.before(n))},KD=function(e,n,a){return X6(n,a).orThunk(function(){return Wt(a.getClientRects()).bind(function(i){return Fh(fD(e,It.after(n)),i.left)})}).getOr(It.after(n))},GD=function(e,n){var a=n.getNode(e);return Mr(a)&&a.nodeName==="TABLE"?re.some(a):re.none()},YD=function(e,n,a,i){var l=Gi(n);l?n.undoManager.transact(function(){var c=V.fromTag(l);q(c,Mp(n)),Di(c,V.fromTag("br")),e?Wf(V.fromDom(a),c):Hl(V.fromDom(a),c);var m=n.dom.createRng();m.setStart(c.dom,0),m.setEnd(c.dom,0),Kc(n,m)}):Kc(n,i.toRange())},Vd=function(e,n,a){var i=GD(!!n,a),l=n===!1;i.fold(function(){return Kc(e,a.toRange())},function(c){return mv(l,e.getBody()).filter(function(m){return m.isEqual(a)}).fold(function(){return Kc(e,a.toRange())},function(m){return YD(n,e,c,a)})})},XD=function(e,n,a,i){var l=e.selection.getRng(),c=It.fromRangeStart(l),m=e.getBody();if(!n&&jD(i,c)){var b=Wx(m,a,c);return Vd(e,n,b),!0}else if(n&&ly(i,c)){var b=KD(m,a,c);return Vd(e,n,b),!0}else return!1},sy=function(e,n,a){return re.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return re.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},ZD=function(e,n){return sy(e,n,Ux)},cy=function(e,n){return sy(e,n,XD)},Q6=function(e,n,a){var i=ar().os;Hd([{keyCode:Tr.RIGHT,action:la(RD,e,!0)},{keyCode:Tr.LEFT,action:la(RD,e,!1)},{keyCode:Tr.UP,action:la(BD,e,!1)},{keyCode:Tr.DOWN,action:la(BD,e,!0)},{keyCode:Tr.RIGHT,action:la(ZD,e,!0)},{keyCode:Tr.LEFT,action:la(ZD,e,!1)},{keyCode:Tr.UP,action:la(cy,e,!1)},{keyCode:Tr.DOWN,action:la(cy,e,!0)},{keyCode:Tr.RIGHT,action:la(HD,e,!0)},{keyCode:Tr.LEFT,action:la(HD,e,!1)},{keyCode:Tr.UP,action:la(Hx,e,!1)},{keyCode:Tr.DOWN,action:la(Hx,e,!0)},{keyCode:Tr.RIGHT,action:la(ty,e,n,!0)},{keyCode:Tr.LEFT,action:la(ty,e,n,!1)},{keyCode:Tr.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:la(c6,e,n)},{keyCode:Tr.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:la(f6,e,n)},{keyCode:Tr.UP,action:la(zD,e,!1)},{keyCode:Tr.DOWN,action:la(zD,e,!0)}],a).each(function(l){a.preventDefault()})},eL=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Q6(e,n,a)})},tL=function(e,n,a){Hd([{keyCode:Tr.BACKSPACE,action:la(Bx,e,!1)},{keyCode:Tr.BACKSPACE,action:la(j0,e,!1)},{keyCode:Tr.DELETE,action:la(j0,e,!0)},{keyCode:Tr.BACKSPACE,action:la(_h,e,!1)},{keyCode:Tr.DELETE,action:la(_h,e,!0)},{keyCode:Tr.BACKSPACE,action:la(ry,e,n,!1)},{keyCode:Tr.DELETE,action:la(ry,e,n,!0)},{keyCode:Tr.BACKSPACE,action:la(s0,e,!1)},{keyCode:Tr.DELETE,action:la(s0,e,!0)},{keyCode:Tr.BACKSPACE,action:la(Pg,e,!1)},{keyCode:Tr.DELETE,action:la(Pg,e,!0)},{keyCode:Tr.BACKSPACE,action:la(iy,e,!1)},{keyCode:Tr.DELETE,action:la(iy,e,!0)},{keyCode:Tr.BACKSPACE,action:la(Fd,e,!1)},{keyCode:Tr.DELETE,action:la(Fd,e,!0)},{keyCode:Tr.BACKSPACE,action:la(H0,e,!1)},{keyCode:Tr.DELETE,action:la(H0,e,!0)},{keyCode:Tr.BACKSPACE,action:la(ay,e,!1)},{keyCode:Tr.DELETE,action:la(ay,e,!0)}],a).each(function(i){a.preventDefault()})},nL=function(e,n){Hd([{keyCode:Tr.BACKSPACE,action:la(Z$,e)},{keyCode:Tr.DELETE,action:la(Z$,e)}],n)},rL=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&tL(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&nL(e,a)})},aL=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Fg=function(e,n){var a,i=n,l=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var m=aL(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(l.doc.createTextNode(nl),n.firstChild)}var b=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var w=new qa(n,n);a=w.current();){if(Kn(a)){b.setStart(a,0),b.setEnd(a,0);break}if(c[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=w.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else Ha(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),Xp(e,b)}},Ig=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},jx=function(e){return re.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},qx=function(e){return jx(e).fold(G(""),function(n){return n.nodeName.toUpperCase()})},oL=function(e){return jx(e).filter(function(n){return Su(V.fromDom(n))}).isSome()},JD=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},QD=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Kx=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},Gx=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Yx=function(e){return Gx(e)&&Gx(e.parentNode)},Uh=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},fy=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Mr(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},iL=function(e,n,a,i,l){var c=e.dom,m=e.selection.getRng();if(a!==e.getBody()){Yx(a)&&(l="LI");var b=l?n(l):c.create("BR");if(fy(a,i,!0)&&fy(a,i,!1))if(Kx(a,"LI")){var w=Uh(a);c.insertAfter(b,w),QD(a)?c.remove(w):c.remove(a)}else c.replace(b,a);else if(fy(a,i,!0))Kx(a,"LI")?(c.insertAfter(b,Uh(a)),b.appendChild(c.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),c.remove(i);else if(fy(a,i,!1))c.insertAfter(b,Uh(a)),c.remove(i);else{a=Uh(a);var M=m.cloneRange();M.setStartAfter(i),M.setEndAfter(a);var W=M.extractContents();l==="LI"&&JD(W,"LI")?(b=W.firstChild,c.insertAfter(W,a)):(c.insertAfter(W,a),c.insertAfter(b,a)),c.remove(i)}Fg(e,b)}},vy=function(e){ut(lC(V.fromDom(e),Vo),function(n){var a=n.dom;a.nodeValue=Oc(a.nodeValue)})},uL=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},lL=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Xx=function(e){e.innerHTML='<br data-mce-bogus="1">'},dy=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},e4=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},sL=function(e,n,a){var i=a,l=[],c;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Mr(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(c=l.length;c--;)i=l[c],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||uL(e,i))&&e.remove(i)}},Ku=function(e,n,a){return Kn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===nt?0:a:a===n.data.length-1&&n.data.charAt(a)===nt?n.data.length:a},cL=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Ku(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Ku(!1,e.endContainer,e.endOffset)),n},Zx=function(e){do Kn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Jx=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},Qx=function(e,n,a){var i=e.dom;re.from(a.style).map(i.parseStyle).each(function(w){var M=Cb(V.fromDom(n)),W=Yn(Yn({},M),w);i.setStyles(n,W)});var l=re.from(a.class).map(function(w){return w.split(/\s+/)}),c=re.from(n.className).map(function(w){return Re(w.split(/\s+/),function(M){return M!==""})});ou(l,c,function(w,M){var W=Re(M,function(ee){return!Be(w,ee)}),K=Ga(Ga([],w,!0),W,!0);i.setAttrib(n,"class",K.join(" "))});var m=["style","class"],b=Un(a,function(w,M){return!Be(m,M)});i.setAttribs(n,b)},Wh=function(e,n){var a=Gi(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Mp(e);Qx(e,n,i)}},fL=function(e,n,a,i,l){var c,m,b,w,M,W,K=n||"P",ee=e.dom,de=Jx(ee,i);if(m=ee.getParent(i,ee.isBlock),!m||!e4(ee,m)){if(m=m||de,m===e.getBody()||lL(m)?W=m.nodeName.toLowerCase():W=m.parentNode.nodeName.toLowerCase(),!m.hasChildNodes())return c=ee.create(K),Wh(e,c),m.appendChild(c),a.setStart(c,0),a.setEnd(c,0),c;for(w=i;w.parentNode!==m;)w=w.parentNode;for(;w&&!ee.isBlock(w);)b=w,w=w.previousSibling;if(b&&e.schema.isValidChild(W,K.toLowerCase())){for(c=ee.create(K),Wh(e,c),b.parentNode.insertBefore(c,b),w=b;w&&!ee.isBlock(w);)M=w.nextSibling,c.appendChild(w),w=M;a.setStart(i,l),a.setEnd(i,l)}}return i},t4=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},vL=function(e,n){var a,i,l,c,m,b,w,M,W,K,ee=e.dom,de=e.schema,pe=de.getNonEmptyElements(),be=e.selection.getRng(),we=function(Kt){var vn=i,br,Hn,en,pr=de.getTextInlineElements();if(Kt||M==="TABLE"||M==="HR"?br=ee.create(Kt||W):br=c.cloneNode(!1),en=br,zM(e)===!1)ee.setAttrib(br,"style",null),ee.setAttrib(br,"class",null);else do if(pr[vn.nodeName]){if(Ic(vn)||ul(vn))continue;Hn=vn.cloneNode(!1),ee.setAttrib(Hn,"id",""),br.hasChildNodes()?(Hn.appendChild(br.firstChild),br.appendChild(Hn)):(en=Hn,br.appendChild(Hn))}while((vn=vn.parentNode)&&vn!==Ue);return Wh(e,br),Xx(en),br},Fe=function(Kt){var vn,br,Hn=Ku(Kt,i,l);if(Kn(i)&&(Kt?Hn>0:Hn<i.nodeValue.length))return!1;if(i.parentNode===c&&K&&!Kt||Kt&&Mr(i)&&i===c.firstChild)return!0;if(dy(i,"TABLE")||dy(i,"HR"))return K&&!Kt||!K&&Kt;var en=new qa(i,c);for(Kn(i)&&(Kt&&Hn===0?en.prev():!Kt&&Hn===i.nodeValue.length&&en.next());vn=en.current();){if(Mr(vn)){if(!vn.getAttribute("data-mce-bogus")&&(br=vn.nodeName.toLowerCase(),pe[br]&&br!=="br"))return!1}else if(Kn(vn)&&!Ws(vn.nodeValue))return!1;Kt?en.prev():en.next()}return!0},De=function(){/^(H[1-6]|PRE|FIGURE)$/.test(M)&&ht!=="HGROUP"?m=we(W):m=we(),HM(e)&&e4(ee,w)&&ee.isEmpty(c)?m=ee.split(w,c):ee.insertAfter(m,c),Fg(e,m)};P1(ee,be).each(function(Kt){be.setStart(Kt.startContainer,Kt.startOffset),be.setEnd(Kt.endContainer,Kt.endOffset)}),i=be.startContainer,l=be.startOffset,W=Gi(e);var vt=!!(n&&n.shiftKey),ot=!!(n&&n.ctrlKey);Mr(i)&&i.hasChildNodes()&&(K=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,K&&Kn(i)?l=i.nodeValue.length:l=0);var Ue=Jx(ee,i);if(Ue){(W&&!vt||!W&&vt)&&(i=fL(e,W,be,i,l)),c=ee.getParent(i,ee.isBlock),w=c?ee.getParent(c.parentNode,ee.isBlock):null,M=c?c.nodeName.toUpperCase():"";var ht=w?w.nodeName.toUpperCase():"";if(ht==="LI"&&!ot&&(c=w,w=w.parentNode,M=ht),/^(LI|DT|DD)$/.test(M)&&ee.isEmpty(c)){iL(e,we,w,c,W);return}W&&c===e.getBody()||(W=W||"P",Oo(c)?(m=Tw(c),ee.isEmpty(c)&&Xx(c),Wh(e,m),Fg(e,m)):Fe()?De():Fe(!0)?(m=c.parentNode.insertBefore(we(),c),Fg(e,dy(c,"HR")?m:c)):(a=cL(be).cloneRange(),a.setEndAfter(c),b=a.extractContents(),vy(b),Zx(b),m=b.firstChild,ee.insertAfter(b,c),sL(ee,pe,m),t4(ee,c),ee.isEmpty(c)&&Xx(c),m.normalize(),ee.isEmpty(m)?(ee.remove(m),De()):(Wh(e,m),Fg(e,m))),ee.setAttrib(m,"id",""),e.fire("NewBlock",{newBlock:m}))}},dL=function(e,n,a){for(var i=new qa(n,a),l,c=e.getNonEmptyElements();l=i.next();)if(c[l.nodeName.toLowerCase()]||l.length>0)return!0},n4=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Xp(e,i)},mL=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),c,m;P1(i,l).each(function(pe){l.setStart(pe.startContainer,pe.startOffset),l.setEnd(pe.endContainer,pe.endOffset)});var b=l.startOffset,w=l.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var M=b>w.childNodes.length-1;w=w.childNodes[Math.min(b,w.childNodes.length-1)]||w,M&&w.nodeType===3?b=w.nodeValue.length:b=0}var W=i.getParent(w,i.isBlock),K=W?i.getParent(W.parentNode,i.isBlock):null,ee=K?K.nodeName.toUpperCase():"",de=!!(n&&n.ctrlKey);ee==="LI"&&!de&&(W=K),w&&w.nodeType===3&&b>=w.nodeValue.length&&(dL(e.schema,w,W)||(c=i.create("br"),l.insertNode(c),l.setStartAfter(c),l.setEndAfter(c),m=!0)),c=i.create("br"),t1(i,l,c),n4(e,c,m),e.undoManager.add()},gL=function(e,n){var a=V.fromTag("br");Hl(V.fromDom(n),a),e.undoManager.add()},pL=function(e,n){bL(e.getBody(),n)||Wf(V.fromDom(n),V.fromTag("br"));var a=V.fromTag("br");Wf(V.fromDom(n),a),n4(e,a.dom,!1),e.undoManager.add()},hL=function(e){return Ha(e.getNode())},bL=function(e,n){return hL(It.after(n))?!0:rc(e,It.after(n)).map(function(a){return Ha(a.getNode())}).getOr(!1)},r4=function(e){return e&&e.nodeName==="A"&&"href"in e},Zi=function(e){return e.fold(Le,r4,r4,Le)},yL=function(e){var n=Me(Ov,e),a=It.fromRangeStart(e.selection.getRng());return ts(n,e.getBody(),a).filter(Zi)},wL=function(e,n){n.fold(Ce,Me(gL,e),Me(pL,e),Ce)},a4=function(e,n){var a=yL(e);a.isSome()?a.each(Me(wL,e)):mL(e,n)},Mu=function(e,n){return jx(e).filter(function(a){return n.length>0&&Fn(V.fromDom(a),n)}).isSome()},CL=function(e){return Mu(e,Rp(e))},o4=function(e){return Mu(e,uE(e))},Bl=vr.generate([{br:[]},{block:[]},{none:[]}]),Ng=function(e,n){return o4(e)},ek=function(e){return function(n,a){var i=Gi(n)==="";return i===e}},i4=function(e){return function(n,a){return oL(n)===e}},my=function(e,n){return function(a,i){var l=qx(a)===e.toUpperCase();return l===n}},gy=function(e){return my("pre",e)},SL=function(){return my("summary",!0)},py=function(e){return function(n,a){return LM(n)===e}},xL=function(e,n){return CL(e)},jh=function(e,n){return n},u4=function(e){var n=Gi(e),a=Ig(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Gu=function(e,n){return function(a,i){var l=ln(e,function(c,m){return c&&m(a,i)},!0);return l?re.some(n):re.none()}},l4=function(e,n){return es([Gu([Ng],Bl.none()),Gu([SL()],Bl.br()),Gu([gy(!0),py(!1),jh],Bl.br()),Gu([gy(!0),py(!1)],Bl.block()),Gu([gy(!0),py(!0),jh],Bl.block()),Gu([gy(!0),py(!0)],Bl.br()),Gu([i4(!0),jh],Bl.br()),Gu([i4(!0)],Bl.block()),Gu([ek(!0),jh,u4],Bl.block()),Gu([ek(!0)],Bl.br()),Gu([xL],Bl.br()),Gu([ek(!1),jh],Bl.br()),Gu([u4],Bl.block())],[e,!!(n&&n.shiftKey)]).getOr(Bl.none())},s4=function(e,n){l4(e,n).fold(function(){a4(e,n)},function(){vL(e,n)},Ce)},kL=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),WI(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),s4(e,n)}))},TL=function(e){e.on("keydown",function(n){n.keyCode===Tr.ENTER&&kL(e,n)})},EL=function(e,n,a){Hd([{keyCode:Tr.END,action:la(FD,e,!0)},{keyCode:Tr.HOME,action:la(FD,e,!1)},{keyCode:Tr.END,action:la(VD,e,!0)},{keyCode:Tr.HOME,action:la(VD,e,!1)},{keyCode:Tr.END,action:la(ny,e,!0,n)},{keyCode:Tr.HOME,action:la(ny,e,!1,n)}],a).each(function(i){a.preventDefault()})},OL=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&EL(e,n,a)})},tk=ar().browser,c4=function(e){var n=Gb(function(){e.composing||j2(e)},0);tk.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},f4=function(e){c4(e),e.on("input",function(n){n.isComposing===!1&&j2(e)})},v4=ar(),AL=function(e,n,a){Hd([{keyCode:Tr.PAGE_UP,action:la(ny,e,!1,n)},{keyCode:Tr.PAGE_DOWN,action:la(ny,e,!0,n)}],a)},d4=function(e){return e.stopImmediatePropagation()},m4=function(e){return e.keyCode===Tr.PAGE_UP||e.keyCode===Tr.PAGE_DOWN},g4=function(e,n,a){a&&!e.get()?n.on("NodeChange",d4,!0):!a&&e.get()&&n.off("NodeChange",d4),e.set(a)},$L=function(e,n){if(!v4.os.isOSX()){var a=Tu(!1);e.on("keydown",function(i){m4(i)&&g4(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&AL(e,n,i),m4(i)&&a.get()&&(g4(a,e,!1),e.nodeChanged())})}},p4=function(e,n){var a=n.container(),i=n.offset();return Kn(a)?(a.insertData(i,e),re.some(It(a,i+e.length))):m1(n).map(function(l){var c=V.fromText(e);return n.isAtEnd()?Wf(l,c):Hl(l,c),It(c.dom,e.length)})},h4=Me(p4,nl),DL=Me(p4," "),_L=function(e){return function(n){return n.fold(function(a){return ac(e.dom,It.before(a))},function(a){return $u(a)},function(a){return oc(a)},function(a){return rc(e.dom,It.after(a))})}},PL=function(e,n){return function(a){return rF(e,a)?h4(n):DL(n)}},ML=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},b4=function(e){var n=It.fromRangeStart(e.selection.getRng()),a=V.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=Me(Ov,e),l=It.fromRangeStart(e.selection.getRng());return ts(i,e.getBody(),l).bind(_L(a)).bind(PL(a,n)).exists(ML(e))}else return!1},RL=function(e,n){Hd([{keyCode:Tr.SPACEBAR,action:la(b4,e)}],n).each(function(a){n.preventDefault()})},BL=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&RL(e,n)})},FL=function(e){var n=s6(e);return PD(e),eL(e,n),rL(e,n),TL(e),BL(e),f4(e),OL(e,n),$L(e,n),n},IL=function(e){return xf(e)?Tu(null):FL(e)},y4=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var c=n.selection.getRng(),m={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(l.type==="nodechange"||!m2(m,a))&&n.fire("SelectionChange"),a=m}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!dr.range&&n.selection.isCollapsed()||E1(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&E1(n)&&(n.selection.getNode().nodeName==="IMG"?Ui.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,c;this.editor.initialized&&a&&!uR(this.editor)&&!this.editor.mode.isReadOnly()&&(c=this.editor.getBody(),i=a.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c),l=[],this.editor.dom.getParent(i,function(m){if(m===c)return!0;l.push(m)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),hy=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},w4=function(e){e.parser.addNodeFilter("details",function(n){ut(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){ut(n,function(a){var i=a.attr("data-mce-open");a.attr("open",U(i)?i:null),a.attr("data-mce-open",null)})})},C4=function(e){hy(e),w4(e)},S4=function(e){return Mr(e)&&gf(V.fromDom(e))},NL=function(e){var n=e.selection.getRng(),a=It.fromRangeStart(n),i=It.fromRangeEnd(n);if(It.isElementPosition(a)){var l=a.container();S4(l)&&$u(l).each(function(c){return n.setStart(c.container(),c.offset())})}if(It.isElementPosition(i)){var l=a.container();S4(l)&&oc(l).each(function(m){return n.setEnd(m.container(),m.offset())})}e.selection.setRng(aS(n))},nk=function(e){e.on("click",function(n){n.detail>=3&&NL(e)})},x4=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},LL=function(e){return e.inline?x4(e.getBody()):{left:0,top:0}},zL=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},HL=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},Os=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=x4(e.getContentAreaContainer()),i=HL(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},k4=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},T4=function(e,n){return k4(LL(e),zL(e),Os(e,n))},by=vo,VL=ds,UL=function(e,n){return by(n)&&n!==e},WL=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!by(n)},jL=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},qL=function(e,n,a,i){var l=e.dom,c=n.cloneNode(!0);l.setStyles(c,{width:a,height:i}),l.setAttrib(c,"data-mce-selected",null);var m=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(c,{margin:0,boxSizing:"border-box"}),m.appendChild(c),m},KL=function(e,n){e.parentNode!==n&&n.appendChild(e)},rk=function(e,n,a,i,l,c){var m=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(m=n.pageX+a-l),n.pageY+i>c&&(b=n.pageY+i-c),e.style.width=a-m+"px",e.style.height=i-b+"px"},E4=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},GL=function(e){return e.button===0},O4=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},YL=function(e,n){return function(a){if(GL(a)){var i=fn(n.dom.getParents(a.target),kM(by,VL)).getOr(null);if(UL(n.getBody(),i)){var l=n.dom.getPos(i),c=n.getBody(),m=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?c.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?c.scrollHeight:m.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:qL(n,i,i.offsetWidth,i.offsetHeight)})}}}},XL=function(e,n){var a=Ui.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var c=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&c>10){var m=n.fire("dragstart",{target:l.element});if(m.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var b=O4(l,T4(n,i));KL(l.ghost,n.getBody()),rk(l.ghost,b,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},ZL=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},JL=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(WL(n,ZL(n.selection),i.element)){var l=jL(i.element),c=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});c.isDefaultPrevented()||n.undoManager.transact(function(){E4(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),A4(e)}},QL=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),A4(e)}},A4=function(e){e.on(function(n){E4(n.ghost)}),e.clear()},ak=function(e){var n=sd(),a=lo.DOM,i=document,l=YL(n,e),c=XL(n,e),m=JL(n,e),b=QL(n,e);e.on("mousedown",l),e.on("mousemove",c),e.on("mouseup",m),a.bind(i,"mousemove",c),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",c),a.unbind(i,"mouseup",b)}),e.on("keydown",function(w){w.keyCode===Tr.ESC&&b()})},e8=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(by(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},$4=function(e){var n=function(l){if(!l.isDefaultPrevented()){var c=l.dataTransfer;c&&(Be(c.types,"Files")||c.files.length>0)&&(l.preventDefault(),l.type==="drop"&&F0(e,"Dropped file type is not supported"))}},a=function(l){z1(e,l.target)&&n(l)},i=function(){var l=lo.DOM,c=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),w=["drop","dragover"];ut(w,function(M){l.bind(m,M,a),c.bind(b,M,n)}),e.on("remove",function(){ut(w,function(M){l.unbind(m,M,a),c.unbind(b,M,n)})})};e.on("init",function(){Ui.setEditorTimeout(e,i,0)})},t8=function(e){ak(e),e8(e),Np(e)&&$4(e)},n8=function(e){var n=Gb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=_v(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},r8=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Hu(a)){var i=sg(e.getBody(),a),l=vo(i)?i:a;e.selection.getNode()!==l&&Id(e,l).each(function(c){return e.selection.setRng(c)})}})})},D4=ds,$o=vo,yy=function(e,n){return sg(e.getBody(),n)},a8=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),c=Au(e,l,i,function(){return Hc(e)}),m="sel-"+a.uniqueId(),b="data-mce-selected",w,M=function(en){return a.hasClass(en,"mce-offscreen-selection")},W=function(en){return en!==l&&($o(en)||Hu(en))&&a.isChildOf(en,l)},K=function(en){return yv(en)||wv(en)||gg(en)||pg(en)},ee=function(){var en=a.get(m);return en&&en.getElementsByTagName("*")[0]},de=function(en){en&&n.setRng(en)},pe=n.getRng,be=function(en,pr,pn,Nn){Nn===void 0&&(Nn=!0);var Sn=e.fire("ShowCaret",{target:pr,direction:en,before:pn});return Sn.isDefaultPrevented()?null:(Nn&&n.scrollIntoView(pr,en===-1),c.show(pn,pr))},we=function(en){en.hasAttribute("data-mce-caret")&&(Tw(en),de(pe()),n.scrollIntoView(en))},Fe=function(){e.on("mouseup",function(Sn){var An=pe();An.collapsed&&kf(e,Sn.clientX,Sn.clientY)&&vx(e,An,!1).each(de)}),e.on("click",function(Sn){var An=yy(e,Sn.target);An&&($o(An)&&(Sn.preventDefault(),e.focus()),D4(An)&&a.isChildOf(An,n.getNode())&&vn())}),e.on("blur NewBlock",vn),e.on("ResizeWindow FullscreenStateChanged",c.reposition);var en=function(Sn){var An=Sn.firstChild;if(me(An))return!1;var Gn=It.before(An);if(Ha(Gn.getNode())&&Sn.childNodes.length===1)return!K(Gn);var on=Mo(Sn),Vn=on.next(Gn);return Vn&&!K(Vn)},pr=function(Sn,An){var Gn=a.getParent(Sn,i),on=a.getParent(An,i);return Gn===on},pn=function(Sn,An){var Gn=a.getParent(Sn,i),on=a.getParent(An,i);return me(Gn)?!1:Sn!==on&&a.isChildOf(Gn,on)&&$o(yy(e,Gn))===!1?!0:!a.isChildOf(on,Gn)&&!pr(Gn,on)&&en(Gn)};e.on("tap",function(Sn){var An=Sn.target,Gn=yy(e,An);$o(Gn)?(Sn.preventDefault(),Id(e,Gn).each(Kt)):W(An)&&Id(e,An).each(Kt)},!0),e.on("mousedown",function(Sn){var An=Sn.target;if(!(An!==l&&An.nodeName!=="HTML"&&!a.isChildOf(An,l))&&kf(e,Sn.clientX,Sn.clientY)!==!1){var Gn=yy(e,An);if(Gn)$o(Gn)?(Sn.preventDefault(),Id(e,Gn).each(Kt)):(vn(),!(D4(Gn)&&Sn.shiftKey)&&!qp(Sn.clientX,Sn.clientY,n.getRng())&&(Hn(),n.placeCaretAt(Sn.clientX,Sn.clientY)));else if(W(An))Id(e,An).each(Kt);else if(vd(An)===!1){vn(),Hn();var on=Ox(l,Sn.clientX,Sn.clientY);if(on&&!pn(An,on.node)){Sn.preventDefault();var Vn=be(1,on.node,on.before,!1);de(Vn),e.getBody().focus()}}}}),e.on("keypress",function(Sn){Tr.modifierPressed(Sn)||$o(n.getNode())&&Sn.preventDefault()}),e.on("GetSelectionRange",function(Sn){var An=Sn.range;if(w){if(!w.parentNode){w=null;return}An=An.cloneRange(),An.selectNode(w),Sn.range=An}}),e.on("SetSelectionRange",function(Sn){Sn.range=ot(Sn.range);var An=Kt(Sn.range,Sn.forward);An&&(Sn.range=An)});var Nn=function(Sn){return Sn.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Sn){var An=Sn.range,Gn=An.startContainer.parentNode;!vt(An)&&!Nn(Gn)&&Hn(),M(Gn)||vn()}),e.on("copy",function(Sn){var An=Sn.clipboardData;if(!Sn.isDefaultPrevented()&&Sn.clipboardData&&!dr.ie){var Gn=ee();Gn&&(Sn.preventDefault(),An.clearData(),An.setData("text/html",Gn.outerHTML),An.setData("text/plain",Gn.outerText||Gn.innerText))}}),t8(e),n8(e),r8(e)},De=function(en){return jl(en)||Tb(en)||Eb(en)},vt=function(en){return De(en.startContainer)||De(en.endContainer)},ot=function(en){var pr=e.schema.getShortEndedElements(),pn=a.createRng(),Nn=en.startContainer,Sn=en.startOffset,An=en.endContainer,Gn=en.endOffset;return Ar(pr,Nn.nodeName.toLowerCase())?Sn===0?pn.setStartBefore(Nn):pn.setStartAfter(Nn):pn.setStart(Nn,Sn),Ar(pr,An.nodeName.toLowerCase())?Gn===0?pn.setEndBefore(An):pn.setEndAfter(An):pn.setEnd(An,Gn),pn},Ue=function(en,pr,pn){var Nn=e.$,Sn=km(V.fromDom(e.getBody()),"#"+m).fold(function(){return Nn([])},function(on){return Nn([on.dom])});Sn.length===0&&(Sn=Nn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m),Sn.appendTo(e.getBody()));var An=a.createRng();pr===pn&&dr.ie?(Sn.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(pr),An.setStartAfter(Sn[0].firstChild.firstChild),An.setEndAfter(pr)):(Sn.empty().append(nl).append(pr).append(nl),An.setStart(Sn[0].firstChild,1),An.setEnd(Sn[0].lastChild,0)),Sn.css({top:a.getPos(en,e.getBody()).y}),Sn[0].focus();var Gn=n.getSel();return Gn.removeAllRanges(),Gn.addRange(An),An},ht=function(en){var pr=en.cloneNode(!0),pn=e.fire("ObjectSelected",{target:en,targetClone:pr});if(pn.isDefaultPrevented())return null;var Nn=Ue(en,pn.targetClone,pr),Sn=V.fromDom(en);return ut(Mi(V.fromDom(e.getBody()),"*[data-mce-selected]"),function(An){Or(Sn,An)||zt(An,b)}),a.getAttrib(en,b)||en.setAttribute(b,"1"),w=en,Hn(),Nn},Kt=function(en,pr){if(!en)return null;if(en.collapsed){if(!vt(en)){var pn=pr?1:-1,Nn=ng(pn,l,en),Sn=Nn.getNode(!pr);if(vd(Sn))return be(pn,Sn,pr?!Nn.isAtEnd():!1,!1);var An=Nn.getNode(pr);if(vd(An))return be(pn,An,pr?!1:!Nn.isAtEnd(),!1)}return null}var Gn=en.startContainer,on=en.startOffset,Vn=en.endOffset;if(Gn.nodeType===3&&on===0&&$o(Gn.parentNode)&&(Gn=Gn.parentNode,on=a.nodeIndex(Gn),Gn=Gn.parentNode),Gn.nodeType!==1)return null;if(Vn===on+1&&Gn===en.endContainer){var ta=Gn.childNodes[on];if(W(ta))return ht(ta)}return null},vn=function(){w&&w.removeAttribute(b),km(V.fromDom(e.getBody()),"#"+m).each(Uo),w=null},br=function(){c.destroy(),w=null},Hn=function(){c.hide()};return dr.ceFalse&&!xf(e)&&Fe(),{showCaret:be,showBlockCaretContainer:we,hideFakeCaret:Hn,destroy:br}},o8=function(e){var n=Ht.each,a=Tr.BACKSPACE,i=Tr.DELETE,l=e.dom,c=e.selection,m=e.parser,b=dr.gecko,w=dr.ie,M=dr.webkit,W="data:text/mce-internal,",K=w?"Text":"URL",ee=function(un,kn){try{e.getDoc().execCommand(un,!1,kn)}catch{}},de=function(un){return un.isDefaultPrevented()},pe=function(un){var kn,ir;un.dataTransfer&&(e.selection.isCollapsed()&&un.target.tagName==="IMG"&&c.select(un.target),kn=e.selection.getContent(),kn.length>0&&(ir=W+escape(e.id)+","+escape(kn),un.dataTransfer.setData(K,ir)))},be=function(un){var kn;return un.dataTransfer&&(kn=un.dataTransfer.getData(K),kn&&kn.indexOf(W)>=0)?(kn=kn.substr(W.length).split(","),{id:unescape(kn[0]),html:unescape(kn[1])}):null},we=function(un,kn){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:un,internal:kn}):e.execCommand("mceInsertContent",!1,un)},Fe=function(){var un=function(ir){var xt=l.create("body"),gn=ir.cloneContents();return xt.appendChild(gn),c.serializer.serialize(xt,{format:"html"})},kn=function(ir){var xt=un(ir),gn=l.createRng();gn.selectNode(e.getBody());var sn=un(gn);return xt===sn};e.on("keydown",function(ir){var xt=ir.keyCode,gn,sn;if(!de(ir)&&(xt===i||xt===a)){if(gn=e.selection.isCollapsed(),sn=e.getBody(),gn&&!l.isEmpty(sn)||!gn&&!kn(e.selection.getRng()))return;ir.preventDefault(),e.setContent(""),sn.firstChild&&l.isBlock(sn.firstChild)?e.selection.setCursorLocation(sn.firstChild,0):e.selection.setCursorLocation(sn,0),e.nodeChanged()}})},De=function(){e.shortcuts.add("meta+a",null,"SelectAll")},vt=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(un){var kn;if(un.target===e.getDoc().documentElement)if(kn=c.getRng(),e.getBody().focus(),un.type==="mousedown"){if(jl(kn.startContainer))return;c.placeCaretAt(un.clientX,un.clientY)}else c.setRng(kn)})},ot=function(){e.on("keydown",function(un){if(!de(un)&&un.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){var kn=c.getNode(),ir=kn.previousSibling;if(kn.nodeName==="HR"){l.remove(kn),un.preventDefault();return}ir&&ir.nodeName&&ir.nodeName.toLowerCase()==="hr"&&(l.remove(ir),un.preventDefault())}}})},Ue=function(){Range.prototype.getClientRects||e.on("mousedown",function(un){if(!de(un)&&un.target.nodeName==="HTML"){var kn=e.getBody();kn.blur(),Ui.setEditorTimeout(e,function(){kn.focus()})}})},ht=function(){e.on("click",function(un){var kn=un.target;/^(IMG|HR)$/.test(kn.nodeName)&&l.getContentEditableParent(kn)!=="false"&&(un.preventDefault(),e.selection.select(kn),e.nodeChanged()),kn.nodeName==="A"&&l.hasClass(kn,"mce-item-anchor")&&(un.preventDefault(),c.select(kn))})},Kt=function(){var un=function(){var ir=l.getAttribs(c.getStart().cloneNode(!1));return function(){var xt=c.getStart();xt!==e.getBody()&&(l.setAttrib(xt,"style",null),n(ir,function(gn){xt.setAttributeNode(gn.cloneNode(!0))}))}},kn=function(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!==l.getParent(c.getEnd(),l.isBlock)};e.on("keypress",function(ir){var xt;if(!de(ir)&&(ir.keyCode===8||ir.keyCode===46)&&kn())return xt=un(),e.getDoc().execCommand("delete",!1,null),xt(),ir.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(ir){var xt;!de(ir)&&kn()&&(xt=un(),Ui.setEditorTimeout(e,function(){xt()}))})},vn=function(){e.on("keydown",function(un){if(!de(un)&&un.keyCode===a&&c.isCollapsed()&&c.getRng().startOffset===0){var kn=c.getNode().previousSibling;if(kn&&kn.nodeName&&kn.nodeName.toLowerCase()==="table")return un.preventDefault(),!1}})},br=function(){e.on("keydown",function(un){var kn,ir;if(!(de(un)||un.keyCode!==Tr.BACKSPACE)){kn=c.getRng();var xt=kn.startContainer,gn=kn.startOffset,sn=l.getRoot();if(ir=xt,!(!kn.collapsed||gn!==0)){for(;ir&&ir.parentNode&&ir.parentNode.firstChild===ir&&ir.parentNode!==sn;)ir=ir.parentNode;ir.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,ir),kn=l.createRng(),kn.setStart(xt,0),kn.setEnd(xt,0),c.setRng(kn))}}})},Hn=function(){var un=function(){ee("StyleWithCSS",!1),ee("enableInlineTableEditing",!1),gE(e)||ee("enableObjectResizing",!1)};lR(e)||e.on("BeforeExecCommand mousedown",un)},en=function(){var un=function(){n(l.select("a"),function(kn){var ir=kn.parentNode,xt=l.getRoot();if(ir.lastChild===kn){for(;ir&&!l.isBlock(ir);){if(ir.parentNode.lastChild!==ir||ir===xt)return;ir=ir.parentNode}l.add(ir,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(kn){(kn.type==="setcontent"||kn.command==="mceInsertLink")&&un()})},pr=function(){Gi(e)&&e.on("init",function(){ee("DefaultParagraphSeparator",Gi(e))})},pn=function(){e.on("keyup focusin mouseup",function(un){Tr.modifierPressed(un)||c.normalize()},!0)},Nn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Sn=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},An=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(un){var kn;if(un.target.nodeName==="HTML"){if(dr.ie>11){e.getBody().focus();return}kn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(kn),e.selection.normalize(),e.nodeChanged()}}))},Gn=function(){dr.mac&&e.on("keydown",function(un){if(Tr.metaKeyPressed(un)&&!un.shiftKey&&(un.keyCode===37||un.keyCode===39)){un.preventDefault();var kn=e.selection.getSel();kn.modify("move",un.keyCode===37?"backward":"forward","lineboundary")}})},on=function(){ee("AutoUrlDetect",!1)},Vn=function(){e.on("click",function(un){var kn=un.target;do if(kn.tagName==="A"){un.preventDefault();return}while(kn=kn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ta=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(un){un.preventDefault()})})},Sa=function(){m.addNodeFilter("br",function(un){for(var kn=un.length;kn--;)un[kn].attr("class")==="Apple-interchange-newline"&&un[kn].remove()})},ba=function(){e.on("dragstart",function(un){pe(un)}),e.on("drop",function(un){if(!de(un)){var kn=be(un);if(kn&&kn.id!==e.id){un.preventDefault();var ir=d2(un.x,un.y,e.getDoc());c.setRng(ir),we(kn.html,!0)}}})},wi=Ce,bo=function(){if(!b||e.removed)return!1;var un=e.selection.getSel();return!un||!un.rangeCount||un.rangeCount===0},cu=function(){M&&(vt(),ht(),ta(),De(),dr.iOS&&(Sn(),An(),Vn())),b&&(Ue(),Hn(),Nn(),Gn())},Ru=function(){br(),Fe(),dr.windowsPhone||pn(),M&&(vt(),ht(),pr(),ta(),vn(),Sa(),dr.iOS?(Sn(),An(),Vn()):De()),dr.ie>=11&&(An(),vn()),dr.ie&&(De(),on(),ba()),b&&(ot(),Ue(),Kt(),Hn(),en(),Nn(),Gn(),vn())};return xf(e)?cu():Ru(),{refreshContentEditable:wi,isHidden:bo}},wy=lo.DOM,ok=function(e,n){var a=V.fromDom(e.getBody()),i=sf(Cu(a)),l=V.fromTag("style");$(l,"type","text/css"),Di(l,V.fromText(n)),Di(i,l),e.on("remove",function(){Uo(l)})},i8=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},Cy=function(e){return Un(e,function(n){return X(n)===!1})},_4=function(e){var n=e.settings;return Cy({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},P4=function(e){var n=e.settings,a=e.editorUpload.blobCache;return Cy({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:i8(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},u8=function(e){var n=e.settings;return Yn(Yn(Yn({},P4(e)),_4(e)),Cy({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},l8=function(e){var n=P0(P4(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,c,m,b=e.dom,w="data-mce-"+i;l--;)if(c=a[l],m=c.attr(i),m&&!c.attr(w)){if(m.indexOf("data:")===0||m.indexOf("blob:")===0)continue;i==="style"?(m=b.serializeStyle(b.parseStyle(m),c.name),m.length||(m=null),c.attr(w,m),c.attr(i,m)):i==="tabindex"?(c.attr(w,m),c.attr(i,null)):c.attr(w,e.convertURL(m,i,c.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],c=l.attr("type")||"no/type";c.indexOf("mce-")!==0&&l.attr("type","mce-"+c)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var c=a[i];c.isEmpty(l)&&c.getAll("br").length===0&&(c.append(new Jl("br",1)).shortEnded=!0)}}),n},s8=function(e){e.settings.auto_focus&&Ui.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},c8=function(e){var n=e.dom.getRoot();!e.inline&&(!E1(e)||e.selection.getStart(!0)===n)&&$u(n).each(function(a){var i=a.getNode(),l=pi(i)?$u(i).getOr(a):a;dr.browser.isIE()?bB(e,l.toRange()):e.selection.setRng(l.toRange())})},f8=function(e){e.bindPendingEventDelegates(),e.initialized=!0,aO(e),e.focus(!0),c8(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),s8(e)},M4=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},v8=function(e,n,a){var i=[new Ti(function(l,c){return M4(e).loadAll(n,l,c)})];return e.inline?i:i.concat([new Ti(function(l,c){return e.ui.styleSheetLoader.loadAll(a,l,c)})])},R4=function(e){var n=M4(e),a=dE(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},c=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var m="";Ht.each(e.contentStyles,function(w){m+=w+`\r
`}),e.dom.addStyle(m)}var b=Ti.all(v8(e,i,a)).then(c).catch(c);return e.settings.content_style&&ok(e,e.settings.content_style),b},d8=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();zc(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,wy.setAttrib(i,"spellcheck","false")),e.quirks=o8(e),rO(e);var l=mE(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(c){Ht.each(n.protect,function(m){c.content=c.content.replace(m,function(b){return"<!--mce:protected "+escape(b)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(c){e.composing=c.type==="compositionstart"})},m8=function(e){xf(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ik=function(e){e.removed!==!0&&(m8(e),f8(e))},Sy=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(wy.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var c=e.getBody();c.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&wy.getStyle(c,"position",!0)==="static"&&(c.style.position="relative"),c.contentEditable=e.getParam("content_editable_state",!0)),c.disabled=!1,e.editorUpload=l5(e),e.schema=Ol(_4(e)),e.dom=lo(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:qM(e),referrerPolicy:lE(e),onSetAttrib:function(w){e.fire("SetAttrib",w)}}),e.parser=l8(e),e.serializer=i$(u8(e),e),e.selection=j3(e.dom,e.getWin(),e.serializer,e),e.annotator=eO(e),e.formatter=O$(e),e.undoManager=Ss(e),e._nodeChangeDispatcher=new y4(e),e._selectionOverrides=a8(e),k6(e),C4(e),xf(e)||nk(e);var m=IL(e);x6(e,m),DD(e),M$(e);var b=JI(e);d8(e),b.fold(function(){R4(e).then(function(){return ik(e)})},function(w){e.setProgressState(!0),R4(e).then(function(){w().then(function(M){e.setProgressState(!1),ik(e)},function(M){e.notificationManager.open({type:"error",text:String(M)}),ik(e)})})})},qh=lo.DOM,g8=function(e,n){if(document.domain!==window.location.hostname&&dr.browser.isIE()){var a=Ai("mce");e[a]=function(){Sy(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return qh.setAttrib(n,"src",i),!0}return!1},p8=function(e,n,a,i){var l=V.fromTag("iframe");return q(l,i),q(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),qm(l,"tox-edit-area__iframe"),l},h8=function(e){var n=BM(e)+"<html><head>";FM(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=IM(e),i=NM(e),l=e.translate(yE(e));return iE(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+iE(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},B4=function(e,n){var a=e.translate("Rich Text Area"),i=p8(e.id,a,n.height,RM(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=g8(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=h8(e),qh.add(n.iframeContainer,i),l},b8=function(e,n){var a=B4(e,n);n.editorContainer&&(qh.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=qh.isHidden(n.editorContainer)),e.getElement().style.display="none",qh.setAttrib(e.id,"aria-hidden","true"),a||Sy(e)},uk=lo.DOM,lk=function(e,n,a){var i=sl.get(a),l=sl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Ht.trim(a),i&&Ht.inArray(n,a)===-1){if(Ht.each(sl.dependencies(a),function(m){lk(e,n,m)}),e.plugins[a])return;try{var c=new i(e,l,e.$);e.plugins[a]=c,c.init&&(c.init(e,l),n.push(a))}catch(m){x$(e,a,m)}}},sk=function(e){return e.replace(/^\-/,"")},y8=function(e){var n=[];Ht.each(PC(e).split(/[ ,]/),function(a){lk(e,n,sk(a))})},w8=function(e){var n=Ht.trim(Rc(e)),a=e.ui.registry.getAll().icons,i=Yn(Yn({},B0.get("default").icons),B0.get(n).icons);wn(i,function(l,c){Ar(a,c)||e.ui.registry.addIcon(c,l)})},C8=function(e){var n=Fp(e);if(U(n)){e.settings.theme=sk(n);var a=jc.get(n);e.theme=new a(e,jc.urls[n]),e.theme.init&&e.theme.init(e,jc.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},F4=function(e){return e.theme.renderUI()},S8=function(e){var n=e.getElement(),a=Fp(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},I4=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},N4=function(e){var n=uk.create("div");return uk.insertAfter(n,e),I4(n)},x8=function(e){var n=e.getElement();return e.inline?I4(null):N4(n)},k8=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,U(Fp(e))?F4(e):fe(Fp(e))?S8(e):x8(e)},L4=function(e,n){var a={show:re.from(n.show).getOr(Ce),hide:re.from(n.hide).getOr(Ce),disable:re.from(n.disable).getOr(Ce),isDisabled:re.from(n.isDisabled).getOr(Le),enable:function(){e.mode.isReadOnly()||re.from(n.enable).map(Ae)}};e.ui=Yn(Yn({},e.ui),a)},z4=function(e){e.fire("ScriptsLoaded"),w8(e),C8(e),y8(e);var n=k8(e);L4(e,re.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,a5(e),e.inline?Sy(e):b8(e,a)},Ud=lo.DOM,H4=function(e){return e.charAt(0)==="-"},V4=function(e,n){var a=sE(n),i=cE(n);if(Eu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,Ce,void 0,function(){Th(n,l,a)})}},U4=function(e,n,a,i){var l=Fp(n);if(U(l)){if(!H4(l)&&!Ar(jc.urls,l)){var c=QM(n);c?jc.load(l,n.documentBaseURI.toAbsolute(c)):jc.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){jc.waitFor(l,i)})}else i()},T8=function(e){return re.from(AC(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:re.none()}})},W4=function(e,n,a){return re.from(n).filter(function(i){return i.length>0&&!B0.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:re.some(i)}})},E8=function(e,n,a){var i=W4(n,"default",a),l=T8(n).orThunk(function(){return W4(n,Rc(n),"")});ut(wb([i,l]),function(c){e.add(c.url,Ce,void 0,function(){n5(n,c.url,c.name.getOrUndefined())})})},O8=function(e,n){Ht.each(cR(e),function(a,i){sl.load(i,a,Ce,void 0,function(){N0(e,a,i)}),e.settings.plugins+=" "+i}),Ht.each(PC(e).split(/[ ,]/),function(a){if(a=Ht.trim(a),a&&!sl.urls[a])if(H4(a)){a=a.substr(1,a.length);var i=sl.dependencies(a);Ht.each(i,function(c){var m={prefix:"plugins/",resource:c,suffix:"/plugin"+n+".js"},b=sl.createUrl(m,c);sl.load(b.resource,b,Ce,void 0,function(){N0(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};sl.load(a,l,Ce,void 0,function(){N0(e,l.prefix+l.resource+l.suffix,a)})}})},A8=function(e,n){var a=hf.ScriptLoader;U4(a,e,n,function(){V4(a,e),E8(a,e,n),O8(e,n),a.loadQueue(function(){e.removed||z4(e)},e,function(){e.removed||z4(e)})})},$8=function(e,n){return Vs.forElement(e,{contentCssCors:sR(n),referrerPolicy:lE(n)})},D8=function(e){var n=e.id;Eu.setCode(sE(e));var a=function(){Ud.unbind(window,"ready",a),e.render()};if(!Fm.Event.domLoaded){Ud.bind(window,"ready",a);return}if(e.getElement()&&dr.contentEditable){var i=V.fromDom(e.getElement()),l=lr(i);e.on("remove",function(){Et(i.dom.attributes,function(m){return zt(i,m.name)}),q(i,l)}),e.ui.styleSheetLoader=$8(i,e),eR(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var c=e.getElement().form||Ud.getParent(n,"form");c&&(e.formElement=c,tR(e)&&!Sl(e.getElement())&&(Ud.insertAfter(Ud.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(m){e.fire(m.type,m)},Ud.bind(c,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),nR(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)})),e.windowManager=QS(e),e.notificationManager=sc(e),rR(e)&&e.on("GetContent",function(m){m.save&&(m.content=Ud.encode(m.content))}),aR(e)&&e.on("submit",function(){e.initialized&&e.save()}),l1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),A8(e,e.suffix)}},_8=function(e,n){return L3(e,n)},P8={"font-size":"size","font-family":"face"},M8=function(e,n,a){var i=function(c){return iu(c,e).orThunk(function(){return Ra(c)==="font"?_r(P8,e).bind(function(m){return Ee(c,m)}):re.none()})},l=function(c){return Or(V.fromDom(n),c)};return fS(V.fromDom(a),function(c){return i(c)},l)},j4=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},q4=function(e,n){return re.from(lo.DOM.getStyle(n,e,!0))},ck=function(e){return function(n,a){return re.from(a).map(V.fromDom).filter(po).bind(function(i){return M8(e,n,i.dom).or(q4(e,i.dom))}).getOr("")}},R8=ck("font-size"),K4=oe(j4,ck("font-family")),G4=function(e){return $u(e.getBody()).map(function(n){var a=n.container();return Kn(a)?a.parentNode:a})},B8=function(e){return re.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?re.none():re.from(e.selection.getStart(!0))})},F8=function(e,n){return B8(e).orThunk(Me(G4,e)).map(V.fromDom).filter(po).bind(n)},fk=function(e,n){return F8(e,z(re.some,n))},xy=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=VM(e),l=Zm(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},I8=function(e){var n=e.split(/\s*,\s*/);return gt(n,function(a){return a.indexOf(" ")!==-1&&!(j(a,'"')||j(a,"'"))?"'"+a+"'":a}).join(",")},vk=function(e,n){var a=xy(e,n);e.formatter.toggle("fontname",{value:I8(a)}),e.nodeChanged()},N8=function(e){return fk(e,function(n){return K4(e.getBody(),n.dom)}).getOr("")},L8=function(e,n){e.formatter.toggle("fontsize",{value:xy(e,n)}),e.nodeChanged()},z8=function(e){return fk(e,function(n){return R8(e.getBody(),n.dom)}).getOr("")},Y4=function(e){return fk(e,function(n){var a=V.fromDom(e.getBody()),i=fS(n,function(c){return iu(c,"line-height")},Me(Or,a)),l=function(){var c=parseFloat(aa(n,"line-height")),m=parseFloat(aa(n,"font-size"));return String(c/m)};return i.getOrThunk(l)}).getOr("")},H8=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},V8=function(e){if(typeof e!="string"){var n=Ht.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},U8=function(e,n){var a=V8(n);I3(e,a.content,a.details)},ky=Ht.each,W8=Ht.map,Yu=Ht.inArray,Mv=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var c,m=!1,b=this;if(!b.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?b.editor.focus():SO(b.editor)),l=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var w=n.toLowerCase();if(c=b.commands.exec[w])return c(w,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(ky(this.editor.plugins,function(M){if(M.execCommand&&M.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),m=!0,!1}),m)return m;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{m=b.editor.getDoc().execCommand(n,a,i)}catch{}return m?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;ky(n,function(l,c){ky(c.toLowerCase().split(","),function(m){i.commands[a][m]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(c,m,b,w){return a.call(i||l.editor,m,b,w)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ce,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,c,m){BO(n,m)},"Cut,Copy,Paste":function(l){var c=n.getDoc(),m;try{a.execNativeCommand(l)}catch{m=!0}if(l==="paste"&&!c.queryCommandEnabled(l)&&(m=!0),m||!c.queryCommandSupported(l)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");dr.mac&&(b=b.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var c=l.substring(7);c==="full"&&(c="justify"),ky("left,center,right,justify".split(","),function(m){c!==m&&n.formatter.remove("align"+m)}),c!=="none"&&a.toggleFormat("align"+c)},"InsertUnorderedList,InsertOrderedList":function(l){var c;a.execNativeCommand(l);var m=n.dom.getParent(n.selection.getNode(),"ol,ul");m&&(c=m.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(a.storeSelection(),n.dom.split(c,m),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,c,m){a.toggleFormat(l,{value:m})},FontName:function(l,c,m){vk(n,m)},FontSize:function(l,c,m){L8(n,m)},LineHeight:function(l,c,m){H8(n,m)},Lang:function(l,c,m){a.toggleFormat(l,{value:m.code,customValue:m.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,c,m){return a.toggleFormat(m||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,c,m){var b=m||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,c,m){var b=0;n.dom.getParent(n.selection.getNode(),function(w){if(w.nodeType===1&&b++===m)return n.selection.select(w),!1},n.getBody())},mceSelectNode:function(l,c,m){n.selection.select(m)},mceInsertContent:function(l,c,m){U8(n,m)},mceInsertRawHTML:function(l,c,m){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return m}))},mceInsertNewLine:function(l,c,m){s4(n,m)},mceToggleFormat:function(l,c,m){a.toggleFormat(m)},mceSetContent:function(l,c,m){n.setContent(m)},"Indent,Outdent":function(l){Rx(n,l)},mceRepaint:Ce,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,c,m){n.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,c,m){typeof m=="string"&&(m={href:m});var b=n.dom.getParent(n.selection.getNode(),"a");m.href=m.href.replace(/ /g,"%20"),(!b||!m.href)&&n.formatter.remove("link"),m.href&&n.formatter.apply("link",m,b)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),ds);if(l){var c=n.dom.createRng();c.selectNodeContents(l),n.selection.setRng(c)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,c,m){return a4(n,m),!0}});var i=function(l){return function(){var c=n.selection,m=c.isCollapsed()?[n.dom.getParent(c.getNode(),n.dom.isBlock)]:c.getSelectedBlocks(),b=W8(m,function(w){return!!n.formatter.matchNode(w,l)});return Yu(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return ED(n)},"InsertUnorderedList,InsertOrderedList":function(l){var c=n.dom.getParent(n.selection.getNode(),"ul,ol");return c&&(l==="insertunorderedlist"&&c.tagName==="UL"||l==="insertorderedlist"&&c.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return N8(n)},this),a.addQueryValueHandler("FontSize",function(){return z8(n)},this),a.addQueryValueHandler("LineHeight",function(){return Y4(n)},this)},e}(),Wd="data-mce-contenteditable",j8=function(e,n,a){uC(e,n)&&a===!1?FT(e,n):a&&qm(e,n)},dk=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},Ty=function(e,n){e.dom.contentEditable=n?"true":"false"},q8=function(e){ut(Mi(e,'*[contenteditable="true"]'),function(n){$(n,Wd,"true"),Ty(n,!1)})},K8=function(e){ut(Mi(e,"*["+Wd+'="true"]'),function(n){zt(n,Wd),Ty(n,!0)})},X4=function(e){re.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},Lg=function(e){e.selection.setRng(e.selection.getRng())},G8=function(e,n){var a=V.fromDom(e.getBody());j8(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),X4(e),e.readonly=!0,Ty(a,!1),q8(a)):(e.readonly=!1,Ty(a,!0),K8(a),dk(e,"StyleWithCSS",!1),dk(e,"enableInlineTableEditing",!1),dk(e,"enableObjectResizing",!1),RO(e)&&e.focus(),Lg(e),e.nodeChanged())},jd=function(e){return e.readonly},Z4=function(e){e.parser.addAttributeFilter("contenteditable",function(n){jd(e)&&ut(n,function(a){a.attr(Wd,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Wd,function(n){jd(e)&&ut(n,function(a){a.attr("contenteditable",a.attr(Wd))})}),e.serializer.addTempAttr(Wd)},dc=function(e){e.serializer?Z4(e):e.on("PreInit",function(){Z4(e)})},Y8=function(e){return e.type==="click"},X8=function(e,n){var a=function(i){return Or(i,V.fromDom(e.getBody()))};return Wo(n,"a",a).bind(function(i){return Ee(i,"href")})},J4=function(e,n){if(Y8(n)&&!Tr.metaKeyPressed(n)){var a=V.fromDom(n.target);X8(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+Ct(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},Z8=function(e){e.on("ShowCaret",function(n){jd(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){jd(e)&&n.preventDefault()})},Q4=Ht.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Ey=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Le}return e.isNative=function(n){return!!Q4[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=nn(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var c=this.bindings[i];if(c)for(var m=0,b=c.length;m<b;m++){var w=c[m];if(!w.removed){if(w.once&&this.off(i,w.func),l.isImmediatePropagationStopped())return l;if(w.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=Le),a){var c={func:a,removed:!1};l&&Ht.extend(c,l);for(var m=n.toLowerCase().split(" "),b=m.length;b--;){var w=m[b],M=this.bindings[w];M||(M=[],this.toggleEvent(w,!0)),i?M=Ga([c],M,!0):M=Ga(Ga([],M,!0),[c],!1),this.bindings[w]=M}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),c=l.length;c--;){var m=l[c],b=this.bindings[m];if(!m)return wn(this.bindings,function(M,W){i.toggleEvent(W,!1),delete i.bindings[W]}),this;if(b){if(!a)b.length=0;else{var w=_n(b,function(M){return M.func===a});b=w.fail,this.bindings[m]=b,ut(w.pass,function(M){M.removed=!0})}b.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}else wn(this.bindings,function(M,W){i.toggleEvent(W,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),qd=function(e){return e._eventDispatcher||(e._eventDispatcher=new Ey({scope:e,toggleEvent:function(n,a){Ey.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},Oy={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=qd(i).fire(e,n);if(a!==!1&&i.parent)for(var c=i.parent();c&&!l.isPropagationStopped();)c.fire(e,l,!1),c=c.parent();return l},on:function(e,n,a){return qd(this).on(e,n,a)},off:function(e,n){return qd(this).off(e,n)},once:function(e,n){return qd(this).once(e,n)},hasEventListeners:function(e){return qd(this).has(e)}},Ay=lo.DOM,Kd,$y=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=$C(e);return a?(e.eventRoot||(e.eventRoot=Ay.select(a)[0]),e.eventRoot):e.getBody()},J8=function(e){return!e.hidden&&!jd(e)},mk=function(e,n,a){J8(e)?e.fire(n,a):jd(e)&&J4(e,a)},gk=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=$y(e,n);if($C(e)){if(Kd||(Kd={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Kd&&(wn(Kd,function(l,c){e.dom.unbind($y(e,c))}),Kd=null)})),Kd[n])return;a=function(l){for(var c=l.target,m=e.editorManager.get(),b=m.length;b--;){var w=m[b].getBody();(w===c||Ay.isChildOf(c,w))&&mk(m[b],n,l)}},Kd[n]=a,Ay.bind(i,n,a)}else a=function(l){mk(e,n,l)},Ay.bind(i,n,a),e.delegates[n]=a}},e_=Yn(Yn({},Oy),{bindPendingEventDelegates:function(){var e=this;Ht.each(e._pendingNativeEvents,function(n){gk(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?gk(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind($y(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(wn(e.delegates,function(i,l){e.dom.unbind($y(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),t_=["design","readonly"],n_=function(e,n,a,i){var l=a[n.get()],c=a[i];try{c.activate()}catch{return}l.deactivate(),l.editorReadOnly!==c.editorReadOnly&&G8(e,c.editorReadOnly),n.set(i),l2(e,i)},Q8=function(e,n,a,i){if(i!==a.get()){if(!Ar(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?n_(e,a,n,i):e.on("init",function(){return n_(e,a,n,i)})}},ez=function(e,n,a){var i;if(Be(t_,n))throw new Error("Cannot override default mode "+n);return Yn(Yn({},e),(i={},i[n]=Yn(Yn({},a),{deactivate:function(){try{a.deactivate()}catch{}}}),i))},tz=function(e){var n=Tu("design"),a=Tu({design:{activate:Ce,deactivate:Ce,editorReadOnly:!1},readonly:{activate:Ce,deactivate:Ce,editorReadOnly:!0}});return dc(e),Z8(e),{isReadOnly:function(){return jd(e)},set:function(i){return Q8(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(ez(a.get(),i,l))}}},Dy=Ht.each,Kh=Ht.explode,r_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},a_=Ht.makeMap("alt,ctrl,shift,meta,access"),nz=function(e){var n,a={};Dy(Kh(e.toLowerCase(),"+"),function(l){l in a_?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=r_[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in a_)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,dr.mac?a.ctrl=!0:a.shift=!0),a.meta&&(dr.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},_y=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(Dy(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var c=this,m=c.normalizeCommandFunc(i);return Dy(Kh(Ht.trim(n)),function(b){var w=c.createShortcut(b,a,m,l);c.shortcuts[w.id]=w}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Ht.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var c=Ht.map(Kh(n,">"),nz);return c[c.length-1]=Ht.extend(c[c.length-1],{func:i,scope:l||this.editor}),Ht.extend(c[0],{desc:this.editor.translate(a),subpatterns:c.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),o_=function(){var e={},n={},a={},i={},l={},c={},m={},b=function(M,W){return function(K,ee){return M[K.toLowerCase()]=Yn(Yn({},ee),{type:W})}},w=function(M,W){return i[M.toLowerCase()]=W};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(l,"contextmenu"),addContextToolbar:b(c,"contexttoolbar"),addContextForm:b(c,"contextform"),addSidebar:b(m,"sidebar"),addIcon:w,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:c,sidebars:m}}}},rz=function(){var e=o_();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Gd=lo.DOM,i_=Ht.extend,az=Ht.each,u_=Ht.resolve,oz=dr.ie,Py=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,i_(this,e_),this.settings=b$(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(hf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),lo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Uu.languageLoad=this.settings.language_load,Uu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new hv(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new _y(this),this.editorCommands=new Mv(this),this.settings.cache_suffix&&(dr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:rz(),styleSheetLoader:void 0,show:Ce,hide:Ce,enable:Ce,disable:Ce,isDisabled:Le};var c=this,m=tz(c);this.mode=m,this.setMode=m.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Kr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){D8(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return Hc(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,c=l.settings[n],m;if(c)return l.callbackLookup&&(m=l.callbackLookup[n])&&(c=m.func,m=m.scope),typeof c=="string"&&(m=c.replace(/\.\w+$/,""),m=m?u_(m):0,c=u_(c),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:c,scope:m}),c.apply(m||l,a)},e.prototype.translate=function(n){return Eu.translate(n)},e.prototype.getParam=function(n,a,i){return ZN(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Be(PC(this).split(/[ ,]/),n);return i?a?sl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Gd.show(n.getContainer()),Gd.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(oz&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Gd.hide(n.getContainer()),Gd.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var c=Sl(i)?i.value:i.innerHTML;return l=a.setContent(c,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,c;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,Sl(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(c=Gd.getParent(a.id,"form"))&&az(c.elements,function(m){if(m.name===a.id)return m.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return YS(this,n,a)},e.prototype.getContent=function(n){return $N(this,n)},e.prototype.insertContent=function(n,a){a&&(n=i_({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?YS(this,this.startContent,{format:"raw"}):YS(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Gd.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Gd.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,c=l.settings;return c.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!c.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:c.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,c.remove_script_host),n)},e.prototype.addVisual=function(n){_8(this,n)},e.prototype.remove=function(){PN(this)},e.prototype.destroy=function(n){l$(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),As=lo.DOM,iz=Ht.explode,Fo=Ht.each,pk=Ht.extend,Gc=0,hk=!1,Gh,Rv=[],su=[],bk=function(e){return e!=="length"},yk=function(e){var n=e.type;Fo(Bv.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},wk=function(e){e!==hk&&(e?Kr(window).on("resize scroll",yk):Kr(window).off("resize scroll",yk),hk=e)},l_=function(e){var n=su;delete Rv[e.id];for(var a=0;a<Rv.length;a++)if(Rv[a]===e){Rv.splice(a,1);break}return su=Re(su,function(i){return e!==i}),Bv.activeEditor===e&&(Bv.activeEditor=su.length>0?su[0]:null),Bv.focusedEditor===e&&(Bv.focusedEditor=null),n.length!==su.length},uz=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(l_(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},lz=document.compatMode!=="CSS1Compat",Bv=Yn(Yn({},Oy),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Kr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Rv,i18n:Eu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=hv.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var c=document.getElementsByTagName("script"),m=0;m<c.length;m++){var b=c[m].src||"";if(b!==""){var w=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){w.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new hv(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new hv(e.baseURL),e.suffix=i,_O(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&wn(i,function(l,c){Uu.PluginManager.urls[c]=l})},init:function(e){var n=this,a,i=Ht.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(K,ee){return K.inline&&ee.tagName.toLowerCase()in i},c=function(K){var ee=K.id;return ee||(ee=_r(K,"name").filter(function(de){return!As.get(de)}).getOrThunk(As.uniqueId),K.setAttribute("id",ee)),ee},m=function(K){var ee=e[K];if(ee)return ee.apply(n,[])},b=function(K,ee){return ee.constructor===RegExp?ee.test(K.className):As.hasClass(K,ee)},w=function(K){var ee=[];if(dr.browser.isIE()&&dr.browser.version.major<11)return Eh("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(lz)return Eh("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(K.types)return Fo(K.types,function(pe){ee=ee.concat(As.select(pe.selector))}),ee;if(K.selector)return As.select(K.selector);if(K.target)return[K.target];switch(K.mode){case"exact":var de=K.elements||"";de.length>0&&Fo(iz(de),function(pe){var be=As.get(pe);be?ee.push(be):Fo(document.forms,function(we){Fo(we.elements,function(Fe){Fe.name===pe&&(pe="mce_editor_"+Gc++,As.setAttrib(Fe,"id",pe),ee.push(Fe))})})});break;case"textareas":case"specific_textareas":Fo(As.select("textarea"),function(pe){K.editor_deselector&&b(pe,K.editor_deselector)||(!K.editor_selector||b(pe,K.editor_selector))&&ee.push(pe)});break}return ee},M=function(K){a=K},W=function(){var K=0,ee=[],de,pe=function(be,we,Fe){var De=new Py(be,we,n);ee.push(De),De.on("init",function(){++K===de.length&&M(ee)}),De.targetElm=De.targetElm||Fe,De.render()};if(As.unbind(window,"ready",W),m("onpageload"),de=Kr.unique(w(e)),e.types){Fo(e.types,function(be){Ht.each(de,function(we){return As.is(we,be.selector)?(pe(c(we),pk({},e,be),we),!1):!0})});return}Ht.each(de,function(be){uz(n.get(be.id))}),de=Ht.grep(de,function(be){return!n.get(be.id)}),de.length===0?M([]):Fo(de,function(be){l(e,be)?Eh("Could not initialize inline editor on invalid inline target element",be):pe(c(be),e,be)})};return n.settings=e,As.bind(window,"ready",W),new Ti(function(K){a?K(a):M=function(ee){K(ee)}})},get:function(e){return arguments.length===0?su.slice(0):U(e)?fn(su,function(n){return n.id===e}).getOr(null):se(e)&&su[e]?su[e]:null},add:function(e){var n=this,a=Rv[e.id];return a===e||(n.get(e.id)===null&&(bk(e.id)&&(Rv[e.id]=e),Rv.push(e),su.push(e)),wk(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),Gh||(Gh=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",Gh))),e},createEditor:function(e,n){return this.add(new Py(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=su.length-1;a>=0;a--)n.remove(su[a]);return}if(U(e)){Fo(As.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,R(n.get(i.id))?null:(l_(i)&&n.fire("RemoveEditor",{editor:i}),su.length===0&&window.removeEventListener("beforeunload",Gh),i.remove(),wk(su.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new Py(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Fo(su,function(e){e.save()})},addI18n:function(e,n){Eu.add(e,n)},translate:function(e){return Eu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new hv(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new hv(this.baseURL)}});Bv.setup();var s_=Math.min,Yd=Math.max,My=Math.round,c_=function(e,n,a){var i=n.x,l=n.y,c=e.w,m=e.h,b=n.w,w=n.h,M=(a||"").split("");return M[0]==="b"&&(l+=w),M[1]==="r"&&(i+=b),M[0]==="c"&&(l+=My(w/2)),M[1]==="c"&&(i+=My(b/2)),M[3]==="b"&&(l-=m),M[4]==="r"&&(i-=c),M[3]==="c"&&(l-=My(m/2)),M[4]==="c"&&(i-=My(c/2)),Xd(i,l,c,m)},sz=function(e,n,a,i){var l,c;for(c=0;c<i.length;c++)if(l=c_(e,n,i[c]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[c];return null},cz=function(e,n,a){return Xd(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},fz=function(e,n){var a=Yd(e.x,n.x),i=Yd(e.y,n.y),l=s_(e.x+e.w,n.x+n.w),c=s_(e.y+e.h,n.y+n.h);return l-a<0||c-i<0?null:Xd(a,i,l-a,c-i)},vz=function(e,n,a){var i=e.x,l=e.y,c=e.x+e.w,m=e.y+e.h,b=n.x+n.w,w=n.y+n.h,M=Yd(0,n.x-i),W=Yd(0,n.y-l),K=Yd(0,c-b),ee=Yd(0,m-w);return i+=M,l+=W,a&&(c+=M,m+=W,i-=K,l-=ee),c-=K,m-=ee,Xd(i,l,c-i,m-l)},Xd=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},dz=function(e){return Xd(e.left,e.top,e.width,e.height)},mz={inflate:cz,relativePosition:c_,findBestRelativePosition:sz,intersect:fz,clamp:vz,create:Xd,fromClientRect:dz},gz=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,c=function(M){return function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];i||(i=!0,l!==null&&(clearTimeout(l),l=null),M.apply(null,W))}},m=c(e),b=c(n),w=function(){for(var M=[],W=0;W<arguments.length;W++)M[W]=arguments[W];!i&&l===null&&(l=setTimeout(function(){return b.apply(null,M)},a))};return{start:w,resolve:m,reject:b}},Ck=function(){var e={},n={},a=function(l,c){var m='Script at URL "'+c+'" failed to load',b='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var w=new Ti(function(M,W){var K=gz(M,W);n[l]=K.resolve,hf.ScriptLoader.loadScript(c,function(){return K.start(b)},function(){return K.reject(m)})});return e[l]=w,w},i=function(l,c){n[l]!==void 0&&(n[l](c),delete n[l]),e[l]=Ti.resolve(c)};return{load:a,add:i}},Yh=Ck(),mc=Ht.each,zg=Ht.extend,Ry,Xh,Sk=function(){};Sk.extend=Ry=function(e){var n=this,a=n.prototype,i=function(){var b,w,M,W=this;if(!Xh&&(W.init&&W.init.apply(W,arguments),w=W.Mixins,w))for(b=w.length;b--;)M=w[b],M.init&&M.init.apply(W,arguments)},l=function(){return this},c=function(b,w){return function(){var M=this,W=M._super;M._super=a[b];var K=w.apply(M,arguments);return M._super=W,K}};Xh=!0;var m=new n;return Xh=!1,e.Mixins&&(mc(e.Mixins,function(b){for(var w in b)w!=="init"&&(e[w]=b[w])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&mc(e.Methods.split(","),function(b){e[b]=l}),e.Properties&&mc(e.Properties.split(","),function(b){var w="_"+b;e[b]=function(M){var W=this;return M!==void 0?(W[w]=M,W):W[w]}}),e.Statics&&mc(e.Statics,function(b,w){i[w]=b}),e.Defaults&&a.Defaults&&(e.Defaults=zg({},a.Defaults,e.Defaults)),wn(e,function(b,w){typeof b=="function"&&a[w]?m[w]=c(w,b):m[w]=b}),i.prototype=m,i.constructor=i,i.extend=Ry,i};var Zh=Math.min,By=Math.max,Fv=Math.round,f_=function(e){var n={},a=0,i=0,l=0,c=function(K,ee,de){var pe,be,we;pe=0,be=0,we=0,K=K/255,ee=ee/255,de=de/255;var Fe=Zh(K,Zh(ee,de)),De=By(K,By(ee,de));if(Fe===De)return we=Fe,{h:0,s:0,v:we*100};var vt=K===Fe?ee-de:de===Fe?K-ee:de-K;return pe=K===Fe?3:de===Fe?1:5,pe=60*(pe-vt/(De-Fe)),be=(De-Fe)/De,we=De,{h:Fv(pe),s:Fv(be*100),v:Fv(we*100)}},m=function(K,ee,de){if(K=(parseInt(K,10)||0)%360,ee=parseInt(ee,10)/100,de=parseInt(de,10)/100,ee=By(0,Zh(ee,1)),de=By(0,Zh(de,1)),ee===0){a=i=l=Fv(255*de);return}var pe=K/60,be=de*ee,we=be*(1-Math.abs(pe%2-1)),Fe=de-be;switch(Math.floor(pe)){case 0:a=be,i=we,l=0;break;case 1:a=we,i=be,l=0;break;case 2:a=0,i=be,l=we;break;case 3:a=0,i=we,l=be;break;case 4:a=we,i=0,l=be;break;case 5:a=be,i=0,l=we;break;default:a=i=l=0}a=Fv(255*(a+Fe)),i=Fv(255*(i+Fe)),l=Fv(255*(l+Fe))},b=function(){var K=function(ee){return ee=parseInt(ee,10).toString(16),ee.length>1?ee:"0"+ee};return"#"+K(a)+K(i)+K(l)},w=function(){return{r:a,g:i,b:l}},M=function(){return c(a,i,l)},W=function(K){var ee;return typeof K=="object"?"r"in K?(a=K.r,i=K.g,l=K.b):"v"in K&&m(K.h,K.s,K.v):(ee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(K))?(a=parseInt(ee[1],10),i=parseInt(ee[2],10),l=parseInt(ee[3],10)):(ee=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(K))?(a=parseInt(ee[1],16),i=parseInt(ee[2],16),l=parseInt(ee[3],16)):(ee=/#([0-F])([0-F])([0-F])/gi.exec(K))&&(a=parseInt(ee[1]+ee[1],16),i=parseInt(ee[2]+ee[2],16),l=parseInt(ee[3]+ee[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&W(e),n.toRgb=w,n.toHsv=M,n.toHex=b,n.parse=W,n},pz=function(e){var n=JSON.stringify(e);return U(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},xk={serialize:pz,parse:function(e){try{return JSON.parse(e)}catch{}}},hz={callbacks:{},count:0,send:function(e){var n=this,a=lo.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(c){a.remove(l),delete n.callbacks[i],e.callback(c)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},Fy=Yn(Yn({},Oy),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Ui.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",Fy.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Ht.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=Fy.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Ui.setTimeout(i,10)}}),v_=Ht.extend,bz=function(){function e(n){this.settings=v_({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=v_(this.settings,n);l.success=function(c,m){c=xk.parse(c),typeof c>"u"&&(c={error:"JSON Parse error."}),c.error?a.call(l.error_scope||l.scope,c.error,m):i.call(l.success_scope||l.scope,c.result)},l.error=function(c,m){a&&a.call(l.error_scope||l.scope,c,m)},l.data=xk.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",Fy.send(l)},e}(),d_=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Hg;try{var kk="__storage_test__";Hg=window.localStorage,Hg.setItem(kk,kk),Hg.removeItem(kk)}catch{Hg=d_()}var yz=Hg,wz={geom:{Rect:mz},util:{Promise:Ti,Delay:Ui,Tools:Ht,VK:Tr,URI:hv,Class:Sk,EventDispatcher:Ey,Observable:Oy,I18n:Eu,XHR:Fy,JSON:xk,JSONRequest:bz,JSONP:hz,LocalStorage:yz,Color:f_,ImageUploader:E$},dom:{EventUtils:Fm,Sizzle:Ka,DomQuery:Kr,TreeWalker:qa,TextSeeker:vC,DOMUtils:lo,ScriptLoader:hf,RangeUtils:Gp,Serializer:i$,StyleSheetLoader:lT,ControlSelection:f2,BookmarkManager:wd,Selection:j3,Event:Fm.Event},html:{Styles:Ep,Entities:js,Node:Jl,Schema:Ol,SaxParser:j1,DomParser:P0,Writer:ZO,Serializer:xd},Env:dr,AddOnManager:Uu,Annotator:eO,Formatter:O$,UndoManager:Ss,EditorCommands:Mv,WindowManager:QS,NotificationManager:sc,EditorObservable:e_,Shortcuts:_y,Editor:Py,FocusManager:xO,EditorManager:Bv,DOM:lo.DOM,ScriptLoader:hf.ScriptLoader,PluginManager:sl,ThemeManager:jc,IconManager:B0,Resource:Yh,trim:Ht.trim,isArray:Ht.isArray,is:Ht.is,toArray:Ht.toArray,makeMap:Ht.makeMap,each:Ht.each,map:Ht.map,grep:Ht.grep,inArray:Ht.inArray,extend:Ht.extend,create:Ht.create,walk:Ht.walk,createNS:Ht.createNS,resolve:Ht.resolve,explode:Ht.explode,_addCacheSuffix:Ht._addCacheSuffix,isOpera:dr.opera,isWebKit:dr.webkit,isIE:dr.ie,isGecko:dr.gecko,isMac:dr.mac},m_=Ht.extend(Bv,wz),Cz=function(e){try{s.exports=e}catch{}},Sz=function(e){window.tinymce=e,window.tinyMCE=e};Sz(m_),Cz(m_)})()})(Zj);var due=Zj.exports;const L7=np(due);(function(){var s=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},g=function(t){return function(r){return s(r)===t}},d=function(t){return function(r){return typeof r===t}},h=function(t){return function(r){return t===r}},y=g("string"),k=g("object"),x=g("array"),T=h(null),P=d("boolean"),I=h(void 0),B=function(t){return t==null},D=function(t){return!B(t)},F=d("function"),L=d("number"),J=function(t,r){if(x(t)){for(var o=0,u=t.length;o<u;++o)if(!r(t[o]))return!1;return!0}return!1},_=function(){},U=function(t){return function(){return t()}},te=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return t(r.apply(null,o))}},Z=function(t,r){return function(o){return t(r(o))}},R=function(t){return function(){return t}},Q=function(t){return t},X=function(t,r){return t===r};function me(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var v=r.concat(u);return t.apply(null,v)}}var xe=function(t){return function(r){return!t(r)}},fe=function(t){return function(){throw new Error(t)}},se=R(!1),Ce=R(!0),oe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),z=function(){return z=Object.assign||function(r){for(var o,u=1,f=arguments.length;u<f;u++){o=arguments[u];for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&(r[v]=o[v])}return r},z.apply(this,arguments)};function G(t,r){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&r.indexOf(u)<0&&(o[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(t);f<u.length;f++)r.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(t,u[f])&&(o[u[f]]=t[u[f]]);return o}function he(t,r,o){if(o||arguments.length===2)for(var u=0,f=r.length,v;u<f;u++)(v||!(u in r))&&(v||(v=Array.prototype.slice.call(r,0,u)),v[u]=r[u]);return t.concat(v||Array.prototype.slice.call(r))}var Ge=function(){return Me},Me=function(){var t=function(u){return u()},r=Q,o={fold:function(u,f){return u()},isSome:se,isNone:Ce,getOr:r,getOrThunk:t,getOrDie:function(u){throw new Error(u||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:r,orThunk:t,map:Ge,each:_,bind:Ge,exists:se,forall:Ce,filter:function(){return Ge()},toArray:function(){return[]},toString:R("none()")};return o}(),je=function(t){var r=R(t),o=function(){return f},u=function(v){return v(t)},f={fold:function(v,p){return p(t)},isSome:Ce,isNone:se,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(v){return je(v(t))},each:function(v){v(t)},bind:u,exists:u,forall:u,filter:function(v){return v(t)?f:Me},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return f},tt=function(t){return t==null?Me:je(t)},E={some:je,none:Ge,from:tt},Ae=Array.prototype.slice,Le=Array.prototype.indexOf,At=Array.prototype.push,ze=function(t,r){return Le.call(t,r)},ft=function(t,r){var o=ze(t,r);return o===-1?E.none():E.some(o)},Xe=function(t,r){return ze(t,r)>-1},ct=function(t,r){for(var o=0,u=t.length;o<u;o++){var f=t[o];if(r(f,o))return!0}return!1},re=function(t,r){for(var o=[],u=0;u<t;u++)o.push(r(u));return o},Vt=function(t,r){for(var o=[],u=0;u<t.length;u+=r){var f=Ae.call(t,u,u+r);o.push(f)}return o},it=function(t,r){for(var o=t.length,u=new Array(o),f=0;f<o;f++){var v=t[f];u[f]=r(v,f)}return u},Oe=function(t,r){for(var o=0,u=t.length;o<u;o++){var f=t[o];r(f,o)}},dt=function(t,r){for(var o=t.length-1;o>=0;o--){var u=t[o];r(u,o)}},Ne=function(t,r){for(var o=[],u=[],f=0,v=t.length;f<v;f++){var p=t[f],C=r(p,f)?o:u;C.push(p)}return{pass:o,fail:u}},Be=function(t,r){for(var o=[],u=0,f=t.length;u<f;u++){var v=t[u];r(v,u)&&o.push(v)}return o},at=function(t,r,o){return dt(t,function(u,f){o=r(o,u,f)}),o},gt=function(t,r,o){return Oe(t,function(u,f){o=r(o,u,f)}),o},ut=function(t,r,o){for(var u=0,f=t.length;u<f;u++){var v=t[u];if(r(v,u))return E.some(v);if(o(v,u))break}return E.none()},Et=function(t,r){return ut(t,r,se)},_n=function(t,r){for(var o=0,u=t.length;o<u;o++){var f=t[o];if(r(f,o))return E.some(o)}return E.none()},Re=function(t){for(var r=[],o=0,u=t.length;o<u;++o){if(!x(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);At.apply(r,t[o])}return r},Tt=function(t,r){return Re(it(t,r))},ln=function(t,r){for(var o=0,u=t.length;o<u;++o){var f=t[o];if(r(f,o)!==!0)return!1}return!0},Ut=function(t){var r=Ae.call(t,0);return r.reverse(),r},fn=function(t,r){return Be(t,function(o){return!Xe(r,o)})},bn=function(t,r){for(var o={},u=0,f=t.length;u<f;u++){var v=t[u];o[String(v)]=r(v,u)}return o},In=function(t){return[t]},sr=function(t,r){var o=Ae.call(t,0);return o.sort(r),o},yr=function(t,r){return r>=0&&r<t.length?E.some(t[r]):E.none()},$t=function(t){return yr(t,0)},Dt=function(t){return yr(t,t.length-1)},Ft=F(Array.from)?Array.from:function(t){return Ae.call(t)},rt=function(t,r){for(var o=0;o<t.length;o++){var u=r(t[o],o);if(u.isSome())return u}return E.none()},st=Object.keys,Wt=Object.hasOwnProperty,dn=function(t,r){for(var o=st(t),u=0,f=o.length;u<f;u++){var v=o[u],p=t[v];r(p,v)}},Xt=function(t,r){return Ve(t,function(o,u){return{k:u,v:r(o,u)}})},Ve=function(t,r){var o={};return dn(t,function(u,f){var v=r(u,f);o[v.k]=v.v}),o},Yt=function(t){return function(r,o){t[o]=r}},On=function(t,r,o,u){var f={};return dn(t,function(v,p){(r(v,p)?o:u)(v,p)}),f},wn=function(t,r){var o={};return On(t,r,Yt(o),_),o},jn=function(t,r){var o=[];return dn(t,function(u,f){o.push(r(u,f))}),o},He=function(t,r){for(var o=st(t),u=0,f=o.length;u<f;u++){var v=o[u],p=t[v];if(r(p,v,t))return E.some(p)}return E.none()},Lt=function(t){return jn(t,Q)},_t=function(t,r){return an(t,r)?E.from(t[r]):E.none()},an=function(t,r){return Wt.call(t,r)},Un=function(t,r){return an(t,r)&&t[r]!==void 0&&t[r]!==null},kr=function(t,r,o){return o===void 0&&(o=X),t.exists(function(u){return o(u,r)})},Oa=function(t,r,o){return o===void 0&&(o=X),_a(t,r,o).getOr(t.isNone()&&r.isNone())},_r=function(t){for(var r=[],o=function(f){r.push(f)},u=0;u<t.length;u++)t[u].each(o);return r},Ar=function(t){for(var r=[],o=0;o<t.length;o++){var u=t[o];if(u.isSome())r.push(u.getOrDie());else return E.none()}return E.some(r)},_a=function(t,r,o){return t.isSome()&&r.isSome()?E.some(o(t.getOrDie(),r.getOrDie())):E.none()},xo=function(t,r,o,u){return t.isSome()&&r.isSome()&&o.isSome()?E.some(u(t.getOrDie(),r.getOrDie(),o.getOrDie())):E.none()},oo=function(t,r){return t!=null?E.some(r(t)):E.none()},hn=function(t,r){return t?E.some(r):E.none()},or=function(t,r){return t+r},tr=function(t,r){return t.substring(r)},Wr=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},va=function(t,r){return Fa(t,r)?tr(t,r.length):t},Pa=function(t,r){return Yn(t,r)?t:or(t,r)},Nr=function(t,r){return t.indexOf(r)!==-1},Fa=function(t,r){return Wr(t,r,0)},Yn=function(t,r){return Wr(t,r,t.length-r.length)},Do=function(t){return function(r){return r.replace(t,"")}},Ga=Do(/^\s+|\s+$/g),Aa=function(t){return t.length>0},ko=function(t){return!Aa(t)},io=function(t){return t.style!==void 0&&F(t.style.getPropertyValue)},Yo=function(t,r){var o=r||document,u=o.createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1)throw new Error("HTML must have a single root node");return ke(u.childNodes[0])},ti=function(t,r){var o=r||document,u=o.createElement(t);return ke(u)},$i=function(t,r){var o=r||document,u=o.createTextNode(t);return ke(u)},ke=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},qe=function(t,r,o){return E.from(t.dom.elementFromPoint(r,o)).map(ke)},Te={fromHtml:Yo,fromTag:ti,fromText:$i,fromDom:ke,fromPoint:qe};typeof window<"u"||Function("return this;")();var wt=9,En=11,zn=1,ye=3,Pe=function(t){var r=t.dom.nodeName;return r.toLowerCase()},Ct=function(t){return t.dom.nodeType},Nt=function(t){return function(r){return Ct(r)===t}},j=Nt(zn),ve=Nt(ye),_e=Nt(wt),Je=Nt(En),pt=function(t){var r=!1,o;return function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return r||(r=!0,o=t.apply(null,u)),o}},bt=function(t,r,o,u){var f=t.isiOS()&&/ipad/i.test(o)===!0,v=t.isiOS()&&!f,p=t.isiOS()||t.isAndroid(),C=p||u("(pointer:coarse)"),S=f||!v&&p&&u("(min-device-width:768px)"),O=v||p&&!S,N=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,H=!O&&!S&&!N;return{isiPad:R(f),isiPhone:R(v),isTablet:R(S),isPhone:R(O),isTouch:R(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:R(N),isDesktop:R(H)}},xn=function(t,r){for(var o=0;o<t.length;o++){var u=t[o];if(u.test(r))return u}},Bn=function(t,r){var o=xn(t,r);if(!o)return{major:0,minor:0};var u=function(f){return Number(r.replace(o,"$"+f))};return Qn(u(1),u(2))},fr=function(t,r){var o=String(r).toLowerCase();return t.length===0?wr():Bn(t,o)},wr=function(){return Qn(0,0)},Qn=function(t,r){return{major:t,minor:r}},xr={nu:Qn,detect:fr,unknown:wr},ga=function(t,r){return rt(r.brands,function(o){var u=o.brand.toLowerCase();return Et(t,function(f){var v;return u===((v=f.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(f){return{current:f.name,version:xr.nu(parseInt(o.version,10),0)}})})},Qa=function(t,r){var o=String(r).toLowerCase();return Et(t,function(u){return u.search(o)})},To=function(t,r){return Qa(t,r).map(function(o){var u=xr.detect(o.versionRegexes,r);return{current:o.name,version:u}})},nu=function(t,r){return Qa(t,r).map(function(o){var u=xr.detect(o.versionRegexes,r);return{current:o.name,version:u}})},ru=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,eo=function(t){return function(r){return Nr(r,t)}},Zu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Nr(t,"edge/")&&Nr(t,"chrome")&&Nr(t,"safari")&&Nr(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ru],search:function(t){return Nr(t,"chrome")&&!Nr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Nr(t,"msie")||Nr(t,"trident")}},{name:"Opera",versionRegexes:[ru,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:eo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:eo("firefox")},{name:"Safari",versionRegexes:[ru,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Nr(t,"safari")||Nr(t,"mobile/"))&&Nr(t,"applewebkit")}}],hu=[{name:"Windows",search:eo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Nr(t,"iphone")||Nr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:eo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:eo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:eo("linux"),versionRegexes:[]},{name:"Solaris",search:eo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:eo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:eo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mi={browsers:R(Zu),oses:R(hu)},Xo="Edge",cs="Chrome",Ju="IE",fs="Opera",Rs="Firefox",Qu="Safari",bu=function(){return Bs({current:void 0,version:xr.unknown()})},Bs=function(t){var r=t.current,o=t.version,u=function(f){return function(){return r===f}};return{current:r,version:o,isEdge:u(Xo),isChrome:u(cs),isIE:u(Ju),isOpera:u(fs),isFirefox:u(Rs),isSafari:u(Qu)}},Ll={unknown:bu,nu:Bs,edge:R(Xo),chrome:R(cs),ie:R(Ju),opera:R(fs),firefox:R(Rs),safari:R(Qu)},vs="Windows",le="iOS",Ye="Android",mt="Linux",Gt="OSX",Cn="Solaris",ar="FreeBSD",pa="ChromeOS",Ma=function(){return jr({current:void 0,version:xr.unknown()})},jr=function(t){var r=t.current,o=t.version,u=function(f){return function(){return r===f}};return{current:r,version:o,isWindows:u(vs),isiOS:u(le),isAndroid:u(Ye),isOSX:u(Gt),isLinux:u(mt),isSolaris:u(Cn),isFreeBSD:u(ar),isChromeOS:u(pa)}},La={unknown:Ma,nu:jr,windows:R(vs),ios:R(le),android:R(Ye),linux:R(mt),osx:R(Gt),solaris:R(Cn),freebsd:R(ar),chromeos:R(pa)},co=function(t,r,o){var u=mi.browsers(),f=mi.oses(),v=r.bind(function(S){return ga(u,S)}).orThunk(function(){return To(u,t)}).fold(Ll.unknown,Ll.nu),p=nu(f,t).fold(La.unknown,La.nu),C=bt(p,v,t,o);return{browser:v,os:p,deviceType:C}},el={detect:co},Cc=function(t){return window.matchMedia(t).matches},Sc=pt(function(){return el.detect(navigator.userAgent,E.from(navigator.userAgentData),Cc)}),dr=function(){return Sc()},hl=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},ef=function(t,r){return hl(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},zu=function(t,r){var o=t.dom;if(o.nodeType!==zn)return!1;var u=o;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},tf=function(t){return t.nodeType!==zn&&t.nodeType!==wt&&t.nodeType!==En||t.childElementCount===0},Kv=function(t,r){var o=r===void 0?document:r.dom;return tf(o)?[]:it(o.querySelectorAll(t),Te.fromDom)},Hf=function(t,r){var o=r===void 0?document:r.dom;return tf(o)?E.none():E.from(o.querySelector(t)).map(Te.fromDom)},fo=function(t,r){return t.dom===r.dom},Fs=function(t,r){var o=t.dom,u=r.dom;return o===u?!1:o.contains(u)},Gv=function(t,r){return ef(t.dom,r.dom)},yu=function(t,r){return dr().browser.isIE()?Gv(t,r):Fs(t,r)},zi=function(t){return Te.fromDom(t.dom.ownerDocument)},xc=function(t){return _e(t)?t:zi(t)},Ht=function(t){return Te.fromDom(xc(t).dom.documentElement)},Is=function(t){return Te.fromDom(xc(t).dom.defaultView)},ni=function(t){return E.from(t.dom.parentNode).map(Te.fromDom)},nf=function(t){return ni(t)},zl=function(t){return E.from(t.dom.offsetParent).map(Te.fromDom)},Ns=function(t){return E.from(t.dom.nextSibling).map(Te.fromDom)},V=function(t){return it(t.dom.childNodes,Te.fromDom)},A=function(t,r){var o=t.dom.childNodes;return E.from(o[r]).map(Te.fromDom)},Y=function(t){return A(t,0)},ce=function(t,r){return{element:t,offset:r}},Ie=function(t,r){var o=V(t);return o.length>0&&r<o.length?ce(o[r],0):ce(t,r)},St=function(t){return Je(t)&&D(t.dom.host)},cn=F(Element.prototype.attachShadow)&&F(Node.prototype.getRootNode),ur=R(cn),Er=cn?function(t){return Te.fromDom(t.dom.getRootNode())}:xc,Fn=function(t){return St(t)?t:Te.fromDom(xc(t).dom.body)},er=function(t){return Lr(t).isSome()},Lr=function(t){var r=Er(t);return St(r)?E.some(r):E.none()},Jr=function(t){return Te.fromDom(t.dom.host)},Or=function(t){if(ur()&&D(t.target)){var r=Te.fromDom(t.target);if(j(r)&&to(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return $t(o)}}return E.from(t.target)},to=function(t){return D(t.dom.shadowRoot)},Br=function(t){var r=ve(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return Lr(Te.fromDom(r)).fold(function(){return o.body.contains(r)},Z(Br,Jr))},Ba=function(){return Ra(Te.fromDom(document))},Ra=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return Te.fromDom(r)},Hi=function(t,r,o){if(y(o)||P(o)||L(o))t.setAttribute(r,o+"");else throw new Error("Attribute value was not simple")},Zr=function(t,r,o){Hi(t.dom,r,o)},cm=function(t,r){var o=t.dom;dn(r,function(u,f){Hi(o,f,u)})},po=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Vo=function(t,r){return E.from(po(t,r))},pb=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},xi=function(t,r){t.dom.removeAttribute(r)},ip=function(t,r,o){if(!y(o))throw new Error("CSS value must be a string: "+o);io(t)&&t.style.setProperty(r,o)},fm=function(t,r){io(t)&&t.style.removeProperty(r)},Pr=function(t,r,o){var u=t.dom;ip(u,r,o)},Ls=function(t,r){var o=t.dom;dn(r,function(u,f){ip(o,f,u)})},kc=function(t,r){var o=t.dom;dn(r,function(u,f){u.fold(function(){fm(o,f)},function(v){ip(o,f,v)})})},Io=function(t,r){var o=t.dom,u=window.getComputedStyle(o),f=u.getPropertyValue(r);return f===""&&!Br(t)?hb(o,r):f},hb=function(t,r){return io(t)?t.style.getPropertyValue(r):""},ki=function(t,r){var o=t.dom,u=hb(o,r);return E.from(u).filter(function(f){return f.length>0})},rf=function(t){var r={},o=t.dom;if(io(o))for(var u=0;u<o.style.length;u++){var f=o.style.item(u);r[f]=o.style[f]}return r},Vf=function(t,r,o){var u=Te.fromTag(t);Pr(u,r,o);var f=ki(u,r);return f.isSome()},za=function(t,r){var o=t.dom;fm(o,r),kr(Vo(t,"style").map(Ga),"")&&xi(t,"style")},af=function(t){return t.dom.offsetWidth},wu=function(t,r){var o=function(C,S){if(!L(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);var O=C.dom;io(O)&&(O.style[t]=S+"px")},u=function(C){var S=r(C);if(S<=0||S===null){var O=Io(C,t);return parseFloat(O)||0}return S},f=u,v=function(C,S){return gt(S,function(O,N){var H=Io(C,N),ne=H===void 0?0:parseInt(H,10);return isNaN(ne)?O:O+ne},0)},p=function(C,S,O){var N=v(C,O),H=S>N?S-N:0;return H};return{set:o,get:u,getOuter:f,aggregate:v,max:p}},of=wu("height",function(t){var r=t.dom;return Br(t)?r.getBoundingClientRect().height:r.offsetHeight}),ri=function(t){return of.get(t)},bl=function(t){return of.getOuter(t)},bb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=of.max(t,r,o);Pr(t,"max-height",u+"px")},uf=function(t,r){var o=function(u,f){return uf(t+u,r+f)};return{left:t,top:r,translate:o}},Ya=uf,Uf=function(t){var r=t.getBoundingClientRect();return Ya(r.left,r.top)},lf=function(t,r){return t!==void 0?t:r!==void 0?r:0},Cu=function(t){var r=t.dom.ownerDocument,o=r.body,u=r.defaultView,f=r.documentElement;if(o===t.dom)return Ya(o.offsetLeft,o.offsetTop);var v=lf(u?.pageYOffset,f.scrollTop),p=lf(u?.pageXOffset,f.scrollLeft),C=lf(f.clientTop,o.clientTop),S=lf(f.clientLeft,o.clientLeft);return sf(t).translate(p-S,v-C)},sf=function(t){var r=t.dom,o=r.ownerDocument,u=o.body;return u===r?Ya(u.offsetLeft,u.offsetTop):Br(t)?Uf(r):Ya(0,0)},vm=wu("width",function(t){return t.dom.offsetWidth}),yb=function(t,r){return vm.set(t,r)},au=function(t){return vm.get(t)},Tc=function(t){return vm.getOuter(t)},Hl=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=vm.max(t,r,o);Pr(t,"max-width",u+"px")},Wf=function(t,r,o,u,f,v,p){return{target:t,x:r,y:o,stop:u,prevent:f,kill:v,raw:p}},up=function(t){var r=Te.fromDom(Or(t).getOr(t.target)),o=function(){return t.stopPropagation()},u=function(){return t.preventDefault()},f=te(u,o);return Wf(r,t.clientX,t.clientY,o,u,f,t)},Di=function(t,r){return function(o){t(o)&&r(up(o))}},dm=function(t,r,o,u,f){var v=Di(o,u);return t.dom.addEventListener(r,v,f),{unbind:me(lp,t,r,v,f)}},sw=function(t,r,o,u){return dm(t,r,o,u,!1)},mm=function(t,r,o,u){return dm(t,r,o,u,!0)},lp=function(t,r,o,u){t.dom.removeEventListener(r,o,u)},Uo=function(t,r){var o=ni(t);o.each(function(u){u.dom.insertBefore(r.dom,t.dom)})},gm=function(t,r){var o=Ns(t);o.fold(function(){var u=ni(t);u.each(function(f){Vi(f,r)})},function(u){Uo(u,r)})},Yv=function(t,r){var o=Y(t);o.fold(function(){Vi(t,r)},function(u){t.dom.insertBefore(r.dom,u.dom)})},Vi=function(t,r){t.dom.appendChild(r.dom)},cf=function(t,r,o){A(t,o).fold(function(){Vi(t,r)},function(u){Uo(u,r)})},cw=function(t,r){Oe(r,function(o){Uo(t,o)})},ff=function(t,r){Oe(r,function(o){Vi(t,o)})},pm=function(t){t.dom.textContent="",Oe(V(t),function(r){yl(r)})},yl=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},sp=function(t){var r=V(t);r.length>0&&cw(t,r),yl(t)},wl=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return Ya(o,u)},hm=function(t,r,o){var u=o!==void 0?o.dom:document,f=u.defaultView;f&&f.scrollTo(t,r)},fw=function(t){var r=t===void 0?window:t;return dr().browser.isFirefox()?E.none():E.from(r.visualViewport)},cp=function(t,r,o,u){return{x:t,y:r,width:o,height:u,right:t+o,bottom:r+u}},Xv=function(t){var r=t===void 0?window:t,o=r.document,u=wl(Te.fromDom(o));return fw(r).fold(function(){var f=r.document.documentElement,v=f.clientWidth,p=f.clientHeight;return cp(u.left,u.top,v,p)},function(f){return cp(Math.max(f.pageLeft,u.left),Math.max(f.pageTop,u.top),f.width,f.height)})},jf=function(t,r){var o=t.view(r);return o.fold(R([]),function(u){var f=t.owner(u),v=jf(t,f);return[u].concat(v)})},bm=function(t,r){var o=r.owner(t),u=jf(r,o);return E.some(u)},Mr=function(t){var r,o=t.dom===document?E.none():E.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(Te.fromDom)},Cl=function(t){return zi(t)},ym=Object.freeze({__proto__:null,view:Mr,owner:Cl}),wm=function(t){var r=Te.fromDom(document),o=wl(r),u=bm(t,ym);return u.fold(me(Cu,t),function(f){var v=sf(t),p=at(f,function(C,S){var O=sf(S);return{left:C.left+O.left,top:C.top+O.top}},{left:0,top:0});return Ya(p.left+v.left+o.left,p.top+v.top+o.top)})},vw=function(t,r,o){return{point:t,width:r,height:o}},vf=function(t,r,o,u){return{x:t,y:r,width:o,height:u}},gi=function(t,r,o,u){return{x:t,y:r,width:o,height:u,right:t+o,bottom:r+u}},pi=function(t){var r=Cu(t),o=Tc(t),u=bl(t);return gi(r.left,r.top,o,u)},Ec=function(t){var r=wm(t),o=Tc(t),u=bl(t);return gi(r.left,r.top,o,u)},Sl=function(){return Xv(window)},Kn=function(t){var r=function(H){return Kn(t)},o=function(H){return Kn(t)},u=function(H){return Kn(H(t))},f=function(H){return Kn(t)},v=function(H){H(t)},p=function(H){return H(t)},C=function(H,ne){return ne(t)},S=function(H){return H(t)},O=function(H){return H(t)},N=function(){return E.some(t)};return{isValue:Ce,isError:se,getOr:R(t),getOrThunk:R(t),getOrDie:R(t),or:r,orThunk:o,fold:C,map:u,mapError:f,each:v,bind:p,exists:S,forall:O,toOptional:N}},df=function(t){var r=function(O){return O()},o=function(){return fe(String(t))()},u=Q,f=function(O){return O()},v=function(O){return df(t)},p=function(O){return df(O(t))},C=function(O){return df(t)},S=function(O,N){return O(t)};return{isValue:se,isError:Ce,getOr:Q,getOrThunk:r,getOrDie:o,or:u,orThunk:f,fold:S,map:v,mapError:p,each:_,bind:C,exists:se,forall:Ce,toOptional:E.none}},fp=function(t,r){return t.fold(function(){return df(r)},Kn)},Xr={value:Kn,error:df,fromOption:fp},Ha;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ha||(Ha={}));var vp=function(t,r,o){return t.stype===Ha.Error?r(t.serror):o(t.svalue)},ds=function(t){var r=[],o=[];return Oe(t,function(u){vp(u,function(f){return o.push(f)},function(f){return r.push(f)})}),{values:r,errors:o}},vo=function(t,r){return t.stype===Ha.Error?{stype:Ha.Error,serror:r(t.serror)}:t},Cm=function(t,r){return t.stype===Ha.Value?{stype:Ha.Value,svalue:r(t.svalue)}:t},Hu=function(t,r){return t.stype===Ha.Value?r(t.svalue):t},Zv=function(t,r){return t.stype===Ha.Error?r(t.serror):t},wb=function(t){return{stype:Ha.Value,svalue:t}},ou=function(t){return{stype:Ha.Error,serror:t}},dw=function(t){return vp(t,Xr.error,Xr.value)},mw=function(t){return t.fold(ou,wb)},ho={fromResult:mw,toResult:dw,svalue:wb,partition:ds,serror:ou,bind:Hu,bindError:Zv,map:Cm,mapError:vo,fold:vp},dp=function(t,r,o,u){return{tag:"field",key:t,newKey:r,presence:o,prop:u}},$=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},q=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},ae=function(t,r){return r},Ee=function(t,r){var o=k(t)&&k(r);return o?zt(t,r):r},lt=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var u={},f=0;f<r.length;f++){var v=r[f];for(var p in v)an(v,p)&&(u[p]=t(u[p],v[p]))}return u}},zt=lt(Ee),lr=lt(ae),Fr=function(){return{tag:"required",process:{}}},da=function(t){return{tag:"defaultedThunk",process:t}},aa=function(t){return da(R(t))},uo=function(){return{tag:"option",process:{}}},iu=function(t){return{tag:"mergeWithThunk",process:t}},Cb=function(t){return iu(R(t))},AP=function(t,r){return t.length>0?ho.svalue(zt(r,lr.apply(void 0,t))):ho.svalue(r)},eT=function(t){return te(ho.serror,Re)(t)},tT=function(t,r){var o=ho.partition(t);return o.errors.length>0?eT(o.errors):AP(o.values,r)},$P=function(t){var r=ho.partition(t);return r.errors.length>0?eT(r.errors):ho.svalue(r.values)},gw={consolidateObj:tT,consolidateArr:$P},pw=function(t){return k(t)&&st(t).length>100?" removed due to size":JSON.stringify(t,null,2)},nT=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:R("... (only showing first ten failures)")}]):t;return it(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},Sm=function(t,r){return ho.serror([{path:t,getErrorInfo:r}])},hw=function(t,r,o){return Sm(t,function(){return'Could not find valid *required* value for "'+r+'" in '+pw(o)})},bw=function(t,r){return Sm(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},DP=function(t,r,o){return Sm(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+pw(r)})},_P=function(t,r){return Sm(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},PP=function(t,r){return Sm(t,R(r))},zs=function(t){var r=function(u,f){return ho.bindError(t(f),function(v){return PP(u,v)})},o=R("val");return{extract:r,toString:o}},rT=zs(ho.svalue),MP=function(t,r,o,u){return _t(r,o).fold(function(){return hw(t,o,r)},u)},yw=function(t,r,o,u){var f=_t(t,r).getOrThunk(function(){return o(t)});return u(f)},RP=function(t,r,o){return o(_t(t,r))},BP=function(t,r,o,u){var f=_t(t,r).map(function(v){return v===!0?o(t):v});return u(f)},xm=function(t,r,o,u,f){var v=function(C){return f.extract(r.concat([u]),C)},p=function(C){return C.fold(function(){return ho.svalue(E.none())},function(S){var O=f.extract(r.concat([u]),S);return ho.map(O,E.some)})};switch(t.tag){case"required":return MP(r,o,u,v);case"defaultedThunk":return yw(o,u,t.process,v);case"option":return RP(o,u,p);case"defaultedOptionThunk":return BP(o,u,t.process,p);case"mergeWithThunk":return yw(o,u,R({}),function(C){var S=zt(t.process(o),C);return v(S)})}},mp=function(t,r,o){for(var u={},f=[],v=0,p=o;v<p.length;v++){var C=p[v];q(C,function(S,O,N,H){var ne=xm(N,t,r,S,H);ho.fold(ne,function(ie){f.push.apply(f,ie)},function(ie){u[O]=ie})},function(S,O){u[S]=O(r)})}return f.length>0?ho.serror(f):ho.svalue(u)},aT=function(t){var r=function(u,f){return t().extract(u,f)},o=function(){return t().toString()};return{extract:r,toString:o}},oT=function(t){return st(wn(t,D))},xl=function(t){var r=vr(t),o=at(t,function(f,v){return q(v,function(p){var C;return zt(f,(C={},C[p]=!0,C))},R(f))},{}),u=function(f,v){var p=P(v)?[]:oT(v),C=Be(p,function(S){return!Un(o,S)});return C.length===0?r.extract(f,v):_P(f,C)};return{extract:u,toString:r.toString}},vr=function(t){var r=function(u,f){return mp(u,f,t)},o=function(){var u=it(t,function(f){return q(f,function(v,p,C,S){return v+" -> "+S.toString()},function(v,p){return"state("+v+")"})});return`obj{
`+u.join(`
`)+"}"};return{extract:r,toString:o}},mf=function(t){var r=function(u,f){var v=it(f,function(p,C){return t.extract(u.concat(["["+C+"]"]),p)});return gw.consolidateArr(v)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},ww=function(t){var r=function(u,f){for(var v=[],p=0,C=t;p<C.length;p++){var S=C[p],O=S.extract(u,f);if(O.stype===Ha.Value)return O;v.push(O)}return gw.consolidateArr(v)},o=function(){return"oneOf("+it(t,function(u){return u.toString()}).join(", ")+")"};return{extract:r,toString:o}},gp=function(t,r){var o=function(v,p){return mf(zs(t)).extract(v,p)},u=function(v,p){var C=st(p),S=o(v,C);return ho.bind(S,function(O){var N=it(O,function(H){return dp(H,H,Fr(),r)});return vr(N).extract(v,p)})},f=function(){return"setOf("+r.toString()+")"};return{extract:u,toString:f}},Sb=function(t,r){var o=pt(r),u=function(v,p){return o().extract(v,p)},f=function(){return o().toString()};return{extract:u,toString:f}},Cw=te(mf,vr),Hs=R(rT),Jv=function(t,r){return zs(function(o){var u=typeof o;return t(o)?ho.svalue(o):ho.serror("Expected type: "+r+" but got: "+u)})},km=Jv(L,"number"),Wo=Jv(y,"string"),Ti=Jv(P,"boolean"),pp=Jv(F,"function"),iT=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return iT(t[r])});default:return!1}},Sw=zs(function(t){return iT(t)?ho.svalue(t):ho.serror("Expected value to be acceptable for sending via postMessage")}),uT=function(t,r,o,u){var f=_t(o,u);return f.fold(function(){return DP(t,o,u)},function(v){return v.extract(t.concat(["branch: "+u]),r)})},xb=function(t,r){var o=function(f,v){var p=_t(v,t);return p.fold(function(){return bw(f,t)},function(C){return uT(f,v,r,C)})},u=function(){return"chooseOn("+t+"). Possible values: "+st(r)};return{extract:o,toString:u}},FP=function(){return mf(rT)},Tm=function(t){return zs(function(r){return t(r).fold(ho.serror,ho.svalue)})},Ui=function(t,r){return gp(function(o){return ho.fromResult(t(o))},r)},lT=function(t,r,o){var u=r.extract([t],o);return ho.mapError(u,function(f){return{input:o,errors:f}})},Eo=function(t,r,o){return ho.toResult(lT(t,r,o))},Vs=function(t){return t.fold(function(r){throw new Error(Em(r))},Q)},qa=function(t,r,o){return Vs(Eo(t,r,o))},Em=function(t){return`Errors: 
`+nT(t.errors).join(`
`)+`

Input object: `+pw(t.input)},Vl=function(t,r){return xb(t,Xt(r,vr))},IP=function(t,r){return Sb(t,r)},hi=dp,Vu=$,sT=function(t){return Tm(function(r){return Xe(t,r)?Xr.value(r):Xr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},tn=function(t){return hi(t,t,Fr(),Hs())},tl=function(t,r){return hi(t,t,Fr(),r)},qf=function(t){return tl(t,km)},$r=function(t){return tl(t,Wo)},Ul=function(t,r){return hi(t,t,Fr(),sT(r))},NP=function(t){return tl(t,Ti)},uu=function(t){return tl(t,pp)},Om=function(t,r){return hi(t,t,uo(),zs(function(o){return ho.serror("The field: "+t+" is forbidden. "+r)}))},gf=function(t,r){return hi(t,t,Fr(),vr(r))},kb=function(t,r){return hi(t,t,Fr(),Cw(r))},Su=function(t,r){return hi(t,t,Fr(),mf(r))},$a=function(t){return hi(t,t,uo(),Hs())},Us=function(t,r){return hi(t,t,uo(),r)},hp=function(t){return Us(t,km)},no=function(t){return Us(t,Wo)},Qv=function(t){return Us(t,pp)},nl=function(t,r){return Us(t,mf(r))},kl=function(t,r){return Us(t,vr(r))},LP=function(t,r){return Us(t,xl(r))},nt=function(t,r){return hi(t,t,aa(r),Hs())},rl=function(t,r,o){return hi(t,t,aa(r),o)},Oc=function(t,r){return rl(t,r,km)},Am=function(t,r){return rl(t,r,Wo)},Wl=function(t,r,o){return rl(t,r,sT(o))},Oo=function(t,r){return rl(t,r,Ti)},Xa=function(t,r){return rl(t,r,pp)},jl=function(t,r){return rl(t,r,Sw)},bp=function(t,r,o){return rl(t,r,mf(o))},xw=function(t,r,o){return rl(t,r,vr(o))},Cr=function(t){var r=t,o=function(){return r},u=function(f){r=f};return{get:o,set:u}},kw=function(t){if(!x(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Oe(t,function(u,f){var v=st(u);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],C=u[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(C))throw new Error("case arguments must be an array");r.push(p),o[p]=function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];var N=S.length;if(N!==C.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+C.length+" ("+C+"), got "+N);var H=function(ne){var ie=st(ne);if(r.length!==ie.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+ie.join(","));var ge=ln(r,function($e){return Xe(ie,$e)});if(!ge)throw new Error("Not all branches were specified when using match. Specified: "+ie.join(", ")+`
Required: `+r.join(", "));return ne[p].apply(null,S)};return{fold:function(){for(var ne=[],ie=0;ie<arguments.length;ie++)ne[ie]=arguments[ie];if(ne.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ne.length);var ge=ne[f];return ge.apply(null,S)},match:H,log:function(ne){}}}}),o},ql={generate:kw};ql.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var zP=function(t){var r=[],o=[];return Oe(t,function(u){u.fold(function(f){r.push(f)},function(f){o.push(f)})}),{errors:r,values:o}},Tb=function(t,r){var o={};return dn(t,function(u,f){Xe(r,f)||(o[f]=u)}),o},Eb=function(t,r){var o;return o={},o[t]=r,o},HP=function(t){var r={};return Oe(t,function(o){r[o.key]=o.value}),r},Tw=function(t,r){return Tb(t,r)},Ac=function(t,r){return Eb(t,r)},ed=function(t){return HP(t)},VP=function(t,r){return t.length===0?Xr.value(r):Xr.value(zt(r,lr.apply(void 0,t)))},UP=function(t){return Xr.error(Re(t))},WP=function(t,r){var o=zP(t);return o.errors.length>0?UP(o.errors):VP(o.values,r)},cT=function(t){return F(t)?t:se},Ew=function(t,r,o){for(var u=t.dom,f=cT(o);u.parentNode;){u=u.parentNode;var v=Te.fromDom(u),p=r(v);if(p.isSome())return p;if(f(v))break}return E.none()},Ow=function(t,r,o){var u=r(t),f=cT(o);return u.orThunk(function(){return f(t)?E.none():Ew(t,r,f)})},fT=function(t,r){return fo(t.element,r.event.target)},$c={can:Ce,abort:se,run:_},$m=function(t){if(!Un(t,"can")&&!Un(t,"abort")&&!Un(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return z(z({},$c),t)},Aw=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return gt(t,function(f,v){return f&&r(v).apply(void 0,o)},!0)}},jP=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return gt(t,function(f,v){return f||r(v).apply(void 0,o)},!1)}},qP=function(t){return F(t)?{can:Ce,abort:se,run:t}:t},KP=function(t){var r=Aw(t,function(f){return f.can}),o=jP(t,function(f){return f.abort}),u=function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];Oe(t,function(p){p.run.apply(void 0,f)})};return{can:r,abort:o,run:u}},ai=R,pf=ai("touchstart"),Ws=ai("touchmove"),yp=ai("touchend"),vT=ai("touchcancel"),ms=ai("mousedown"),td=ai("mousemove"),$w=ai("mouseout"),Dw=ai("mouseup"),Kf=ai("mouseover"),Gf=ai("focusin"),_i=ai("focusout"),Ob=ai("keydown"),dT=ai("keyup"),Dm=ai("input"),_m=ai("change"),wp=ai("click"),GP=ai("transitioncancel"),Cp=ai("transitionend"),_w=ai("transitionstart"),YP=ai("selectstart"),Ao=function(t){return R("alloy."+t)},Ab={tap:Ao("tap")},Pm=Ao("focus"),Pw=Ao("blur.post"),Mw=Ao("paste.post"),Kl=Ao("receive"),Tl=Ao("execute"),Sp=Ao("focus.item"),Mm=Ab.tap,Rw=Ao("longpress"),xp=Ao("sandbox.close"),Bw=Ao("typeahead.cancel"),kp=Ao("system.init"),Fw=Ao("system.touchmove"),XP=Ao("system.touchend"),Iw=Ao("system.scroll"),js=Ao("system.resize"),El=Ao("system.attached"),Tp=Ao("system.detached"),qs=Ao("system.dismissRequested"),Wi=Ao("system.repositionRequested"),$b=Ao("focusmanager.shifted"),Db=Ao("slotcontainer.visibility"),mT=Ao("change.tab"),Pi=Ao("dismiss.tab"),Nw=Ao("highlight"),_b=Ao("dehighlight"),Ca=function(t,r){Ep(t,t.element,r,{})},hr=function(t,r,o){Ep(t,t.element,r,o)},Ol=function(t){Ca(t,Tl())},Pb=function(t,r,o){Ep(t,r,o,{})},Ep=function(t,r,o,u){var f=z({target:r},u);t.getSystem().triggerEvent(o,r,f)},gT=function(t,r,o,u){t.getSystem().triggerEvent(o,r,u.event)},Va=function(t){return ed(t)},pT=function(t,r){return{key:t,value:$m({abort:r})}},ZP=function(t,r){return{key:t,value:$m({can:r})}},hT=function(t){return{key:t,value:$m({run:function(r,o){o.event.prevent()}})}},nn=function(t,r){return{key:t,value:$m({run:r})}},Lw=function(t,r,o){return{key:t,value:$m({run:function(u,f){r.apply(void 0,[u,f].concat(o))}})}},JP=function(t){return function(r){return nn(t,r)}},Rm=function(t){return function(r){return{key:t,value:$m({run:function(o,u){fT(o,u)&&r(o,u)}})}}},Mb=function(t,r){return nn(t,function(o,u){o.getSystem().getByUid(r).each(function(f){gT(f,f.element,t,u)})})},Bm=function(t,r,o){var u=r.partUids[o];return Mb(t,u)},Yf=function(t,r){return nn(t,function(o,u){var f=u.event,v=o.getSystem().getByDom(f.target).getOrThunk(function(){var p=Ow(f.target,function(C){return o.getSystem().getByDom(C).toOptional()},se);return p.getOr(o)});r(o,v,u)})},nd=function(t){return nn(t,function(r,o){o.cut()})},Fm=function(t){return nn(t,function(r,o){o.stop()})},jo=function(t,r){return Rm(t)(r)},qr=Rm(El()),Gl=Rm(Tp()),bT=Rm(kp()),Yl=JP(Tl()),zw=function(t,r){var o=r||document,u=o.createElement("div");return u.innerHTML=t,V(Te.fromDom(u))},Rb=function(t){return t.dom.innerHTML},Xf=function(t,r){var o=zi(t),u=o.dom,f=Te.fromDom(u.createDocumentFragment()),v=zw(r,u);ff(f,v),pm(t),Vi(t,f)},Zf=function(t){var r=Te.fromTag("div"),o=Te.fromDom(t.dom.cloneNode(!0));return Vi(r,o),Rb(r)},Im=function(t,r){return Te.fromDom(t.dom.cloneNode(r))},Jf=function(t){return Im(t,!1)},Xl=function(t){if(St(t))return"#shadow-root";var r=Jf(t);return Zf(r)},Qf=function(t){return Xl(t)},Dc=function(t,r,o){return fo(r,t.element)&&!fo(r,o)},ev=Va([ZP(Pm(),function(t,r){var o=r.event,u=o.originator,f=o.target;return!Dc(t,u,f)})]),Nm=Object.freeze({__proto__:null,events:ev}),yT=0,Zn=function(t){var r=new Date,o=r.getTime(),u=Math.floor(Math.random()*1e9);return yT++,t+"_"+u+yT+String(o)},lu=R("alloy-id-"),Ks=R("data-alloy-id"),_c=lu(),wT=Ks(),CT=function(t,r){var o=Zn(_c+t);return Bb(r,o),o},Bb=function(t,r){Object.defineProperty(t.dom,wT,{value:r,writable:!0})},Lm=function(t){var r=j(t)?t.dom[wT]:null;return E.from(r)},tv=function(t){return Zn(t)},Fb=Q,Op=function(t){var r=function(f){return"The component must be in a context to execute: "+f+(t?`
`+Qf(t().element)+" is not in context.":"")},o=function(f){return function(){throw new Error(r(f))}},u=function(f){return function(){}};return{debugInfo:R("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:se}},QP=Op(),nv=function(t,r,o){var u=o.toString(),f=u.indexOf(")")+1,v=u.indexOf("("),p=u.substring(v+1,f-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:Hw(p.slice(0,1).concat(p.slice(3)))}},t},Hw=function(t){return it(t,function(r){return Yn(r,"/*")?r.substring(0,r.length-2):r})},Vw=function(t,r){var o=t.toString(),u=o.indexOf(")")+1,f=o.indexOf("("),v=o.substring(f+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:Hw(v)}},t},rv=function(t,r){var o=r.toString(),u=o.indexOf(")")+1,f=o.indexOf("("),v=o.substring(f+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Hw(v.slice(1))}},t},Uw=Zn("alloy-premade"),av=function(t){return Ac(Uw,t)},eM=function(t){return _t(t,Uw)},_o=function(t){return rv(function(r){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return t.apply(void 0,he([r.getApis(),r],o,!1))},t)},xu={init:function(){return al({readState:R("No State required")})}},al=function(t){return t},ST=function(t,r){var o=it(r,function(f){return kl(f.name(),[tn("config"),nt("state",xu)])}),u=Eo("component.behaviours",vr(o),t.behaviours).fold(function(f){throw new Error(Em(f)+`
Complete spec:
`+JSON.stringify(t,null,2))},Q);return{list:r,data:Xt(u,function(f){var v=f.map(function(p){return{config:p.config,state:p.state.init(p.config)}});return R(v)})}},Ib=function(t){return t.list},tM=function(t){return t.data},xT=function(t,r){var o={};return dn(t,function(u,f){dn(u,function(v,p){var C=_t(o,p).getOr([]);o[p]=C.concat([r(f,v)])})}),o},gs=function(t){return{classes:I(t.classes)?[]:t.classes,attributes:I(t.attributes)?{}:t.attributes,styles:I(t.styles)?{}:t.styles}},nM=function(t,r){return z(z({},t),{attributes:z(z({},t.attributes),r.attributes),styles:z(z({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},rM=function(t,r,o,u){var f=z({},r);Oe(o,function(N){f[N.name()]=N.exhibit(t,u)});var v=xT(f,function(N,H){return{name:N,modification:H}}),p=function(N){return at(N,function(H,ne){return z(z({},ne.modification),H)},{})},C=at(v.classes,function(N,H){return H.modification.concat(N)},[]),S=p(v.attributes),O=p(v.styles);return gs({classes:C,attributes:S,styles:O})},Nb=function(t,r,o,u){try{var f=sr(o,function(v,p){var C=v[r],S=p[r],O=u.indexOf(C),N=u.indexOf(S);if(O===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(u,null,2));if(N===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(u,null,2));return O<N?-1:N<O?1:0});return Xr.value(f)}catch(v){return Xr.error([v])}},aM=function(t,r){return{handler:t,purpose:r}},oM=function(t,r){return{cHandler:t,purpose:r}},Ww=function(t,r){return oM(me.apply(void 0,[t.handler].concat(r)),t.purpose)},jw=function(t){return t.cHandler},qw=function(t,r){return{name:t,handler:r}},iM=function(t,r){var o={};return Oe(t,function(u){o[u.name()]=u.handlers(r)}),o},ov=function(t,r,o){var u=z(z({},o),iM(r,t));return xT(u,qw)},iv=function(t,r,o,u){var f=ov(t,o,u);return kT(f,r)},Ka=function(t){var r=qP(t);return function(o,u){for(var f=[],v=2;v<arguments.length;v++)f[v-2]=arguments[v];var p=[o,u].concat(f);r.abort.apply(void 0,p)?u.stop():r.can.apply(void 0,p)&&r.run.apply(void 0,p)}},Kw=function(t,r){return Xr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(it(r,function(o){return o.name}),null,2)])},Gs=function(t,r,o){var u=r[o];return u?Nb("Event: "+o,"name",t,u).map(function(f){var v=it(f,function(p){return p.handler});return KP(v)}):Kw(o,t)},kT=function(t,r){var o=jn(t,function(u,f){var v=u.length===1?Xr.value(u[0].handler):Gs(u,r,f);return v.map(function(p){var C=Ka(p),S=u.length>1?Be(r[f],function(O){return ct(u,function(N){return N.name===O})}).join(" > "):u[0].name;return Ac(f,aM(C,S))})});return WP(o,{})},Ys,rd="alloy.base.behaviour",ad=vr([hi("dom","dom",Fr(),vr([tn("tag"),nt("styles",{}),nt("classes",[]),nt("attributes",{}),$a("value"),$a("innerHtml")])),tn("components"),tn("uid"),nt("events",{}),nt("apis",{}),hi("eventOrder","eventOrder",Cb((Ys={},Ys[Tl()]=["disabling",rd,"toggling","typeaheadevents"],Ys[Pm()]=[rd,"focusing","keying"],Ys[kp()]=[rd,"disabling","toggling","representing"],Ys[Dm()]=[rd,"representing","streaming","invalidating"],Ys[Tp()]=[rd,"representing","item-events","tooltipping"],Ys[ms()]=["focusing",rd,"item-type-events"],Ys[pf()]=["focusing",rd,"item-type-events"],Ys[Kf()]=["item-type-events","tooltipping"],Ys[Kl()]=["receiving","reflecting","tooltipping"],Ys)),Hs()),$a("domModification")]),Gw=function(t){return Eo("custom.definition",ad,t)},TT=function(t){return z(z({},t.dom),{uid:t.uid,domChildren:it(t.components,function(r){return r.element})})},Lb=function(t){return t.domModification.fold(function(){return gs({})},gs)},Yw=function(t){return t.events},Ap=function(t,r){var o=po(t,r);return o===void 0||o===""?[]:o.split(" ")},uM=function(t,r,o){var u=Ap(t,r),f=u.concat([o]);return Zr(t,r,f.join(" ")),!0},zb=function(t,r,o){var u=Be(Ap(t,r),function(f){return f!==o});return u.length>0?Zr(t,r,u.join(" ")):xi(t,r),!1},zm=function(t){return t.dom.classList!==void 0},Xw=function(t){return Ap(t,"class")},lM=function(t,r){return uM(t,"class",r)},ET=function(t,r){return zb(t,"class",r)},oi=function(t,r){zm(t)?t.dom.classList.add(r):lM(t,r)},sM=function(t){var r=zm(t)?t.dom.classList:Xw(t);r.length===0&&xi(t,"class")},Zo=function(t,r){if(zm(t)){var o=t.dom.classList;o.remove(r)}else ET(t,r);sM(t)},ku=function(t,r){return zm(t)&&t.dom.classList.contains(r)},od=function(t,r){Oe(r,function(o){oi(t,o)})},Al=function(t,r){Oe(r,function(o){Zo(t,o)})},Zw=function(t,r){return ln(r,function(o){return ku(t,o)})},uv=function(t){return t.dom.value},Hm=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Vm=function(t){var r=Te.fromTag(t.tag);cm(r,t.attributes),od(r,t.classes),Ls(r,t.styles),t.innerHtml.each(function(u){return Xf(r,u)});var o=t.domChildren;return ff(r,o),t.value.each(function(u){Hm(r,u)}),t.uid,Bb(r,t.uid),r},OT=function(t){var r=_t(t,"behaviours").getOr({});return Tt(st(r),function(o){var u=r[o];return D(u)?[u.me]:[]})},AT=function(t,r){return ST(t,r)},cM=function(t){var r=OT(t);return AT(t,r)},fM=function(t,r,o){var u=TT(t),f=Lb(t),v={"alloy.base.modification":f},p=r.length>0?rM(o,v,r,u):f;return nM(u,p)},vM=function(t,r,o){var u={"alloy.base.behaviour":Yw(t)};return iv(o,t.eventOrder,r,u).getOrDie()},dM=function(t){var r=function(){return et},o=Cr(QP),u=Vs(Gw(t)),f=cM(t),v=Ib(f),p=tM(f),C=fM(u,v,p),S=Vm(C),O=vM(u,v,p),N=Cr(u.components),H=function(Rt){o.set(Rt)},ne=function(){o.set(Op(r))},ie=function(){var Rt=V(S),Mt=Tt(Rt,function(Qe){return o.get().getByDom(Qe).fold(function(){return[]},In)});N.set(Mt)},ge=function(Rt){var Mt=p,Qe=F(Mt[Rt.name()])?Mt[Rt.name()]:function(){throw new Error("Could not find "+Rt.name()+" in "+JSON.stringify(t,null,2))};return Qe()},$e=function(Rt){return F(p[Rt.name()])},Ze=function(){return u.apis},Se=function(Rt){return p[Rt]().map(function(Mt){return Mt.state.readState()}).getOr("not enabled")},et={uid:t.uid,getSystem:o.get,config:ge,hasConfigured:$e,spec:t,readState:Se,getApis:Ze,connect:H,disconnect:ne,element:S,syncComponents:ie,components:N.get,events:O};return et},Jw=function(t){var r=_t(t,"components").getOr([]);return it(r,qo)},Qw=function(t){var r=Fb(t),o=r.events,u=G(r,["events"]),f=Jw(u),v=z(z({},u),{events:z(z({},Nm),o),components:f});return Xr.value(dM(v))},ji=function(t){var r=Te.fromText(t);return eC({element:r})},eC=function(t){var r=qa("external.component",xl([tn("element"),$a("uid")]),t),o=Cr(Op()),u=function(C){o.set(C)},f=function(){o.set(Op(function(){return p}))},v=r.uid.getOrThunk(function(){return tv("external")});Bb(r.element,v);var p={uid:v,getSystem:o.get,config:E.none,hasConfigured:se,connect:u,disconnect:f,getApis:function(){return{}},element:r.element,spec:t,readState:R("No state"),syncComponents:_,components:R([]),events:{}};return av(p)},mM=tv,$T=function(t){return an(t,"uid")},qo=function(t){return eM(t).getOrThunk(function(){var r=$T(t)?t:z({uid:mM("")},t);return Qw(r).getOrDie()})},$l=av;function Hb(t,r,o,u,f){return t(o,u)?E.some(o):F(f)&&f(o)?E.none():r(o,u,f)}var tC=function(t,r,o){for(var u=t.dom,f=F(o)?o:se;u.parentNode;){u=u.parentNode;var v=Te.fromDom(u);if(r(v))return E.some(v);if(f(v))break}return E.none()},Vb=function(t,r,o){var u=function(f,v){return v(f)};return Hb(u,tC,t,r,o)},DT=function(t,r){var o=function(f){return r(Te.fromDom(f))},u=Et(t.dom.childNodes,o);return u.map(Te.fromDom)},Kr=function(t,r){var o=function(u){for(var f=0;f<u.childNodes.length;f++){var v=Te.fromDom(u.childNodes[f]);if(r(v))return E.some(v);var p=o(u.childNodes[f]);if(p.isSome())return p}return E.none()};return o(t.dom)},Um=function(t,r,o){return Vb(t,r,o).isSome()},Ub=function(t,r,o){return tC(t,function(u){return zu(u,r)},o)},nC=function(t,r){return DT(t,function(o){return zu(o,r)})},ii=function(t,r){return Hf(r,t)},Xs=function(t,r,o){var u=function(f,v){return zu(f,v)};return Hb(u,Ub,t,r,o)},_T=function(t){var r=Vb(t,function(o){if(!j(o))return!1;var u=po(o,"id");return u!==void 0&&u.indexOf("aria-owns")>-1});return r.bind(function(o){var u=po(o,"id"),f=Er(o);return ii(f,'[aria-owns="'+u+'"]')})},id=function(){var t=Zn("aria-owns"),r=function(u){Zr(u,"aria-owns",t)},o=function(u){xi(u,"aria-owns")};return{id:t,link:r,unlink:o}},lo=function(t,r){return _T(r).exists(function(o){return ud(t,o)})},ud=function(t,r){return Um(r,function(o){return fo(o,t.element)},se)||lo(t,r)},Wb="unknown",Wm;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Wm||(Wm={}));var rC=Cr({}),PT=function(t,r){var o=[],u=new Date().getTime();return{logEventCut:function(f,v,p){o.push({outcome:"cut",target:v,purpose:p})},logEventStopped:function(f,v,p){o.push({outcome:"stopped",target:v,purpose:p})},logNoParent:function(f,v,p){o.push({outcome:"no-parent",target:v,purpose:p})},logEventNoHandlers:function(f,v){o.push({outcome:"no-handlers-left",target:v})},logEventResponse:function(f,v,p){o.push({outcome:"response",purpose:p,target:v})},write:function(){var f=new Date().getTime();Xe(["mousemove","mouseover","mouseout",kp()],t)}}},jb=function(t,r,o){var u=_t(rC.get(),t).orThunk(function(){var p=st(rC.get());return rt(p,function(C){return t.indexOf(C)>-1?E.some(rC.get()[C]):E.none()})}).getOr(Wm.NORMAL);switch(u){case Wm.NORMAL:return o(gM());case Wm.LOGGING:{var f=PT(t,r),v=o(f);return f.write(),v}case Wm.STOP:return!0}},MT=["alloy/data/Fields","alloy/debugging/Debugging"],hf=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return Et(r,function(o){return o.indexOf("alloy")>0&&!ct(MT,function(u){return o.indexOf(u)>-1})}).getOr(Wb)}else return Wb},Tu={logEventCut:_,logEventStopped:_,logNoParent:_,logEventNoHandlers:_,logEventResponse:_,write:_},aC=function(t,r,o){return jb(t,r,o)},gM=R(Tu),jm=R([tn("menu"),tn("selectedMenu")]),$p=R([tn("item"),tn("selectedItem")]);R(vr($p().concat(jm())));var RT=R(vr($p())),pM=gf("initSize",[tn("numColumns"),tn("numRows")]),hM=function(){return tl("markers",RT())},qb=function(){return gf("markers",[tn("backgroundMenu")].concat(jm()).concat($p()))},ld=function(t){return gf("markers",it(t,tn))},Kb=function(t,r,o){return hf(),hi(r,r,o,Tm(function(u){return Xr.value(function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return u.apply(void 0,f)})}))},xa=function(t){return Kb("onHandler",t,aa(_))},ol=function(t){return Kb("onKeyboardHandler",t,aa(E.none))},Eu=function(t){return Kb("onHandler",t,Fr())},Uu=function(t){return Kb("onKeyboardHandler",t,Fr())},ro=function(t,r){return Vu(t,R(r))},sd=function(t){return Vu(t,Q)},Gb=R(pM),Ei=function(t,r,o,u,f,v,p,C){return C===void 0&&(C=!1),{x:t,y:r,bubble:o,direction:u,placement:f,restriction:v,label:p+"-"+f,alwaysFit:C}},Pc=ql.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),bM=function(t,r,o,u,f,v,p,C,S){return t.fold(r,o,u,f,v,p,C,S)},yM=function(t,r,o,u){return t.fold(r,r,u,u,r,u,o,o)},Yb=function(t,r,o,u){return t.fold(r,u,r,u,o,o,r,u)},Xb=Pc.southeast,oC=Pc.southwest,iC=Pc.northeast,qm=Pc.northwest,BT=Pc.south,FT=Pc.north,uC=Pc.east,lC=Pc.west,Mi=function(t,r,o,u){var f=t+r;return f>u?o:f<o?u:f},il=function(t,r,o){return Math.min(Math.max(t,r),o)},Dp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},ui=function(t,r){return bn(["left","right","top","bottom"],function(o){return _t(r,o).map(function(u){return Dp(t,u)})})},IT=function(t,r,o){var u=function(S,O){return r[S].map(function(N){var H=S==="top"||S==="bottom",ne=H?o.top:o.left,ie=S==="left"||S==="top"?Math.max:Math.min,ge=ie(N,O)+ne;return H?il(ge,t.y,t.bottom):il(ge,t.x,t.right)}).getOr(O)},f=u("left",t.x),v=u("top",t.y),p=u("right",t.right),C=u("bottom",t.bottom);return gi(f,v,p-f,C-v)},lv="layout",NT=function(t){return t.x},LT=function(t,r){return t.x+t.width/2-r.width/2},zT=function(t,r){return t.x+t.width-r.width},sC=function(t,r){return t.y-r.height},cC=function(t){return t.y+t.height},fC=function(t,r){return t.y+t.height/2-r.height/2},HT=function(t){return t.x+t.width},wM=function(t,r){return t.x-r.width},qi=function(t,r,o){return Ei(NT(t),cC(t),o.southeast(),Xb(),"southeast",ui(t,{left:1,top:3}),lv)},Ki=function(t,r,o){return Ei(zT(t,r),cC(t),o.southwest(),oC(),"southwest",ui(t,{right:0,top:3}),lv)},Wu=function(t,r,o){return Ei(NT(t),sC(t,r),o.northeast(),iC(),"northeast",ui(t,{left:1,bottom:2}),lv)},Ou=function(t,r,o){return Ei(zT(t,r),sC(t,r),o.northwest(),qm(),"northwest",ui(t,{right:0,bottom:2}),lv)},ju=function(t,r,o){return Ei(LT(t,r),sC(t,r),o.north(),FT(),"north",ui(t,{bottom:2}),lv)},Jo=function(t,r,o){return Ei(LT(t,r),cC(t),o.south(),BT(),"south",ui(t,{top:3}),lv)},Zb=function(t,r,o){return Ei(HT(t),fC(t,r),o.east(),uC(),"east",ui(t,{left:0}),lv)},Jb=function(t,r,o){return Ei(wM(t,r),fC(t,r),o.west(),lC(),"west",ui(t,{right:1}),lv)},vC=function(){return[qi,Ki,Wu,Ou,Jo,ju,Zb,Jb]},cd=function(){return[Ki,qi,Ou,Wu,Jo,ju,Zb,Jb]},sv=function(){return[Wu,Ou,qi,Ki,ju,Jo]},dC=function(){return[Ou,Wu,Ki,qi,ju,Jo]},mC=function(){return[qi,Ki,Wu,Ou,Jo,ju]},Qb=function(){return[Ki,qi,Ou,Wu,Jo,ju]},Km=function(t,r){return r.universal?t:Be(t,function(o){return Xe(r.channels,o)})},Gm=function(t){return Va([nn(Kl(),function(r,o){var u=t.channels,f=st(u),v=o,p=Km(f,v);Oe(p,function(C){var S=u[C],O=S.schema,N=qa("channel["+C+`] data
Receiver: `+Qf(r.element),O,v.data);S.onReceive(r,N)})})])},VT=Object.freeze({__proto__:null,events:Gm}),CM=[tl("channels",Ui(Xr.value,xl([Eu("onReceive"),nt("schema",Hs())])))],e1=function(t,r,o){return Yl(function(u){o(u,t,r)})},Mc=function(t,r,o){return bT(function(u,f){o(u,t,r)})},SM=function(t,r,o,u,f,v){var p=xl(t),C=kl(r,[LP("config",t)]);return WT(p,C,r,o,u,f,v)},xM=function(t,r,o,u,f,v){var p=t,C=kl(r,[Us("config",t)]);return WT(p,C,r,o,u,f,v)},UT=function(t,r,o){var u=function(f){for(var v=[],p=1;p<arguments.length;p++)v[p-1]=arguments[p];var C=[f].concat(v);return f.config({name:R(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(S){var O=Array.prototype.slice.call(C,1);return r.apply(void 0,[f,S.config,S.state].concat(O))})};return nv(u,o,r)},kM=function(t){return{key:t,value:void 0}},WT=function(t,r,o,u,f,v,p){var C=function(H){return Un(H,o)?H[o]():E.none()},S=Xt(f,function(H,ne){return UT(o,H,ne)}),O=Xt(v,function(H,ne){return Vw(H,ne)}),N=z(z(z({},O),S),{revoke:me(kM,o),config:function(H){var ne=qa(o+"-config",t,H);return{key:o,value:{config:ne,me:N,configAsRaw:pt(function(){return qa(o+"-config",t,H)}),initialConfig:H,state:p}}},schema:R(r),exhibit:function(H,ne){return _a(C(H),_t(u,"exhibit"),function(ie,ge){return ge(ne,ie.config,ie.state)}).getOrThunk(function(){return gs({})})},name:R(o),handlers:function(H){return C(H).map(function(ne){var ie=_t(u,"events").getOr(function(){return{}});return ie(ne.config,ne.state)}).getOr({})}});return N},$n=function(t){return ed(t)},TM=xl([tn("fields"),tn("name"),nt("active",{}),nt("apis",{}),nt("state",xu),nt("extra",{})]),bi=function(t){var r=qa("Creating behaviour: "+t.name,TM,t);return SM(r.fields,r.name,r.active,r.apis,r.extra,r.state)},EM=xl([tn("branchKey"),tn("branches"),tn("name"),nt("active",{}),nt("apis",{}),nt("state",xu),nt("extra",{})]),Ym=function(t){var r=qa("Creating behaviour: "+t.name,EM,t);return xM(Vl(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},OM=R(void 0),qu=bi({fields:CM,name:"receiving",active:VT}),gC=function(t,r){return gs({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},jT=Object.freeze({__proto__:null,exhibit:gC}),_p=function(){return Te.fromDom(document)},Zs=function(t){return t.dom.focus()},pC=function(t){return t.dom.blur()},hC=function(t){var r=Er(t).dom;return t.dom===r.activeElement},Js=function(t){return t===void 0&&(t=_p()),E.from(t.dom.activeElement).map(Te.fromDom)},Qs=function(t){return Js(Er(t)).filter(function(r){return t.dom.contains(r.dom)})},qT=function(t,r){var o=Er(r),u=Js(o).bind(function(v){var p=function(C){return fo(v,C)};return p(r)?E.some(r):Kr(r,p)}),f=t(r);return u.each(function(v){Js(o).filter(function(p){return fo(p,v)}).fold(function(){Zs(v)},_)}),f},ps=function(t,r,o,u,f){var v=function(p){return p+"px"};return{position:t,left:r.map(v),top:o.map(v),right:u.map(v),bottom:f.map(v)}},cv=function(t){return z(z({},t),{position:E.some(t.position)})},fv=function(t,r){kc(t,cv(r))},bC=ql.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),It=function(t,r,o,u,f,v){var p=r.rect,C=p.x-o,S=p.y-u,O=p.width,N=p.height,H=f-(C+O),ne=v-(S+N),ie=E.some(C),ge=E.some(S),$e=E.some(H),Ze=E.some(ne),Se=E.none();return bM(r.direction,function(){return ps(t,ie,ge,Se,Se)},function(){return ps(t,Se,ge,$e,Se)},function(){return ps(t,ie,Se,Se,Ze)},function(){return ps(t,Se,Se,$e,Ze)},function(){return ps(t,ie,ge,Se,Se)},function(){return ps(t,ie,Se,Se,Ze)},function(){return ps(t,ie,ge,Se,Se)},function(){return ps(t,Se,ge,$e,Se)})},Pp=function(t,r){return t.fold(function(){var o=r.rect;return ps("absolute",E.some(o.x),E.some(o.y),E.none(),E.none())},function(o,u,f,v){return It("absolute",r,o,u,f,v)},function(o,u,f,v){return It("fixed",r,o,u,f,v)})},yC=function(t,r){var o=me(wm,r),u=t.fold(o,o,function(){var p=wl();return wm(r).translate(-p.left,-p.top)}),f=Tc(r),v=bl(r);return gi(u.left,u.top,f,v)},AM=function(t,r){return r.fold(function(){return t.fold(Sl,Sl,gi)},function(o){return t.fold(o,o,function(){var u=o(),f=t1(t,u.x,u.y);return gi(f.left,f.top,u.width,u.height)})})},t1=function(t,r,o){var u=Ya(r,o),f=function(){var v=wl();return u.translate(-v.left,-v.top)};return t.fold(R(u),R(u),f)},ec=function(t,r,o,u){return t.fold(r,o,u)};bC.none;var KT=bC.relative,GT=bC.fixed,YT=function(t,r){return{anchorBox:t,origin:r}},wC=function(t,r){return YT(t,r)},CC="data-alloy-placement",XT=function(t,r){Zr(t,CC,r)},ZT=function(t){return Vo(t,CC)},JT=function(t){return xi(t,CC)},n1=ql.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),QT=function(t,r){var o=r.x,u=r.y,f=r.right,v=r.bottom,p=t.x,C=t.y,S=t.right,O=t.bottom,N=t.width,H=t.height,ne=p>=o&&p<=f,ie=C>=u&&C<=v,ge=ne&&ie,$e=S<=f&&S>=o,Ze=O<=v&&O>=u,Se=$e&&Ze,et=Math.min(N,p>=o?f-p:S-o),Rt=Math.min(H,C>=u?v-C:O-u);return{originInBounds:ge,sizeInBounds:Se,visibleW:et,visibleH:Rt}},$M=function(t,r){var o=r.x,u=r.y,f=r.right,v=r.bottom,p=t.x,C=t.y,S=t.width,O=t.height,N=Math.max(o,f-S),H=Math.max(u,v-O),ne=il(p,o,N),ie=il(C,u,H),ge=Math.min(ne+S,f)-ne,$e=Math.min(ie+O,v)-ie;return gi(ne,ie,ge,$e)},DM=function(t,r,o){var u=R(r.bottom-o.y),f=R(o.bottom-r.y),v=yM(t,f,f,u),p=R(r.right-o.x),C=R(o.right-r.x),S=Yb(t,C,C,p);return{maxWidth:S,maxHeight:v}},eE=function(t,r,o,u){var f=t.bubble,v=f.offset,p=IT(u,t.restriction,v),C=t.x+v.left,S=t.y+v.top,O=gi(C,S,r,o),N=QT(O,p),H=N.originInBounds,ne=N.sizeInBounds,ie=N.visibleW,ge=N.visibleH,$e=H&&ne,Ze=$e?O:$M(O,p),Se=Ze.width>0&&Ze.height>0,et=DM(t.direction,Ze,u),Rt=et.maxWidth,Mt=et.maxHeight,Qe={rect:Ze,maxHeight:Mt,maxWidth:Rt,direction:t.direction,placement:t.placement,classes:{on:f.classesOn,off:f.classesOff},layout:t.label,testY:S};return $e||t.alwaysFit?n1.fit(Qe):n1.nofit(Qe,ie,ge,Se)},r1=function(t,r,o,u,f,v){var p=u.width,C=u.height,S=function(N,H,ne,ie,ge){var $e=N(o,u,f,t,v),Ze=eE($e,p,C,v);return Ze.fold(R(Ze),function(Se,et,Rt,Mt){var Qe=ge===Mt?Rt>ie||et>ne:!ge&&Mt;return Qe?Ze:n1.nofit(H,ne,ie,ge)})},O=gt(r,function(N,H){var ne=me(S,H);return N.fold(R(N),ne)},n1.nofit({rect:o,maxHeight:u.height,maxWidth:u.width,direction:Xb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return O.fold(Q,Q)},SC=function(t){var r=Cr(E.none()),o=function(){return r.get().each(t)},u=function(){o(),r.set(E.none())},f=function(){return r.get().isSome()},v=function(){return r.get()},p=function(C){o(),r.set(E.some(C))};return{clear:u,isSet:f,get:v,set:p}},xC=function(){return SC(function(t){return t.destroy()})},Xm=function(){return SC(function(t){return t.unbind()})},kC=function(){var t=xC(),r=function(o){return t.get().each(o)};return z(z({},t),{run:r})},Po=function(){var t=SC(_),r=function(o){return t.get().each(o)};return z(z({},t),{on:r})},TC=Ce,Ko=function(t,r,o){return sw(t,r,TC,o)},a1=function(t,r,o){return mm(t,r,TC,o)},EC=up,tE=["top","bottom","right","left"],o1="data-alloy-transition-timer",nE=function(t,r){return Zw(t,r.classes)},rE=function(t,r,o){return o.exists(function(u){var f=t.mode;return f==="all"?!0:u[f]!==r[f]})},_M=function(t,r){var o=function(u){return parseFloat(u).toFixed(3)};return He(r,function(u,f){var v=t[f].map(o),p=u.map(o);return!Oa(v,p)}).isSome()},aE=function(t){var r=function(v){var p=Io(t,v),C=y(p)?p.split(/\s*,\s*/):[];return Be(C,Aa)},o=function(v){if(y(v)&&/^[\d.]+/.test(v)){var p=parseFloat(v);return Yn(v,"ms")?p:p*1e3}else return 0},u=r("transition-delay"),f=r("transition-duration");return gt(f,function(v,p,C){var S=o(u[C])+o(p);return Math.max(v,S)},0)},PM=function(t,r){var o=Xm(),u=Xm(),f,v=function(N){var H,ne=(H=N.raw.pseudoElement)!==null&&H!==void 0?H:"";return fo(N.target,t)&&ko(ne)&&Xe(tE,N.raw.propertyName)},p=function(N){if(B(N)||v(N)){o.clear(),u.clear();var H=N?.raw.type;(B(H)||H===Cp())&&(clearTimeout(f),xi(t,o1),Al(t,r.classes))}},C=function(){o.set(Ko(t,Cp(),p)),u.set(Ko(t,GP(),p))};if("ontransitionstart"in t.dom)var S=Ko(t,_w(),function(N){v(N)&&(S.unbind(),C())});else C();var O=aE(t);requestAnimationFrame(function(){f=setTimeout(p,O+17),Zr(t,o1,f)})},MM=function(t,r){od(t,r.classes),Vo(t,o1).each(function(o){clearTimeout(parseInt(o,10)),xi(t,o1)}),PM(t,r)},oE=function(t,r,o,u,f,v){var p=rE(u,f,v);if(p||nE(t,u)){Pr(t,"position",o.position);var C=yC(r,t),S=Pp(r,z(z({},f),{rect:C})),O=bn(tE,function(N){return S[N]});_M(o,O)&&(kc(t,O),p&&MM(t,u),af(t))}else Al(t,u.classes)},RM=function(t){return{width:Tc(t),height:bl(t)}},BM=function(t,r,o,u){za(r,"max-height"),za(r,"max-width");var f=RM(r);return r1(r,u.preference,t,f,o,u.bounds)},FM=function(t,r){var o=r.classes;Al(t,o.off),od(t,o.on)},IM=function(t,r,o){var u=o.maxHeightFunction;u(t,r.maxHeight)},NM=function(t,r,o){var u=o.maxWidthFunction;u(t,r.maxWidth)},iE=function(t,r,o){var u=Pp(o.origin,r);o.transition.each(function(f){oE(t,o.origin,u,f,r,o.lastPlacement)}),fv(t,u)},LM=function(t,r){XT(t,r.placement)},Gi=function(t,r){bb(t,Math.floor(r))},Mp=R(function(t,r){Gi(t,r),Ls(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Rp=R(function(t,r){Gi(t,r)}),uE=function(t,r,o){return t[r]===void 0?o:t[r]},zM=function(t,r,o,u,f,v,p,C){var S=uE(p,"maxHeightFunction",Mp()),O=uE(p,"maxWidthFunction",_),N=t.anchorBox,H=t.origin,ne={bounds:AM(H,v),origin:H,preference:u,maxHeightFunction:S,maxWidthFunction:O,lastPlacement:f,transition:C};return HM(N,r,o,ne)},HM=function(t,r,o,u){var f=BM(t,r,o,u);return iE(r,f,u),LM(r,f),FM(r,f),IM(r,f,u),NM(r,f,u),{layout:f.layout,placement:f.placement}},VM=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Zm=function(t,r,o,u){u===void 0&&(u=1);var f=t*u,v=r*u,p=function(S){return _t(o,S).getOr([])},C=function(S,O,N){var H=fn(VM,N);return{offset:Ya(S,O),classesOn:Tt(N,p),classesOff:Tt(H,p)}};return{southeast:function(){return C(-t,r,["top","alignLeft"])},southwest:function(){return C(t,r,["top","alignRight"])},south:function(){return C(-t/2,r,["top","alignCentre"])},northeast:function(){return C(-t,-r,["bottom","alignLeft"])},northwest:function(){return C(t,-r,["bottom","alignRight"])},north:function(){return C(-t/2,-r,["bottom","alignCentre"])},east:function(){return C(t,-r/2,["valignCentre","left"])},west:function(){return C(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return C(f,v,["top","alignLeft","inset"])},insetNorthwest:function(){return C(-f,v,["top","alignRight","inset"])},insetNorth:function(){return C(-f/2,v,["top","alignCentre","inset"])},insetSoutheast:function(){return C(f,-v,["bottom","alignLeft","inset"])},insetSouthwest:function(){return C(-f,-v,["bottom","alignRight","inset"])},insetSouth:function(){return C(-f/2,-v,["bottom","alignCentre","inset"])},insetEast:function(){return C(-f,-v/2,["valignCentre","right","inset"])},insetWest:function(){return C(f,-v/2,["valignCentre","left","inset"])}}},i1=function(){return Zm(0,0,{})},Bp=Q,OC=function(t,r){return function(o){return UM(o)==="rtl"?r:t}},UM=function(t){return Io(t,"direction")==="rtl"?"rtl":"ltr"},Rc;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Rc||(Rc={}));var AC="data-alloy-vertical-dir",WM=function(t){return Um(t,function(r){return j(r)&&po(r,"data-alloy-vertical-dir")===Rc.BottomToTop})},vv=function(){return kl("layouts",[tn("onLtr"),tn("onRtl"),$a("onBottomLtr"),$a("onBottomRtl")])},u1=function(t,r,o,u,f,v,p){var C=p.map(WM).getOr(!1),S=r.layouts.map(function(ie){return ie.onLtr(t)}),O=r.layouts.map(function(ie){return ie.onRtl(t)}),N=C?r.layouts.bind(function(ie){return ie.onBottomLtr.map(function(ge){return ge(t)})}).or(S).getOr(f):S.getOr(o),H=C?r.layouts.bind(function(ie){return ie.onBottomRtl.map(function(ge){return ge(t)})}).or(O).getOr(v):O.getOr(u),ne=OC(N,H);return ne(t)},jM=function(t,r,o){var u=r.hotspot,f=yC(o,u.element),v=u1(t.element,r,mC(),Qb(),sv(),dC(),E.some(r.hotspot.element));return E.some(Bp({anchorBox:f,bubble:r.bubble.getOr(i1()),overrides:r.overrides,layouts:v,placer:E.none()}))},qM=[tn("hotspot"),$a("bubble"),nt("overrides",{}),vv(),ro("placement",jM)],lE=function(t,r,o){var u=t1(o,r.x,r.y),f=gi(u.left,u.top,r.width,r.height),v=u1(t.element,r,vC(),cd(),vC(),cd(),E.none());return E.some(Bp({anchorBox:f,bubble:r.bubble,overrides:r.overrides,layouts:v,placer:E.none()}))},sE=[tn("x"),tn("y"),nt("height",0),nt("width",0),nt("bubble",i1()),nt("overrides",{}),vv(),ro("placement",lE)],cE=ql.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),fE=function(t){return t.fold(Q,function(r,o,u){return r.translate(-o,-u)})},KM=function(t){return t.fold(Q,Q)},vE=function(t){return gt(t,function(r,o){return r.translate(o.left,o.top)},Ya(0,0))},dE=function(t){var r=it(t,fE);return vE(r)},mE=function(t){var r=it(t,KM);return vE(r)},GM=cE.screen,gE=cE.absolute,YM=function(t,r,o){var u=Is(o.root).dom,f=function(v){var p=zi(v),C=zi(t.element);return fo(p,C)};return E.from(u.frameElement).map(Te.fromDom).filter(f).map(Cu)},pE=function(t,r,o){var u=zi(t.element),f=wl(u),v=YM(t,r,o).getOr(f);return gE(v,f.left,f.top)},$C=function(t,r,o,u){var f=GM(Ya(t,r));return E.some(vw(f,o,u))},hE=function(t,r,o,u,f){return t.map(function(v){var p=[r,v.point],C=ec(u,function(){return mE(p)},function(){return mE(p)},function(){return dE(p)}),S=vf(C.left,C.top,v.width,v.height),O=o.showAbove?sv():mC(),N=o.showAbove?dC():Qb(),H=u1(f,o,O,N,O,N,E.none());return Bp({anchorBox:S,bubble:o.bubble.getOr(i1()),overrides:o.overrides,layouts:H,placer:E.none()})})},Fp=function(t,r,o){var u=pE(t,o,r);return r.node.filter(Br).bind(function(f){var v=f.dom.getBoundingClientRect(),p=$C(v.left,v.top,v.width,v.height),C=r.node.getOr(t.element);return hE(p,u,r,o,C)})},XM=[tn("node"),tn("root"),$a("bubble"),vv(),nt("overrides",{}),nt("showAbove",!1),ro("placement",Fp)],Ip="\uFEFF",ZM=" ",JM=function(t,r,o,u){return{start:t,soffset:r,finish:o,foffset:u}},DC={create:JM},_C=ql.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),QM=function(t,r,o,u){return t.fold(r,o,u)},eR=function(t){return t.fold(Q,Q,Q)},tR=_C.before,nR=_C.on,rR=_C.after,aR={before:tR,on:nR,after:rR,cata:QM,getStart:eR},l1=ql.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),oR=function(t){return l1.exact(t.start,t.soffset,t.finish,t.foffset)},iR=function(t){return t.match({domRange:function(r){return Te.fromDom(r.startContainer)},relative:function(r,o){return aR.getStart(r)},exact:function(r,o,u,f){return r}})},uR=l1.domRange,lR=l1.relative,sR=l1.exact,PC=function(t){var r=iR(t);return Is(r)},cR=DC.create,Np={domRange:uR,relative:lR,exact:sR,exactFromRange:oR,getWin:PC,range:cR},fR=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,u){t.setStart(o.dom,u)},function(o){t.setStartAfter(o.dom)})},vR=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,u){t.setEnd(o.dom,u)},function(o){t.setEndAfter(o.dom)})},bE=function(t,r,o){var u=t.document.createRange();return fR(u,r),vR(u,o),u},yE=function(t,r,o,u,f){var v=t.document.createRange();return v.setStart(r.dom,o),v.setEnd(u.dom,f),v},wE=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},CE=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?E.some(o).map(wE):E.none()},SE=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?E.some(r).map(wE):E.none()},Jm=ql.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),MC=function(t,r,o){return r(Te.fromDom(o.startContainer),o.startOffset,Te.fromDom(o.endContainer),o.endOffset)},xE=function(t,r){return r.match({domRange:function(o){return{ltr:R(o),rtl:E.none}},relative:function(o,u){return{ltr:pt(function(){return bE(t,o,u)}),rtl:pt(function(){return E.some(bE(t,u,o))})}},exact:function(o,u,f,v){return{ltr:pt(function(){return yE(t,o,u,f,v)}),rtl:pt(function(){return E.some(yE(t,f,v,o,u))})}}})},dR=function(t,r){var o=r.ltr();if(o.collapsed){var u=r.rtl().filter(function(f){return f.collapsed===!1});return u.map(function(f){return Jm.rtl(Te.fromDom(f.endContainer),f.endOffset,Te.fromDom(f.startContainer),f.startOffset)}).getOrThunk(function(){return MC(t,Jm.ltr,o)})}else return MC(t,Jm.ltr,o)},mR=function(t,r){var o=xE(t,r);return dR(t,o)},kE=function(t,r){var o=mR(t,r);return o.match({ltr:function(u,f,v,p){var C=t.document.createRange();return C.setStart(u.dom,f),C.setEnd(v.dom,p),C},rtl:function(u,f,v,p){var C=t.document.createRange();return C.setStart(v.dom,p),C.setEnd(u.dom,f),C}})};Jm.ltr,Jm.rtl;var gR=function(t,r){var o=function(v){if(!t(v))throw new Error("Can only get "+r+" value of a "+r+" node");return u(v).getOr("")},u=function(v){return t(v)?E.from(v.dom.nodeValue):E.none()},f=function(v,p){if(!t(v))throw new Error("Can only set raw "+r+" value of a "+r+" node");v.dom.nodeValue=p};return{get:o,getOption:u,set:f}},TE=gR(ve,"text"),fd=function(t){return TE.get(t)},s1=function(t){return TE.getOption(t)},pR=function(t){return Pe(t)==="img"?1:s1(t).fold(function(){return V(t).length},function(r){return r.length})},hR=function(t){return s1(t).filter(function(r){return r.trim().length!==0||r.indexOf(ZM)>-1}).isSome()},bR=["img","br"],yR=function(t){var r=hR(t);return r||Xe(bR,Pe(t))},EE=function(t){return wR(t,yR)},wR=function(t,r){var o=function(u){for(var f=V(u),v=f.length-1;v>=0;v--){var p=f[v];if(r(p))return E.some(p);var C=o(p);if(C.isSome())return C}return E.none()};return o(t)},Au=function(t,r){return Kv(r,t)},OE=function(t,r,o,u){var f=zi(t),v=f.dom.createRange();return v.setStart(t.dom,r),v.setEnd(o.dom,u),v},Lp=function(t,r,o,u){var f=OE(t,r,o,u),v=fo(t,o)&&r===u;return f.collapsed&&!v},vd=function(t){return E.from(t.getSelection())},c1=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return E.some(DC.create(Te.fromDom(r.startContainer),r.startOffset,Te.fromDom(o.endContainer),o.endOffset))}else return E.none()},CR=function(t){if(t.anchorNode===null||t.focusNode===null)return c1(t);var r=Te.fromDom(t.anchorNode),o=Te.fromDom(t.focusNode);return Lp(r,t.anchorOffset,o,t.focusOffset)?E.some(DC.create(r,t.anchorOffset,o,t.focusOffset)):c1(t)},SR=function(t){return vd(t).filter(function(r){return r.rangeCount>0}).bind(CR)},RC=function(t,r){var o=kE(t,r);return CE(o)},AE=function(t,r){var o=kE(t,r);return SE(o)},zp=function(t,r){return{element:t,offset:r}},xR=function(t,r){var o=V(t);if(o.length===0)return zp(t,r);if(r<o.length)return zp(o[r],0);var u=o[o.length-1],f=ve(u)?fd(u).length:V(u).length;return zp(u,f)},dd=function(t,r){return ve(t)?zp(t,r):xR(t,r)},dv=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return SR(t)}});return o().map(function(u){var f=dd(u.start,u.soffset),v=dd(u.finish,u.foffset);return Np.range(f.element,f.offset,v.element,v.offset)})},f1=function(t,r,o){var u=Is(r.root).dom,f=pE(t,o,r),v=dv(u,r).bind(function(S){var O=AE(u,Np.exactFromRange(S)).orThunk(function(){var N=Te.fromText(Ip);Uo(S.start,N);var H=RC(u,Np.exact(N,0,N,1));return yl(N),H});return O.bind(function(N){return $C(N.left,N.top,N.width,N.height)})}),p=dv(u,r).bind(function(S){return j(S.start)?E.some(S.start):nf(S.start)}),C=p.getOr(t.element);return hE(v,f,r,o,C)},Qm=[$a("getSelection"),tn("root"),$a("bubble"),vv(),nt("overrides",{}),nt("showAbove",!1),ro("placement",f1)],tc="link-layout",nc=function(t){return t.x+t.width},v1=function(t,r){return t.x-r.width},BC=function(t,r){return t.y-r.height+t.height},$E=function(t){return t.y},FC=function(t,r,o){return Ei(nc(t),$E(t),o.southeast(),Xb(),"southeast",ui(t,{left:0,top:2}),tc)},eg=function(t,r,o){return Ei(v1(t,r),$E(t),o.southwest(),oC(),"southwest",ui(t,{right:1,top:2}),tc)},tg=function(t,r,o){return Ei(nc(t),BC(t,r),o.northeast(),iC(),"northeast",ui(t,{left:0,bottom:3}),tc)},d1=function(t,r,o){return Ei(v1(t,r),BC(t,r),o.northwest(),qm(),"northwest",ui(t,{right:1,bottom:3}),tc)},IC=function(){return[FC,eg,tg,d1]},ng=function(){return[eg,FC,d1,tg]},m1=function(t,r,o){var u=yC(o,r.item.element),f=u1(t.element,r,IC(),ng(),IC(),ng(),E.none());return E.some(Bp({anchorBox:u,bubble:i1(),overrides:r.overrides,layouts:f,placer:E.none()}))},kR=[tn("item"),vv(),nt("overrides",{}),ro("placement",m1)],NC=Vl("type",{selection:Qm,node:XM,hotspot:qM,submenu:kR,makeshift:sE}),g1=[Su("classes",Wo),Wl("mode","all",["all","layout","placement"])],Ri=[nt("useFixed",se),$a("getBounds")],TR=[tl("anchor",NC),kl("transition",g1)],Bc=function(){var t=document.documentElement;return GT(0,0,t.clientWidth,t.clientHeight)},DE=function(t){var r=Cu(t.element),o=t.element.dom.getBoundingClientRect();return KT(r.left,r.top,o.width,o.height)},LC=function(t,r,o,u,f,v,p){var C=wC(o.anchorBox,r);return zM(C,f.element,o.bubble,o.layouts,v,u,o.overrides,p)},rg=function(t,r,o,u,f){zC(t,r,o,u,f,E.none())},zC=function(t,r,o,u,f,v){var p=v.map(pi);return Hp(t,r,o,u,f,p)},Hp=function(t,r,o,u,f,v){var p=qa("placement.info",vr(TR),f),C=p.anchor,S=u.element,O=o.get(u.uid);qT(function(){Pr(S,"position","fixed");var N=ki(S,"visibility");Pr(S,"visibility","hidden");var H=r.useFixed()?Bc():DE(t),ne=C.placement,ie=v.map(R).or(r.getBounds);ne(t,C,H).each(function(ge){var $e=ge.placer.getOr(LC),Ze=$e(t,H,ge,ie,u,O,p.transition);o.set(u.uid,Ze)}),N.fold(function(){za(S,"visibility")},function(ge){Pr(S,"visibility",ge)}),ki(S,"left").isNone()&&ki(S,"top").isNone()&&ki(S,"right").isNone()&&ki(S,"bottom").isNone()&&kr(ki(S,"position"),"fixed")&&za(S,"position")},S)},ER=function(t,r,o){return r.useFixed()?"fixed":"absolute"},_E=function(t,r,o,u){var f=u.element;Oe(["position","left","right","top","bottom"],function(v){return za(f,v)}),JT(f),o.clear(u.uid)},PE=Object.freeze({__proto__:null,position:rg,positionWithin:zC,positionWithinBounds:Hp,getMode:ER,reset:_E}),OR=function(){var t={},r=function(f,v){t[f]=v},o=function(f){return _t(t,f)},u=function(f){D(f)?delete t[f]:t={}};return al({readState:function(){return t},clear:u,set:r,get:o})},HC=Object.freeze({__proto__:null,init:OR}),Mo=bi({fields:Ri,name:"positioning",active:jT,apis:PE,state:HC}),p1=function(t){Ca(t,Tp());var r=t.components();Oe(r,p1)},h1=function(t){var r=t.components();Oe(r,h1),Ca(t,El())},VC=function(t,r){Vi(t.element,r.element)},ME=function(t){Oe(t.components(),function(r){return yl(r.element)}),pm(t.element),t.syncComponents()},UC=function(t,r){var o=t.components();ME(t);var u=fn(o,r);Oe(u,function(f){p1(f),t.getSystem().removeFromWorld(f)}),Oe(r,function(f){f.getSystem().isConnected()?VC(t,f):(t.getSystem().addToWorld(f),VC(t,f),Br(t.element)&&h1(f)),t.syncComponents()})},md=function(t,r){RE(t,r,Vi)},RE=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),Br(t.element)&&h1(r),t.syncComponents()},Dl=function(t){p1(t),yl(t.element),t.getSystem().removeFromWorld(t)},Fc=function(t){var r=ni(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Dl(t),r.each(function(o){o.syncComponents()})},WC=function(t){var r=t.components();Oe(r,Dl),pm(t.element),t.syncComponents()},mv=function(t,r){ac(t,r,Vi)},rc=function(t,r){ac(t,r,gm)},ac=function(t,r,o){o(t,r.element);var u=V(r.element);Oe(u,function(f){r.getByDom(f).each(h1)})},$u=function(t){var r=V(t.element);Oe(r,function(o){t.getByDom(o).each(p1)}),yl(t.element)},oc=function(t,r,o,u){o.get().each(function(p){WC(t)});var f=r.getAttachPoint(t);md(f,t);var v=t.getSystem().build(u);return md(t,v),o.set(v),v},jC=function(t,r,o,u){var f=oc(t,r,o,u);return r.onOpen(t,f),f},Ic=function(t,r,o,u){return o.get().map(function(){return oc(t,r,o,u)})},gd=function(t,r,o,u,f){LE(t,r),jC(t,r,o,u),f(),zE(t,r)},BE=function(t,r,o){o.get().each(function(u){WC(t),Fc(t),r.onClose(t,u),o.clear()})},FE=function(t,r,o){return o.isOpen()},AR=function(t,r,o,u){return FE(t,r,o)&&o.get().exists(function(f){return r.isPartOf(t,f,u)})},$R=function(t,r,o){return o.get()},IE=function(t,r,o,u){ki(t.element,r).fold(function(){xi(t.element,o)},function(f){Zr(t.element,o,f)}),Pr(t.element,r,u)},NE=function(t,r,o){Vo(t.element,o).fold(function(){return za(t.element,r)},function(u){return Pr(t.element,r,u)})},LE=function(t,r,o){var u=r.getAttachPoint(t);Pr(t.element,"position",Mo.getMode(u)),IE(t,"visibility",r.cloakVisibilityAttr,"hidden")},DR=function(t){return ct(["top","left","right","bottom"],function(r){return ki(t,r).isSome()})},zE=function(t,r,o){DR(t.element)||za(t.element,"position"),NE(t,"visibility",r.cloakVisibilityAttr)},_R=Object.freeze({__proto__:null,cloak:LE,decloak:zE,open:jC,openWhileCloaked:gd,close:BE,isOpen:FE,isPartOf:AR,getState:$R,setContent:Ic}),HE=function(t,r){return Va([nn(xp(),function(o,u){BE(o,t,r)})])},VE=Object.freeze({__proto__:null,events:HE}),qC=[xa("onOpen"),xa("onClose"),tn("isPartOf"),tn("getAttachPoint"),nt("cloakVisibilityAttr","data-precloak-visibility")],UE=function(){var t=Po(),r=R("not-implemented");return al({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},PR=Object.freeze({__proto__:null,init:UE}),ua=bi({fields:qC,name:"sandboxing",active:VE,apis:_R,state:PR}),pd=R("dismiss.popups"),ag=R("reposition.popups"),KC=R("mouse.released"),MR=xl([nt("isExtraPart",se),kl("fireEventInstead",[nt("event",qs())])]),ul=function(t){var r,o=qa("Dismissal",MR,t);return r={},r[pd()]={schema:xl([tn("target")]),onReceive:function(u,f){if(ua.isOpen(u)){var v=ua.isPartOf(u,f.target)||o.isExtraPart(u,f.target);v||o.fireEventInstead.fold(function(){return ua.close(u)},function(p){return Ca(u,p.event)})}}},r},RR=xl([kl("fireEventInstead",[nt("event",Wi())]),uu("doReposition")]),hd=function(t){var r,o=qa("Reposition",RR,t);return r={},r[ag()]={onReceive:function(u){ua.isOpen(u)&&o.fireEventInstead.fold(function(){return o.doReposition(u)},function(f){return Ca(u,f.event)})}},r},gv=function(t,r,o){r.store.manager.onLoad(t,r,o)},b1=function(t,r,o){r.store.manager.onUnload(t,r,o)},y1=function(t,r,o,u){r.store.manager.setValue(t,r,o,u)},BR=function(t,r,o){return r.store.manager.getValue(t,r,o)},WE=function(t,r,o){return o},GC=Object.freeze({__proto__:null,onLoad:gv,onUnload:b1,setValue:y1,getValue:BR,getState:WE}),YC=function(t,r){var o=t.resetOnDom?[qr(function(u,f){gv(u,t,r)}),Gl(function(u,f){b1(u,t,r)})]:[Mc(t,r,gv)];return Va(o)},og=Object.freeze({__proto__:null,events:YC}),w1=function(){var t=Cr(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},u=function(){t.set(null)};return al({set:t.set,get:t.get,isNotSet:o,clear:u,readState:r})},FR=function(){var t=_;return al({readState:t})},Nc=function(){var t=Cr({}),r=Cr({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},u=function(){t.set({}),r.set({})},f=function(p){return _t(t.get(),p).orThunk(function(){return _t(r.get(),p)})},v=function(p){var C=t.get(),S=r.get(),O={},N={};Oe(p,function(H){O[H.value]=H,_t(H,"meta").each(function(ne){_t(ne,"text").each(function(ie){N[ie]=H})})}),t.set(z(z({},C),O)),r.set(z(z({},S),N))};return al({readState:o,lookup:f,update:v,clear:u})},XC=function(t){return t.store.manager.state(t)},ZC=Object.freeze({__proto__:null,memory:w1,dataset:Nc,manual:FR,init:XC}),Vp=function(t,r,o,u){var f=r.store;o.update([u]),f.setValue(t,u),r.onSetValue(t,u)},jE=function(t,r,o){var u=r.store,f=u.getDataKey(t);return o.lookup(f).getOrThunk(function(){return u.getFallbackEntry(f)})},C1=function(t,r,o){var u=r.store;u.initialValue.each(function(f){Vp(t,r,o,f)})},IR=function(t,r,o){o.clear()},NR=[$a("initialValue"),tn("getFallbackEntry"),tn("getDataKey"),tn("setValue"),ro("manager",{setValue:Vp,getValue:jE,onLoad:C1,onUnload:IR,state:Nc})],Lc=function(t,r,o){return r.store.getValue(t)},_l=function(t,r,o,u){r.store.setValue(t,u),r.onSetValue(t,u)},Bi=function(t,r,o){r.store.initialValue.each(function(u){r.store.setValue(t,u)})},LR=[tn("getValue"),nt("setValue",_),$a("initialValue"),ro("manager",{setValue:_l,getValue:Lc,onLoad:Bi,onUnload:_,state:xu.init})],JC=function(t,r,o,u){o.set(u),r.onSetValue(t,u)},ig=function(t,r,o){return o.get()},qE=function(t,r,o){r.store.initialValue.each(function(u){o.isNotSet()&&o.set(u)})},KE=function(t,r,o){o.clear()},zR=[$a("initialValue"),ro("manager",{setValue:JC,getValue:ig,onLoad:qE,onUnload:KE,state:w1})],HR=[rl("store",{mode:"memory"},Vl("mode",{memory:zR,manual:LR,dataset:NR})),xa("onSetValue"),nt("resetOnDom",!1)],Rn=bi({fields:HR,name:"representing",active:og,apis:GC,extra:{setValueFrom:function(t,r){var o=Rn.getValue(r);Rn.setValue(t,o)}},state:ZC}),li=function(t,r){return xw(t,{},it(r,function(o){return Om(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([Vu("dump",Q)]))},S1=function(t){return t.dump},Oi=function(t,r){return z(z({},$n(r)),t.dump)},Zl={field:li,augment:Oi,get:S1},QC="placeholder",Up=ql.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),x1=function(t){return an(t,"uiType")},k1=function(t,r,o,u){return t.exists(function(f){return f!==o.owner})?Up.single(!0,R(o)):_t(u,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+st(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(f){return f.replace()})},GE=function(t,r,o,u){return x1(o)&&o.uiType===QC?k1(t,r,o,u):Up.single(!1,R(o))},bd=function(t,r,o,u){var f=GE(t,r,o,u);return f.fold(function(v,p){var C=x1(o)?p(r,o.config,o.validated):p(r),S=_t(C,"components").getOr([]),O=Tt(S,function(N){return bd(t,r,N,u)});return[z(z({},C),{components:O})]},function(v,p){if(x1(o)){var C=p(r,o.config,o.validated),S=o.validated.preprocess.getOr(Q);return S(C)}else return p(r)})},Wp=function(t,r,o,u){return Tt(o,function(f){return bd(t,r,f,u)})},e2=function(t,r){var o=!1,u=function(){return o},f=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},v=function(){return r.fold(function(p,C){return p},function(p,C){return p})};return{name:R(t),required:v,used:u,replace:f}},VR=function(t,r,o,u){var f=Xt(u,function(p,C){return e2(C,p)}),v=Wp(t,r,o,f);return dn(f,function(p){if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),v},YE=Up.single,UR=Up.multiple,XE=R(QC),jp=ql.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),bf=nt("factory",{sketch:Q}),yd=nt("schema",[]),T1=tn("name"),t2=hi("pname","pname",da(function(t){return"<alloy."+Zn(t.name)+">"}),Hs()),ZE=Vu("schema",function(){return[$a("preprocess")]}),ug=nt("defaults",R({})),lg=nt("overrides",R({})),n2=vr([bf,yd,T1,t2,ug,lg]),E1=vr([bf,yd,T1,ug,lg]),r2=vr([bf,yd,T1,t2,ug,lg]),a2=vr([bf,ZE,T1,tn("unit"),t2,ug,lg]),JE=function(t){return t.fold(E.some,E.none,E.some,E.some)},QE=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},o2=function(t){return t.fold(Q,Q,Q,Q)},O1=function(t,r){return function(o){var u=qa("Converting part type",r,o);return t(u)}},Yi=O1(jp.required,n2),hs=O1(jp.external,E1),bs=O1(jp.optional,r2),A1=O1(jp.group,a2),i2=R("entirety"),eO=Object.freeze({__proto__:null,required:Yi,external:hs,optional:bs,group:A1,asNamedPart:JE,name:QE,asCommon:o2,original:i2}),wd=function(t,r,o,u){return zt(r.defaults(t,o,u),o,{uid:t.partUids[r.name]},r.overrides(t,o,u))},sg=function(t,r,o){var u={},f={};return Oe(o,function(v){v.fold(function(p){u[p.pname]=YE(!0,function(C,S,O){return p.factory.sketch(wd(C,p,S,O))})},function(p){var C=r.parts[p.name];f[p.name]=R(p.factory.sketch(wd(r,p,C[i2()]),C))},function(p){u[p.pname]=YE(!1,function(C,S,O){return p.factory.sketch(wd(C,p,S,O))})},function(p){u[p.pname]=UR(!0,function(C,S,O){var N=C[p.name];return it(N,function(H){return p.factory.sketch(zt(p.defaults(C,H,O),H,p.overrides(C,H)))})})})}),{internals:R(u),externals:R(f)}},qp=function(t,r){var o={};return Oe(r,function(u){JE(u).each(function(f){var v=WR(t,f.pname);o[f.name]=function(p){var C=qa("Part: "+f.name+" in "+t,vr(f.schema),p);return z(z({},v),{config:p,validated:C})}})}),o},WR=function(t,r){return{uiType:XE(),owner:t,name:r}},u2=function(t,r,o){return{uiType:XE(),owner:t,name:r,config:o,validated:{}}},tO=function(t){return Tt(t,function(r){return r.fold(E.none,E.some,E.none,E.none).map(function(o){return gf(o.name,o.schema.concat([sd(i2())]))}).toArray()})},nO=function(t){return it(t,QE)},l2=function(t,r,o){return sg(t,r,o)},s2=function(t,r,o){return VR(E.some(t),r,r.components,o)},Ua=function(t,r,o){var u=r.partUids[o];return t.getSystem().getByUid(u).toOptional()},zc=function(t,r,o){return Ua(t,r,o).getOrDie("Could not find part: "+o)},rO=function(t,r,o){var u={},f=r.partUids,v=t.getSystem();return Oe(o,function(p){u[p]=R(v.getByUid(f[p]))}),u},aO=function(t,r){var o=t.getSystem();return Xt(r.partUids,function(u,f){return R(o.getByUid(u))})},oO=function(t){return st(t.partUids)},$1=function(t,r,o){var u={},f=r.partUids,v=t.getSystem();return Oe(o,function(p){u[p]=R(v.getByUid(f[p]).getOrDie())}),u},c2=function(t,r){var o=nO(r);return ed(it(o,function(u){return{key:u,value:t+"-"+u}}))},Kp=function(t){return hi("partUids","partUids",iu(function(r){return c2(r.uid,t)}),Hs())},Tr=Object.freeze({__proto__:null,generate:qp,generateOne:u2,schemas:tO,names:nO,substitutes:l2,components:s2,defaultUids:c2,defaultUidsSchema:Kp,getAllParts:aO,getAllPartNames:oO,getPart:Ua,getPartOrDie:zc,getParts:rO,getPartsOrDie:$1}),jR=function(t,r){var o=t.length>0?[gf("parts",t)]:[];return o.concat([tn("uid"),nt("dom",{}),nt("components",[]),sd("originalSpec"),nt("debug.sketcher",{})]).concat(r)},f2=function(t,r,o,u,f){var v=jR(u,f);return qa(t+" [SpecSchema]",xl(v.concat(r)),o)},qR=function(t,r,o,u){var f=iO(u),v=f2(t,r,f,[],[]);return o(v,f)},v2=function(t,r,o,u,f){var v=iO(f),p=tO(o),C=Kp(o),S=f2(t,r,v,p,[C]),O=l2(t,S,o),N=s2(t,S,O.internals());return u(S,N,v,O.externals())},KR=function(t){return an(t,"uid")},iO=function(t){return KR(t)?t:z(z({},t),{uid:tv("uid")})},d2=function(t){return t.uid!==void 0},m2=xl([tn("name"),tn("factory"),tn("configFields"),nt("apis",{}),nt("extraApis",{})]),GR=xl([tn("name"),tn("factory"),tn("configFields"),tn("partFields"),nt("apis",{}),nt("extraApis",{})]),Pl=function(t){var r=qa("Sketcher for "+t.name,m2,t),o=function(v){return qR(r.name,r.configFields,r.factory,v)},u=Xt(r.apis,_o),f=Xt(r.extraApis,function(v,p){return Vw(v,p)});return z(z({name:r.name,configFields:r.configFields,sketch:o},u),f)},Du=function(t){var r=qa("Sketcher for "+t.name,GR,t),o=function(p){return v2(r.name,r.configFields,r.partFields,r.factory,p)},u=qp(r.name,r.partFields),f=Xt(r.apis,_o),v=Xt(r.extraApis,function(p,C){return Vw(p,C)});return z(z({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:u},f),v)},pv=function(t){return Pe(t)==="input"&&po(t,"type")!=="radio"||Pe(t)==="textarea"},YR=function(t,r,o){return r.find(t)},XR=Object.freeze({__proto__:null,getCurrent:YR}),uO=[tn("find")],ia=bi({fields:uO,name:"composing",apis:XR}),ZR=["input","button","textarea","select"],D1=function(t,r,o){var u=r.disabled()?g2:B1;u(t,r)},_1=function(t,r){return r.useNative===!0&&Xe(ZR,Pe(t.element))},P1=function(t){return pb(t.element,"disabled")},M1=function(t){Zr(t.element,"disabled","disabled")},R1=function(t){xi(t.element,"disabled")},Gp=function(t){return po(t.element,"aria-disabled")==="true"},JR=function(t){Zr(t.element,"aria-disabled","true")},QR=function(t){Zr(t.element,"aria-disabled","false")},g2=function(t,r,o){r.disableClass.each(function(f){oi(t.element,f)});var u=_1(t,r)?M1:JR;u(t),r.onDisabled(t)},B1=function(t,r,o){r.disableClass.each(function(f){Zo(t.element,f)});var u=_1(t,r)?R1:QR;u(t),r.onEnabled(t)},lO=function(t,r){return _1(t,r)?P1(t):Gp(t)},eB=function(t,r,o,u){var f=u?g2:B1;f(t,r)},tB=Object.freeze({__proto__:null,enable:B1,disable:g2,isDisabled:lO,onLoad:D1,set:eB}),nB=function(t,r){return gs({classes:r.disabled()?r.disableClass.toArray():[]})},rB=function(t,r){return Va([pT(Tl(),function(o,u){return lO(o,t)}),Mc(t,r,D1)])},p2=Object.freeze({__proto__:null,exhibit:nB,events:rB}),aB=[Xa("disabled",se),nt("useNative",!0),$a("disableClass"),xa("onDisabled"),xa("onEnabled")],mr=bi({fields:aB,name:"disabling",active:p2,apis:tB}),sO=function(t,r,o,u){var f=Au(t.element,"."+r.highlightClass);Oe(f,function(v){ct(u,function(p){return p.element===v})||(Zo(v,r.highlightClass),t.getSystem().getByDom(v).each(function(p){r.onDehighlight(t,p),Ca(p,_b())}))})},cO=function(t,r,o){return sO(t,r,o,[])},oB=function(t,r,o,u){h2(t,r,o,u)&&(Zo(u.element,r.highlightClass),r.onDehighlight(t,u),Ca(u,_b()))},Yp=function(t,r,o,u){sO(t,r,o,[u]),h2(t,r,o,u)||(oi(u.element,r.highlightClass),r.onHighlight(t,u),Ca(u,Nw()))},fO=function(t,r,o){y2(t,r).each(function(u){Yp(t,r,o,u)})},vO=function(t,r,o){w2(t,r).each(function(u){Yp(t,r,o,u)})},iB=function(t,r,o,u){mO(t,r,o,u).fold(function(f){throw f},function(f){Yp(t,r,o,f)})},dO=function(t,r,o,u){var f=pO(t,r),v=Et(f,u);v.each(function(p){Yp(t,r,o,p)})},h2=function(t,r,o,u){return ku(u.element,r.highlightClass)},b2=function(t,r,o){return ii(t.element,"."+r.highlightClass).bind(function(u){return t.getSystem().getByDom(u).toOptional()})},mO=function(t,r,o,u){var f=Au(t.element,"."+r.itemClass);return E.from(f[u]).fold(function(){return Xr.error(new Error("No element found with index "+u))},t.getSystem().getByDom)},y2=function(t,r,o){return ii(t.element,"."+r.itemClass).bind(function(u){return t.getSystem().getByDom(u).toOptional()})},w2=function(t,r,o){var u=Au(t.element,"."+r.itemClass),f=u.length>0?E.some(u[u.length-1]):E.none();return f.bind(function(v){return t.getSystem().getByDom(v).toOptional()})},gO=function(t,r,o,u){var f=Au(t.element,"."+r.itemClass),v=_n(f,function(p){return ku(p,r.highlightClass)});return v.bind(function(p){var C=Mi(p,u,0,f.length-1);return t.getSystem().getByDom(f[C]).toOptional()})},uB=function(t,r,o){return gO(t,r,o,-1)},lB=function(t,r,o){return gO(t,r,o,1)},pO=function(t,r,o){var u=Au(t.element,"."+r.itemClass);return _r(it(u,function(f){return t.getSystem().getByDom(f).toOptional()}))},sB=Object.freeze({__proto__:null,dehighlightAll:cO,dehighlight:oB,highlight:Yp,highlightFirst:fO,highlightLast:vO,highlightAt:iB,highlightBy:dO,isHighlighted:h2,getHighlighted:b2,getFirst:y2,getLast:w2,getPrevious:uB,getNext:lB,getCandidates:pO}),Xp=[tn("highlightClass"),tn("itemClass"),xa("onHighlight"),xa("onDehighlight")],Da=bi({fields:Xp,name:"highlighting",apis:sB}),cB=[8],yf=[9],ys=[13],F1=[27],ll=[32],I1=[37],Cd=[38],N1=[39],cg=[40],fB=function(t,r,o){var u=Ut(t.slice(0,r)),f=Ut(t.slice(r+1));return Et(u.concat(f),o)},vB=function(t,r,o){var u=Ut(t.slice(0,r));return Et(u,o)},dB=function(t,r,o){var u=t.slice(0,r),f=t.slice(r+1);return Et(f.concat(u),o)},mB=function(t,r,o){var u=t.slice(r+1);return Et(u,o)},na=function(t){return function(r){var o=r.raw;return Xe(t,o.which)}},ic=function(t){return function(r){return ln(t,function(o){return o(r)})}},fg=function(t){var r=t.raw;return r.shiftKey===!0},gB=function(t){var r=t.raw;return r.ctrlKey===!0},Zp=xe(fg),ca=function(t,r){return{matches:t,classification:r}},pB=function(t,r){var o=Et(t,function(u){return u.matches(r)});return o.map(function(u){return u.classification})},hO=function(t,r,o){var u=r.exists(function(f){return o.exists(function(v){return fo(v,f)})});u||hr(t,$b(),{prevFocus:r,newFocus:o})},Jp=function(){var t=function(o){return Qs(o.element)},r=function(o,u){var f=t(o);o.getSystem().triggerFocus(u,o.element);var v=t(o);hO(o,f,v)};return{get:t,set:r}},bO=function(){var t=function(o){return Da.getHighlighted(o).map(function(u){return u.element})},r=function(o,u){var f=t(o);o.getSystem().getByDom(u).fold(_,function(p){Da.highlight(o,p)});var v=t(o);hO(o,f,v)};return{get:t,set:r}},Qp;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Qp||(Qp={}));var Sd=function(t,r,o,u,f){var v=function(){return t.concat([nt("focusManager",Jp()),rl("focusInside","onFocus",Tm(function(O){return Xe(["onFocus","onEnterOrSpace","onApi"],O)?Xr.value(O):Xr.error("Invalid value for focusInside")})),ro("handler",S),ro("state",r),ro("sendFocusIn",f)])},p=function(O,N,H,ne,ie){var ge=H(O,N,ne,ie);return pB(ge,N.event).bind(function($e){return $e(O,N,ne,ie)})},C=function(O,N){var H=O.focusInside!==Qp.OnFocusMode?E.none():f(O).map(function(ge){return nn(Pm(),function($e,Ze){ge($e,O,N),Ze.stop()})}),ne=function(ge,$e){var Ze=na(ll.concat(ys))($e.event);O.focusInside===Qp.OnEnterOrSpaceMode&&Ze&&fT(ge,$e)&&f(O).each(function(Se){Se(ge,O,N),$e.stop()})},ie=[nn(Ob(),function(ge,$e){p(ge,$e,o,O,N).fold(function(){ne(ge,$e)},function(Ze){$e.stop()})}),nn(dT(),function(ge,$e){p(ge,$e,u,O,N).each(function(Ze){$e.stop()})})];return Va(H.toArray().concat(ie))},S={schema:v,processKey:p,toEvents:C};return S},C2=function(t){var r=[$a("onEscape"),$a("onEnter"),nt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),nt("firstTabstop",0),nt("useTabstopAt",Ce),$a("visibilitySelector")].concat([t]),o=function($e,Ze){var Se=$e.visibilitySelector.bind(function(et){return Xs(Ze,et)}).getOr(Ze);return ri(Se)>0},u=function($e,Ze){var Se=Au($e.element,Ze.selector),et=Be(Se,function(Rt){return o(Ze,Rt)});return E.from(et[Ze.firstTabstop])},f=function($e,Ze){return Ze.focusManager.get($e).bind(function(Se){return Xs(Se,Ze.selector)})},v=function($e,Ze){return o($e,Ze)&&$e.useTabstopAt(Ze)},p=function($e,Ze,Se){u($e,Ze).each(function(et){Ze.focusManager.set($e,et)})},C=function($e,Ze,Se,et,Rt){return Rt(Ze,Se,function(Mt){return v(et,Mt)}).fold(function(){return et.cyclic?E.some(!0):E.none()},function(Mt){return et.focusManager.set($e,Mt),E.some(!0)})},S=function($e,Ze,Se,et){var Rt=Au($e.element,Se.selector);return f($e,Se).bind(function(Mt){var Qe=_n(Rt,me(fo,Mt));return Qe.bind(function(kt){return C($e,Rt,kt,Se,et)})})},O=function($e,Ze,Se){var et=Se.cyclic?fB:vB;return S($e,Ze,Se,et)},N=function($e,Ze,Se){var et=Se.cyclic?dB:mB;return S($e,Ze,Se,et)},H=function($e,Ze,Se){return Se.onEnter.bind(function(et){return et($e,Ze)})},ne=function($e,Ze,Se){return Se.onEscape.bind(function(et){return et($e,Ze)})},ie=R([ca(ic([fg,na(yf)]),O),ca(na(yf),N),ca(na(F1),ne),ca(ic([Zp,na(ys)]),H)]),ge=R([]);return Sd(r,xu.init,ie,ge,function(){return E.some(p)})},S2=C2(Vu("cyclic",se)),yO=C2(Vu("cyclic",Ce)),wO=function(t,r,o){return Pb(t,o,Tl()),E.some(!0)},eh=function(t,r,o){var u=pv(o)&&na(ll)(r.event);return u?E.none():wO(t,r,o)},vg=function(t,r){return E.some(!0)},hB=[nt("execute",eh),nt("useSpace",!1),nt("useEnter",!0),nt("useControlEnter",!1),nt("useDown",!1)],CO=function(t,r,o){return o.execute(t,r,t.element)},L1=function(t,r,o,u){var f=o.useSpace&&!pv(t.element)?ll:[],v=o.useEnter?ys:[],p=o.useDown?cg:[],C=f.concat(v).concat(p);return[ca(na(C),CO)].concat(o.useControlEnter?[ca(ic([gB,na(ys)]),CO)]:[])},bB=function(t,r,o,u){return o.useSpace&&!pv(t.element)?[ca(na(ll),vg)]:[]},x2=Sd(hB,xu.init,L1,bB,function(){return E.none()}),SO=function(){var t=Po(),r=function(f,v){t.set({numRows:f,numColumns:v})},o=function(){return t.get().map(function(f){return f.numRows})},u=function(){return t.get().map(function(f){return f.numColumns})};return al({readState:function(){return t.get().map(function(f){return{numRows:String(f.numRows),numColumns:String(f.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:u})},yB=function(t){return t.state(t)},xO=Object.freeze({__proto__:null,flatgrid:SO,init:yB}),kO=function(t){return function(r,o,u,f){var v=t(r.element);return TO(v,r,o,u,f)}},k2=function(t,r){var o=OC(t,r);return kO(o)},T2=function(t,r){var o=OC(r,t);return kO(o)},E2=function(t){return function(r,o,u,f){return TO(t,r,o,u,f)}},TO=function(t,r,o,u,f){var v=u.focusManager.get(r).bind(function(p){return t(r.element,p,u,f)});return v.map(function(p){return u.focusManager.set(r,p),!0})},EO=E2,dg=E2,mg=E2,wB=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},OO=function(t){return!wB(t.dom)},z1=function(t,r){return _n(t,r).map(function(o){return{index:o,candidates:t}})},AO=function(t,r,o){var u=function(p){return fo(p,r)},f=Au(t,o),v=Be(f,OO);return z1(v,u)},$O=function(t,r){return _n(t,function(o){return fo(r,o)})},DO=function(t,r,o,u){var f=Math.floor(r/o),v=r%o;return u(f,v).bind(function(p){var C=p.row*o+p.column;return C>=0&&C<t.length?E.some(t[C]):E.none()})},_O=function(t,r,o,u,f){return DO(t,r,u,function(v,p){var C=v===o-1,S=C?t.length-v*u:u,O=Mi(p,f,0,S-1);return E.some({row:v,column:O})})},PO=function(t,r,o,u,f){return DO(t,r,u,function(v,p){var C=Mi(v,f,0,o-1),S=C===o-1,O=S?t.length-C*u:u,N=il(p,0,O-1);return E.some({row:C,column:N})})},CB=function(t,r,o,u){return _O(t,r,o,u,1)},SB=function(t,r,o,u){return _O(t,r,o,u,-1)},MO=function(t,r,o,u){return PO(t,r,o,u,-1)},O2=function(t,r,o,u){return PO(t,r,o,u,1)},xB=[tn("selector"),nt("execute",eh),ol("onEscape"),nt("captureTab",!1),Gb()],kB=function(t,r,o){ii(t.element,r.selector).each(function(u){r.focusManager.set(t,u)})},TB=function(t,r){return r.focusManager.get(t).bind(function(o){return Xs(o,r.selector)})},EB=function(t,r,o,u){return TB(t,o).bind(function(f){return o.execute(t,r,f)})},Hc=function(t){return function(r,o,u,f){return AO(r,o,u.selector).bind(function(v){return t(v.candidates,v.index,f.getNumRows().getOr(u.initSize.numRows),f.getNumColumns().getOr(u.initSize.numColumns))})}},RO=function(t,r,o){return o.captureTab?E.some(!0):E.none()},OB=function(t,r,o){return o.onEscape(t,r)},H1=Hc(SB),BO=Hc(CB),FO=Hc(MO),IO=Hc(O2),NO=R([ca(na(I1),k2(H1,BO)),ca(na(N1),T2(H1,BO)),ca(na(Cd),EO(FO)),ca(na(cg),dg(IO)),ca(ic([fg,na(yf)]),RO),ca(ic([Zp,na(yf)]),RO),ca(na(F1),OB),ca(na(ll.concat(ys)),EB)]),LO=R([ca(na(ll),vg)]),AB=Sd(xB,SO,NO,LO,function(){return E.some(kB)}),V1=function(t,r,o,u){var f=function(p){return Pe(p)==="button"&&po(p,"disabled")==="disabled"},v=function(p,C,S){var O=Mi(C,u,0,S.length-1);return O===p?E.none():f(S[O])?v(p,O,S):E.from(S[O])};return AO(t,o,r).bind(function(p){var C=p.index,S=p.candidates;return v(C,C,S)})},$B=[tn("selector"),nt("getInitial",E.none),nt("execute",eh),ol("onEscape"),nt("executeOnMove",!1),nt("allowVertical",!0)],A2=function(t,r){return r.focusManager.get(t).bind(function(o){return Xs(o,r.selector)})},$2=function(t,r,o){return A2(t,o).bind(function(u){return o.execute(t,r,u)})},U1=function(t,r,o){r.getInitial(t).orThunk(function(){return ii(t.element,r.selector)}).each(function(u){r.focusManager.set(t,u)})},zO=function(t,r,o){return V1(t,o.selector,r,-1)},D2=function(t,r,o){return V1(t,o.selector,r,1)},Jl=function(t){return function(r,o,u,f){return t(r,o,u,f).bind(function(){return u.executeOnMove?$2(r,o,u):E.some(!0)})}},DB=function(t,r,o){return o.onEscape(t,r)},_2=function(t,r,o,u){var f=I1.concat(o.allowVertical?Cd:[]),v=N1.concat(o.allowVertical?cg:[]);return[ca(na(f),Jl(k2(zO,D2))),ca(na(v),Jl(T2(zO,D2))),ca(na(ys),$2),ca(na(ll),$2),ca(na(F1),DB)]},_B=R([ca(na(ll),vg)]),HO=Sd($B,xu.init,_2,_B,function(){return E.some(U1)}),W1=function(t,r,o){return E.from(t[r]).bind(function(u){return E.from(u[o]).map(function(f){return{rowIndex:r,columnIndex:o,cell:f}})})},VO=function(t,r,o,u){var f=t[r],v=f.length,p=Mi(o,u,0,v-1);return W1(t,r,p)},UO=function(t,r,o,u){var f=Mi(o,u,0,t.length-1),v=t[f].length,p=il(r,0,v-1);return W1(t,f,p)},WO=function(t,r,o,u){var f=t[r],v=f.length,p=il(o+u,0,v-1);return W1(t,r,p)},jO=function(t,r,o,u){var f=il(o+u,0,t.length-1),v=t[f].length,p=il(r,0,v-1);return W1(t,f,p)},PB=function(t,r,o){return VO(t,r,o,1)},hv=function(t,r,o){return VO(t,r,o,-1)},MB=function(t,r,o){return UO(t,o,r,-1)},RB=function(t,r,o){return UO(t,o,r,1)},BB=function(t,r,o){return WO(t,r,o,-1)},P2=function(t,r,o){return WO(t,r,o,1)},FB=function(t,r,o){return jO(t,o,r,-1)},M2=function(t,r,o){return jO(t,o,r,1)},IB=[gf("selectors",[tn("row"),tn("cell")]),nt("cycles",!0),nt("previousSelector",E.none),nt("execute",eh)],j1=function(t,r,o){var u=r.previousSelector(t).orThunk(function(){var f=r.selectors;return ii(t.element,f.cell)});u.each(function(f){r.focusManager.set(t,f)})},NB=function(t,r,o){return Qs(t.element).bind(function(u){return o.execute(t,r,u)})},qO=function(t,r){return it(t,function(o){return Au(o,r.selectors.cell)})},q1=function(t,r){return function(o,u,f){var v=f.cycles?t:r;return Xs(u,f.selectors.row).bind(function(p){var C=Au(p,f.selectors.cell);return $O(C,u).bind(function(S){var O=Au(o,f.selectors.row);return $O(O,p).bind(function(N){var H=qO(O,f);return v(H,N,S).map(function(ne){return ne.cell})})})})}},KO=q1(hv,BB),GO=q1(PB,P2),LB=q1(MB,FB),zB=q1(RB,M2),HB=R([ca(na(I1),k2(KO,GO)),ca(na(N1),T2(KO,GO)),ca(na(Cd),EO(LB)),ca(na(cg),dg(zB)),ca(na(ll.concat(ys)),NB)]),YO=R([ca(na(ll),vg)]),XO=Sd(IB,xu.init,HB,YO,function(){return E.some(j1)}),ZO=[tn("selector"),nt("execute",eh),nt("moveOnTab",!1)],xd=function(t,r,o){return o.focusManager.get(t).bind(function(u){return o.execute(t,r,u)})},JO=function(t,r,o){ii(t.element,r.selector).each(function(u){r.focusManager.set(t,u)})},R2=function(t,r,o){return V1(t,o.selector,r,-1)},K1=function(t,r,o){return V1(t,o.selector,r,1)},VB=function(t,r,o,u){return o.moveOnTab?mg(R2)(t,r,o,u):E.none()},UB=function(t,r,o,u){return o.moveOnTab?mg(K1)(t,r,o,u):E.none()},WB=R([ca(na(Cd),mg(R2)),ca(na(cg),mg(K1)),ca(ic([fg,na(yf)]),VB),ca(ic([Zp,na(yf)]),UB),ca(na(ys),xd),ca(na(ll),xd)]),jB=R([ca(na(ll),vg)]),QO=Sd(ZO,xu.init,WB,jB,function(){return E.some(JO)}),B2=[ol("onSpace"),ol("onEnter"),ol("onShiftEnter"),ol("onLeft"),ol("onRight"),ol("onTab"),ol("onShiftTab"),ol("onUp"),ol("onDown"),ol("onEscape"),nt("stopSpaceKeyup",!1),$a("focusIn")],F2=function(t,r,o){return[ca(na(ll),o.onSpace),ca(ic([Zp,na(ys)]),o.onEnter),ca(ic([fg,na(ys)]),o.onShiftEnter),ca(ic([fg,na(yf)]),o.onShiftTab),ca(ic([Zp,na(yf)]),o.onTab),ca(na(Cd),o.onUp),ca(na(cg),o.onDown),ca(na(I1),o.onLeft),ca(na(N1),o.onRight),ca(na(ll),o.onSpace),ca(na(F1),o.onEscape)]},qB=function(t,r,o){return o.stopSpaceKeyup?[ca(na(ll),vg)]:[]},bv=Sd(B2,xu.init,F2,qB,function(t){return t.focusIn}),eA=S2.schema(),tA=yO.schema(),KB=HO.schema(),GB=AB.schema(),gg=XO.schema(),pg=x2.schema(),nA=QO.schema(),rA=bv.schema(),yv=Object.freeze({__proto__:null,acyclic:eA,cyclic:tA,flow:KB,flatgrid:GB,matrix:gg,execution:pg,menu:nA,special:rA}),wv=function(t){return Un(t,"setGridSize")},Sr=Ym({branchKey:"mode",branches:yv,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(u){u(t,r,o)})},setGridSize:function(t,r,o,u,f){wv(o)&&o.setGridSize(u,f)}},state:xO}),YB=function(t,r,o,u){qT(function(){var f=it(u,t.getSystem().build);UC(t,f)},t.element)},wf=function(t,r,o,u){var f=t.getSystem().build(u);RE(t,f,o)},XB=function(t,r,o,u){wf(t,r,Vi,u)},ZB=function(t,r,o,u){wf(t,r,Yv,u)},aA=function(t,r,o,u){var f=th(t),v=Et(f,function(p){return fo(u.element,p.element)});v.each(Fc)},th=function(t,r){return t.components()},Vc=function(t,r,o,u,f){var v=th(t);return E.from(v[u]).map(function(p){return aA(t,r,o,p),f.each(function(C){wf(t,r,function(S,O){cf(S,O,u)},C)}),p})},I2=function(t,r,o,u,f){var v=th(t);return _n(v,u).bind(function(p){return Vc(t,r,o,p,f)})},oA=Object.freeze({__proto__:null,append:XB,prepend:ZB,remove:aA,replaceAt:Vc,replaceBy:I2,set:YB,contents:th}),Ir=bi({fields:[],name:"replacing",apis:oA}),iA=function(t,r){var o=Va(r);return bi({fields:[tn("enabled")],name:t,active:{events:R(o)}})},Vr=function(t,r){var o=iA(t,r);return{key:t,value:{config:{},me:o,configAsRaw:R({}),initialConfig:{},state:xu}}},N2=function(t,r){r.ignore||(Zs(t.element),r.onFocus(t))},JB=function(t,r){r.ignore||pC(t.element)},QB=function(t){return hC(t.element)},eF=Object.freeze({__proto__:null,focus:N2,blur:JB,isFocused:QB}),G1=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return gs(o)},L2=function(t){return Va([nn(Pm(),function(r,o){N2(r,t),o.stop()})].concat(t.stopMousedown?[nn(ms(),function(r,o){o.event.prevent()})]:[]))},z2=Object.freeze({__proto__:null,exhibit:G1,events:L2}),tF=[xa("onFocus"),nt("stopMousedown",!1),nt("ignore",!1)],Dr=bi({fields:tF,name:"focusing",active:z2,apis:eF}),uA=function(t){var r=function(){var o=Cr(t),u=function(){return o.get()},f=function(C){return o.set(C)},v=function(){return o.set(t)},p=function(){return o.get()};return{get:u,set:f,clear:v,readState:p}};return{init:r}},H2=function(t,r,o){var u=r.aria;u.update(t,u,o.get())},V2=function(t,r,o){r.toggleClass.each(function(u){o.get()?oi(t.element,u):Zo(t.element,u)})},U2=function(t,r,o){W2(t,r,o,!o.get())},lA=function(t,r,o){o.set(!0),V2(t,r,o),H2(t,r,o)},Y1=function(t,r,o){o.set(!1),V2(t,r,o),H2(t,r,o)},W2=function(t,r,o,u){var f=u?lA:Y1;f(t,r,o)},nF=function(t,r,o){return o.get()},sA=function(t,r,o){W2(t,r,o,r.selected)},rF=Object.freeze({__proto__:null,onLoad:sA,toggle:U2,isOn:nF,on:lA,off:Y1,set:W2}),X1=function(){return gs({})},aF=function(t,r){var o=e1(t,r,U2),u=Mc(t,r,sA);return Va(Re([t.toggleOnExecute?[o]:[],[u]]))},Z1=Object.freeze({__proto__:null,exhibit:X1,events:aF}),cA=function(t,r,o){Zr(t.element,"aria-pressed",o),r.syncWithExpanded&&vA(t,r,o)},fA=function(t,r,o){Zr(t.element,"aria-selected",o)},oF=function(t,r,o){Zr(t.element,"aria-checked",o)},vA=function(t,r,o){Zr(t.element,"aria-expanded",o)},iF=[nt("selected",!1),$a("toggleClass"),nt("toggleOnExecute",!0),rl("aria",{mode:"none"},Vl("mode",{pressed:[nt("syncWithExpanded",!1),ro("update",cA)],checked:[ro("update",oF)],expanded:[ro("update",vA)],selected:[ro("update",fA)],none:[ro("update",_)]}))],fa=bi({fields:iF,name:"toggling",active:Z1,apis:rF,state:uA(!1)}),dA=function(){var t=function(r,o){o.stop(),Ol(r)};return[nn(wp(),t),nn(Mm(),t),nd(pf()),nd(ms())]},J1=function(t){var r=function(o){return Yl(function(u,f){o(u),f.stop()})};return Va(Re([t.map(r).toArray(),dA()]))},j2="alloy.item-hover",mA="alloy.item-focus",q2=function(t){(Qs(t.element).isNone()||Dr.isFocused(t))&&(Dr.isFocused(t)||Dr.focus(t),hr(t,j2,{item:t}))},nh=function(t){hr(t,mA,{item:t})},Q1=R(j2),K2=R(mA),uF=function(t){return{dom:t.dom,domModification:z(z({},t.domModification),{attributes:z(z(z({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Zl.augment(t.itemBehaviours,[t.toggling.fold(fa.revoke,function(r){return fa.config(z({aria:{mode:"checked"}},r))}),Dr.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){nh(r)}}),Sr.config({mode:"execution"}),Rn.config({store:{mode:"memory",initialValue:t.data}}),Vr("item-type-events",he(he([],dA(),!0),[nn(Kf(),q2),nn(Sp(),Dr.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},lF=[tn("data"),tn("components"),tn("dom"),nt("hasSubmenu",!1),$a("toggling"),Zl.field("itemBehaviours",[fa,Dr,Sr,Rn]),nt("ignoreFocus",!1),nt("domModification",{}),ro("builder",uF),nt("eventOrder",{})],sF=function(t){return{dom:t.dom,components:t.components,events:Va([Fm(Sp())])}},cF=[tn("dom"),tn("components"),ro("builder",sF)],e0=R("item-widget"),t0=R([Yi({name:"widget",overrides:function(t){return{behaviours:$n([Rn.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:_}})])}}})]),fF=function(t){var r=l2(e0(),t,t0()),o=s2(e0(),t,r.internals()),u=function(v){return Ua(v,t,"widget").map(function(p){return Sr.focusIn(p),p})},f=function(v,p){return pv(p.event.target)?E.none():function(){return t.autofocus&&p.setSource(v.element),E.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Va([Yl(function(v,p){u(v).each(function(C){p.stop()})}),nn(Kf(),q2),nn(Sp(),function(v,p){t.autofocus?u(v):Dr.focus(v)})]),behaviours:Zl.augment(t.widgetBehaviours,[Rn.config({store:{mode:"memory",initialValue:t.data}}),Dr.config({ignore:t.ignoreFocus,onFocus:function(v){nh(v)}}),Sr.config({mode:"special",focusIn:t.autofocus?function(v){u(v)}:OM(),onLeft:f,onRight:f,onEscape:function(v,p){return!Dr.isFocused(v)&&!t.autofocus?(Dr.focus(v),E.some(!0)):(t.autofocus&&p.setSource(v.element),E.none())}})])}},vF=[tn("uid"),tn("data"),tn("components"),tn("dom"),nt("autofocus",!1),nt("ignoreFocus",!1),Zl.field("widgetBehaviours",[Rn,Dr,Sr]),nt("domModification",{}),Kp(t0()),ro("builder",fF)],dF=Vl("type",{widget:vF,item:lF,separator:cF}),mF=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},gF=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},pF=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},gA=R([A1({factory:{sketch:function(t){var r=qa("menu.spec item",dF,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return an(r,"uid")?r:z(z({},r),{uid:tv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),hF=R([tn("value"),tn("items"),tn("dom"),tn("components"),nt("eventOrder",{}),li("menuBehaviours",[Da,Rn,ia,Sr]),rl("movement",{mode:"menu",moveOnTab:!0},Vl("mode",{grid:[Gb(),ro("config",mF)],matrix:[ro("config",gF),tn("rowSelector")],menu:[nt("moveOnTab",!0),ro("config",pF)]})),hM(),nt("fakeFocus",!1),nt("focusManager",Jp()),xa("onHighlight")]),pA=R("alloy.menu-focus"),bF=function(t,r,o,u){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oi(t.menuBehaviours,[Da.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Rn.config({store:{mode:"memory",initialValue:t.value}}),ia.config({find:E.some}),Sr.config(t.movement.config(t,t.movement))]),events:Va([nn(K2(),function(f,v){var p=v.event;f.getSystem().getByDom(p.target).each(function(C){Da.highlight(f,C),v.stop(),hr(f,pA(),{menu:f,item:C})})}),nn(Q1(),function(f,v){var p=v.event.item;Da.highlight(f,p)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Cv=Du({name:"Menu",configFields:hF(),partFields:gA(),factory:bF}),yF=function(t){return Ve(t,function(r,o){return{k:r,v:o}})},Sv=function(t,r,o,u){return _t(o,u).bind(function(f){return _t(t,f).bind(function(v){var p=Sv(t,r,o,v);return E.some([v].concat(p))})}).getOr([])},wF=function(t,r){var o={};dn(t,function(p,C){Oe(p,function(S){o[S]=C})});var u=r,f=yF(r),v=Xt(f,function(p,C){return[C].concat(Sv(o,u,f,C))});return Xt(o,function(p){return _t(v,p).getOr([p])})},G2=function(){var t=Cr({}),r=Cr({}),o=Cr({}),u=Po(),f=Cr({}),v=function(){t.set({}),r.set({}),o.set({}),u.clear()},p=function(){return u.get().isNone()},C=function(Qe,kt){var qt;r.set(z(z({},r.get()),(qt={},qt[Qe]={type:"prepared",menu:kt},qt)))},S=function(Qe,kt,qt,Pn){u.set(Qe),t.set(qt),r.set(kt),f.set(Pn);var Qt=wF(Pn,qt);o.set(Qt)},O=function(Qe){return He(t.get(),function(kt,qt){return kt===Qe})},N=function(Qe,kt,qt){return $e(Qe).bind(function(Pn){return O(Qe).bind(function(Qt){return kt(Qt).map(function(Mn){return{triggeredMenu:Pn,triggeringItem:Mn,triggeringPath:qt}})})})},H=function(Qe,kt){var qt=Be(Se(Qe).toArray(),function(Pn){return $e(Pn).isSome()});return _t(o.get(),Qe).bind(function(Pn){var Qt=Ut(qt.concat(Pn)),Mn=Tt(Qt,function(rn,jt){return N(rn,kt,Qt.slice(0,jt+1)).fold(function(){return kr(u.get(),rn)?[]:[E.none()]},function(Tn){return[E.some(Tn)]})});return Ar(Mn)})},ne=function(Qe){return _t(t.get(),Qe).map(function(kt){var qt=_t(o.get(),Qe).getOr([]);return[kt].concat(qt)})},ie=function(Qe){return _t(o.get(),Qe).bind(function(kt){return kt.length>1?E.some(kt.slice(1)):E.none()})},ge=function(Qe){return _t(o.get(),Qe)},$e=function(Qe){return Ze(Qe).bind(hA)},Ze=function(Qe){return _t(r.get(),Qe)},Se=function(Qe){return _t(t.get(),Qe)},et=function(Qe){var kt=f.get();return fn(st(kt),Qe)},Rt=function(){return u.get().bind($e)},Mt=function(){return r.get()};return{setMenuBuilt:C,setContents:S,expand:ne,refresh:ge,collapse:ie,lookupMenu:Ze,lookupItem:Se,otherMenus:et,getPrimary:Rt,getMenus:Mt,clear:v,isClear:p,getTriggeringPath:H}},hA=function(t){return t.type==="prepared"?E.some(t.menu):E.none()},n0={init:G2,extractPreparedMenu:hA},CF=function(t,r){var o=Po(),u=function(Zt,qn,nr){return Xt(nr,function(ra,Ta){var Za=function(){return Cv.sketch(z(z({},ra),{value:Ta,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?bO():Jp()}))};return Ta===qn?{type:"prepared",menu:Zt.getSystem().build(Za())}:{type:"notbuilt",nbMenu:Za}})},f=n0.init(),v=function(Zt){var qn=u(Zt,t.data.primary,t.data.menus),nr=S();return f.setContents(t.data.primary,qn,t.data.expansions,nr),f.getPrimary()},p=function(Zt){return Rn.getValue(Zt).value},C=function(Zt,qn,nr){return rt(qn,function(ra){if(!ra.getSystem().isConnected())return E.none();var Ta=Da.getCandidates(ra);return Et(Ta,function(Za){return p(Za)===nr})})},S=function(Zt){return Xt(t.data.menus,function(qn,nr){return Tt(qn.items,function(ra){return ra.type==="separator"?[]:[ra.data.value]})})},O=function(Zt,qn){Da.highlight(Zt,qn),Da.getHighlighted(qn).orThunk(function(){return Da.getFirst(qn)}).each(function(nr){Pb(Zt,nr.element,Sp())})},N=function(Zt,qn){return _r(it(qn,function(nr){return Zt.lookupMenu(nr).bind(function(ra){return ra.type==="prepared"?E.some(ra.menu):E.none()})}))},H=function(Zt,qn,nr){var ra=N(qn,qn.otherMenus(nr));Oe(ra,function(Ta){Al(Ta.element,[t.markers.backgroundMenu]),t.stayInDom||Ir.remove(Zt,Ta)})},ne=function(Zt){return o.get().getOrThunk(function(){var qn={},nr=Au(Zt.element,"."+t.markers.item),ra=Be(nr,function(Ta){return po(Ta,"aria-haspopup")==="true"});return Oe(ra,function(Ta){Zt.getSystem().getByDom(Ta).each(function(Za){var yo=p(Za);qn[yo]=Za})}),o.set(qn),qn})},ie=function(Zt,qn){var nr=ne(Zt);dn(nr,function(ra,Ta){var Za=Xe(qn,Ta);Zr(ra.element,"aria-expanded",Za)})},ge=function(Zt,qn,nr){return E.from(nr[0]).bind(function(ra){return qn.lookupMenu(ra).bind(function(Ta){if(Ta.type==="notbuilt")return E.none();var Za=Ta.menu,yo=N(qn,nr.slice(1));return Oe(yo,function(fl){oi(fl.element,t.markers.backgroundMenu)}),Br(Za.element)||Ir.append(Zt,$l(Za)),Al(Za.element,[t.markers.backgroundMenu]),O(Zt,Za),H(Zt,qn,nr),E.some(Za)})})},$e;(function(Zt){Zt[Zt.HighlightSubmenu=0]="HighlightSubmenu",Zt[Zt.HighlightParent=1]="HighlightParent"})($e||($e={}));var Ze=function(Zt,qn,nr){if(nr.type==="notbuilt"){var ra=Zt.getSystem().build(nr.nbMenu());return f.setMenuBuilt(qn,ra),ra}else return nr.menu},Se=function(Zt,qn,nr){if(nr===void 0&&(nr=$e.HighlightSubmenu),qn.hasConfigured(mr)&&mr.isDisabled(qn))return E.some(qn);var ra=p(qn);return f.expand(ra).bind(function(Ta){return ie(Zt,Ta),E.from(Ta[0]).bind(function(Za){return f.lookupMenu(Za).bind(function(yo){var fl=Ze(Zt,Za,yo);return Br(fl.element)||Ir.append(Zt,$l(fl)),t.onOpenSubmenu(Zt,qn,fl,Ut(Ta)),nr===$e.HighlightSubmenu?(Da.highlightFirst(fl),ge(Zt,f,Ta)):(Da.dehighlightAll(fl),E.some(qn))})})})},et=function(Zt,qn){var nr=p(qn);return f.collapse(nr).bind(function(ra){return ie(Zt,ra),ge(Zt,f,ra).map(function(Ta){return t.onCollapseMenu(Zt,qn,Ta),Ta})})},Rt=function(Zt,qn){var nr=p(qn);return f.refresh(nr).bind(function(ra){return ie(Zt,ra),ge(Zt,f,ra)})},Mt=function(Zt,qn){return pv(qn.element)?E.none():Se(Zt,qn,$e.HighlightSubmenu)},Qe=function(Zt,qn){return pv(qn.element)?E.none():et(Zt,qn)},kt=function(Zt,qn){return et(Zt,qn).orThunk(function(){return t.onEscape(Zt,qn).map(function(){return Zt})})},qt=function(Zt){return function(qn,nr){return Xs(nr.getSource(),"."+t.markers.item).bind(function(ra){return qn.getSystem().getByDom(ra).toOptional().bind(function(Ta){return Zt(qn,Ta).map(Ce)})})}},Pn=Va([nn(pA(),function(Zt,qn){var nr=qn.event.item;f.lookupItem(p(nr)).each(function(){var ra=qn.event.menu;Da.highlight(Zt,ra);var Ta=p(qn.event.item);f.refresh(Ta).each(function(Za){return H(Zt,f,Za)})})}),Yl(function(Zt,qn){var nr=qn.event.target;Zt.getSystem().getByDom(nr).each(function(ra){var Ta=p(ra);Ta.indexOf("collapse-item")===0&&et(Zt,ra),Se(Zt,ra,$e.HighlightSubmenu).fold(function(){t.onExecute(Zt,ra)},_)})}),qr(function(Zt,qn){v(Zt).each(function(nr){Ir.append(Zt,$l(nr)),t.onOpenMenu(Zt,nr),t.highlightImmediately&&O(Zt,nr)})})].concat(t.navigateOnHover?[nn(Q1(),function(Zt,qn){var nr=qn.event.item;Rt(Zt,nr),Se(Zt,nr,$e.HighlightParent),t.onHover(Zt,nr)})]:[])),Qt=function(Zt){return Da.getHighlighted(Zt).bind(Da.getHighlighted)},Mn=function(Zt){Qt(Zt).each(function(qn){et(Zt,qn)})},rn=function(Zt){f.getPrimary().each(function(qn){O(Zt,qn)})},jt=function(Zt){return E.from(Zt.components()[0]).filter(function(qn){return po(qn.element,"role")==="menu"})},Tn=function(Zt){var qn=f.getPrimary().bind(function(nr){return Qt(Zt).bind(function(ra){var Ta=p(ra),Za=Lt(f.getMenus()),yo=_r(it(Za,n0.extractPreparedMenu));return f.getTriggeringPath(Ta,function(fl){return C(Zt,yo,fl)})}).map(function(ra){return{primary:nr,triggeringPath:ra}})});qn.fold(function(){jt(Zt).each(function(nr){t.onRepositionMenu(Zt,nr,[])})},function(nr){var ra=nr.primary,Ta=nr.triggeringPath;t.onRepositionMenu(Zt,ra,Ta)})},Xn={collapseMenu:Mn,highlightPrimary:rn,repositionMenus:Tn};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Oi(t.tmenuBehaviours,[Sr.config({mode:"special",onRight:qt(Mt),onLeft:qt(Qe),onEscape:qt(kt),focusIn:function(Zt,qn){f.getPrimary().each(function(nr){Pb(Zt,nr.element,Sp())})}}),Da.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ia.config({find:function(Zt){return Da.getHighlighted(Zt)}}),Ir.config({})]),eventOrder:t.eventOrder,apis:Xn,events:Pn}},rh=R("collapse-item"),r0=function(t,r,o){return{primary:t,menus:r,expansions:o}},bA=function(t,r){return{primary:t,menus:Ac(t,r),expansions:{}}},yA=function(t){return{value:Zn(rh()),meta:{text:t}}},kd=Pl({name:"TieredMenu",configFields:[Uu("onExecute"),Uu("onEscape"),Eu("onOpenMenu"),Eu("onOpenSubmenu"),xa("onRepositionMenu"),xa("onCollapseMenu"),nt("highlightImmediately",!0),gf("data",[tn("primary"),tn("menus"),tn("expansions")]),nt("fakeFocus",!1),xa("onHighlight"),xa("onHover"),qb(),tn("dom"),nt("navigateOnHover",!0),nt("stayInDom",!1),li("tmenuBehaviours",[Sr,Da,ia,Ir]),nt("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:CF,extraApis:{tieredData:r0,singleData:bA,collapseItem:yA}}),SF=function(t,r,o,u,f){var v=function(){return t.lazySink(r)},p=u.type==="horizontal"?{layouts:{onLtr:function(){return mC()},onRtl:function(){return Qb()}}}:{},C=function(O){return O.length===2},S=function(O){return C(O)?p:{}};return kd.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightImmediately:u.menu.highlightImmediately,onEscape:function(){return ua.close(r),t.onEscape.map(function(O){return O(r)}),E.some(!0)},onExecute:function(){return E.some(!0)},onOpenMenu:function(O,N){Mo.positionWithinBounds(v().getOrDie(),N,o,f())},onOpenSubmenu:function(O,N,H,ne){var ie=v().getOrDie();Mo.position(ie,H,{anchor:z({type:"submenu",item:N},S(ne))})},onRepositionMenu:function(O,N,H){var ne=v().getOrDie();Mo.positionWithinBounds(ne,N,o,f()),Oe(H,function(ie){var ge=S(ie.triggeringPath);Mo.position(ne,ie.triggeredMenu,{anchor:z({type:"submenu",item:ie.triggeringItem},ge)})})}})},xF=function(t,r){var o=function(ie,ge){var $e=t.getRelated(ie);return $e.exists(function(Ze){return ud(Ze,ge)})},u=function(ie,ge){ua.setContent(ie,ge)},f=function(ie,ge,$e){v(ie,ge,$e,E.none())},v=function(ie,ge,$e,Ze){p(ie,ge,$e,function(){return Ze.map(function(Se){return pi(Se)})})},p=function(ie,ge,$e,Ze){var Se=t.lazySink(ie).getOrDie();ua.openWhileCloaked(ie,ge,function(){return Mo.positionWithinBounds(Se,ie,$e,Ze())}),Rn.setValue(ie,E.some({mode:"position",config:$e,getBounds:Ze}))},C=function(ie,ge,$e){S(ie,ge,$e,E.none)},S=function(ie,ge,$e,Ze){var Se=SF(t,ie,ge,$e,Ze);ua.open(ie,Se),Rn.setValue(ie,E.some({mode:"menu",menu:Se}))},O=function(ie){ua.isOpen(ie)&&(Rn.setValue(ie,E.none()),ua.close(ie))},N=function(ie){return ua.getState(ie)},H=function(ie){ua.isOpen(ie)&&Rn.getValue(ie).each(function(ge){switch(ge.mode){case"menu":ua.getState(ie).each(kd.repositionMenus);break;case"position":var $e=t.lazySink(ie).getOrDie();Mo.positionWithinBounds($e,ie,ge.config,ge.getBounds());break}})},ne={setContent:u,showAt:f,showWithin:v,showWithinBounds:p,showMenuAt:C,showMenuWithinBounds:S,hide:O,getContent:N,reposition:H,isOpen:ua.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Oi(t.inlineBehaviours,[ua.config({isPartOf:function(ie,ge,$e){return ud(ge,$e)||o(ie,$e)},getAttachPoint:function(ie){return t.lazySink(ie).getOrDie()},onOpen:function(ie){t.onShow(ie)},onClose:function(ie){t.onHide(ie)}}),Rn.config({store:{mode:"memory",initialValue:E.none()}}),qu.config({channels:z(z({},ul(z({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(ie){return{fireEventInstead:{event:ie.event}}}).getOr({})))),hd(z(z({},t.fireRepositionEventInstead.map(function(ie){return{fireEventInstead:{event:ie.event}}}).getOr({})),{doReposition:H})))})]),eventOrder:t.eventOrder,apis:ne}},So=Pl({name:"InlineView",configFields:[tn("lazySink"),xa("onShow"),xa("onHide"),Qv("onEscape"),li("inlineBehaviours",[ua,Rn,qu]),kl("fireDismissalEventInstead",[nt("event",qs())]),kl("fireRepositionEventInstead",[nt("event",Wi())]),nt("getRelated",E.none),nt("isExtraPart",se),nt("eventOrder",E.none)],factory:xF,apis:{showAt:function(t,r,o,u){t.showAt(r,o,u)},showWithin:function(t,r,o,u,f){t.showWithin(r,o,u,f)},showWithinBounds:function(t,r,o,u,f){t.showWithinBounds(r,o,u,f)},showMenuAt:function(t,r,o,u){t.showMenuAt(r,o,u)},showMenuWithinBounds:function(t,r,o,u,f){t.showMenuWithinBounds(r,o,u,f)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),Uc="layout-inset",a0=function(t){return t.x},Y2=function(t,r){return t.x+t.width/2-r.width/2},ah=function(t,r){return t.x+t.width-r.width},X2=function(t){return t.y},o0=function(t,r){return t.y+t.height-r.height},wA=function(t,r){return t.y+t.height/2-r.height/2},i0=function(t,r,o){return Ei(ah(t,r),o0(t,r),o.insetSouthwest(),qm(),"southwest",ui(t,{right:0,bottom:3}),Uc)},u0=function(t,r,o){return Ei(a0(t),o0(t,r),o.insetSoutheast(),iC(),"southeast",ui(t,{left:1,bottom:3}),Uc)},hg=function(t,r,o){return Ei(ah(t,r),X2(t),o.insetNorthwest(),oC(),"northwest",ui(t,{right:0,top:2}),Uc)},bg=function(t,r,o){return Ei(a0(t),X2(t),o.insetNortheast(),Xb(),"northeast",ui(t,{left:1,top:2}),Uc)},uc=function(t,r,o){return Ei(Y2(t,r),X2(t),o.insetNorth(),BT(),"north",ui(t,{top:2}),Uc)},yg=function(t,r,o){return Ei(Y2(t,r),o0(t,r),o.insetSouth(),FT(),"south",ui(t,{bottom:3}),Uc)},l0=function(t,r,o){return Ei(ah(t,r),wA(t,r),o.insetEast(),lC(),"east",ui(t,{right:0}),Uc)},Z2=function(t,r,o){return Ei(a0(t),wA(t,r),o.insetWest(),uC(),"west",ui(t,{left:1}),Uc)},CA=function(t){switch(t){case"north":return uc;case"northeast":return bg;case"northwest":return hg;case"south":return yg;case"southeast":return u0;case"southwest":return i0;case"east":return l0;case"west":return Z2}},SA=function(t,r,o,u,f){var v=ZT(u).map(CA).getOr(uc);return v(t,r,o,u,f)},J2=function(t){switch(t){case"north":return yg;case"northeast":return u0;case"northwest":return i0;case"south":return uc;case"southeast":return bg;case"southwest":return hg;case"east":return Z2;case"west":return l0}},kF=function(t,r,o,u,f){var v=ZT(u).map(J2).getOr(uc);return v(t,r,o,u,f)},xv=tinymce.util.Tools.resolve("tinymce.util.Delay"),TF=function(t){var r=J1(t.action),o=t.dom.tag,u=function(v){return _t(t.dom,"attributes").bind(function(p){return _t(p,v)})},f=function(){if(o==="button"){var v=u("type").getOr("button"),p=u("role").map(function(S){return{role:S}}).getOr({});return z({type:v},p)}else{var C=u("role").getOr("button");return{role:C}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Zl.augment(t.buttonBehaviours,[Dr.config({}),Sr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:f()},eventOrder:t.eventOrder}},_u=Pl({name:"Button",factory:TF,configFields:[nt("uid",void 0),tn("dom"),nt("components",[]),Zl.field("buttonBehaviours",[Dr,Sr]),$a("action"),$a("role"),nt("eventOrder",{})]}),ka=function(t){var r=d2(t)&&Un(t,"uid")?t.uid:tv("memento"),o=function(v){return v.getSystem().getByUid(r).getOrDie()},u=function(v){return v.getSystem().getByUid(r).toOptional()},f=function(){return z(z({},t),{uid:r})};return{get:o,getOpt:u,asSpec:f}},ws=tinymce.util.Tools.resolve("tinymce.util.I18n"),Q2={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},xA="temporary-placeholder",wg=function(t){return function(){return _t(t,xA).getOr("!not found!")}},eS=function(t,r){var o=t.toLowerCase();if(ws.isRtl()){var u=Pa(o,"-rtl");return an(r,u)?u:o}else return o},kA=function(t,r){return _t(r,eS(t,r))},TA=function(t,r){var o=r();return kA(t,o).getOrThunk(wg(o))},EF=function(t,r,o){var u=r();return kA(t,u).or(o).getOrThunk(wg(u))},OF=function(t){return ws.isRtl()?an(Q2,t):!1},tS=function(){return Vr("add-focusable",[qr(function(t){nC(t.element,"svg").each(function(r){return Zr(r,"focusable","false")})})])},nS=function(t,r,o,u){var f,v,p=OF(r)?["tox-icon--flip"]:[],C=_t(o,eS(r,o)).or(u).getOrThunk(wg(o));return{dom:{tag:t.tag,attributes:(f=t.attributes)!==null&&f!==void 0?f:{},classes:t.classes.concat(p),innerHtml:C},behaviours:$n(he(he([],(v=t.behaviours)!==null&&v!==void 0?v:[],!0),[tS()],!1))}},lc=function(t,r,o,u){return u===void 0&&(u=E.none()),nS(r,t,o(),u)},AF=function(t,r,o){var u=o(),f=Et(t,function(v){return an(u,eS(v,u))});return nS(r,f.getOr(xA),u,E.none())},s0={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},$F=function(t){var r=ka({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:$n([Ir.config({})])}),o=function(ie){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+ie+"%"}}}},u=function(ie){return{dom:{tag:"div",classes:["tox-text"],innerHtml:ie+"%"}}},f=ka({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},u(0)],behaviours:$n([Ir.config({})])}),v=function(ie,ge){ie.getSystem().isConnected()&&f.getOpt(ie).each(function($e){Ir.set($e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ge)]},u(ge)])})},p=function(ie,ge){if(ie.getSystem().isConnected()){var $e=r.get(ie);Ir.set($e,[ji(ge)])}},C={updateProgress:v,updateText:p},S=Re([t.icon.toArray(),t.level.toArray(),t.level.bind(function(ie){return E.from(s0[ie])}).toArray()]),O=ka(_u.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[lc("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(ie){t.onAction(ie)}})),N=AF(S,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),H={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:$n([Ir.config({})])},ne=[N,H];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(ie){return["tox-notification","tox-notification--in","tox-notification--"+ie]}).getOr(["tox-notification","tox-notification--in"])},behaviours:$n([Dr.config({}),Vr("notification-events",[nn(Gf(),function(ie){O.getOpt(ie).each(Dr.focus)})])]),components:ne.concat(t.progress?[f.asSpec()]:[]).concat(t.closeButton?[O.asSpec()]:[]),apis:C}},rS=Pl({name:"Notification",factory:$F,configFields:[$a("level"),tn("progress"),tn("icon"),tn("onAction"),tn("text"),tn("iconProvider"),tn("translationProvider"),Oo("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function aS(t,r,o){var u=r.backstage.shared,f=function(O){switch(O){case"bc-bc":return yg;case"tc-tc":return uc;case"tc-bc":return ju;case"bc-tc":default:return Jo}},v=function(O){O.length>0&&Oe(O,function(N,H){H===0?N.moveRel(null,"banner"):N.moveRel(O[H-1].getEl(),"bc-tc")})},p=function(O,N){var H=!O.closeButton&&O.timeout&&(O.timeout>0||O.timeout<0),ne=function(){N(),So.hide(ge)},ie=qo(rS.sketch({text:O.text,level:Xe(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:E.from(O.icon),closeButton:!H,onAction:ne,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),ge=qo(So.sketch(z({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{}},u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ge),O.timeout>0&&xv.setTimeout(function(){ne()},O.timeout);var $e=function(){var Ze=pi(Te.fromDom(t.getContentAreaContainer())),Se=Sl(),et=il(Se.x,Ze.x,Ze.right),Rt=il(Se.y,Ze.y,Ze.bottom),Mt=Math.max(Ze.right,Se.right),Qe=Math.max(Ze.bottom,Se.bottom);return E.some(gi(et,Rt,Mt-et,Qe-Rt))};return{close:ne,moveTo:function(Ze,Se){So.showAt(ge,$l(ie),{anchor:{type:"makeshift",x:Ze,y:Se}})},moveRel:function(Ze,Se){var et=$l(ie),Rt={maxHeightFunction:Rp()};if(Se!=="banner"&&D(Ze)){var Mt=f(Se),Qe={type:"node",root:Ba(),node:E.some(Te.fromDom(Ze)),overrides:Rt,layouts:{onRtl:function(){return[Mt]},onLtr:function(){return[Mt]}}};So.showWithinBounds(ge,et,{anchor:Qe},$e)}else{var kt=z(z({},u.anchors.banner()),{overrides:Rt});So.showWithinBounds(ge,et,{anchor:kt},$e)}},text:function(Ze){rS.updateText(ie,Ze)},settings:O,getEl:function(){return ie.element.dom},progressBar:{value:function(Ze){rS.updateProgress(ie,Ze)}}}},C=function(O){O.close()},S=function(O){return O.settings};return{open:p,close:C,reposition:v,getArgs:S}}var DF=function(t,r){var o=null,u=function(){T(o)||(clearTimeout(o),o=null)},f=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];T(o)&&(o=setTimeout(function(){o=null,t.apply(null,v)},r))};return{cancel:u,throttle:f}},oS=function(t,r){var o=null,u=function(){T(o)||(clearTimeout(o),o=null)},f=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];u(),o=setTimeout(function(){o=null,t.apply(null,v)},r)};return{cancel:u,throttle:f}},_F=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),PF=function(t,r){return t.isBlock(r)||Xe(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},EA=function(t,r,o,u,f){var v=_F(t,function(p){return PF(t,p)});return E.from(v.backwards(r,o,u,f))},MF="[data-mce-autocompleter]",RF=function(t,r){return c0(Te.fromDom(t.selection.getNode())).getOrThunk(function(){var o=Te.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Vi(o,Te.fromDom(r.extractContents())),r.insertNode(o.dom),ni(o).each(function(u){return u.dom.normalize()}),EE(o).map(function(u){t.selection.setCursorLocation(u.dom,pR(u))}),o})},c0=function(t){return Xs(t,MF)},BF=function(t){return t.collapsed&&t.startContainer.nodeType===3},OA=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},AA=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},iS=function(t,r){return t.substring(r.length)},uS=function(t,r,o){var u;for(u=r-1;u>=0;u--){var f=t.charAt(u);if(AA(f))return E.none();if(f===o)break}return E.some(u)},FF=function(t,r,o,u){if(u===void 0&&(u=0),!BF(r))return E.none();var f=function(p,C,S){return uS(S,C,o).getOr(C)},v=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return EA(t,r.startContainer,r.startOffset,f,v).bind(function(p){var C=r.cloneRange();if(C.setStart(p.container,p.offset),C.setEnd(r.endContainer,r.endOffset),C.collapsed)return E.none();var S=OA(C),O=S.lastIndexOf(o);return O!==0||iS(S,o).length<u?E.none():E.some({text:iS(S,o),range:C,triggerChar:o})})},lS=function(t,r,o,u){return u===void 0&&(u=0),c0(Te.fromDom(r.startContainer)).fold(function(){return FF(t,r,o,u)},function(f){var v=t.createRng();v.selectNode(f.dom);var p=OA(v);return E.some({range:v,text:iS(p,o),triggerChar:o})})},IF=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(u,f){hr(u,Ob(),{raw:f})};r.on("keydown",function(u){var f=function(){return t.getView().bind(Da.getHighlighted)};u.which===8&&t.onKeypress.throttle(u),t.isActive()&&(u.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?u.which===13?(f().each(Ol),u.preventDefault()):u.which===40?(f().fold(function(){t.getView().each(Da.highlightFirst)},function(v){o(v,u)}),u.preventDefault(),u.stopImmediatePropagation()):(u.which===37||u.which===38||u.which===39)&&f().each(function(v){o(v,u),u.preventDefault(),u.stopImmediatePropagation()}):(u.which===13||u.which===38||u.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(u){t.isActive()&&!t.isProcessingAction()&&c0(Te.fromDom(u.element)).isNone()&&t.cancelIfNecessary()})},$A={setup:IF},oh=tinymce.util.Tools.resolve("tinymce.util.Promise"),sS=function(t,r){return{container:t,offset:r}},NF=function(t){return t.nodeType===ye},LF=function(t){return t.nodeType===zn},DA=function(t){if(NF(t))return sS(t,t.data.length);var r=t.childNodes;return r.length>0?DA(r[r.length-1]):sS(t,r.length)},f0=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?f0(o[r],0):o.length>0&&LF(t)&&o.length===r?DA(o[o.length-1]):sS(t,r)},zF=function(t,r){return EA(t,r.container,r.offset,function(o,u){return u===0?-1:u},t.getRoot()).filter(function(o){var u=o.container.data.charAt(o.offset-1);return!AA(u)}).isSome()},HF=function(t){return function(r){var o=f0(r.startContainer,r.startOffset);return!zF(t,o)}},VF=function(t,r,o){return rt(o.triggerChars,function(u){return lS(t,r,u)})},UF=function(t,r){var o=r(),u=t.selection.getRng();return VF(t.dom,u,o).bind(function(f){return _A(t,r,f)})},_A=function(t,r,o,u){u===void 0&&(u={});var f=r(),v=t.selection.getRng(),p=v.startContainer.nodeValue,C=Be(f.lookupByChar(o.triggerChar),function(O){return o.text.length>=O.minChars&&O.matches.getOrThunk(function(){return HF(t.dom)})(o.range,p,o.text)});if(C.length===0)return E.none();var S=oh.all(it(C,function(O){var N=O.fetch(o.text,O.maxResults,u);return N.then(function(H){return{matchText:o.text,items:H,columns:O.columns,onAction:O.onAction,highlightOn:O.highlightOn}})}));return E.some({lookupData:S,context:o})},PA=vr([$r("type"),no("text")]),WF=function(t){return Eo("separatormenuitem",PA,t)},jF=vr([nt("type","autocompleteitem"),nt("active",!1),nt("disabled",!1),nt("meta",{}),$r("value"),no("text"),no("icon")]),qF=vr([$r("type"),$r("ch"),Oc("minChars",1),nt("columns",1),Oc("maxResults",10),Qv("matches"),uu("fetch"),uu("onAction"),bp("highlightOn",[],Wo)]),KF=function(t){return Eo("Autocompleter.Separator",PA,t)},GF=function(t){return Eo("Autocompleter.Item",jF,t)},cS=function(t){return Eo("Autocompleter",qF,t)},ih=[Oo("disabled",!1),no("tooltip"),no("icon"),no("text"),Xa("onSetup",function(){return _})],YF=vr([$r("type"),uu("onAction")].concat(ih)),MA=function(t){return Eo("toolbarbutton",YF,t)},uh=[Oo("active",!1)].concat(ih),XF=vr(uh.concat([$r("type"),uu("onAction")])),v0=function(t){return Eo("ToggleButton",XF,t)},RA=[Xa("predicate",se),Wl("scope","node",["node","editor"]),Wl("position","selection",["node","selection","line"])],ZF=ih.concat([nt("type","contextformbutton"),nt("primary",!1),uu("onAction"),Vu("original",Q)]),JF=uh.concat([nt("type","contextformbutton"),nt("primary",!1),uu("onAction"),Vu("original",Q)]),QF=ih.concat([nt("type","contextformbutton")]),eI=uh.concat([nt("type","contextformtogglebutton")]),BA=Vl("type",{contextformbutton:ZF,contextformtogglebutton:JF}),tI=vr([nt("type","contextform"),Xa("initValue",R("")),no("label"),Su("commands",BA),Us("launch",Vl("type",{contextformbutton:QF,contextformtogglebutton:eI}))].concat(RA)),fS=function(t){return Eo("ContextForm",tI,t)},vS=vr([nt("type","contexttoolbar"),$r("items")].concat(RA)),FA=function(t){return Eo("ContextToolbar",vS,t)},dS=function(t){var r={};return Oe(t,function(o){r[o]={}}),st(r)},mS=function(t){var r=t.ui.registry.getAll().popups,o=Xt(r,function(p){return cS(p).fold(function(C){throw new Error(Em(C))},Q)}),u=dS(jn(o,function(p){return p.ch})),f=Lt(o),v=function(p){return Be(f,function(C){return C.ch===p})};return{dataset:o,triggerChars:u,lookupByChar:v}},d0;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(d0||(d0={}));var Fi=d0,lh="tox-menu-nav__js",gS="tox-collection__item",pS="tox-swatch",nI={normal:lh,color:pS},IA="tox-collection__item--enabled",Cg="tox-collection__group-heading",hS="tox-collection__item-icon",bS="tox-collection__item-label",rI="tox-collection__item-accessory",yS="tox-collection__item-caret",NA="tox-collection__item-checkmark",Td="tox-collection__item--active",LA="tox-collection__item-container",wS="tox-collection__item-container--column",m0="tox-collection__item-container--row",aI="tox-collection__item-container--align-right",zA="tox-collection__item-container--align-left",HA="tox-collection__item-container--valign-top",oI="tox-collection__item-container--valign-middle",iI="tox-collection__item-container--valign-bottom",VA=function(t){return _t(nI,t).getOr(lh)},uI=function(t){return t==="color"?"tox-swatches":"tox-menu"},CS=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:uI(t),tieredMenu:"tox-tiered-menu"}},Sg=function(t){var r=CS(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:VA(t)}},lI=function(t,r,o){var u=CS(o);return{tag:"div",classes:Re([[u.menu,"tox-menu-"+r+"-column"],t?[u.hasIcons]:[]])}},sI=[Cv.parts.items({})],Ed=function(t,r,o){var u=CS(o),f={tag:"div",classes:Re([[u.tieredMenu]])};return{dom:f,markers:Sg(o)}},g0=function(t,r){return function(o){var u=Vt(o,r);return it(u,function(f){return{dom:t,components:f}})}},UA=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cv.parts.items({preprocess:t!=="auto"?g0({tag:"div",classes:["tox-swatches__row"]},t):Q})]}]}},cI=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cv.parts.items({preprocess:g0({tag:"div",classes:["tox-collection__group"]},t)})]}},WA=function(t,r){var o=[],u=[];return Oe(t,function(f,v){r(f,v)?(u.length>0&&o.push(u),u=[],an(f.dom,"innerHtml")&&u.push(f)):u.push(f)}),u.length>0&&o.push(u),it(o,function(f){return{dom:{tag:"div",classes:["tox-collection__group"]},components:f}})},sh=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Cv.parts.items({preprocess:function(u){return t!=="auto"&&t>1?g0({tag:"div",classes:["tox-collection__group"]},t)(u):WA(u,function(f,v){return r[v].type==="separator"})}})]}},SS=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cv.parts.items({preprocess:function(o){return WA(o,function(u,f){return t[f].type==="separator"})}})]}},ch=function(t){return ct(t,function(r){return"icon"in r&&r.icon!==void 0})},Wc=function(t){return E.none()},jA=function(t,r,o,u,f){var v=SS(o);return{value:t,dom:v.dom,components:v.components,items:o}},xS=function(t,r,o,u,f){if(f==="color"){var v=UA(u);return{value:t,dom:v.dom,components:v.components,items:o}}if(f==="normal"&&u==="auto"){var v=sh(u,o);return{value:t,dom:v.dom,components:v.components,items:o}}if(f==="normal"&&u===1){var v=sh(1,o);return{value:t,dom:v.dom,components:v.components,items:o}}if(f==="normal"){var v=sh(u,o);return{value:t,dom:v.dom,components:v.components,items:o}}if(f==="listpreview"&&u!=="auto"){var v=cI(u);return{value:t,dom:v.dom,components:v.components,items:o}}return{value:t,dom:lI(r,u,f),components:sI,items:o}},kS=[$r("type"),$r("src"),no("alt"),bp("classes",[],Wo)],fI=vr(kS),qA=[$r("type"),$r("text"),no("name"),bp("classes",["tox-collection__item-label"],Wo)],KA=vr(qA),xg=aT(function(){return xb("type",{cardimage:fI,cardtext:KA,cardcontainer:vI})}),vI=vr([$r("type"),Am("direction","horizontal"),Am("align","left"),Am("valign","middle"),Su("items",xg)]),kv=[Oo("disabled",!1),no("text"),no("shortcut"),hi("value","value",da(function(){return Zn("menuitem-value")}),Hs()),nt("meta",{})],kg=vr([$r("type"),no("label"),Su("items",xg),Xa("onSetup",function(){return _}),Xa("onAction",_)].concat(kv)),dI=function(t){return Eo("cardmenuitem",kg,t)},GA=vr([$r("type"),Oo("active",!1),no("icon")].concat(kv)),YA=function(t){return Eo("choicemenuitem",GA,t)},TS=[$r("type"),$r("fancytype"),Xa("onAction",_)],ES=[nt("initData",{})].concat(TS),XA=[xw("initData",{},[Oo("allowCustomColors",!0),nl("colors",Hs())])].concat(TS),mI=Vl("fancytype",{inserttable:ES,colorswatch:XA}),gI=function(t){return Eo("fancymenuitem",mI,t)},p0=vr([$r("type"),Xa("onSetup",function(){return _}),Xa("onAction",_),no("icon")].concat(kv)),pI=function(t){return Eo("menuitem",p0,t)},ZA=vr([$r("type"),uu("getSubmenuItems"),Xa("onSetup",function(){return _}),no("icon")].concat(kv)),Tg=function(t){return Eo("nestedmenuitem",ZA,t)},hI=vr([$r("type"),no("icon"),Oo("active",!1),Xa("onSetup",function(){return _}),uu("onAction")].concat(kv)),bI=function(t){return Eo("togglemenuitem",hI,t)},OS=function(t,r,o){var u=Au(t.element,"."+o);if(u.length>0){var f=_n(u,function(v){var p=v.dom.getBoundingClientRect().top,C=u[0].dom.getBoundingClientRect().top;return Math.abs(p-C)>r}).getOr(u.length);return E.some({numColumns:f,numRows:Math.ceil(u.length/f)})}else return E.none()},AS=function(t,r){return $n([Vr(t,r)])},JA=function(t){return AS(Zn("unnamed-events"),t)},h0={namedEvents:AS,unnamedEvents:JA},QA=Zn("tooltip.exclusive"),fh=Zn("tooltip.show"),vh=Zn("tooltip.hide"),e3=function(t,r,o){t.getSystem().broadcastOn([QA],{})},b0=function(t,r,o,u){o.getTooltip().each(function(f){f.getSystem().isConnected()&&Ir.set(f,u)})},yI=Object.freeze({__proto__:null,hideAllExclusive:e3,setComponents:b0}),wI=function(t,r){var o=function(f){r.getTooltip().each(function(v){Fc(v),t.onHide(f,v),r.clearTooltip()}),r.clearTimer()},u=function(f){if(!r.isShowing()){e3(f);var v=t.lazySink(f).getOrDie(),p=f.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Va(t.mode==="normal"?[nn(Kf(),function(C){Ca(f,fh)}),nn($w(),function(C){Ca(f,vh)})]:[]),behaviours:$n([Ir.config({})])});r.setTooltip(p),md(v,p),t.onShow(f,p),Mo.position(v,p,{anchor:t.anchor(f)})}};return Va(Re([[nn(fh,function(f){r.resetTimer(function(){u(f)},t.delay)}),nn(vh,function(f){r.resetTimer(function(){o(f)},t.delay)}),nn(Kl(),function(f,v){var p=v;p.universal||Xe(p.channels,QA)&&o(f)}),Gl(function(f){o(f)})],t.mode==="normal"?[nn(Gf(),function(f){Ca(f,fh)}),nn(Pw(),function(f){Ca(f,vh)}),nn(Kf(),function(f){Ca(f,fh)}),nn($w(),function(f){Ca(f,vh)})]:[nn(Nw(),function(f,v){Ca(f,fh)}),nn(_b(),function(f){Ca(f,vh)})]]))},$S=Object.freeze({__proto__:null,events:wI}),t3=[tn("lazySink"),tn("tooltipDom"),nt("exclusive",!0),nt("tooltipComponents",[]),nt("delay",300),Wl("mode","normal",["normal","follow-highlight"]),nt("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:R([Jo,ju,qi,Wu,Ki,Ou]),onRtl:R([Jo,ju,qi,Wu,Ki,Ou])}}}),xa("onHide"),xa("onShow")],CI=function(){var t=Po(),r=Po(),o=function(){t.on(clearTimeout)},u=function(v,p){o(),t.set(setTimeout(v,p))},f=R("not-implemented");return al({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:u,readState:f})},n3=Object.freeze({__proto__:null,init:CI}),DS=bi({fields:t3,name:"tooltipping",active:$S,state:n3,apis:yI}),r3=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Eg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),SI=tinymce.util.Tools.resolve("tinymce.EditorManager"),xI=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var u=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=SI.baseURL+"/skins/ui/"+u}return o},kI=function(t){return t.getParam("readonly",!1,"boolean")},TI=function(t){return t.getParam("skin")===!1},y0=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},w0=function(t){return t.getParam("width",Eg.DOM.getStyle(t.getElement(),"width"))},_S=function(t){return E.from(t.getParam("min_width")).filter(L)},a3=function(t){return E.from(t.getParam("min_height")).filter(L)},C0=function(t){return E.from(t.getParam("max_width")).filter(L)},o3=function(t){return E.from(t.getParam("max_height")).filter(L)},EI=function(t){return E.from(t.getParam("style_formats")).filter(x)},OI=function(t){return t.getParam("style_formats_merge",!1,"boolean")},i3=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},u3=function(t){return t.getParam("content_langs",void 0,"array")},l3=function(t){return t.getParam("removed_menuitems","")},PS=function(t){return t.getParam("menubar",!0,"boolean")!==!1},MS=function(t){var r=t.getParam("toolbar",!0),o=r===!0,u=y(r),f=x(r)&&r.length>0;return!S0(t)&&(f||u||o)},s3=function(t){var r=re(9,function(u){return t.getParam("toolbar"+(u+1),!1,"string")}),o=Be(r,function(u){return typeof u=="string"});return o.length>0?E.some(o):E.none()},S0=function(t){return s3(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ce)},Ml;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ml||(Ml={}));var dh=function(t){return t.getParam("toolbar_mode","","string")},Od;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Od||(Od={}));var AI=function(t){return t.getParam("toolbar_groups",{},"object")},c3=function(t){return t.getParam("toolbar_location",Od.auto,"string")},f3=function(t){return c3(t)===Od.bottom},$I=function(t){return t.getParam("fixed_toolbar_container","","string")},v3=function(t){return t.getParam("fixed_toolbar_container_target")},DI=function(t){return t.getParam("toolbar_persist",!1,"boolean")},d3=function(t){if(!t.inline)return E.none();var r=$I(t);if(r.length>0)return ii(Ba(),r);var o=v3(t);return D(o)?E.some(Te.fromDom(o)):E.none()},x0=function(t){return t.inline&&d3(t).isSome()},m3=function(t){var r=d3(t);return r.getOrThunk(function(){return Fn(Er(Te.fromDom(t.getElement())))})},g3=function(t){return t.inline&&!PS(t)&&!MS(t)&&!S0(t)},k0=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!x0(t)&&!g3(t)},T0=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},p3=function(t){return t.getParam("draggable_modal",!1,"boolean")},_I=function(t){var r=t.getParam("menu");return r?Xt(r,function(o){return z(z({},o),{items:o.items})}):{}},PI=function(t){return t.getParam("menubar")},MI=function(t){return t.getParam("toolbar",!0)},RI=function(t){return t.getParam("file_picker_callback")},BI=function(t){return t.getParam("file_picker_types")},RS=function(t){return t.getParam("file_browser_callback_types")},h3=function(t){return t.getParam("typeahead_urls")===!1},b3=function(t){return t.getParam("anchor_top","#top")},FI=function(t){return t.getParam("anchor_bottom","#bottom")},y3=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},BS="silver.readonly",II=vr([NP("readonly")]),Og=function(t,r){var o=t.outerContainer,u=o.element;r&&(t.mothership.broadcastOn([pd()],{target:u}),t.uiMothership.broadcastOn([pd()],{target:u})),t.mothership.broadcastOn([BS],{readonly:r}),t.uiMothership.broadcastOn([BS],{readonly:r})},w3=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Og(r,!0)}),t.on("SwitchMode",function(){return Og(r,t.mode.isReadOnly())}),kI(t)&&t.setMode("readonly")},Qo=function(){var t;return qu.config({channels:(t={},t[BS]={schema:II,onReceive:function(r,o){mr.set(r,o.readonly)}},t)})},NI=function(t){return mr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},LI=function(t){return mr.config({disabled:t})},zI=function(t){return mr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},HI=function(t){return mr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Cs={item:NI,button:LI,splitButton:zI,toolbarButton:HI},Ag=function(t,r){var o=t.getApi(r);return function(u){u(o)}},Ad=function(t,r){return qr(function(o){var u=Ag(t,o);u(function(f){var v=t.onSetup(f);F(v)&&r.set(v)})})},$d=function(t,r){return Gl(function(o){return Ag(t,o)(r.get())})},E0,VI=function(t,r){return Yl(function(o,u){Ag(t,o)(t.onAction),!t.triggersSubmenu&&r===Fi.CLOSE_ON_EXECUTE&&(Ca(o,xp()),u.stop())})},UI=(E0={},E0[Tl()]=["disabling","alloy.base.behaviour","toggling","item-events"],E0),Cf=_r,Tv=function(t,r,o,u){var f=Cr(_);return{type:"item",dom:r.dom,components:Cf(r.optComponents),data:t.data,eventOrder:UI,hasSubmenu:t.triggersSubmenu,itemBehaviours:$n([Vr("item-events",[VI(t,o),Ad(t,f),$d(t,f)]),Cs.item(function(){return t.disabled||u.isDisabled()}),Qo(),Ir.config({})].concat(t.itemBehaviours))}},Sf=function(t){return{value:t.value,meta:z({text:t.text.getOr("")},t.meta)}},O0=tinymce.util.Tools.resolve("tinymce.Env"),WI=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},u=O0.mac?r:o,f=t.split("+"),v=it(f,function(p){var C=p.toLowerCase().trim();return an(u,C)?u[C]:p});return O0.mac?v.join(""):v.join("+")},FS=function(t,r,o){return o===void 0&&(o=[hS]),lc(t,{tag:"div",classes:o},r)},C3=function(t){return{dom:{tag:"div",classes:[bS]},components:[ji(ws.translate(t))]}},S3=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},jI=function(t,r){return{dom:{tag:"div",classes:[bS]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ji(ws.translate(r))]}]}},qI=function(t){return{dom:{tag:"div",classes:[rI],innerHtml:WI(t)}}},x3=function(t){return FS("checkmark",t,[NA])},KI=function(t){return FS("chevron-right",t,[yS])},GI=function(t){return FS("chevron-down",t,[yS])},YI=function(t,r){var o=t.direction==="vertical"?wS:m0,u=t.align==="left"?zA:aI,f=function(){switch(t.valign){case"top":return HA;case"middle":return oI;case"bottom":return iI}};return{dom:{tag:"div",classes:[LA,o,u,f()]},components:r}},XI=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},ZI=function(t,r,o){var u="custom",f="remove",v=t.ariaLabel,p=t.value,C=t.iconContent.map(function(O){return EF(O,r.icons,o)}),S=function(){var O=pS,N=C.getOr(""),H=v.map(function(ie){return{title:r.translate(ie)}}).getOr({}),ne={tag:"div",attributes:H,classes:[O]};return p===u?z(z({},ne),{tag:"button",classes:he(he([],ne.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:N}):p===f?z(z({},ne),{classes:he(he([],ne.classes,!0),["tox-swatch--remove"],!1),innerHtml:N}):z(z({},ne),{attributes:z(z({},ne.attributes),{"data-mce-color":p}),styles:{"background-color":p}})};return{dom:S(),optComponents:[]}},k3=function(t){var r=t.map(function(o){return{attributes:{title:ws.translate(o)}}}).getOr({});return z({tag:"div",classes:[lh,gS]},r)},T3=function(t,r,o,u){var f={tag:"div",classes:[hS]},v=function(ne){return lc(ne,f,r.icons,u)},p=function(){return E.some({dom:f})},C=o?t.iconContent.map(v).orThunk(p):E.none(),S=t.checkMark,O=E.from(t.meta).fold(function(){return C3},function(ne){return an(ne,"style")?me(jI,ne.style):C3}),N=t.htmlContent.fold(function(){return t.textContent.map(O)},function(ne){return E.some(S3(ne,[bS]))}),H={dom:k3(t.ariaLabel),optComponents:[C,N,t.shortcutContent.map(qI),S,t.caret]};return H},mh=function(t,r,o,u){return u===void 0&&(u=E.none()),t.presets==="color"?ZI(t,r,u):T3(t,r,o,u)},E3=function(t,r){return _t(t,"tooltipWorker").map(function(o){return[DS.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(u){return{type:"submenu",item:u,overrides:{maxHeightFunction:Rp}}},mode:"follow-highlight",onShow:function(u,f){o(function(v){DS.setComponents(u,[eC({element:Te.fromDom(v)})])})}})]}).getOr([])},xf=function(t){return Eg.DOM.encode(t)},O3=function(t,r){var o=ws.translate(t),u=xf(o);if(r.length>0){var f=new RegExp(r3(r),"gi");return u.replace(f,function(v){return'<span class="tox-autocompleter-highlight">'+v+"</span>"})}else return u},JI=function(t,r,o,u,f,v,p,C){C===void 0&&(C=!0);var S=mh({presets:u,textContent:E.none(),htmlContent:o?t.text.map(function(O){return O3(O,r)}):E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:t.value},p.providers,C,t.icon);return Tv({data:Sf(t),disabled:t.disabled,getApi:R({}),onAction:function(O){return f(t.value,t.meta)},onSetup:R(_),triggersSubmenu:!1,itemBehaviours:E3(t.meta,p)},S,v,p.providers)},A0=function(t,r){return it(t,function(o){switch(o.type){case"cardcontainer":return YI(o,A0(o.items,r));case"cardimage":return XI(o.src,o.classes,o.alt);case"cardtext":var u=o.name.exists(function(v){return Xe(r.cardText.highlightOn,v)}),f=u?E.from(r.cardText.matchText).getOr(""):"";return S3(O3(o.text,f),o.classes)}})},yi=function(t,r,o,u){var f=function(p){return{isDisabled:function(){return mr.isDisabled(p)},setDisabled:function(C){mr.set(p,C),Oe(Au(p.element,"*"),function(S){p.getSystem().getByDom(S).each(function(O){O.hasConfigured(mr)&&mr.set(O,C)})})}}},v={dom:k3(t.label),optComponents:[E.some({dom:{tag:"div",classes:[LA,m0]},components:A0(t.items,u)})]};return Tv({data:Sf(z({text:E.none()},t)),disabled:t.disabled,getApi:f,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(u.itemBehaviours).getOr([])},v,r,o.providers)},QI=function(t,r,o,u,f,v,p,C){C===void 0&&(C=!0);var S=function(N){return{setActive:function(H){fa.set(N,H)},isActive:function(){return fa.isOn(N)},isDisabled:function(){return mr.isDisabled(N)},setDisabled:function(H){return mr.set(N,H)}}},O=mh({presets:o,textContent:r?t.text:E.none(),htmlContent:E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:E.none(),checkMark:r?E.some(x3(p.icons)):E.none(),caret:E.none(),value:t.value},p,C);return zt(Tv({data:Sf(t),disabled:t.disabled,getApi:S,onAction:function(N){return u(t.value)},onSetup:function(N){return N.setActive(f),_},triggersSubmenu:!1,itemBehaviours:[]},O,v,p),{toggling:{toggleClass:IA,toggleOnExecute:!1,selected:t.active}})},A3=qp(e0(),t0()),$3=function(t){return{value:t}},D3=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,_3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,P3=function(t){return D3.test(t)||_3.test(t)},eN=function(t){return va(t,"#").toUpperCase()},tN=function(t){return P3(t)?E.some({value:eN(t)}):E.none()},nN=function(t){var r=t.value.replace(D3,function(o,u,f,v){return u+u+f+f+v+v});return{value:r}},rN=function(t){var r=nN(t),o=_3.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},IS=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},gh=function(t){var r=IS(t.red)+IS(t.green)+IS(t.blue);return $3(r)},M3=Math.min,R3=Math.max,$0=Math.round,aN=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,oN=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Ev=function(t,r,o,u){return{red:t,green:r,blue:o,alpha:u}},NS=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},B3=function(t){var r,o,u,f=(t.hue||0)%360,v=t.saturation/100,p=t.value/100;if(v=R3(0,M3(v,1)),p=R3(0,M3(p,1)),v===0)return r=o=u=$0(255*p),Ev(r,o,u,1);var C=f/60,S=p*v,O=S*(1-Math.abs(C%2-1)),N=p-S;switch(Math.floor(C)){case 0:r=S,o=O,u=0;break;case 1:r=O,o=S,u=0;break;case 2:r=0,o=S,u=O;break;case 3:r=0,o=O,u=S;break;case 4:r=O,o=0,u=S;break;case 5:r=S,o=0,u=O;break;default:r=o=u=0}return r=$0(255*(r+N)),o=$0(255*(o+N)),u=$0(255*(u+N)),Ev(r,o,u,1)},ph=function(t){var r=rN(t),o=parseInt(r[1],16),u=parseInt(r[2],16),f=parseInt(r[3],16);return Ev(o,u,f,1)},F3=function(t,r,o,u){var f=parseInt(t,10),v=parseInt(r,10),p=parseInt(o,10),C=parseFloat(u);return Ev(f,v,p,C)},I3=function(t){if(t==="transparent")return E.some(Ev(0,0,0,0));var r=aN.exec(t);if(r!==null)return E.some(F3(r[1],r[2],r[3],"1"));var o=oN.exec(t);return o!==null?E.some(F3(o[1],o[2],o[3],o[4])):E.none()},N3=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},L3=Ev(255,0,0,1),iN=function(t){return t.fire("SkinLoaded")},z3=function(t,r){return t.fire("SkinLoadError",r)},uN=function(t){return t.fire("ResizeEditor")},LS=function(t,r){return t.fire("ResizeContent",r)},lN=function(t,r){return t.fire("ScrollContent",r)},H3=function(t,r){return t.fire("TextColorChange",r)},hh=function(t,r,o){return{hue:t,saturation:r,value:o}},zS=function(t){var r=0,o=0,u=0,f=t.red/255,v=t.green/255,p=t.blue/255,C=Math.min(f,Math.min(v,p)),S=Math.max(f,Math.max(v,p));if(C===S)return u=C,hh(0,0,u*100);var O=f===C?v-p:p===C?f-v:p-f;return r=f===C?3:p===C?1:5,r=60*(r-O/(S-C)),o=(S-C)/S,u=S,hh(Math.round(r),Math.round(o*100),Math.round(u*100))},sN=function(t){return zS(ph(t))},V3=function(t){return gh(B3(t))},U3=function(t){return tN(t).orThunk(function(){return I3(t).map(gh)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var u=o.getImageData(0,0,1,1).data,f=u[0],v=u[1],p=u[2],C=u[3];return gh(Ev(f,v,p,C))})},D0=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),HS="tinymce-custom-colors";function W3(t){t===void 0&&(t=10);var r=D0.getItem(HS),o=y(r)?JSON.parse(r):[],u=function(S){var O=t-S.length;return O<0?S.slice(0,t):S},f=u(o),v=function(S){ft(f,S).each(p),f.unshift(S),f.length>t&&f.pop(),D0.setItem(HS,JSON.stringify(f))},p=function(S){f.splice(S,1)},C=function(){return f.slice(0)};return{add:v,state:C}}var si="choiceitem",j3=[{type:si,text:"Light Green",value:"#BFEDD2"},{type:si,text:"Light Yellow",value:"#FBEEB8"},{type:si,text:"Light Red",value:"#F8CAC6"},{type:si,text:"Light Purple",value:"#ECCAFA"},{type:si,text:"Light Blue",value:"#C2E0F4"},{type:si,text:"Green",value:"#2DC26B"},{type:si,text:"Yellow",value:"#F1C40F"},{type:si,text:"Red",value:"#E03E2D"},{type:si,text:"Purple",value:"#B96AD9"},{type:si,text:"Blue",value:"#3598DB"},{type:si,text:"Dark Turquoise",value:"#169179"},{type:si,text:"Orange",value:"#E67E23"},{type:si,text:"Dark Red",value:"#BA372A"},{type:si,text:"Dark Purple",value:"#843FA1"},{type:si,text:"Dark Blue",value:"#236FA1"},{type:si,text:"Light Gray",value:"#ECF0F1"},{type:si,text:"Medium Gray",value:"#CED4D9"},{type:si,text:"Gray",value:"#95A5A6"},{type:si,text:"Dark Gray",value:"#7E8C8D"},{type:si,text:"Navy Blue",value:"#34495E"},{type:si,text:"Black",value:"#000000"},{type:si,text:"White",value:"#ffffff"}],q3=W3(10),cN=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+U3(t[o]).value,type:"choiceitem"});return r},fN=function(t,r){return t.getParam("color_cols",r,"number")},K3=function(t){return t.getParam("custom_colors")!==!1},vN=function(t){return t.getParam("color_map")},VS=function(t){var r=vN(t);return r!==void 0?cN(r):j3},US=function(){return it(q3.state(),function(t){return{type:si,text:t,value:t}})},WS=function(t){q3.add(t)},jS="#000000",G3=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(u){var f;(f=u.style[r==="forecolor"?"color":"background-color"])&&(o=o||f)}),E.from(o)},dN=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},mN=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},qS=function(t){t.addCommand("mceApplyTextcolor",function(r,o){dN(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){mN(t,r)})},gN=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},Y3=function(t){var r=VS(t),o=gN(r.length);return fN(t,o)},X3=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},u={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,u]:[o]},bh=function(t,r,o,u){if(o==="custom"){var f=e$(t);f(function(v){v.each(function(p){WS(p),t.execCommand("mceApplyTextcolor",r,p),u(p)})},jS)}else o==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",r)):(u(o),t.execCommand("mceApplyTextcolor",r,o))},Z3=function(t,r){return t.concat(US().concat(X3(r)))},KS=function(t,r){return function(o){o(Z3(t,r))}},J3=function(t,r,o){var u=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,o)},$g=function(t,r,o,u,f){t.ui.registry.addSplitButton(r,{tooltip:u,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(v){var p=G3(t,o);return p.bind(function(C){return I3(C).map(function(S){var O=gh(S).value;return Nr(v.toLowerCase(),O)})}).getOr(!1)},columns:Y3(t),fetch:KS(VS(t),K3(t)),onAction:function(v){bh(t,o,f.get(),_)},onItemAction:function(v,p){bh(t,o,p,function(C){f.set(C),H3(t,{name:r,color:C})})},onSetup:function(v){J3(v,r,f.get());var p=function(C){C.name===r&&J3(v,C.name,C.color)};return t.on("TextColorChange",p),function(){t.off("TextColorChange",p)}}})},Q3=function(t,r,o,u){t.ui.registry.addNestedMenuItem(r,{text:u,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(f){bh(t,o,f.value,_)}}]}})},e$=function(t){return function(r,o){var u=!1,f=function(C){var S=C.getData(),O=S.colorpicker;u?(r(E.from(O)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",O]))},v=function(C,S){S.name==="hex-valid"&&(u=S.value)},p={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:v,onSubmit:f,onClose:_,onCancel:function(){r(E.none())}})}},pN=function(t){qS(t);var r=Cr(jS),o=Cr(jS);$g(t,"forecolor","forecolor","Text color",r),$g(t,"backcolor","hilitecolor","Background color",o),Q3(t,"forecolor","forecolor","Text color"),Q3(t,"backcolor","hilitecolor","Background color")},GS=function(t,r,o,u,f,v,p,C){var S=ch(r),O=f!=="color"?"normal":"color",N=hN(r,o,u,O,v,p,C);return xS(t,S,N,u,f)},hN=function(t,r,o,u,f,v,p){return _r(it(t,function(C){return C.type==="choiceitem"?YA(C).fold(Wc,function(S){return E.some(QI(S,o===1,u,r,v(C.value),f,p,ch(t)))}):E.none()}))},_0=function(t,r){var o=Sg(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var u=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+u}},t$=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+pS:"."+gS}}},n$=function(t,r){var o=r$(t,r),u=r.colorinput.getColorCols(),f="color",v=GS(Zn("menu-value"),o,function(C){t.onAction({value:C})},u,f,Fi.CLOSE_ON_EXECUTE,se,r.shared.providers),p=z(z({},v),{markers:Sg(f),movement:_0(u,f)});return{type:"widget",data:{value:Zn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[A3.widget(Cv.sketch(p))]}},r$=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return Z3(r.colorinput.getColors(),o)},function(u){return u.concat(X3(o))})},a$=Zn("cell-over"),P0=Zn("cell-execute"),bN=function(t,r,o){var u,f=function(C){return hr(C,a$,{row:t,col:r})},v=function(C){return hr(C,P0,{row:t,col:r})},p=function(C,S){S.stop(),v(C)};return qo({dom:{tag:"div",attributes:(u={role:"button"},u["aria-labelledby"]=o,u)},behaviours:$n([Vr("insert-table-picker-cell",[nn(Kf(),Dr.focus),nn(Tl(),v),nn(wp(),p),nn(Mm(),p)]),fa.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Dr.config({onFocus:f})])})},yN=function(t,r,o){for(var u=[],f=0;f<r;f++){for(var v=[],p=0;p<o;p++)v.push(bN(f,p,t));u.push(v)}return u},wN=function(t,r,o,u,f){for(var v=0;v<u;v++)for(var p=0;p<f;p++)fa.set(t[v][p],v<=r&&p<=o)},CN=function(t){return Tt(t,function(r){return it(r,$l)})},o$=function(t,r){return ji(r+"x"+t)},SN=function(t){var r=10,o=10,u=Zn("size-label"),f=yN(u,r,o),v=o$(0,0),p=ka({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[v],behaviours:$n([Ir.config({})])});return{type:"widget",data:{value:Zn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[A3.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CN(f).concat(p.asSpec()),behaviours:$n([Vr("insert-table-picker",[qr(function(C){Ir.set(p.get(C),[v])}),Yf(a$,function(C,S,O){var N=O.event,H=N.row,ne=N.col;wN(f,H,ne,r,o),Ir.set(p.get(C),[o$(H+1,ne+1)])}),Yf(P0,function(C,S,O){var N=O.event,H=N.row,ne=N.col;t.onAction({numRows:H+1,numColumns:ne+1}),Ca(C,xp())})]),Sr.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},xN={inserttable:SN,colorswatch:n$},kN=function(t,r){return _t(xN,t.fancytype).map(function(o){return o(t,r)})},TN=function(t,r,o,u,f){u===void 0&&(u=!0),f===void 0&&(f=!1);var v=f?GI(o.icons):KI(o.icons),p=function(S){return{isDisabled:function(){return mr.isDisabled(S)},setDisabled:function(O){return mr.set(S,O)}}},C=mh({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.some(v),checkMark:E.none(),shortcutContent:t.shortcut},o,u);return Tv({data:Sf(t),getApi:p,disabled:t.disabled,onAction:_,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,r,o)},EN=function(t,r,o,u){u===void 0&&(u=!0);var f=function(p){return{isDisabled:function(){return mr.isDisabled(p)},setDisabled:function(C){return mr.set(p,C)}}},v=mh({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.none(),checkMark:E.none(),shortcutContent:t.shortcut},o,u);return Tv({data:Sf(t),getApi:f,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,o)},ON=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:z({tag:"div",classes:[gS,Cg]},r),components:[]}},AN=function(t,r,o,u){u===void 0&&(u=!0);var f=function(p){return{setActive:function(C){fa.set(p,C)},isActive:function(){return fa.isOn(p)},isDisabled:function(){return mr.isDisabled(p)},setDisabled:function(C){return mr.set(p,C)}}},v=mh({iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,checkMark:E.some(x3(o.icons)),caret:E.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,u);return zt(Tv({data:Sf(t),disabled:t.disabled,getApi:f,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},v,r,o),{toggling:{toggleClass:IA,toggleOnExecute:!1,selected:t.active}})},i$=JI,u$=ON,$N=EN,YS=TN,M0=AN,DN=kN,R0=yi,yh;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(yh||(yh={}));var _N=function(t,r,o,u,f){var v=o.shared.providers,p=function(C){return f?z(z({},C),{shortcut:E.none(),icon:C.text.isSome()?E.none():C.icon}):C};switch(t.type){case"menuitem":return pI(t).fold(Wc,function(C){return E.some($N(p(C),r,v,u))});case"nestedmenuitem":return Tg(t).fold(Wc,function(C){return E.some(YS(p(C),r,v,u,f))});case"togglemenuitem":return bI(t).fold(Wc,function(C){return E.some(M0(p(C),r,v,u))});case"separator":return WF(t).fold(Wc,function(C){return E.some(u$(C))});case"fancymenuitem":return gI(t).fold(Wc,function(C){return DN(p(C),o)});default:return E.none()}},PN=function(t,r,o,u,f,v,p){var C=u===1,S=!C||ch(t);return _r(it(t,function(O){switch(O.type){case"separator":return KF(O).fold(Wc,function(N){return E.some(u$(N))});case"cardmenuitem":return dI(O).fold(Wc,function(N){return E.some(R0(z(z({},N),{onAction:function(H){N.onAction(H),o(N.value,N.meta)}}),f,v,{itemBehaviours:E3(N.meta,v),cardText:{matchText:r,highlightOn:p}}))});case"autocompleteitem":default:return GF(O).fold(Wc,function(N){return E.some(i$(N,r,C,"normal",o,f,v,S))})}}))},l$=function(t,r,o,u,f){var v=ch(r),p=_r(it(r,function(S){var O=function(H){return f?!an(H,"text"):v},N=function(H){return _N(H,o,u,O(H),f)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?N(z(z({},S),{disabled:!0})):N(S)})),C=f?jA:xS;return C(t,v,p,1,"normal")},s$=function(t){return kd.singleData(t.value,t)},MN=function(t,r,o,u){var f=o===yh.ContentFocus?bO():Jp(),v=_0(r,u),p=Sg(u);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:p.selectedItem,item:p.item},movement:v,fakeFocus:o===yh.ContentFocus,focusManager:f,menuBehaviours:h0.unnamedEvents(r!=="auto"?[]:[qr(function(C,S){OS(C,4,p.item).each(function(O){var N=O.numColumns,H=O.numRows;Sr.setGridSize(C,H,N)})})])}},c$=function(t,r){var o=Po(),u=Cr(!1),f=qo(So.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:$n([Vr("dismissAutocompleter",[nn(qs(),function(){return S()})])]),lazySink:r.getSink})),v=function(){return So.isOpen(f)},p=function(){return o.get().isSome()},C=function(){p()&&So.hide(f)},S=function(){if(p()){var Se=o.get().map(function(et){return et.element});c0(Se.getOr(Te.fromDom(t.selection.getNode()))).each(sp),C(),o.clear(),u.set(!1)}},O=pt(function(){return mS(t)}),N=function(Se,et){var Rt=rt(et,function(Mt){return E.from(Mt.columns)}).getOr(1);return Tt(et,function(Mt){var Qe=Mt.items;return PN(Qe,Mt.matchText,function(kt,qt){var Pn=t.selection.getRng();lS(t.dom,Pn,Se).fold(function(){},function(Qt){var Mn=Qt.range,rn={hide:function(){S()},reload:function(jt){C(),ge(jt)}};u.set(!0),Mt.onAction(rn,Mn,kt,qt),u.set(!1)})},Rt,Fi.BUBBLE_TO_SANDBOX,r,Mt.highlightOn)})},H=function(Se){if(!p()){var et=RF(t,Se.range);o.set({triggerChar:Se.triggerChar,element:et,matchLength:Se.text.length}),u.set(!1)}},ne=function(Se,et,Rt,Mt){Se.matchLength=et.text.length;var Qe=rt(Rt,function(kt){return E.from(kt.columns)}).getOr(1);So.showAt(f,Cv.sketch(MN(xS("autocompleter-value",!0,Mt,Qe,"normal"),Qe,yh.ContentFocus,"normal")),{anchor:{type:"node",root:Te.fromDom(t.getBody()),node:E.from(Se.element)}}),So.getContent(f).each(Da.highlightFirst)},ie=function(Se){return o.get().map(function(et){return lS(t.dom,t.selection.getRng(),et.triggerChar).bind(function(Rt){return _A(t,O,Rt,Se)})}).getOrThunk(function(){return UF(t,O)})},ge=function(Se){ie(Se).fold(S,function(et){H(et.context),et.lookupData.then(function(Rt){o.get().map(function(Mt){var Qe=et.context;if(Mt.triggerChar===Qe.triggerChar){var kt=N(Qe.triggerChar,Rt);kt.length>0?ne(Mt,Qe,Rt,kt):Qe.text.length-Mt.matchLength>=10?S():C()}})})})},$e=oS(function(Se){Se.which!==27&&ge()},50),Ze={onKeypress:$e,cancelIfNecessary:S,isMenuOpen:v,isActive:p,isProcessingAction:u.get,getView:function(){return So.getContent(f)}};t.hasPlugin("rtc")===!1&&$A.setup(Ze,t)},RN={register:c$},wh=function(t,r,o){return Xs(t,r,o).isSome()},f$=function(t,r){var o=null,u=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];o=setTimeout(function(){t.apply(null,v),o=null},r)},f=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:f,schedule:u}},v$=5,BN=400,d$=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])},FN=function(t,r){var o=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return o>v$||u>v$},XS=function(t){var r=Po(),o=Cr(!1),u=f$(function(O){t.triggerEvent(Rw(),O),o.set(!0)},BN),f=function(O){return d$(O).each(function(N){u.cancel();var H={x:N.clientX,y:N.clientY,target:O.target};u.schedule(O),o.set(!1),r.set(H)}),E.none()},v=function(O){return u.cancel(),d$(O).each(function(N){r.on(function(H){FN(N,H)&&r.clear()})}),E.none()},p=function(O){u.cancel();var N=function(H){return fo(H.target,O.target)};return r.get().filter(N).map(function(H){return o.get()?(O.prevent(),!1):t.triggerEvent(Mm(),O)})},C=ed([{key:pf(),value:f},{key:Ws(),value:v},{key:yp(),value:p}]),S=function(O,N){return _t(C,N).bind(function(H){return H(O)})};return{fireIfReady:S}},IN=function(t){var r=t.raw;return r.which===cB[0]&&!Xe(["input","textarea"],Pe(t.target))&&!wh(t.target,'[contenteditable="true"]')},ZS=function(){return dr().browser.isFirefox()},NN=function(t,r){return ZS()?a1(t,"focus",r):Ko(t,"focusin",r)},LN=function(t,r){return ZS()?a1(t,"blur",r):Ko(t,"focusout",r)},m$=function(t,r){var o=z({stopBackspace:!0},r),u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],f=XS(o),v=it(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(ie){return Ko(t,ie,function(ge){f.fireIfReady(ge,ie).each(function(Ze){Ze&&ge.kill()});var $e=o.triggerEvent(ie,ge);$e&&ge.kill()})}),p=Po(),C=Ko(t,"paste",function(ie){f.fireIfReady(ie,"paste").each(function($e){$e&&ie.kill()});var ge=o.triggerEvent("paste",ie);ge&&ie.kill(),p.set(setTimeout(function(){o.triggerEvent(Mw(),ie)},0))}),S=Ko(t,"keydown",function(ie){var ge=o.triggerEvent("keydown",ie);ge?ie.kill():o.stopBackspace&&IN(ie)&&ie.prevent()}),O=NN(t,function(ie){var ge=o.triggerEvent("focusin",ie);ge&&ie.kill()}),N=Po(),H=LN(t,function(ie){var ge=o.triggerEvent("focusout",ie);ge&&ie.kill(),N.set(setTimeout(function(){o.triggerEvent(Pw(),ie)},0))}),ne=function(){Oe(v,function(ie){ie.unbind()}),S.unbind(),O.unbind(),H.unbind(),C.unbind(),p.on(clearTimeout),N.on(clearTimeout)};return{unbind:ne}},Dg=function(t,r){var o=_t(t,"target").getOr(r);return Cr(o)},zN=function(t,r){var o=Cr(!1),u=Cr(!1),f=function(){o.set(!0)},v=function(){u.set(!0)};return{stop:f,cut:v,isStopped:o.get,isCut:u.get,event:t,setSource:r.set,getSource:r.get}},HN=function(t){var r=Cr(!1),o=function(){r.set(!0)};return{stop:o,cut:_,isStopped:r.get,isCut:se,event:t,setSource:fe("Cannot set source of a broadcasted event"),getSource:fe("Cannot get source of a broadcasted event")}},Ch=ql.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),Sh=function(t,r,o,u,f,v){var p=t(r,u),C=zN(o,f);return p.fold(function(){return v.logEventNoHandlers(r,u),Ch.complete()},function(S){var O=S.descHandler,N=jw(O);return N(C),C.isStopped()?(v.logEventStopped(r,S.element,O.purpose),Ch.stopped()):C.isCut()?(v.logEventCut(r,S.element,O.purpose),Ch.complete()):ni(S.element).fold(function(){return v.logNoParent(r,S.element,O.purpose),Ch.complete()},function(H){return v.logEventResponse(r,S.element,O.purpose),Ch.resume(H)})})},g$=function(t,r,o,u,f,v){return Sh(t,r,o,u,f,v).fold(Ce,function(p){return g$(t,r,o,p,f,v)},se)},VN=function(t,r,o,u,f){var v=Dg(o,u);return Sh(t,r,o,u,v,f)},p$=function(t,r,o){var u=HN(r);return Oe(t,function(f){var v=f.descHandler,p=jw(v);p(u)}),u.isStopped()},UN=function(t,r,o,u){return h$(t,r,o,o.target,u)},h$=function(t,r,o,u,f){var v=Dg(o,u);return g$(t,r,o,u,v,f)},WN=function(t,r){return{element:t,descHandler:r}},jN=function(t,r){return{id:t,descHandler:r}},qN=function(){var t={},r=function(p,C,S){dn(S,function(O,N){var H=t[N]!==void 0?t[N]:{};H[C]=Ww(O,p),t[N]=H})},o=function(p,C){return Lm(C).bind(function(S){return _t(p,S)}).map(function(S){return WN(C,S)})},u=function(p){return _t(t,p).map(function(C){return jn(C,function(S,O){return jN(O,S)})}).getOr([])},f=function(p,C,S){return _t(t,C).bind(function(O){return Ow(S,function(N){return o(O,N)},p)})},v=function(p){dn(t,function(C,S){an(C,p)&&delete C[p]})};return{registerId:r,unregisterId:v,filterByType:u,find:f}},KN=function(){var t=qN(),r={},o=function(O){var N=O.element;return Lm(N).getOrThunk(function(){return CT("uid-",O.element)})},u=function(O,N){var H=r[N];if(H===O)v(O);else throw new Error('The tagId "'+N+'" is already used by: '+Qf(H.element)+`
Cannot use it for: `+Qf(O.element)+`
The conflicting element is`+(Br(H.element)?" ":" not ")+"already in the DOM")},f=function(O){var N=o(O);Un(r,N)&&u(O,N);var H=[O];t.registerId(H,N,O.events),r[N]=O},v=function(O){Lm(O.element).each(function(N){delete r[N],t.unregisterId(N)})},p=function(O){return t.filterByType(O)},C=function(O,N,H){return t.find(O,N,H)},S=function(O){return _t(r,O)};return{find:C,filter:p,register:f,unregister:v,getById:S}},GN=function(t){var r=t.dom,o=r.attributes,u=G(r,["attributes"]);return{uid:t.uid,dom:z({tag:"div",attributes:z({role:"presentation"},o)},u),components:t.components,behaviours:S1(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},Xi=Pl({name:"Container",factory:GN,configFields:[nt("components",[]),li("containerBehaviours",[]),nt("events",{}),nt("domModification",{}),nt("eventOrder",{})]}),b$=function(t){var r=function(Se){return ni(t.element).fold(Ce,function(et){return fo(Se,et)})},o=KN(),u=function(Se,et){return o.find(r,Se,et)},f=m$(t.element,{triggerEvent:function(Se,et){return aC(Se,et.target,function(Rt){return UN(u,Se,et,Rt)})}}),v={debugInfo:R("real"),triggerEvent:function(Se,et,Rt){aC(Se,et,function(Mt){return h$(u,Se,Rt,et,Mt)})},triggerFocus:function(Se,et){Lm(Se).fold(function(){Zs(Se)},function(Rt){aC(Pm(),Se,function(Mt){return VN(u,Pm(),{originator:et,kill:_,prevent:_,target:Se},Se,Mt),!1})})},triggerEscape:function(Se,et){v.triggerEvent("keydown",Se.element,et.event)},getByUid:function(Se){return $e(Se)},getByDom:function(Se){return Ze(Se)},build:qo,addToGui:function(Se){S(Se)},removeFromGui:function(Se){O(Se)},addToWorld:function(Se){p(Se)},removeFromWorld:function(Se){C(Se)},broadcast:function(Se){ne(Se)},broadcastOn:function(Se,et){ie(Se,et)},broadcastEvent:function(Se,et){ge(Se,et)},isConnected:Ce},p=function(Se){Se.connect(v),ve(Se.element)||(o.register(Se),Oe(Se.components(),p),v.triggerEvent(kp(),Se.element,{target:Se.element}))},C=function(Se){ve(Se.element)||(Oe(Se.components(),C),o.unregister(Se)),Se.disconnect()},S=function(Se){md(t,Se)},O=function(Se){Fc(Se)},N=function(){f.unbind(),yl(t.element)},H=function(Se){var et=o.filter(Kl());Oe(et,function(Rt){var Mt=Rt.descHandler,Qe=jw(Mt);Qe(Se)})},ne=function(Se){H({universal:!0,data:Se})},ie=function(Se,et){H({universal:!1,channels:Se,data:et})},ge=function(Se,et){var Rt=o.filter(Se);return p$(Rt,et)},$e=function(Se){return o.getById(Se).fold(function(){return Xr.error(new Error('Could not find component with uid: "'+Se+'" in system.'))},Xr.value)},Ze=function(Se){var et=Lm(Se).getOr("not found");return $e(et)};return p(t),{root:t,element:t.element,destroy:N,add:S,remove:O,getByUid:$e,getByDom:Ze,addToWorld:p,removeFromWorld:C,broadcast:ne,broadcastOn:ie,broadcastEvent:ge}},Dd=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:it(t.items,r.interpreter)}},YN=R([nt("prefix","form-field"),li("fieldBehaviours",[ia,Rn])]),XN=R([bs({schema:[tn("dom")],name:"label"}),bs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[tn("text")],name:"aria-descriptor"}),Yi({factory:{sketch:function(t){var r=Tw(t,["factory"]);return t.factory.sketch(r)}},schema:[tn("factory")],name:"field"})]),ZN=function(t,r,o,u){var f=Oi(t.fieldBehaviours,[ia.config({find:function(C){return Ua(C,t,"field")}}),Rn.config({store:{mode:"manual",getValue:function(C){return ia.getCurrent(C).bind(Rn.getValue)},setValue:function(C,S){ia.getCurrent(C).each(function(O){Rn.setValue(O,S)})}}})]),v=Va([qr(function(C,S){var O=rO(C,t,["label","field","aria-descriptor"]);O.field().each(function(N){var H=Zn(t.prefix);O.label().each(function(ne){Zr(ne.element,"for",H),Zr(N.element,"id",H)}),O["aria-descriptor"]().each(function(ne){var ie=Zn(t.prefix);Zr(ne.element,"id",ie),Zr(N.element,"aria-describedby",ie)})})})]),p={getField:function(C){return Ua(C,t,"field")},getLabel:function(C){return Ua(C,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:f,events:v,apis:p}},ha=Du({name:"FormField",configFields:YN(),partFields:XN(),factory:ZN,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),B0=function(t,r){return gs({attributes:ed([{key:r.tabAttr,value:"true"}])})},y$=Object.freeze({__proto__:null,exhibit:B0}),w$=[nt("tabAttr","data-alloy-tabstop")],Ro=bi({fields:w$,name:"tabstopping",active:y$}),JN=tinymce.util.Tools.resolve("tinymce.html.Entities"),xh=function(t,r,o,u){var f=e5(t,r,o,u);return ha.sketch(f)},QN=function(t,r){return xh(t,r,[],[])},e5=function(t,r,o,u){return{dom:C$(o),components:t.toArray().concat([r]),fieldBehaviours:$n(u)}},t5=function(){return C$([])},C$=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},kf=function(t,r){return ha.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Rl=Zn("form-component-change"),kh=Zn("form-close"),_d=Zn("form-cancel"),sc=Zn("form-action"),sl=Zn("form-submit"),jc=Zn("form-block"),JS=Zn("form-unblock"),QS=Zn("form-tabchange"),ex=Zn("form-resize"),F0=function(t,r){var o,u=t.label.map(function(H){return kf(H,r)}),f=function(H){return function(ne,ie){Xs(ie.event.target,"[data-collection-item-value]").each(function(ge){H(ne,ie,ge,po(ge,"data-collection-item-value"))})}},v=function(H,ne){var ie=it(ne,function(Ze){var Se=ws.translate(Ze.text),et=t.columns===1?'<div class="tox-collection__item-label">'+Se+"</div>":"",Rt='<div class="tox-collection__item-icon">'+Ze.icon+"</div>",Mt={_:" "," - ":" ","-":" "},Qe=Se.replace(/\_| \- |\-/g,function(qt){return Mt[qt]}),kt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+kt+'" tabindex="-1" data-collection-item-value="'+JN.encodeAllRaw(Ze.value)+'" title="'+Qe+'" aria-label="'+Qe+'">'+Rt+et+"</div>"}),ge=t.columns!=="auto"&&t.columns>1?Vt(ie,t.columns):[ie],$e=it(ge,function(Ze){return'<div class="tox-collection__group">'+Ze.join("")+"</div>"});Xf(H.element,$e.join(""))},p=f(function(H,ne,ie,ge){ne.stop(),r.isDisabled()||hr(H,sc,{name:t.name,value:ge})}),C=[nn(Kf(),f(function(H,ne,ie){Zs(ie)})),nn(wp(),p),nn(Mm(),p),nn(Gf(),f(function(H,ne,ie){ii(H.element,"."+Td).each(function(ge){Zo(ge,Td)}),oi(ie,Td)})),nn(_i(),f(function(H){ii(H.element,"."+Td).each(function(ne){Zo(ne,Td)})})),Yl(f(function(H,ne,ie,ge){hr(H,sc,{name:t.name,value:ge})}))],S=function(H,ne){return it(Au(H.element,".tox-collection__item"),ne)},O=ha.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Q},behaviours:$n([mr.config({disabled:r.isDisabled,onDisabled:function(H){S(H,function(ne){oi(ne,"tox-collection__item--state-disabled"),Zr(ne,"aria-disabled",!0)})},onEnabled:function(H){S(H,function(ne){Zo(ne,"tox-collection__item--state-disabled"),xi(ne,"aria-disabled")})}}),Qo(),Ir.config({}),Rn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(H,ne){v(H,ne),t.columns==="auto"&&OS(H,5,"tox-collection__item").each(function(ie){var ge=ie.numRows,$e=ie.numColumns;Sr.setGridSize(H,ge,$e)}),Ca(H,ex)}}),Ro.config({}),Sr.config(t$(t.columns,"normal")),Vr("collection-events",C)]),eventOrder:(o={},o[Tl()]=["disabling","alloy.base.behaviour","collection-events"],o)}),N=["tox-form__group--collection"];return xh(u,O,N,[])},S$=R([$a("data"),nt("inputAttributes",{}),nt("inputStyles",{}),nt("tag","input"),nt("inputClasses",[]),xa("onSetValue"),nt("styles",{}),nt("eventOrder",{}),li("inputBehaviours",[Rn,Dr]),nt("selectOnFocus",!0)]),I0=function(t){return $n([Dr.config({onFocus:t.selectOnFocus?function(r){var o=r.element,u=uv(o);o.dom.setSelectionRange(0,u.length)}:_})])},tx=function(t){return z(z({},I0(t)),Oi(t.inputBehaviours,[Rn.config({store:z(z({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return uv(r.element)},setValue:function(r,o){var u=uv(r.element);u!==o&&Hm(r.element,o)}}),onSetValue:t.onSetValue})]))},N0=function(t){return{tag:t.tag,attributes:z({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},n5=function(t,r){return{uid:t.uid,dom:N0(t),components:[],behaviours:tx(t),eventOrder:t.eventOrder}},Th=Pl({name:"Input",configFields:S$(),factory:n5}),x$={},Eh={exports:x$};(function(t,r,o,u){(function(f,v){typeof r=="object"&&typeof o<"u"?o.exports=v():typeof t=="function"&&t.amd?t(v):(f=typeof globalThis<"u"?globalThis:f||self,f.EphoxContactWrapper=v())})(this,function(){var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Nf<"u"?Nf:typeof self<"u"?self:{},v={exports:{}};(function(O){(function(N){var H=setTimeout;function ne(){}function ie(Qe,kt){return function(){Qe.apply(kt,arguments)}}function ge(Qe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Qe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mt(Qe,this)}function $e(Qe,kt){for(;Qe._state===3;)Qe=Qe._value;if(Qe._state===0){Qe._deferreds.push(kt);return}Qe._handled=!0,ge._immediateFn(function(){var qt=Qe._state===1?kt.onFulfilled:kt.onRejected;if(qt===null){(Qe._state===1?Ze:Se)(kt.promise,Qe._value);return}var Pn;try{Pn=qt(Qe._value)}catch(Qt){Se(kt.promise,Qt);return}Ze(kt.promise,Pn)})}function Ze(Qe,kt){try{if(kt===Qe)throw new TypeError("A promise cannot be resolved with itself.");if(kt&&(typeof kt=="object"||typeof kt=="function")){var qt=kt.then;if(kt instanceof ge){Qe._state=3,Qe._value=kt,et(Qe);return}else if(typeof qt=="function"){Mt(ie(qt,kt),Qe);return}}Qe._state=1,Qe._value=kt,et(Qe)}catch(Pn){Se(Qe,Pn)}}function Se(Qe,kt){Qe._state=2,Qe._value=kt,et(Qe)}function et(Qe){Qe._state===2&&Qe._deferreds.length===0&&ge._immediateFn(function(){Qe._handled||ge._unhandledRejectionFn(Qe._value)});for(var kt=0,qt=Qe._deferreds.length;kt<qt;kt++)$e(Qe,Qe._deferreds[kt]);Qe._deferreds=null}function Rt(Qe,kt,qt){this.onFulfilled=typeof Qe=="function"?Qe:null,this.onRejected=typeof kt=="function"?kt:null,this.promise=qt}function Mt(Qe,kt){var qt=!1;try{Qe(function(Pn){qt||(qt=!0,Ze(kt,Pn))},function(Pn){qt||(qt=!0,Se(kt,Pn))})}catch(Pn){if(qt)return;qt=!0,Se(kt,Pn)}}ge.prototype.catch=function(Qe){return this.then(null,Qe)},ge.prototype.then=function(Qe,kt){var qt=new this.constructor(ne);return $e(this,new Rt(Qe,kt,qt)),qt},ge.all=function(Qe){var kt=Array.prototype.slice.call(Qe);return new ge(function(qt,Pn){if(kt.length===0)return qt([]);var Qt=kt.length;function Mn(jt,Tn){try{if(Tn&&(typeof Tn=="object"||typeof Tn=="function")){var Xn=Tn.then;if(typeof Xn=="function"){Xn.call(Tn,function(Zt){Mn(jt,Zt)},Pn);return}}kt[jt]=Tn,--Qt===0&&qt(kt)}catch(Zt){Pn(Zt)}}for(var rn=0;rn<kt.length;rn++)Mn(rn,kt[rn])})},ge.resolve=function(Qe){return Qe&&typeof Qe=="object"&&Qe.constructor===ge?Qe:new ge(function(kt){kt(Qe)})},ge.reject=function(Qe){return new ge(function(kt,qt){qt(Qe)})},ge.race=function(Qe){return new ge(function(kt,qt){for(var Pn=0,Qt=Qe.length;Pn<Qt;Pn++)Qe[Pn].then(kt,qt)})},ge._immediateFn=typeof setImmediate=="function"?function(Qe){setImmediate(Qe)}:function(Qe){H(Qe,0)},ge._unhandledRejectionFn=function(kt){},ge._setImmediateFn=function(kt){ge._immediateFn=kt},ge._setUnhandledRejectionFn=function(kt){ge._unhandledRejectionFn=kt},O.exports?O.exports=ge:N.Promise||(N.Promise=ge)})(f)})(v);var p=v.exports,C=function(){return typeof window<"u"?window:Function("return this;")()}(),S={boltExport:C.Promise||p};return S})})(void 0,x$,Eh);var Tf=Eh.exports.boltExport,nx=function(t){var r=E.none(),o=[],u=function(O){return nx(function(N){f(function(H){N(O(H))})})},f=function(O){p()?S(O):o.push(O)},v=function(O){p()||(r=E.some(O),C(o),o=[])},p=function(){return r.isSome()},C=function(O){Oe(O,S)},S=function(O){r.each(function(N){setTimeout(function(){O(N)},0)})};return t(v),{get:f,map:u,isReady:p}},r5=function(t){return nx(function(r){r(t)})},k$={nu:nx,pure:r5},a5=function(t){setTimeout(function(){throw t},0)},Pd=function(t){var r=function(S){t().then(S,a5)},o=function(S){return Pd(function(){return t().then(S)})},u=function(S){return Pd(function(){return t().then(function(O){return S(O).toPromise()})})},f=function(S){return Pd(function(){return t().then(function(){return S.toPromise()})})},v=function(){return k$.nu(r)},p=function(){var S=null;return Pd(function(){return S===null&&(S=t()),S})},C=t;return{map:o,bind:u,anonBind:f,toLazy:v,toCached:p,toPromise:C,get:r}},o5=function(t){return Pd(function(){return new Tf(t)})},i5=function(t){return Pd(function(){return Tf.resolve(t)})},Ai={nu:o5,pure:i5},u5=["input","textarea"],T$=function(t){var r=Pe(t);return Xe(u5,r)},rx=function(t,r){var o=r.getRoot(t).getOr(t.element);Zo(o,r.invalidClass),r.notify.each(function(u){T$(t.element)&&Zr(t.element,"aria-invalid",!1),u.getContainer(t).each(function(f){Xf(f,u.validHtml)}),u.onValid(t)})},ax=function(t,r,o,u){var f=r.getRoot(t).getOr(t.element);oi(f,r.invalidClass),r.notify.each(function(v){T$(t.element)&&Zr(t.element,"aria-invalid",!0),v.getContainer(t).each(function(p){Xf(p,u)}),v.onInvalid(t,u)})},E$=function(t,r,o){return r.validator.fold(function(){return Ai.pure(Xr.value(!0))},function(u){return u.validate(t)})},ox=function(t,r,o){return r.notify.each(function(u){u.onValidate(t)}),E$(t,r).map(function(u){return t.getSystem().isConnected()?u.fold(function(f){return ax(t,r,o,f),Xr.error(f)},function(f){return rx(t,r),Xr.value(f)}):Xr.error("No longer in system")})},l5=function(t,r){var o=r.getRoot(t).getOr(t.element);return ku(o,r.invalidClass)},s5=Object.freeze({__proto__:null,markValid:rx,markInvalid:ax,query:E$,run:ox,isInvalid:l5}),c5=function(t,r){return t.validator.map(function(o){return Va([nn(o.onEvent,function(u){ox(u,t,r).get(Q)})].concat(o.validateOnLoad?[qr(function(u){ox(u,t,r).get(_)})]:[]))}).getOr({})},L0=Object.freeze({__proto__:null,events:c5}),Pu=[tn("invalidClass"),nt("getRoot",E.none),kl("notify",[nt("aria","alert"),nt("getContainer",E.none),nt("validHtml",""),xa("onValid"),xa("onInvalid"),xa("onValidate")]),kl("validator",[tn("validate"),nt("onEvent","input"),nt("validateOnLoad",!0)])],cc=bi({fields:Pu,name:"invalidating",active:L0,apis:s5,extra:{validation:function(t){return function(r){var o=Rn.getValue(r);return Ai.pure(t(o))}}}}),f5=function(t,r,o,u){return o.getOrCreate(t,r,u)},v5=Object.freeze({__proto__:null,getCoupled:f5}),d5=[tl("others",Ui(Xr.value,Hs()))],m5=function(){var t={},r=function(u,f,v){var p=st(f.others);if(p)return _t(t,v).getOrThunk(function(){var C=_t(f.others,v).getOrDie("No information found for coupled component: "+v),S=C(u),O=u.getSystem().build(S);return t[v]=O,O});throw new Error("Cannot find coupled component: "+v+". Known coupled components: "+JSON.stringify(p,null,2))},o=R({});return al({readState:o,getOrCreate:r})},O$=Object.freeze({__proto__:null,init:m5}),Bo=bi({fields:d5,name:"coupling",apis:v5,state:O$}),A$=R("sink"),$$=R(bs({name:A$(),overrides:R({dom:{tag:"div"},behaviours:$n([Mo.config({useFixed:Ce})]),events:Va([nd(Ob()),nd(ms()),nd(wp())])})})),Ss;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(Ss||(Ss={}));var D$=function(t,r){var o=t.getHotspot(r).getOr(r),u="hotspot",f=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:u,hotspot:o,overrides:f}},function(v){return{type:u,hotspot:o,overrides:f,layouts:v}})},_$=function(t,r,o){var u=t.fetch;return u(o).map(r)},P$=function(t,r,o,u,f,v,p){var C=_$(t,r,u),S=M$(u,t);return C.map(function(O){return O.bind(function(N){return E.from(kd.sketch(z(z({},v.menu()),{uid:tv(""),data:N,highlightImmediately:p===Ss.HighlightFirst,onOpenMenu:function(H,ne){var ie=S().getOrDie();Mo.position(ie,ne,{anchor:o}),ua.decloak(f)},onOpenSubmenu:function(H,ne,ie){var ge=S().getOrDie();Mo.position(ge,ie,{anchor:{type:"submenu",item:ne}}),ua.decloak(f)},onRepositionMenu:function(H,ne,ie){var ge=S().getOrDie();Mo.position(ge,ne,{anchor:o}),Oe(ie,function($e){Mo.position(ge,$e.triggeredMenu,{anchor:{type:"submenu",item:$e.triggeringItem}})})},onEscape:function(){return Dr.focus(u),ua.close(f),E.some(!0)}})))})})},z0=function(t,r,o,u,f,v,p){var C=D$(t,o),S=P$(t,r,C,o,u,f,p);return S.map(function(O){return O.fold(function(){ua.isOpen(u)&&ua.close(u)},function(N){ua.cloak(u),ua.open(u,N),v(u)}),u})},g5=function(t,r,o,u,f,v,p){return ua.close(u),Ai.pure(u)},_g=function(t,r,o,u,f,v){var p=Bo.getCoupled(o,"sandbox"),C=ua.isOpen(p),S=C?g5:z0;return S(t,r,o,p,u,f,v)},p5=function(t,r,o){var u=ia.getCurrent(r).getOr(r),f=au(t.element);o?Pr(u.element,"min-width",f+"px"):yb(u.element,f)},M$=function(t,r){return t.getSystem().getByUid(r.uid+"-"+A$()).map(function(o){return function(){return Xr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Xr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},R$=function(t){ua.getState(t).each(function(r){kd.repositionMenus(r)})},ix=function(t,r,o){var u=id(),f=function(C,S){var O=D$(t,r);u.link(r.element),t.matchWidth&&p5(O.hotspot,S,t.useMinWidth),t.onOpen(O,C,S),o!==void 0&&o.onOpen!==void 0&&o.onOpen(C,S)},v=function(C,S){u.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(C,S)},p=M$(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Zl.augment(t.sandboxBehaviours,[Rn.config({store:{mode:"memory",initialValue:r}}),ua.config({onOpen:f,onClose:v,isPartOf:function(C,S,O){return ud(S,O)||ud(r,O)},getAttachPoint:function(){return p().getOrDie()}}),ia.config({find:function(C){return ua.getState(C).bind(function(S){return ia.getCurrent(S)})}}),qu.config({channels:z(z({},ul({isExtraPart:se})),hd({doReposition:R$}))})])}},Ov=function(t){var r=Bo.getCoupled(t,"sandbox");R$(r)},ux=function(){return[nt("sandboxClasses",[]),Zl.field("sandboxBehaviours",[ia,qu,ua,Rn])]},h5=R([tn("dom"),tn("fetch"),xa("onOpen"),ol("onExecute"),nt("getHotspot",E.some),nt("getAnchorOverrides",R({})),vv(),li("dropdownBehaviours",[fa,Bo,Sr,Dr]),tn("toggleClass"),nt("eventOrder",{}),$a("lazySink"),nt("matchWidth",!1),nt("useMinWidth",!1),$a("role")].concat(ux())),Av=R([hs({schema:[qb()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),$$()]),b5=function(t,r,o,u){var f,v=function(N){return _t(t.dom,"attributes").bind(function(H){return _t(H,N)})},p=function(N){ua.getState(N).each(function(H){kd.highlightPrimary(H)})},C=function(N){var H=p;_g(t,Q,N,u,H,Ss.HighlightFirst).get(_)},S={expand:function(N){fa.isOn(N)||_g(t,Q,N,u,_,Ss.HighlightNone).get(_)},open:function(N){fa.isOn(N)||_g(t,Q,N,u,_,Ss.HighlightFirst).get(_)},isOpen:fa.isOn,close:function(N){fa.isOn(N)&&_g(t,Q,N,u,_,Ss.HighlightFirst).get(_)},repositionMenus:function(N){fa.isOn(N)&&Ov(N)}},O=function(N,H){return Ol(N),E.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.dropdownBehaviours,[fa.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Bo.config({others:{sandbox:function(N){return ix(t,N,{onOpen:function(){return fa.on(N)},onClose:function(){return fa.off(N)}})}}}),Sr.config({mode:"special",onSpace:O,onEnter:O,onDown:function(N,H){if(xs.isOpen(N)){var ne=Bo.getCoupled(N,"sandbox");p(ne)}else xs.open(N);return E.some(!0)},onEscape:function(N,H){return xs.isOpen(N)?(xs.close(N),E.some(!0)):E.none()}}),Dr.config({})]),events:J1(E.some(C)),eventOrder:z(z({},t.eventOrder),(f={},f[Tl()]=["disabling","toggling","alloy.base.behaviour"],f)),apis:S,domModification:{attributes:z(z({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(N){return{role:N}})),t.dom.tag==="button"?{type:v("type").getOr("button")}:{})}}},xs=Du({name:"Dropdown",configFields:h5(),partFields:Av(),factory:b5,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Ql=function(){return gs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},B$=function(){return Va([pT(YP(),Ce)])},F$=Object.freeze({__proto__:null,events:B$,exhibit:Ql}),Oh=bi({fields:[],name:"unselecting",active:F$}),y5=function(t,r){return xs.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:$n([Cs.button(r.providers.isDisabled),Qo(),Oh.config({}),Ro.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Ai.nu(function(u){return t.fetch(u)}).map(function(u){return E.from(s$(zt(GS(Zn("menu-value"),u,function(f){t.onItemAction(o,f)},t.columns,t.presets,Fi.CLOSE_ON_EXECUTE,se,r.providers),{movement:_0(t.columns,t.presets)})))})},parts:{menu:Ed(!1,1,t.presets)}})},Ah=Zn("color-input-change"),I$=Zn("color-swatch-change"),lx=Zn("color-picker-cancel"),w5=function(t,r,o){var u=ha.parts.field({factory:Th,inputClasses:["tox-textfield"],onSetValue:function(S){return cc.run(S).get(_)},inputBehaviours:$n([mr.config({disabled:r.providers.isDisabled}),Qo(),Ro.config({}),cc.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return ni(S.element)},notify:{onValid:function(S){var O=Rn.getValue(S);hr(S,Ah,{color:O})}},validator:{validateOnLoad:!1,validate:function(S){var O=Rn.getValue(S);if(O.length===0)return Ai.pure(Xr.value(!0));var N=Te.fromTag("span");Pr(N,"background-color",O);var H=ki(N,"background-color").fold(function(){return Xr.error("blah")},function(ne){return Xr.value(O)});return Ai.pure(H)}}})]),selectOnFocus:!1}),f=t.label.map(function(S){return kf(S,r.providers)}),v=function(S,O){hr(S,I$,{value:O})},p=function(S,O){C.getOpt(S).each(function(N){O==="custom"?o.colorPicker(function(H){H.fold(function(){return Ca(N,lx)},function(ne){v(N,ne),WS(ne)})},"#ffffff"):O==="remove"?v(N,""):v(N,O)})},C=ka(y5({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Ki,qi,Jo]},onLtr:function(){return[qi,Ki,Jo]}},components:[],fetch:KS(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:p},r));return ha.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:f.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[u,C.asSpec()]}]),fieldBehaviours:$n([Vr("form-field-events",[nn(Ah,function(S,O){C.getOpt(S).each(function(N){Pr(N.element,"background-color",O.event.color)}),hr(S,Rl,{name:t.name})}),nn(I$,function(S,O){ha.getField(S).each(function(N){Rn.setValue(N,O.event.value),ia.getCurrent(S).each(Dr.focus)})}),nn(lx,function(S,O){ha.getField(S).each(function(N){ia.getCurrent(S).each(Dr.focus)})})])])})},C5=bs({schema:[tn("dom")],name:"label"}),$v=function(t){return bs({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(u){return{events:Va([Lw(pf(),function(f,v,p){return u(f,p)},[r]),Lw(ms(),function(f,v,p){return u(f,p)},[r]),Lw(td(),function(f,v,p){p.mouseIsDown.get()&&u(f,p)},[r])])}})}})},sx=$v("top-left"),S5=$v("top"),x5=$v("top-right"),k5=$v("right"),T5=$v("bottom-right"),E5=$v("bottom"),O5=$v("bottom-left"),A5=$v("left"),N$=Yi({name:"thumb",defaults:R({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Va([Bm(pf(),t,"spectrum"),Bm(Ws(),t,"spectrum"),Bm(yp(),t,"spectrum"),Bm(ms(),t,"spectrum"),Bm(td(),t,"spectrum"),Bm(Dw(),t,"spectrum")])}}}),L$=Yi({schema:[Vu("mouseIsDown",function(){return Cr(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,u=function(f,v){return o.getValueFromEvent(v).map(function(p){return o.setValueFrom(f,t,p)})};return{behaviours:$n([Sr.config({mode:"special",onLeft:function(f){return o.onLeft(f,t)},onRight:function(f){return o.onRight(f,t)},onUp:function(f){return o.onUp(f,t)},onDown:function(f){return o.onDown(f,t)}}),Dr.config({})]),events:Va([nn(pf(),u),nn(Ws(),u),nn(ms(),u),nn(td(),function(f,v){t.mouseIsDown.get()&&u(f,v)})])}}}),$5=[C5,A5,k5,S5,E5,sx,x5,O5,T5,N$,L$],D5="slider.change.value",$h=R(D5),_5=function(t){return t.type.indexOf("touch")!==-1},cx=function(t){var r=t.event.raw;if(_5(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?E.some(o.touches[0]).map(function(f){return Ya(f.clientX,f.clientY)}):E.none()}else{var u=r;return u.clientX!==void 0?E.some(u).map(function(f){return Ya(f.clientX,f.clientY)}):E.none()}},z$="top",H$="right",V$="bottom",H0="left",Md=function(t){return t.model.minX},Dv=function(t){return t.model.minY},V0=function(t){return t.model.minX-1},U0=function(t){return t.model.minY-1},Rd=function(t){return t.model.maxX},Bd=function(t){return t.model.maxY},Fd=function(t){return t.model.maxX+1},W0=function(t){return t.model.maxY+1},U$=function(t,r,o){return r(t)-o(t)},fc=function(t){return U$(t,Rd,Md)},fx=function(t){return U$(t,Bd,Dv)},Id=function(t){return fc(t)/2},vx=function(t){return fx(t)/2},_v=function(t){return t.stepSize},W$=function(t){return t.snapToGrid},j$=function(t){return t.snapStart},q$=function(t){return t.rounded},Dh=function(t,r){return t[r+"-edge"]!==void 0},K$=function(t){return Dh(t,H0)},_h=function(t){return Dh(t,H$)},G$=function(t){return Dh(t,z$)},cl=function(t){return Dh(t,V$)},Ef=function(t){return t.model.value.get()},Y$=function(t){return{x:t}},dx=function(t){return{y:t}},Of=function(t,r){return{x:t,y:r}},ks=function(t,r){hr(t,$h(),{value:r})},P5=function(t,r){ks(t,Of(V0(r),U0(r)))},M5=function(t,r){ks(t,dx(U0(r)))},R5=function(t,r){ks(t,Of(Id(r),U0(r)))},B5=function(t,r){ks(t,Of(Fd(r),U0(r)))},F5=function(t,r){ks(t,Y$(Fd(r)))},I5=function(t,r){ks(t,Of(Fd(r),vx(r)))},X$=function(t,r){ks(t,Of(Fd(r),W0(r)))},N5=function(t,r){ks(t,dx(W0(r)))},L5=function(t,r){ks(t,Of(Id(r),W0(r)))},z5=function(t,r){ks(t,Of(V0(r),W0(r)))},Z$=function(t,r){ks(t,Y$(V0(r)))},j0=function(t,r){ks(t,Of(V0(r),vx(r)))},mx=function(t,r,o,u){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-u)},Pg=function(t,r,o,u){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+u)},Nd=function(t,r,o){return Math.max(r,Math.min(o,t))},J$=function(t,r,o,u,f){return f.fold(function(){var v=t-r,p=Math.round(v/u)*u;return Nd(r+p,r-1,o+1)},function(v){var p=(t-v)%u,C=Math.round(p/u),S=Math.floor((t-v)/u),O=Math.floor((o-v)/u),N=Math.min(O,S+C),H=v+N*u;return Math.max(v,H)})},Q$=function(t,r,o){return Math.min(o,Math.max(t,r))-r},gx=function(t){var r=t.min,o=t.max,u=t.range,f=t.value,v=t.step,p=t.snap,C=t.snapStart,S=t.rounded,O=t.hasMinEdge,N=t.hasMaxEdge,H=t.minBound,ne=t.maxBound,ie=t.screenRange,ge=O?r-1:r,$e=N?o+1:o;if(f<H)return ge;if(f>ne)return $e;var Ze=Q$(f,H,ne),Se=Nd(Ze/ie*u+r,ge,$e);return p&&Se>=r&&Se<=o?J$(Se,r,o,v,C):S?Math.round(Se):Se},eD=function(t){var r=t.min,o=t.max,u=t.range,f=t.value,v=t.hasMinEdge,p=t.hasMaxEdge,C=t.maxBound,S=t.maxOffset,O=t.centerMinEdge,N=t.centerMaxEdge;return f<r?v?0:O:f>o?p?C:N:(f-r)/u*S},px="top",Ph="right",tD="bottom",hx="left",nD="width",rD="height",Ts=function(t){return t.element.dom.getBoundingClientRect()},es=function(t,r){return t[r]},Ii=function(t){var r=Ts(t);return es(r,hx)},bx=function(t){var r=Ts(t);return es(r,Ph)},q0=function(t){var r=Ts(t);return es(r,px)},aD=function(t){var r=Ts(t);return es(r,tD)},yx=function(t){var r=Ts(t);return es(r,nD)},oD=function(t){var r=Ts(t);return es(r,rD)},iD=function(t,r,o){return(t+r)/2-o},uD=function(t,r){var o=Ts(t),u=Ts(r),f=es(o,hx),v=es(o,Ph),p=es(u,hx);return iD(f,v,p)},wx=function(t,r){var o=Ts(t),u=Ts(r),f=es(o,px),v=es(o,tD),p=es(u,px);return iD(f,v,p)},ts=function(t,r){hr(t,$h(),{value:r})},Mg=function(t){return{x:t}},K0=function(t,r,o){var u={min:Md(r),max:Rd(r),range:fc(r),value:o,step:_v(r),snap:W$(r),snapStart:j$(r),rounded:q$(r),hasMinEdge:K$(r),hasMaxEdge:_h(r),minBound:Ii(t),maxBound:bx(t),screenRange:yx(t)};return gx(u)},G0=function(t,r,o){var u=K0(t,r,o),f=Mg(u);return ts(t,f),u},Cx=function(t,r){var o=Md(r);ts(t,Mg(o))},H5=function(t,r){var o=Rd(r);ts(t,Mg(o))},V5=function(t,r,o){var u=t>0?Pg:mx,f=u(Ef(o).x,Md(o),Rd(o),_v(o));return ts(r,Mg(f)),E.some(f)},lD=function(t){return function(r,o){return V5(t,r,o).map(Ce)}},U5=function(t){var r=cx(t);return r.map(function(o){return o.left})},W5=function(t,r,o,u,f){var v=0,p=yx(t),C=u.bind(function(N){return E.some(uD(N,t))}).getOr(v),S=f.bind(function(N){return E.some(uD(N,t))}).getOr(p),O={min:Md(r),max:Rd(r),range:fc(r),value:o,hasMinEdge:K$(r),hasMaxEdge:_h(r),minBound:Ii(t),minOffset:v,maxBound:bx(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return eD(O)},Mh=function(t,r,o,u,f,v){var p=W5(r,v,o,u,f);return Ii(r)-Ii(t)+p},j5=function(t,r,o,u){var f=Ef(o),v=Mh(t,u.getSpectrum(t),f.x,u.getLeftEdge(t),u.getRightEdge(t),o),p=au(r.element)/2;Pr(r.element,"left",v-p+"px")},sD=lD(-1),q5=lD(1),qc=E.none,Y0=E.none,K5={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(F5),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(Z$)},G5=Object.freeze({__proto__:null,setValueFrom:G0,setToMin:Cx,setToMax:H5,findValueOfOffset:K0,getValueFromEvent:U5,findPositionOfValue:Mh,setPositionFromValue:j5,onLeft:sD,onRight:q5,onUp:qc,onDown:Y0,edgeActions:K5}),Rh=function(t,r){hr(t,$h(),{value:r})},Bh=function(t){return{y:t}},Fh=function(t,r,o){var u={min:Dv(r),max:Bd(r),range:fx(r),value:o,step:_v(r),snap:W$(r),snapStart:j$(r),rounded:q$(r),hasMinEdge:G$(r),hasMaxEdge:cl(r),minBound:q0(t),maxBound:aD(t),screenRange:oD(t)};return gx(u)},cD=function(t,r,o){var u=Fh(t,r,o),f=Bh(u);return Rh(t,f),u},Ih=function(t,r){var o=Dv(r);Rh(t,Bh(o))},Nh=function(t,r){var o=Bd(r);Rh(t,Bh(o))},Y5=function(t,r,o){var u=t>0?Pg:mx,f=u(Ef(o).y,Dv(o),Bd(o),_v(o));return Rh(r,Bh(f)),E.some(f)},fD=function(t){return function(r,o){return Y5(t,r,o).map(Ce)}},X5=function(t){var r=cx(t);return r.map(function(o){return o.top})},Z5=function(t,r,o,u,f){var v=0,p=oD(t),C=u.bind(function(N){return E.some(wx(N,t))}).getOr(v),S=f.bind(function(N){return E.some(wx(N,t))}).getOr(p),O={min:Dv(r),max:Bd(r),range:fx(r),value:o,hasMinEdge:G$(r),hasMaxEdge:cl(r),minBound:q0(t),minOffset:v,maxBound:aD(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return eD(O)},Sx=function(t,r,o,u,f,v){var p=Z5(r,v,o,u,f);return q0(r)-q0(t)+p},J5=function(t,r,o,u){var f=Ef(o),v=Sx(t,u.getSpectrum(t),f.y,u.getTopEdge(t),u.getBottomEdge(t),o),p=ri(r.element)/2;Pr(r.element,"top",v-p+"px")},Q5=E.none,xx=E.none,Ld=fD(-1),e6=fD(1),vD={"top-left":E.none(),top:E.some(M5),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(N5),"bottom-left":E.none(),left:E.none()},t6=Object.freeze({__proto__:null,setValueFrom:cD,setToMin:Ih,setToMax:Nh,findValueOfOffset:Fh,getValueFromEvent:X5,findPositionOfValue:Sx,setPositionFromValue:J5,onLeft:Q5,onRight:xx,onUp:Ld,onDown:e6,edgeActions:vD}),X0=function(t,r){hr(t,$h(),{value:r})},Z0=function(t,r){return{x:t,y:r}},n6=function(t,r,o){var u=K0(t,r,o.left),f=Fh(t,r,o.top),v=Z0(u,f);return X0(t,v),v},r6=function(t,r,o,u){var f=t>0?Pg:mx,v=r?Ef(u).x:f(Ef(u).x,Md(u),Rd(u),_v(u)),p=r?f(Ef(u).y,Dv(u),Bd(u),_v(u)):Ef(u).y;return X0(o,Z0(v,p)),E.some(v)},Lh=function(t,r){return function(o,u){return r6(t,r,o,u).map(Ce)}},kx=function(t,r){var o=Md(r),u=Dv(r);X0(t,Z0(o,u))},a6=function(t,r){var o=Rd(r),u=Bd(r);X0(t,Z0(o,u))},dD=function(t){return cx(t)},Tx=function(t,r,o,u){var f=Ef(o),v=Mh(t,u.getSpectrum(t),f.x,u.getLeftEdge(t),u.getRightEdge(t),o),p=Sx(t,u.getSpectrum(t),f.y,u.getTopEdge(t),u.getBottomEdge(t),o),C=au(r.element)/2,S=ri(r.element)/2;Pr(r.element,"left",v-C+"px"),Pr(r.element,"top",p-S+"px")},Ex=Lh(-1,!1),mD=Lh(1,!1),o6=Lh(-1,!0),i6=Lh(1,!0),J0={"top-left":E.some(P5),top:E.some(R5),"top-right":E.some(B5),right:E.some(I5),"bottom-right":E.some(X$),bottom:E.some(L5),"bottom-left":E.some(z5),left:E.some(j0)},gD=Object.freeze({__proto__:null,setValueFrom:n6,setToMin:kx,setToMax:a6,getValueFromEvent:dD,setPositionFromValue:Tx,onLeft:Ex,onRight:mD,onUp:o6,onDown:i6,edgeActions:J0}),u6=[nt("stepSize",1),nt("onChange",_),nt("onChoose",_),nt("onInit",_),nt("onDragStart",_),nt("onDragEnd",_),nt("snapToGrid",!1),nt("rounded",!0),$a("snapStart"),tl("model",Vl("mode",{x:[nt("minX",0),nt("maxX",100),Vu("value",function(t){return Cr(t.mode.minX)}),tn("getInitialValue"),ro("manager",G5)],y:[nt("minY",0),nt("maxY",100),Vu("value",function(t){return Cr(t.mode.minY)}),tn("getInitialValue"),ro("manager",t6)],xy:[nt("minX",0),nt("maxX",100),nt("minY",0),nt("maxY",100),Vu("value",function(t){return Cr({x:t.mode.minX,y:t.mode.minY})}),tn("getInitialValue"),ro("manager",gD)]})),li("sliderBehaviours",[Sr,Rn]),Vu("mouseIsDown",function(){return Cr(!1)})],l6=function(t,r,o,u){var f,v=function(Qe){return zc(Qe,t,"thumb")},p=function(Qe){return zc(Qe,t,"spectrum")},C=function(Qe){return Ua(Qe,t,"left-edge")},S=function(Qe){return Ua(Qe,t,"right-edge")},O=function(Qe){return Ua(Qe,t,"top-edge")},N=function(Qe){return Ua(Qe,t,"bottom-edge")},H=t.model,ne=H.manager,ie=function(Qe,kt){ne.setPositionFromValue(Qe,kt,t,{getLeftEdge:C,getRightEdge:S,getTopEdge:O,getBottomEdge:N,getSpectrum:p})},ge=function(Qe,kt){H.value.set(kt);var qt=v(Qe);ie(Qe,qt)},$e=function(Qe,kt){ge(Qe,kt);var qt=v(Qe);return t.onChange(Qe,qt,kt),E.some(!0)},Ze=function(Qe){ne.setToMin(Qe,t)},Se=function(Qe){ne.setToMax(Qe,t)},et=function(Qe){var kt=function(){Ua(Qe,t,"thumb").each(function(Pn){var Qt=H.value.get();t.onChoose(Qe,Pn,Qt)})},qt=t.mouseIsDown.get();t.mouseIsDown.set(!1),qt&&kt()},Rt=function(Qe,kt){kt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Qe,v(Qe))},Mt=function(Qe,kt){kt.stop(),t.onDragEnd(Qe,v(Qe)),et(Qe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.sliderBehaviours,[Sr.config({mode:"special",focusIn:function(Qe){return Ua(Qe,t,"spectrum").map(Sr.focusIn).map(Ce)}}),Rn.config({store:{mode:"manual",getValue:function(Qe){return H.value.get()}}}),qu.config({channels:(f={},f[KC()]={onReceive:et},f)})]),events:Va([nn($h(),function(Qe,kt){$e(Qe,kt.event.value)}),qr(function(Qe,kt){var qt=H.getInitialValue();H.value.set(qt);var Pn=v(Qe);ie(Qe,Pn);var Qt=p(Qe);t.onInit(Qe,Pn,Qt,H.value.get())}),nn(pf(),Rt),nn(yp(),Mt),nn(ms(),Rt),nn(Dw(),Mt)]),apis:{resetToMin:Ze,resetToMax:Se,setValue:ge,refresh:ie},domModification:{styles:{position:"relative"}}}},Es=Du({name:"Slider",configFields:u6,partFields:$5,factory:l6,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),Ox=Zn("rgb-hex-update"),Kc=Zn("slider-update"),Q0=Zn("palette-update"),pD=function(t,r){var o=Es.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=Es.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Es.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:R({y:0})},components:[o,u],sliderBehaviours:$n([Dr.config({})]),onChange:function(f,v,p){hr(f,Kc,{value:p})}})},Ax="form",$x=[li("formBehaviours",[Rn])],Dx=function(t){return"<alloy.field."+t+">"},ey=function(t){var r=function(){var v=[],p=function(C,S){return v.push(C),u2(Ax,Dx(C),S)};return{field:p,record:R(v)}}(),o=t(r),u=r.record(),f=it(u,function(v){return Yi({name:v,pname:Dx(v)})});return v2(Ax,$x,f,bD,o)},hD=function(t,r){return t.fold(function(){return Xr.error(r)},Xr.value)},bD=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.formBehaviours,[Rn.config({store:{mode:"manual",getValue:function(o){var u=aO(o,t);return Xt(u,function(f,v){return f().bind(function(p){var C=ia.getCurrent(p);return hD(C,new Error("Cannot find a current component to extract the value from for form part '"+v+"': "+Qf(p.element)))}).map(Rn.getValue)})},setValue:function(o,u){dn(u,function(f,v){Ua(o,t,v).each(function(p){ia.getCurrent(p).each(function(C){Rn.setValue(C,f)})})})}}})]),apis:{getField:function(o,u){return Ua(o,t,u).bind(ia.getCurrent)}}}},Rg={getField:_o(function(t,r,o){return t.getField(r,o)}),sketch:ey},yD=Zn("valid-input"),wD=Zn("invalid-input"),CD=Zn("validating-input"),ty="colorcustom.rgb.",SD=function(t,r,o,u){var f=function(ne,ie){return cc.config({invalidClass:r("invalid"),notify:{onValidate:function(ge){hr(ge,CD,{type:ne})},onValid:function(ge){hr(ge,yD,{type:ne,value:Rn.getValue(ge)})},onInvalid:function(ge){hr(ge,wD,{type:ne,value:Rn.getValue(ge)})}},validator:{validate:function(ge){var $e=Rn.getValue(ge),Ze=ie($e)?Xr.value(!0):Xr.error(t("aria.input.invalid"));return Ai.pure(Ze)},validateOnLoad:!1}})},v=function(ne,ie,ge,$e,Ze){var Se=t(ty+"range"),et=ha.parts.label({dom:{tag:"label",innerHtml:ge,attributes:{"aria-label":$e}}}),Rt=ha.parts.field({data:Ze,factory:Th,inputAttributes:z({type:"text"},ie==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:$n([f(ie,ne),Ro.config({})]),onSetValue:function(qt){if(cc.isInvalid(qt)){var Pn=cc.run(qt);Pn.get(_)}}}),Mt=[et,Rt],Qe=ie!=="hex"?[ha.parts["aria-descriptor"]({text:Se})]:[],kt=Mt.concat(Qe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:kt}},p=function(ne,ie){var ge=gh(ie);return Rg.getField(ne,"hex").each(function($e){Dr.isFocused($e)||Rn.setValue(ne,{hex:ge.value})}),ge},C=function(ne,ie){var ge=ie.red,$e=ie.green,Ze=ie.blue;Rn.setValue(ne,{red:ge,green:$e,blue:Ze})},S=ka({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),O=function(ne,ie){S.getOpt(ne).each(function(ge){Pr(ge.element,"background-color","#"+ie.value)})},N=function(){var ne={red:Cr(E.some(255)),green:Cr(E.some(255)),blue:Cr(E.some(255)),hex:Cr(E.some("ffffff"))},ie=function(jt,Tn){var Xn=ph(Tn);C(jt,Xn),Se(Xn)},ge=function(jt){return ne[jt].get()},$e=function(jt,Tn){ne[jt].set(Tn)},Ze=function(){return ge("red").bind(function(jt){return ge("green").bind(function(Tn){return ge("blue").map(function(Xn){return Ev(jt,Tn,Xn,1)})})})},Se=function(jt){var Tn=jt.red,Xn=jt.green,Zt=jt.blue;$e("red",E.some(Tn)),$e("green",E.some(Xn)),$e("blue",E.some(Zt))},et=function(jt,Tn){var Xn=Tn.event;Xn.type!=="hex"?$e(Xn.type,E.none()):u(jt)},Rt=function(jt,Tn){o(jt);var Xn=$3(Tn);$e("hex",E.some(Tn));var Zt=ph(Xn);C(jt,Zt),Se(Zt),hr(jt,Ox,{hex:Xn}),O(jt,Xn)},Mt=function(jt,Tn,Xn){var Zt=parseInt(Xn,10);$e(Tn,E.some(Zt)),Ze().each(function(qn){var nr=p(jt,qn);hr(jt,Ox,{hex:nr}),O(jt,nr)})},Qe=function(jt){return jt.type==="hex"},kt=function(jt,Tn){var Xn=Tn.event;Qe(Xn)?Rt(jt,Xn.value):Mt(jt,Xn.type,Xn.value)},qt=function(jt){return{label:t(ty+jt+".label"),description:t(ty+jt+".description")}},Pn=qt("red"),Qt=qt("green"),Mn=qt("blue"),rn=qt("hex");return zt(Rg.sketch(function(jt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[jt.field("red",ha.sketch(v(NS,"red",Pn.label,Pn.description,255))),jt.field("green",ha.sketch(v(NS,"green",Qt.label,Qt.description,255))),jt.field("blue",ha.sketch(v(NS,"blue",Mn.label,Mn.description,255))),jt.field("hex",ha.sketch(v(P3,"hex",rn.label,rn.description,"ffffff"))),S.asSpec()],formBehaviours:$n([cc.config({invalidClass:r("form-invalid")}),Vr("rgb-form-events",[nn(yD,kt),nn(wD,et),nn(CD,et)])])}}),{apis:{updateHex:function(jt,Tn){Rn.setValue(jt,{hex:Tn.value}),ie(jt,Tn),O(jt,Tn)}}})},H=Pl({factory:N,name:"RgbForm",configFields:[],apis:{updateHex:function(ne,ie,ge){ne.updateHex(ie,ge)}},extraApis:{}});return H},s6=function(t,r){var o=Es.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),u=Es.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),f=function(O,N){var H=O.width,ne=O.height,ie=O.getContext("2d");if(ie!==null){ie.fillStyle=N,ie.fillRect(0,0,H,ne);var ge=ie.createLinearGradient(0,0,H,0);ge.addColorStop(0,"rgba(255,255,255,1)"),ge.addColorStop(1,"rgba(255,255,255,0)"),ie.fillStyle=ge,ie.fillRect(0,0,H,ne);var $e=ie.createLinearGradient(0,0,0,ne);$e.addColorStop(0,"rgba(0,0,0,0)"),$e.addColorStop(1,"rgba(0,0,0,1)"),ie.fillStyle=$e,ie.fillRect(0,0,H,ne)}},v=function(O,N){var H=O.components()[0].element.dom,ne=hh(N,100,100),ie=B3(ne);f(H,N3(ie))},p=function(O,N){var H=zS(ph(N));Es.setValue(O,{x:H.saturation,y:100-H.value})},C=function(O){var N=R({x:0,y:0}),H=function(ge,$e,Ze){hr(ge,Q0,{value:Ze})},ne=function(ge,$e,Ze,Se){f(Ze.element.dom,N3(L3))},ie=$n([ia.config({find:E.some}),Dr.config({})]);return Es.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:N},rounded:!1,components:[o,u],onChange:H,onInit:ne,sliderBehaviours:ie})},S=Pl({factory:C,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(O,N,H){v(N,H)},setThumb:function(O,N,H){p(N,H)}},extraApis:{}});return S},c6=function(t,r){var o=function(f){var v=SD(t,r,f.onValidHex,f.onInvalidHex),p=s6(t,r),C=function(kt){return(100-kt)/100*360},S=function(kt){return 100-kt/360*100},O={paletteRgba:Cr(L3),paletteHue:Cr(0)},N=ka(pD(t,r)),H=ka(p.sketch({})),ne=ka(v.sketch({})),ie=function(kt,qt,Pn){H.getOpt(kt).each(function(Qt){p.setHue(Qt,Pn)})},ge=function(kt,qt){ne.getOpt(kt).each(function(Pn){v.updateHex(Pn,qt)})},$e=function(kt,qt,Pn){N.getOpt(kt).each(function(Qt){Es.setValue(Qt,{y:S(Pn)})})},Ze=function(kt,qt){H.getOpt(kt).each(function(Pn){p.setThumb(Pn,qt)})},Se=function(kt,qt){var Pn=ph(kt);O.paletteRgba.set(Pn),O.paletteHue.set(qt)},et=function(kt,qt,Pn,Qt){Se(qt,Pn),Oe(Qt,function(Mn){Mn(kt,qt,Pn)})},Rt=function(){var kt=[ge];return function(qt,Pn){var Qt=Pn.event.value,Mn=O.paletteHue.get(),rn=hh(Mn,Qt.x,100-Qt.y),jt=V3(rn);et(qt,jt,Mn,kt)}},Mt=function(){var kt=[ie,ge];return function(qt,Pn){var Qt=C(Pn.event.value.y),Mn=O.paletteRgba.get(),rn=zS(Mn),jt=hh(Qt,rn.saturation,rn.value),Tn=V3(jt);et(qt,Tn,Qt,kt)}},Qe=function(){var kt=[ie,$e,Ze];return function(qt,Pn){var Qt=Pn.event.hex,Mn=sN(Qt);et(qt,Qt,Mn.hue,kt)}};return{uid:f.uid,dom:f.dom,components:[H.asSpec(),N.asSpec(),ne.asSpec()],behaviours:$n([Vr("colour-picker-events",[nn(Ox,Qe()),nn(Q0,Rt()),nn(Kc,Mt())]),ia.config({find:function(kt){return ne.getOpt(kt)}}),Sr.config({mode:"acyclic"})])}},u=Pl({name:"ColourPicker",configFields:[tn("dom"),nt("onValidHex",_),nt("onInvalidHex",_)],factory:o});return u},f6=function(){return ia.config({find:E.some})},ny=function(t){return ia.config({find:t.getOpt})},v6=function(t){return ia.config({find:function(r){return A(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},vc={self:f6,memento:ny,childAt:v6},xD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},kD=function(t){return xD[t]},d6=function(t){return kD(t)},m6=function(t){var r=function(p){return"tox-"+p},o=c6(d6,r),u=function(p){hr(p,sc,{name:"hex-valid",value:!0})},f=function(p){hr(p,sc,{name:"hex-valid",value:!1})},v=ka(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:u,onInvalidHex:f}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:$n([Rn.config({store:{mode:"manual",getValue:function(p){var C=v.get(p),S=ia.getCurrent(C),O=S.bind(function(N){var H=Rn.getValue(N);return H.hex});return O.map(function(N){return"#"+N}).getOr("")},setValue:function(p,C){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,O=S.exec(C),N=v.get(p),H=ia.getCurrent(N);H.fold(function(){},function(ne){Rn.setValue(ne,{hex:E.from(O[1]).getOr("")}),Rg.getField(ne,"hex").each(function(ie){Ca(ie,Dm())})})}}}),vc.self()])}},ry=tinymce.util.Tools.resolve("tinymce.Resource"),g6=function(t){return an(t,"init")},p6=function(t){var r=Po(),o=ka({dom:{tag:t.tag}}),u=Po();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:$n([Vr("custom-editor-events",[qr(function(f){o.getOpt(f).each(function(v){(g6(t)?t.init(v.element.dom):ry.load(t.scriptId,t.scriptUrl).then(function(p){return p(v.element.dom,t.settings)})).then(function(p){u.on(function(C){p.setValue(C)}),u.clear(),r.set(p)})})})]),Rn.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return u.get().getOr("")},function(f){return f.getValue()})},setValue:function(f,v){r.get().fold(function(){u.set(v)},function(p){return p.setValue(v)})}}}),vc.self()]),components:[o.asSpec()]}},Pv=tinymce.util.Tools.resolve("tinymce.util.Tools"),h6=vr([nt("preprocess",Q),nt("postprocess",Q)]),ay=function(t,r){var o=qa("RepresentingConfigs.memento processors",h6,r);return Rn.config({store:{mode:"manual",getValue:function(u){var f=t.get(u),v=Rn.getValue(f);return o.postprocess(v)},setValue:function(u,f){var v=o.preprocess(f),p=t.get(u);Rn.setValue(p,v)}}})},oy=function(t,r,o){return Rn.config(zt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(u){return{store:{initialValue:u}}}).getOr({})))},_x=function(t,r,o){return oy(t,function(u){return r(u.element)},function(u,f){return o(u.element,f)})},b6=function(t){return _x(t,uv,Hm)},iy=function(t){return _x(t,Rb,Xf)},y6=function(t){return Rn.config({store:{mode:"memory",initialValue:t}})},Af={memento:ay,withElement:_x,withComp:oy,domValue:b6,domHtml:iy,memory:y6},TD="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",w6=function(t,r){var o=Pv.explode(r.getSetting("images_file_types",TD,"string")),u=function(f){return ct(o,function(v){return Yn(f.name.toLowerCase(),"."+v.toLowerCase())})};return Be(Ft(t),u)},C6=function(t,r){var o=function(H,ne){ne.stop()},u=function(H){return function(ne,ie){Oe(H,function(ge){ge(ne,ie)})}},f=function(H,ne){if(!mr.isDisabled(H)){var ie=ne.event.raw;p(H,ie.dataTransfer.files)}},v=function(H,ne){var ie=ne.event.raw.target;p(H,ie.files)},p=function(H,ne){Rn.setValue(H,w6(ne,r)),hr(H,Rl,{name:t.name})},C=ka({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:$n([Vr("input-file-events",[nd(wp()),nd(Mm())])])}),S=function(H){return{uid:H.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:$n([Af.memory([]),vc.self(),mr.config({}),fa.config({toggleClass:"dragenter",toggleOnExecute:!1}),Vr("dropzone-events",[nn("dragenter",u([o,fa.toggle])),nn("dragleave",u([o,fa.toggle])),nn("dragover",o),nn("drop",u([o,f])),nn(_m(),v)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},_u.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[C.asSpec()],action:function(ne){var ie=C.get(ne);ie.element.dom.click()},buttonBehaviours:$n([Ro.config({}),Cs.button(r.isDisabled),Qo()])})]}]}},O=t.label.map(function(H){return kf(H,r)}),N=ha.parts.field({factory:{sketch:S}});return xh(O,N,["tox-form__group--stretched"],[])},ED=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:it(t.items,r.interpreter)}},uy=Zn("alloy-fake-before-tabstop"),Px=Zn("alloy-fake-after-tabstop"),Mx=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:$n([Dr.config({ignore:!0}),Ro.config({})])}},Rx=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[Mx([uy]),t,Mx([Px])],behaviours:$n([vc.childAt(1)])}},Bx=function(t,r){hr(t,Ob(),{raw:{which:9,shiftKey:r}})},OD=function(t,r){var o=r.element;ku(o,uy)?Bx(t,!0):ku(o,Px)&&Bx(t,!1)},zh=function(t){return wh(t,["."+uy,"."+Px].join(","),se)},S6=!(dr().browser.isIE()||dr().browser.isEdge()),x6=function(t){var r=Cr("");return{getValue:function(o){return r.get()},setValue:function(o,u){if(t)Zr(o.element,"srcdoc",u);else{Zr(o.element,"src","javascript:''");var f=o.element.dom.contentWindow.document;f.open(),f.write(u),f.close()}r.set(u)}}},AD=function(t,r){var o=S6&&t.sandboxed,u=z(z({},t.label.map(function(S){return{title:S}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),f=x6(o),v=t.label.map(function(S){return kf(S,r)}),p=function(S){return Rx({uid:S.uid,dom:{tag:"iframe",attributes:u},behaviours:$n([Ro.config({}),Dr.config({}),Af.withComp(E.none(),f.getValue,f.setValue)])})},C=ha.parts.field({factory:{sketch:p}});return xh(v,C,["tox-form__group--stretched"],[])},Bg=function(t,r){return k6(document.createElement("canvas"),t,r)},$D=function(t){var r=Bg(t.width,t.height),o=$f(r);return o.drawImage(t,0,0),r},$f=function(t){return t.getContext("2d")},k6=function(t,r,o){return t.width=r,t.height=o,t},Hh=function(t){return t.naturalWidth||t.width},Fx=function(t){return t.naturalHeight||t.height},T6=function(t){return new Tf(function(r,o){var u=URL.createObjectURL(t),f=new Image,v=function(){f.removeEventListener("load",p),f.removeEventListener("error",C)},p=function(){v(),r(f)},C=function(){v(),o("Unable to load data of type "+t.type+": "+u)};f.addEventListener("load",p),f.addEventListener("error",C),f.src=u,f.complete&&setTimeout(p,0)})},E6=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return E.none();for(var u=o[1],f=r[1],v=1024,p=atob(f),C=p.length,S=Math.ceil(C/v),O=new Array(S),N=0;N<S;++N){for(var H=N*v,ne=Math.min(H+v,C),ie=new Array(ne-H),ge=H,$e=0;ge<ne;++$e,++ge)ie[$e]=p[ge].charCodeAt(0);O[N]=new Uint8Array(ie)}return E.some(new Blob(O,{type:u}))},O6=function(t){return new Tf(function(r,o){E6(t).fold(function(){o("uri is not base64: "+t)},r)})},DD=function(t,r,o){return r=r||"image/png",F(HTMLCanvasElement.prototype.toBlob)?new Tf(function(u,f){t.toBlob(function(v){v?u(v):f()},r,o)}):O6(t.toDataURL(r,o))},A6=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},$6=function(t){return T6(t).then(function(r){D6(r);var o=Bg(Hh(r),Fx(r)),u=$f(o);return u.drawImage(r,0,0),o})},_D=function(t){return new Tf(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},D6=function(t){URL.revokeObjectURL(t.src)},PD=function(t,r,o){var u=r.type,f=R(u),v=function(){return Tf.resolve(r)},p=R(o),C=function(){return o.split(",")[1]},S=function(ne,ie){return t.then(function(ge){return DD(ge,ne,ie)})},O=function(ne,ie){return t.then(function(ge){return A6(ge,ne,ie)})},N=function(ne,ie){return O(ne,ie).then(function(ge){return ge.split(",")[1]})},H=function(){return t.then($D)};return{getType:f,toBlob:v,toDataURL:p,toBase64:C,toAdjustedBlob:S,toAdjustedDataURL:O,toAdjustedBase64:N,toCanvas:H}},MD=function(t){return _D(t).then(function(r){return PD($6(t),t,r)})},zd=function(t,r){return DD(t,r).then(function(o){return PD(Tf.resolve(t),o,t.toDataURL())})},_6=function(t){return MD(t)},Vh=function(t,r,o){var u=typeof t=="string"?parseFloat(t):t;return u>o?u=o:u<r&&(u=r),u},Ix=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},Nx=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],Lx=function(t,r){for(var o=[],u=new Array(25),f,v=0;v<5;v++){for(var p=0;p<5;p++)o[p]=r[p+v*5];for(var p=0;p<5;p++){f=0;for(var C=0;C<5;C++)f+=t[p+C*5]*o[C];u[p+v*5]=f}}return u},RD=function(t,r){var o;return r=Vh(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=Nx[r]:o=Nx[Math.floor(r)]*(1-o)+Nx[Math.floor(r)+1]*o,o=o*127+127),Lx(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},BD=function(t,r){return r=Vh(255*r,-255,255),Lx(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},FD=function(t,r,o,u){return r=Vh(r,0,2),o=Vh(o,0,2),u=Vh(u,0,2),Lx(t,[r,0,0,0,0,0,o,0,0,0,0,0,u,0,0,0,0,0,1,0,0,0,0,0,1])},zx=function(t,r){return t.toCanvas().then(function(o){return ID(o,t.getType(),r)})},ID=function(t,r,o){var u=$f(t),f=function(p,C){for(var S,O,N,H,ne=p.data,ie=C[0],ge=C[1],$e=C[2],Ze=C[3],Se=C[4],et=C[5],Rt=C[6],Mt=C[7],Qe=C[8],kt=C[9],qt=C[10],Pn=C[11],Qt=C[12],Mn=C[13],rn=C[14],jt=C[15],Tn=C[16],Xn=C[17],Zt=C[18],qn=C[19],nr=0;nr<ne.length;nr+=4)S=ne[nr],O=ne[nr+1],N=ne[nr+2],H=ne[nr+3],ne[nr]=S*ie+O*ge+N*$e+H*Ze+Se,ne[nr+1]=S*et+O*Rt+N*Mt+H*Qe+kt,ne[nr+2]=S*qt+O*Pn+N*Qt+H*Mn+rn,ne[nr+3]=S*jt+O*Tn+N*Xn+H*Zt+qn;return p},v=f(u.getImageData(0,0,t.width,t.height),o);return u.putImageData(v,0,0),zd(t,r)},ND=function(t,r){return t.toCanvas().then(function(o){return P6(o,t.getType(),r)})},P6=function(t,r,o){var u=$f(t),f=function(C,S,O){for(var N=function(Tn,Xn,Zt){return Tn>Zt?Tn=Zt:Tn<Xn&&(Tn=Xn),Tn},H=Math.round(Math.sqrt(O.length)),ne=Math.floor(H/2),ie=C.data,ge=S.data,$e=C.width,Ze=C.height,Se=0;Se<Ze;Se++)for(var et=0;et<$e;et++){for(var Rt=0,Mt=0,Qe=0,kt=0;kt<H;kt++)for(var qt=0;qt<H;qt++){var Pn=N(et+qt-ne,0,$e-1),Qt=N(Se+kt-ne,0,Ze-1),Mn=(Qt*$e+Pn)*4,rn=O[kt*H+qt];Rt+=ie[Mn]*rn,Mt+=ie[Mn+1]*rn,Qe+=ie[Mn+2]*rn}var jt=(Se*$e+et)*4;ge[jt]=N(Rt,0,255),ge[jt+1]=N(Mt,0,255),ge[jt+2]=N(Qe,0,255)}return S},v=u.getImageData(0,0,t.width,t.height),p=u.getImageData(0,0,t.width,t.height);return p=f(v,p,o),u.putImageData(p,0,0),zd(t,r)},M6=function(t){var r=function(o,u,f){for(var v=$f(o),p=new Array(256),C=function(N,H){for(var ne=N.data,ie=0;ie<ne.length;ie+=4)ne[ie]=H[ne[ie]],ne[ie+1]=H[ne[ie+1]],ne[ie+2]=H[ne[ie+2]];return N},S=0;S<p.length;S++)p[S]=t(S,f);var O=C(v.getImageData(0,0,o.width,o.height),p);return v.putImageData(O,0,0),zd(o,u)};return function(o,u){return o.toCanvas().then(function(f){return r(f,o.getType(),u)})}},LD=function(t){return function(r,o){return zx(r,t(Ix(),o))}},R6=function(t){return function(r){return zx(r,t)}},B6=function(t){return function(r){return ND(r,t)}},F6=R6([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),zD=LD(BD),I6=LD(RD),N6=function(t,r,o,u){return zx(t,FD(Ix(),r,o,u))},L6=B6([0,-1,0,-1,5,-1,0,-1,0]),la=M6(function(t,r){return Math.pow(t/255,1-r)*255}),Hd=function(t,r,o){var u=Hh(t),f=Fx(t),v=r/u,p=o/f,C=!1;(v<.5||v>2)&&(v=v<.5?.5:2,C=!0),(p<.5||p>2)&&(p=p<.5?.5:2,C=!0);var S=HD(t,v,p);return C?S.then(function(O){return Hd(O,r,o)}):S},HD=function(t,r,o){return new Tf(function(u){var f=Hh(t),v=Fx(t),p=Math.floor(f*r),C=Math.floor(v*o),S=Bg(p,C),O=$f(S);O.drawImage(t,0,0,f,v,0,0,p,C),u(S)})},Hx=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),u=Math.round(t*o);return Math.ceil(u/o)},VD=function(t,r){return t.toCanvas().then(function(o){return z6(o,t.getType(),r)})},z6=function(t,r,o){var u=o<0?360+o:o,f=u*Math.PI/180,v=t.width,p=t.height,C=Math.sin(f),S=Math.cos(f),O=Hx(Math.abs(v*S)+Math.abs(p*C)),N=Hx(Math.abs(v*C)+Math.abs(p*S)),H=Bg(O,N),ne=$f(H);return ne.translate(O/2,N/2),ne.rotate(f),ne.drawImage(t,-v/2,-p/2),zd(H,r)},H6=function(t,r){return t.toCanvas().then(function(o){return V6(o,t.getType(),r)})},V6=function(t,r,o){var u=Bg(t.width,t.height),f=$f(u);return o==="v"?(f.scale(1,-1),f.drawImage(t,0,-u.height)):(f.scale(-1,1),f.drawImage(t,-u.width,0)),zd(u,r)},UD=function(t,r,o,u,f){return t.toCanvas().then(function(v){return U6(v,t.getType(),r,o,u,f)})},U6=function(t,r,o,u,f,v){var p=Bg(f,v),C=$f(p);return C.drawImage(t,-o,-u),zd(p,r)},W6=function(t,r,o){return t.toCanvas().then(function(u){return Hd(u,r,o).then(function(f){return zd(f,t.getType())})})},j6=function(t){return F6(t)},q6=function(t){return L6(t)},K6=function(t,r){return la(t,r)},G6=function(t,r,o,u){return N6(t,r,o,u)},Y6=function(t,r){return zD(t,r)},X6=function(t,r){return I6(t,r)},WD=function(t,r){return H6(t,r)},Z6=function(t,r,o,u,f){return UD(t,r,o,u,f)},J6=function(t,r,o){return W6(t,r,o)},Vx=function(t,r){return VD(t,r)},jD=function(t,r,o){return lc(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},ly=function(t,r){return jD(t,r,[])},qD=function(t,r){return jD(t,r,[Ir.config({})])},Ux=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:$n([Ir.config({})])}},Wx,KD=Zn("toolbar.button.execute"),GD=function(t){return Yl(function(r,o){Ag(t,r)(function(u){hr(r,KD,{buttonApi:u}),t.onAction(u)})})},YD=(Wx={},Wx[Tl()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],Wx),Vd=Zn("update-menu-text"),XD=Zn("update-menu-icon"),sy=function(t,r,o){var u=Cr(_),f=t.text.map(function(H){return ka(Ux(H,r,o.providers))}),v=t.icon.map(function(H){return ka(qD(H,o.providers.icons))}),p=function(H,ne){var ie=Rn.getValue(H);return Dr.focus(ie),hr(ie,"keydown",{raw:ne.event.raw}),xs.close(ie),E.some(!0)},C=t.role.fold(function(){return{}},function(H){return{role:H}}),S=t.tooltip.fold(function(){return{}},function(H){var ne=o.providers.translate(H);return{title:ne,"aria-label":ne}}),O=lc("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),N=ka(xs.sketch(z(z(z({},t.uid?{uid:t.uid}:{}),C),{dom:{tag:"button",classes:[r,r+"--select"].concat(it(t.classes,function(H){return r+"--"+H})),attributes:z({},S)},components:Cf([v.map(function(H){return H.asSpec()}),f.map(function(H){return H.asSpec()}),E.some(O)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:$n(he(he([],t.dropdownBehaviours,!0),[Cs.button(function(){return t.disabled||o.providers.isDisabled()}),Qo(),Oh.config({}),Ir.config({}),Vr("dropdown-events",[Ad(t,u),$d(t,u)]),Vr("menubutton-update-display-text",[nn(Vd,function(H,ne){f.bind(function(ie){return ie.getOpt(H)}).each(function(ie){Ir.set(ie,[ji(o.providers.translate(ne.event.text))])})}),nn(XD,function(H,ne){v.bind(function(ie){return ie.getOpt(H)}).each(function(ie){Ir.set(ie,[qD(ne.event.icon,o.providers.icons)])})})])],!1)),eventOrder:zt(YD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:$n([Sr.config({mode:"special",onLeft:p,onRight:p})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:Ed(!1,t.columns,t.presets)},fetch:function(H){return Ai.nu(me(t.fetch,H))}})));return N.asSpec()},ZD=function(t){return y(t)},cy=function(t){return t.type==="separator"},Q6=function(t){return an(t,"getSubmenuItems")},eL={type:"separator"},tL=function(t,r){var o=gt(t,function(u,f){return ZD(f)?f===""?u:f==="|"?u.length>0&&!cy(u[u.length-1])?u.concat([eL]):u:an(r,f.toLowerCase())?u.concat([r[f.toLowerCase()]]):u:u.concat([f])},[]);return o.length>0&&cy(o[o.length-1])&&o.pop(),o},nL=function(t,r){var o=t.getSubmenuItems(),u=Fg(o,r),f=zt(u.menus,Ac(t.value,u.items)),v=zt(u.expansions,Ac(t.value,t.value));return{item:t,menus:f,expansions:v}},rL=function(t,r){return Q6(t)?nL(t,r):{item:t,menus:{},expansions:{}}},aL=function(t){if(cy(t))return t;var r=_t(t,"value").getOrThunk(function(){return Zn("generated-menu-item")});return zt({value:r},t)},Fg=function(t,r){var o=tL(y(t)?t.split(" "):t,r);return at(o,function(u,f){var v=aL(f),p=rL(v,r);return{menus:zt(u.menus,p.menus),items:[p.item].concat(u.items),expansions:zt(u.expansions,p.expansions)}},{menus:{},expansions:{},items:[]})},Ig=function(t,r,o,u){var f=Zn("primary-menu"),v=Fg(t,o.shared.providers.menuItems());if(v.items.length===0)return E.none();var p=l$(f,v.items,r,o,u),C=Xt(v.menus,function(O,N){return l$(N,O,r,o,!1)}),S=zt(C,Ac(f,p));return E.from(kd.tieredData(f,S,v.expansions))},jx=function(t){return{isDisabled:function(){return mr.isDisabled(t)},setDisabled:function(r){return mr.set(t,r)},setActive:function(r){var o=t.element;r?(oi(o,"tox-tbtn--enabled"),Zr(o,"aria-pressed",!0)):(Zo(o,"tox-tbtn--enabled"),xi(o,"aria-pressed"))},isActive:function(){return ku(t.element,"tox-tbtn--enabled")}}},qx=function(t,r,o,u){return sy({text:t.text,icon:t.icon,tooltip:t.tooltip,role:u,fetch:function(f,v){t.fetch(function(p){v(Ig(p,Fi.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:jx,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ro.config({})]},r,o.shared)},oL=function(t,r,o){var u=function(v){return function(p){var C=!p.isActive();p.setActive(C),v.storage.set(C),o.shared.getSink().each(function(S){r().getOpt(S).each(function(O){Zs(O.element),hr(O,sc,{name:v.name,value:v.storage.get()})})})}},f=function(v){return function(p){p.setActive(v.storage.get())}};return function(v){v(it(t,function(p){var C=p.text.fold(function(){return{}},function(S){return{text:S}});return z(z({type:p.type,active:!1},C),{onAction:u(p),onSetup:f(p)})}))}},JD=function(t,r,o,u,f,v){o===void 0&&(o=[]);var p=r.fold(function(){return{}},function(O){return{action:O}}),C=z({buttonBehaviours:$n([Cs.button(function(){return t.disabled||v.isDisabled()}),Qo(),Ro.config({}),Vr("button press",[hT("click"),hT("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},p),S=zt(C,{dom:u});return zt(S,{components:f})},QD=function(t,r,o,u){u===void 0&&(u=[]);var f=t.tooltip.map(function(S){return{"aria-label":o.translate(S),title:o.translate(S)}}).getOr({}),v={tag:"button",classes:["tox-tbtn"],attributes:f},p=t.icon.map(function(S){return ly(S,o.icons)}),C=Cf([p]);return JD(t,r,u,v,C,o)},Kx=function(t,r,o,u){u===void 0&&(u=[]);var f=QD(t,E.some(r),o,u);return _u.sketch(f)},Gx=function(t,r,o,u,f){u===void 0&&(u=[]),f===void 0&&(f=[]);var v=o.translate(t.text),p=t.icon?t.icon.map(function(H){return ly(H,o.icons)}):E.none(),C=p.isSome()?Cf([p]):[],S=p.isSome()?{}:{innerHtml:v},O=he(he(he(he([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),p.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),f,!0),N=z(z({tag:"button",classes:O},S),{attributes:{title:v}});return JD(t,r,u,N,C,o)},Yx=function(t,r,o,u,f){u===void 0&&(u=[]),f===void 0&&(f=[]);var v=Gx(t,E.some(r),o,u,f);return _u.sketch(v)},Uh=function(t,r){return function(o){r==="custom"?hr(o,sc,{name:t,value:{}}):r==="submit"?Ca(o,sl):r==="cancel"&&Ca(o,_d)}},fy=function(t,r){return r==="menu"},iL=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},vy=function(t,r,o){if(fy(t,r)){var u=function(){return p},f=t,v=z(z({},t),{onSetup:function(O){return O.setDisabled(t.disabled),_},fetch:oL(f.items,u,o)}),p=ka(qx(v,"tox-tbtn",o,E.none()));return p.asSpec()}else if(iL(t,r)){var C=Uh(t.name,r),S=z(z({},t),{borderless:!1});return Yx(S,C,o.shared.providers,[])}},uL=function(t,r){var o=Uh(t.name,"custom");return QN(E.none(),ha.parts.field(z({factory:_u},Gx(t,E.some(o),r,[Af.memory(""),vc.self()]))))},lL=R([nt("field1Name","field1"),nt("field2Name","field2"),Eu("onLockedChange"),ld(["lockClass"]),nt("locked",!1),Zl.field("coupledFieldBehaviours",[ia,Rn])]),Xx=function(t,r,o){return Ua(t,r,o).bind(ia.getCurrent)},dy=function(t,r){return Yi({factory:ha,name:t,overrides:function(o){return{fieldBehaviours:$n([Vr("coupled-input-behaviour",[nn(Dm(),function(u){Xx(u,o,r).each(function(f){Ua(u,o,"lock").each(function(v){fa.isOn(v)&&o.onLockedChange(u,f,v)})})})])])}}})},e4=R([dy("field1","field2"),dy("field2","field1"),Yi({factory:_u,schema:[tn("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:$n([fa.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),sL=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,behaviours:Zl.augment(t.coupledFieldBehaviours,[ia.config({find:E.some}),Rn.config({store:{mode:"manual",getValue:function(f){var v,p=$1(f,t,["field1","field2"]);return v={},v[t.field1Name]=Rn.getValue(p.field1()),v[t.field2Name]=Rn.getValue(p.field2()),v},setValue:function(f,v){var p=$1(f,t,["field1","field2"]);Un(v,t.field1Name)&&Rn.setValue(p.field1(),v[t.field1Name]),Un(v,t.field2Name)&&Rn.setValue(p.field2(),v[t.field2Name])}}})]),apis:{getField1:function(f){return Ua(f,t,"field1")},getField2:function(f){return Ua(f,t,"field2")},getLock:function(f){return Ua(f,t,"lock")}}}},Ku=Du({name:"FormCoupledInputs",configFields:lL(),partFields:e4(),factory:sL,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),cL=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(f){return f in r?r[f]:1},u=t.value.toFixed(o(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},Zx=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var u=parseFloat(o[1]),f=o[2];return Xr.value({value:u,unit:f})}else return Xr.error(t)},Jx=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=function(f){return an(o,f)};return t.unit===r?E.some(t.value):u(t.unit)&&u(r)?o[t.unit]===o[r]?E.some(t.value):E.some(t.value/o[t.unit]*o[r]):E.none()},Qx=function(t){return E.none()},Wh=function(t,r){return function(o){return Jx(o,r).map(function(u){return{value:u*t,unit:r}})}},fL=function(t,r){var o=Zx(t).toOptional(),u=Zx(r).toOptional();return _a(o,u,function(f,v){return Jx(f,v.unit).map(function(p){return v.value/p}).map(function(p){return Wh(p,v.unit)}).getOr(Qx)}).getOr(Qx)},t4=function(t,r){var o=Qx,u=Zn("ratio-event"),f=function(H){return lc(H,{tag:"span",classes:["tox-icon","tox-lock-icon__"+H]},r.icons)},v=Ku.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[f("lock"),f("unlock")],buttonBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Qo(),Ro.config({})])}),p=function(H){return{dom:{tag:"div",classes:["tox-form__group"]},components:H}},C=function(H){return ha.parts.field({factory:Th,inputClasses:["tox-textfield"],inputBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Qo(),Ro.config({}),Vr("size-input-events",[nn(Gf(),function(ne,ie){hr(ne,u,{isField1:H})}),nn(_m(),function(ne,ie){hr(ne,Rl,{name:t.name})})])]),selectOnFocus:!1})},S=function(H){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(H)}}},O=Ku.parts.field1(p([ha.parts.label(S("Width")),C(!0)])),N=Ku.parts.field2(p([ha.parts.label(S("Height")),C(!1)]));return Ku.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[O,N,p([S("&nbsp;"),v])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(H,ne,ie){Zx(Rn.getValue(H)).each(function(ge){o(ge).each(function($e){Rn.setValue(ne,cL($e))})})},coupledFieldBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(H){Ku.getField1(H).bind(ha.getField).each(mr.disable),Ku.getField2(H).bind(ha.getField).each(mr.disable),Ku.getLock(H).each(mr.disable)},onEnabled:function(H){Ku.getField1(H).bind(ha.getField).each(mr.enable),Ku.getField2(H).bind(ha.getField).each(mr.enable),Ku.getLock(H).each(mr.enable)}}),Qo(),Vr("size-input-events2",[nn(u,function(H,ne){var ie=ne.event.isField1,ge=ie?Ku.getField1(H):Ku.getField2(H),$e=ie?Ku.getField2(H):Ku.getField1(H),Ze=ge.map(Rn.getValue).getOr(""),Se=$e.map(Rn.getValue).getOr("");o=fL(Ze,Se)})])])})},vL=R(Zn("undo")),dL=R(Zn("redo")),n4=R(Zn("zoom")),mL=R(Zn("back")),gL=R(Zn("apply")),pL=R(Zn("swap")),hL=R(Zn("transform")),bL=R(Zn("temp-transform")),r4=R(Zn("transform-apply")),Zi={undo:vL,redo:dL,zoom:n4,back:mL,apply:gL,swap:pL,transform:hL,tempTransform:bL,transformApply:r4},yL=R("save-state"),wL=R("disable"),a4=R("enable"),Mu={formActionEvent:sc,saveState:yL,disable:wL,enable:a4},CL=function(t,r){var o=function(Ln,Ur,Ea,go){return ka(Yx({name:Ln,text:Ln,disabled:Ea,primary:go,icon:E.none(),borderless:!1},Ur,r))},u=function(Ln,Ur,Ea,go){return ka(Kx({name:Ln,icon:E.some(Ln),tooltip:E.some(Ur),disabled:go,primary:!1,borderless:!1},Ea,r))},f=function(Ln,Ur){Ln.map(function(Ea){var go=Ea.get(Ur);go.hasConfigured(mr)&&mr.disable(go)})},v=function(Ln,Ur){Ln.map(function(Ea){var go=Ea.get(Ur);go.hasConfigured(mr)&&mr.enable(go)})},p={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},C=_,S=function(Ln,Ur,Ea){hr(Ln,Ur,Ea)},O=function(Ln){return Ca(Ln,Mu.disable())},N=function(Ln){return Ca(Ln,Mu.enable())},H=function(Ln,Ur){O(Ln),S(Ln,Zi.transform(),{transform:Ur}),N(Ln)},ne=function(Ln,Ur){O(Ln),S(Ln,Zi.tempTransform(),{transform:Ur}),N(Ln)},ie=function(Ln){return function(){yc.getOpt(Ln).each(function(Ur){Ir.set(Ur,[Hv])})}},ge=function(Ln,Ur){O(Ln),S(Ln,Zi.transformApply(),{transform:Ur,swap:ie(Ln)}),N(Ln)},$e=function(){return o("Back",function(Ln){return S(Ln,Zi.back(),{swap:ie(Ln)})},!1,!1)},Ze=function(){return ka({dom:{tag:"div",classes:["tox-spacer"]},behaviours:$n([mr.config({})])})},Se=function(){return o("Apply",function(Ln){return S(Ln,Zi.apply(),{swap:ie(Ln)})},!0,!0)},et=function(){return function(Ln){var Ur=t.getRect();return Z6(Ln,Ur.x,Ur.y,Ur.w,Ur.h)}},Rt=[$e(),Ze(),o("Apply",function(Ln){var Ur=et();ge(Ln,Ur),t.hideCrop()},!1,!0)],Mt=Xi.sketch({dom:p,components:Rt.map(function(Ln){return Ln.asSpec()}),containerBehaviours:$n([Vr("image-tools-crop-buttons-events",[nn(Mu.disable(),function(Ln,Ur){f(Rt,Ln)}),nn(Mu.enable(),function(Ln,Ur){v(Rt,Ln)})])])}),Qe=ka(t4({name:"size",label:E.none(),constrain:!0,disabled:!1},r)),kt=function(Ln,Ur){return function(Ea){return J6(Ea,Ln,Ur)}},qt=[$e(),Ze(),Qe,Ze(),o("Apply",function(Ln){Qe.getOpt(Ln).each(function(Ur){var Ea=Rn.getValue(Ur),go=parseInt(Ea.width,10),Iu=parseInt(Ea.height,10),mu=kt(go,Iu);ge(Ln,mu)})},!1,!0)],Pn=Xi.sketch({dom:p,components:qt.map(function(Ln){return Ln.asSpec()}),containerBehaviours:$n([Vr("image-tools-resize-buttons-events",[nn(Mu.disable(),function(Ln,Ur){f(qt,Ln)}),nn(Mu.enable(),function(Ln,Ur){v(qt,Ln)})])])}),Qt=function(Ln,Ur){return function(Ea){return Ln(Ea,Ur)}},Mn=Qt(WD,"h"),rn=Qt(WD,"v"),jt=Qt(Vx,-90),Tn=Qt(Vx,90),Xn=function(Ln,Ur){ne(Ln,Ur)},Zt=[$e(),Ze(),u("flip-horizontally","Flip horizontally",function(Ln){Xn(Ln,Mn)},!1),u("flip-vertically","Flip vertically",function(Ln){Xn(Ln,rn)},!1),u("rotate-left","Rotate counterclockwise",function(Ln){Xn(Ln,jt)},!1),u("rotate-right","Rotate clockwise",function(Ln){Xn(Ln,Tn)},!1),Ze(),Se()],qn=Xi.sketch({dom:p,components:Zt.map(function(Ln){return Ln.asSpec()}),containerBehaviours:$n([Vr("image-tools-fliprotate-buttons-events",[nn(Mu.disable(),function(Ln,Ur){f(Zt,Ln)}),nn(Mu.enable(),function(Ln,Ur){v(Zt,Ln)})])])}),nr=function(Ln,Ur,Ea,go,Iu){var mu=Es.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Ln)}}),vl=Es.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),os=Es.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ka(Es.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Ea,maxX:Iu,getInitialValue:R({x:go})},components:[mu,vl,os],sliderBehaviours:$n([Dr.config({})]),onChoose:Ur}))},ra=function(Ln,Ur,Ea,go,Iu){var mu=function(vl,os,qg){var ib=Qt(Ur,qg.x/100);H(vl,ib)};return nr(Ln,mu,Ea,go,Iu)},Ta=function(Ln,Ur,Ea,go,Iu){return[$e(),ra(Ln,Ur,Ea,go,Iu),Se()]},Za=function(Ln,Ur,Ea,go,Iu){var mu=Ta(Ln,Ur,Ea,go,Iu);return Xi.sketch({dom:p,components:mu.map(function(vl){return vl.asSpec()}),containerBehaviours:$n([Vr("image-tools-filter-panel-buttons-events",[nn(Mu.disable(),function(vl,os){f(mu,vl)}),nn(Mu.enable(),function(vl,os){v(mu,vl)})])])})},yo=[$e(),Ze(),Se()],fl=Xi.sketch({dom:p,components:yo.map(function(Ln){return Ln.asSpec()})}),Qi=Za("Brightness",Y6,-100,0,100),Uy=Za("Contrast",X6,-100,0,100),vi=Za("Gamma",K6,-100,0,100),Jd=function(Ln,Ur,Ea){return function(go){return G6(go,Ln,Ur,Ea)}},Qd=function(Ln){var Ur=function(Ea,go,Iu){var mu=rb.getOpt(Ea),vl=ab.getOpt(Ea),os=em.getOpt(Ea);mu.each(function(qg){vl.each(function(ib){os.each(function(Kg){var v7=Rn.getValue(qg).x/100,d7=Rn.getValue(Kg).x/100,nm=Rn.getValue(ib).x/100,Gg=Jd(v7,d7,nm);H(Ea,Gg)})})})};return nr(Ln,Ur,0,100,200)},rb=Qd("R"),em=Qd("G"),ab=Qd("B"),Fu=[$e(),rb,em,ab,Se()],bc=Xi.sketch({dom:p,components:Fu.map(function(Ln){return Ln.asSpec()})}),du=function(Ln,Ur,Ea){return function(go){var Iu=function(){yc.getOpt(go).each(function(mu){Ir.set(mu,[Ln]),Ea(mu)})};S(go,Zi.swap(),{transform:Ur,swap:Iu})}},ob=function(Ln){t.showCrop()},zv=function(Ln){Qe.getOpt(Ln).each(function(Ur){var Ea=t.getMeasurements(),go=Ea.width,Iu=Ea.height;Rn.setValue(Ur,{width:go,height:Iu})})},jg=E.some(q6),di=E.some(j6),Rf=[u("crop","Crop",du(Mt,E.none(),ob),!1),u("resize","Resize",du(Pn,E.none(),zv),!1),u("orientation","Orientation",du(qn,E.none(),C),!1),u("brightness","Brightness",du(Qi,E.none(),C),!1),u("sharpen","Sharpen",du(fl,jg,C),!1),u("contrast","Contrast",du(Uy,E.none(),C),!1),u("color-levels","Color levels",du(bc,E.none(),C),!1),u("gamma","Gamma",du(vi,E.none(),C),!1),u("invert","Invert",du(fl,di,C),!1)],Hv=Xi.sketch({dom:p,components:Rf.map(function(Ln){return Ln.asSpec()})}),tm=Xi.sketch({dom:{tag:"div"},components:[Hv],containerBehaviours:$n([Ir.config({})])}),yc=ka(tm),Vv=function(Ln){return yc.getOpt(Ln).map(function(Ur){var Ea=Ur.components()[0];return Ea.components()[Ea.components().length-1]})};return{memContainer:yc,getApplyButton:Vv}},o4=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Bl=tinymce.util.Tools.resolve("tinymce.util.Observable"),Ng=tinymce.util.Tools.resolve("tinymce.util.VK"),ek=function(t){var r=Math.max,o=t.documentElement,u=t.body,f=r(o.scrollWidth,u.scrollWidth),v=r(o.clientWidth,u.clientWidth),p=r(o.offsetWidth,u.offsetWidth),C=r(o.scrollHeight,u.scrollHeight),S=r(o.clientHeight,u.clientHeight),O=r(o.offsetHeight,u.offsetHeight);return{width:f<p?v:f,height:C<O?S:C}},i4=function(t){return D(t.changedTouches)},my=function(t){if(i4(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function gy(t,r){var o,u,f,v,p=[],C=[],S=(o=r.document)!==null&&o!==void 0?o:document,O=(u=r.root)!==null&&u!==void 0?u:S,N=Te.fromDom(S),H,ne,ie,ge=Te.fromDom(O.getElementById((f=r.handle)!==null&&f!==void 0?f:t)),$e=function(Rt){var Mt=Rt.raw,Qe=ek(S);my(Mt),Rt.prevent(),H=Mt.button,ne=Mt.screenX,ie=Mt.screenY;var kt=Io(ge,"cursor");v=Te.fromTag("div",S),Ls(v,{position:"absolute",top:"0",left:"0",width:Qe.width+"px",height:Qe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:kt}),Vi(Ra(N),v),C.push(Ko(N,"mousemove",Ze),Ko(N,"touchmove",Ze),Ko(N,"mouseup",Se),Ko(N,"touchend",Se)),r.start(Mt)},Ze=function(Rt){var Mt=Rt.raw;if(my(Mt),Mt.button!==H)return Se(Rt);Mt.deltaX=Mt.screenX-ne,Mt.deltaY=Mt.screenY-ie,Rt.prevent(),r.drag(Mt)},Se=function(Rt){my(Rt.raw),Oe(C,function(Mt){return Mt.unbind()}),C=[],yl(v),r.stop&&r.stop(Rt.raw)},et=function(){Oe(C.concat(p),function(Rt){return Rt.unbind()}),C=[],p=[],D(v)&&yl(v)};return p.push(Ko(ge,"mousedown",$e),Ko(ge,"touchstart",$e)),{destroy:et}}var SL=0,py=function(t,r,o,u,f){var v,p=[],C="tox-",S=C+"crid-"+SL++,O=Te.fromDom(u),N=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],H=["top","right","bottom","left"],ne=function(Qt,Mn){return{x:Mn.x+Qt.x,y:Mn.y+Qt.y,w:Mn.w,h:Mn.h}},ie=function(Qt,Mn){return{x:Mn.x-Qt.x,y:Mn.y-Qt.y,w:Mn.w,h:Mn.h}},ge=function(){return ie(o,t)},$e=function(Qt,Mn,rn,jt){var Tn=Mn.x+rn*Qt.deltaX,Xn=Mn.y+jt*Qt.deltaY,Zt=Math.max(20,Mn.w+rn*Qt.deltaW),qn=Math.max(20,Mn.h+jt*Qt.deltaH),nr=t=o4.clamp({x:Tn,y:Xn,w:Zt,h:qn},o,Qt.name==="move");nr=ie(o,nr),Pn.fire("updateRect",{rect:nr}),Qe(nr)},Ze=function(){var Qt=function(Tn){var Xn;return gy(S,{document:u.ownerDocument,root:Er(O).dom,handle:S+"-"+Tn.name,start:function(){Xn=t},drag:function(Zt){$e(Tn,Xn,Zt.deltaX,Zt.deltaY)}})},Mn=Te.fromTag("div");cm(Mn,{id:S,class:C+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Vi(O,Mn),Oe(H,function(Tn){ii(O,"#"+S).each(function(Xn){var Zt=Te.fromTag("div");cm(Zt,{id:S+"-"+Tn,class:C+"croprect-block","data-mce-bogus":"all"}),Pr(Zt,"display","none"),Vi(Xn,Zt)})}),Oe(N,function(Tn){ii(O,"#"+S).each(function(Xn){var Zt=Te.fromTag("div");cm(Zt,{id:S+"-"+Tn.name,"aria-label":Tn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Tn.label}),od(Zt,[C+"croprect-handle",C+"croprect-handle-"+Tn.name]),Pr(Zt,"display","none"),Vi(Xn,Zt)})}),v=it(N,Qt),et(t);var rn=function(Tn){Zr(Tn.target,"aria-grabbed",Tn.raw.type==="focus"?"true":"false")},jt=function(Tn){var Xn;Oe(N,function(qn){if(po(Tn.target,"id")===S+"-"+qn.name)return Xn=qn,!1});var Zt=function(qn,nr,ra,Ta,Za){qn.stopPropagation(),qn.preventDefault(),$e(Xn,ra,Ta,Za)};switch(Tn.raw.keyCode){case Ng.LEFT:Zt(Tn,Xn,t,-10,0);break;case Ng.RIGHT:Zt(Tn,Xn,t,10,0);break;case Ng.UP:Zt(Tn,Xn,t,0,-10);break;case Ng.DOWN:Zt(Tn,Xn,t,0,10);break;case Ng.ENTER:case Ng.SPACEBAR:Tn.prevent(),f();break}};p.push(Ko(O,"focusin",rn),Ko(O,"focusout",rn),Ko(O,"keydown",jt))},Se=function(Qt){var Mn=he(he([],it(N,function(jt){return"#"+S+"-"+jt.name}),!0),it(H,function(jt){return"#"+S+"-"+jt}),!0).join(","),rn=Au(O,Mn);Qt?Oe(rn,function(jt){return za(jt,"display")}):Oe(rn,function(jt){return Pr(jt,"display","none")})},et=function(Qt){var Mn=function(rn,jt){ii(O,"#"+S+"-"+rn).each(function(Tn){Ls(Tn,{left:jt.x+"px",top:jt.y+"px",width:Math.max(0,jt.w)+"px",height:Math.max(0,jt.h)+"px"})})};Oe(N,function(rn){ii(O,"#"+S+"-"+rn.name).each(function(jt){Ls(jt,{left:Qt.w*rn.xMul+Qt.x+"px",top:Qt.h*rn.yMul+Qt.y+"px"})})}),Mn("top",{x:r.x,y:r.y,w:r.w,h:Qt.y-r.y}),Mn("right",{x:Qt.x+Qt.w,y:Qt.y,w:r.w-Qt.x-Qt.w+r.x,h:Qt.h}),Mn("bottom",{x:r.x,y:Qt.y+Qt.h,w:r.w,h:r.h-Qt.y-Qt.h+r.y}),Mn("left",{x:r.x,y:Qt.y,w:Qt.x-r.x,h:Qt.h}),Mn("move",Qt)},Rt=function(Qt){t=Qt,et(t)},Mt=function(Qt){r=Qt,et(t)},Qe=function(Qt){Rt(ne(o,Qt))},kt=function(Qt){o=Qt,et(t)},qt=function(){Oe(v,function(Qt){return Qt.destroy()}),v=[],Oe(p,function(Qt){return Qt.unbind()}),p=[]};Ze();var Pn=z(z({},Bl),{toggleVisibility:Se,setClampRect:kt,setRect:Rt,getInnerRect:ge,setInnerRect:Qe,setViewPortRect:Mt,destroy:qt});return Pn},xL={create:py},jh=function(t){return new oh(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},u4=function(t){var r=ka({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Cr(1),u=kC(),f=Cr({x:0,y:0,w:1,h:1}),v=Cr({x:0,y:0,w:1,h:1}),p=function(Ze,Se){ge.getOpt(Ze).each(function(et){var Rt=o.get(),Mt=au(et.element),Qe=ri(et.element),kt=Se.dom.naturalWidth*Rt,qt=Se.dom.naturalHeight*Rt,Pn=Math.max(0,Mt/2-kt/2),Qt=Math.max(0,Qe/2-qt/2),Mn={left:Pn.toString()+"px",top:Qt.toString()+"px",width:kt.toString()+"px",height:qt.toString()+"px",position:"absolute"};Ls(Se,Mn),r.getOpt(et).each(function(rn){Ls(rn.element,Mn)}),u.run(function(rn){var jt=f.get();rn.setRect({x:jt.x*Rt+Pn,y:jt.y*Rt+Qt,w:jt.w*Rt,h:jt.h*Rt}),rn.setClampRect({x:Pn,y:Qt,w:kt,h:qt}),rn.setViewPortRect({x:0,y:0,w:Mt,h:Qe})})})},C=function(Ze,Se){ge.getOpt(Ze).each(function(et){var Rt=au(et.element),Mt=ri(et.element),Qe=Se.dom.naturalWidth,kt=Se.dom.naturalHeight,qt=Math.min(Rt/Qe,Mt/kt);qt>=1?o.set(1):o.set(qt)})},S=function(Ze,Se){var et=Te.fromTag("img");return Zr(et,"src",Se),jh(et.dom).then(function(){Ze.getSystem().isConnected()&&ge.getOpt(Ze).map(function(Rt){var Mt=eC({element:et});Ir.replaceAt(Rt,1,E.some(Mt));var Qe=v.get(),kt={x:0,y:0,w:et.dom.naturalWidth,h:et.dom.naturalHeight};v.set(kt);var qt=o4.inflate(kt,-20,-20);f.set(qt),(Qe.w!==kt.w||Qe.h!==kt.h)&&C(Rt,et),p(Rt,et)})})},O=function(Ze,Se){var et=o.get(),Rt=Se>0?Math.min(2,et+.1):Math.max(.1,et-.1);o.set(Rt),ge.getOpt(Ze).each(function(Mt){var Qe=Mt.components()[1].element;p(Mt,Qe)})},N=function(){u.run(function(Ze){Ze.toggleVisibility(!0)})},H=function(){u.run(function(Ze){Ze.toggleVisibility(!1)})},ne=function(){return f.get()},ie=Xi.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:$n([Vr("image-panel-crop-events",[qr(function(Ze){ge.getOpt(Ze).each(function(Se){var et=Se.element.dom,Rt=xL.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},et,_);Rt.toggleVisibility(!1),Rt.on("updateRect",function(Mt){var Qe=Mt.rect,kt=o.get(),qt={x:Math.round(Qe.x/kt),y:Math.round(Qe.y/kt),w:Math.round(Qe.w/kt),h:Math.round(Qe.h/kt)};f.set(qt)}),u.set(Rt)})}),Gl(function(){u.clear()})])])}],containerBehaviours:$n([Ir.config({}),Vr("image-panel-events",[qr(function(Ze){S(Ze,t)})])])}),ge=ka(ie),$e=function(){var Ze=v.get();return{width:Ze.w,height:Ze.h}};return{memContainer:ge,updateSrc:S,zoom:O,showCrop:N,hideCrop:H,getRect:ne,getMeasurements:$e}},Gu=function(t,r,o,u,f){return Kx({name:t,icon:E.some(r),disabled:o,tooltip:E.some(t),primary:!1,borderless:!1},u,f)},l4=function(t,r){r?mr.enable(t):mr.disable(t)},s4=function(t){var r=function(v,p,C){o.getOpt(v).each(function(S){l4(S,p)}),u.getOpt(v).each(function(S){l4(S,C)})},o=ka(Gu("Undo","undo",!0,function(v){hr(v,Zi.undo(),{direction:1})},t)),u=ka(Gu("Redo","redo",!0,function(v){hr(v,Zi.redo(),{direction:1})},t)),f=Xi.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),u.asSpec(),Gu("Zoom in","zoom-in",!1,function(v){hr(v,Zi.zoom(),{direction:1})},t),Gu("Zoom out","zoom-out",!1,function(v){hr(v,Zi.zoom(),{direction:-1})},t)]});return{container:f,updateButtonUndoStates:r}};function kL(){var t=[],r=-1,o=function(C){var S=t.splice(++r);return t.push(C),{state:C,removed:S}},u=function(){if(v())return t[--r]},f=function(){if(p())return t[++r]},v=function(){return r>0},p=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:u,redo:f,canUndo:v,canRedo:p}}var TL=function(t){var r=Cr(t),o=Po(),u=kL();u.add(t);var f=function(){return r.get()},v=function(et){r.set(et)},p=function(){return o.get().getOrThunk(r.get)},C=function(et){var Rt=S(et);return H(),o.set(Rt),Rt.url},S=function(et){return{blob:et,url:URL.createObjectURL(et)}},O=function(et){URL.revokeObjectURL(et.url)},N=function(et){Pv.each(et,O)},H=function(){o.on(O),o.clear()},ne=function(et){var Rt=S(et);v(Rt);var Mt=u.add(Rt).removed;return N(Mt),Rt.url},ie=function(et){var Rt=S(et);return o.set(Rt),Rt.url},ge=function(et){return o.get().fold(_,function(Rt){ne(Rt.blob),et()})},$e=function(){var et=u.undo();return v(et),et.url},Ze=function(){var et=u.redo();return v(et),et.url},Se=function(){var et=u.canUndo(),Rt=u.canRedo();return{undoEnabled:et,redoEnabled:Rt}};return{getBlobState:f,setBlobState:v,addBlobState:ne,getTempState:p,updateTempState:C,addTempState:ie,applyTempState:ge,destroyTempState:H,undo:$e,redo:Ze,getHistoryStates:Se}},EL=function(t,r){var o=TL(t.currentState),u=function(rn,jt){var Tn=jt.event.direction;qt.zoom(rn,Tn)},f=function(rn){var jt=o.getHistoryStates();Pn.updateButtonUndoStates(rn,jt.undoEnabled,jt.redoEnabled),hr(rn,Mu.formActionEvent,{name:Mu.saveState(),value:jt.undoEnabled})},v=function(rn){Pn.updateButtonUndoStates(rn,!1,!1)},p=function(rn,jt){var Tn=o.undo();H(rn,Tn).then(function(Xn){N(rn),f(rn)})},C=function(rn,jt){var Tn=o.redo();H(rn,Tn).then(function(Xn){N(rn),f(rn)})},S=function(rn){return rn.toBlob()},O=function(rn){hr(rn,Mu.formActionEvent,{name:Mu.disable(),value:{}})},N=function(rn){Qt.getApplyButton(rn).each(function(jt){mr.enable(jt)}),hr(rn,Mu.formActionEvent,{name:Mu.enable(),value:{}})},H=function(rn,jt){return O(rn),qt.updateSrc(rn,jt)},ne=function(rn,jt,Tn,Xn,Zt){O(rn),_6(jt).then(Tn).then(S).then(Xn).then(function(qn){return H(rn,qn)}).then(function(){f(rn),Zt(),N(rn)}).catch(function(qn){rn.getSystem().isConnected()&&N(rn)})},ie=function(rn,jt,Tn){var Xn=o.getBlobState().blob,Zt=function(qn){return o.updateTempState(qn)};ne(rn,Xn,jt,Zt,Tn)},ge=function(rn,jt){var Tn=o.getTempState().blob,Xn=function(Zt){return o.addTempState(Zt)};ne(rn,Tn,jt,Xn,_)},$e=function(rn,jt,Tn){var Xn=o.getBlobState().blob,Zt=function(qn){var nr=o.addBlobState(qn);return Se(rn),nr};ne(rn,Xn,jt,Zt,Tn)},Ze=function(rn,jt){var Tn=function(){Se(rn);var Xn=jt.event.swap;Xn()};o.applyTempState(Tn)},Se=function(rn){var jt=o.getBlobState().url;return o.destroyTempState(),f(rn),jt},et=function(rn){var jt=Se(rn);H(rn,jt).then(function(Tn){N(rn)})},Rt=function(rn,jt){et(rn);var Tn=jt.event.swap;Tn(),qt.hideCrop()},Mt=function(rn,jt){return ie(rn,jt.event.transform,_)},Qe=function(rn,jt){return ge(rn,jt.event.transform)},kt=function(rn,jt){return $e(rn,jt.event.transform,jt.event.swap)},qt=u4(t.currentState.url),Pn=s4(r),Qt=CL(qt,r),Mn=function(rn,jt){v(rn);var Tn=jt.event.transform,Xn=jt.event.swap;Tn.fold(function(){Xn()},function(Zt){ie(rn,Zt,Xn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Qt.memContainer.asSpec(),qt.memContainer.asSpec(),Pn.container],behaviours:$n([Rn.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Vr("image-tools-events",[nn(Zi.undo(),p),nn(Zi.redo(),C),nn(Zi.zoom(),u),nn(Zi.back(),Rt),nn(Zi.apply(),Ze),nn(Zi.transform(),Mt),nn(Zi.tempTransform(),Qe),nn(Zi.transformApply(),kt),nn(Zi.swap(),Mn)]),vc.self()])}},OL=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},u=it(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(u),behaviours:$n([vc.self(),Ir.config({}),Af.domHtml(E.none()),Sr.config({mode:"acyclic"})])}},tk=function(t){return!an(t,"items")},c4="data-value",f4=function(t,r,o,u){return it(o,function(f){return tk(f)?{type:"togglemenuitem",text:f.text,value:f.value,active:f.value===u,onAction:function(){Rn.setValue(t,f.value),hr(t,Rl,{name:r}),Dr.focus(t)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:function(){return f4(t,r,f.items,u)}}})},v4=function(t,r){return rt(t,function(o){return tk(o)?hn(o.value===r,o):v4(o.items,r)})},AL=function(t,r){var o=r.shared.providers,u=$t(t.items).filter(tk),f=t.label.map(function(C){return kf(C,o)}),v=ha.parts.field({dom:{},factory:{sketch:function(C){return sy({uid:C.uid,text:u.map(function(S){return S.text}),icon:E.none(),tooltip:t.label,role:E.none(),fetch:function(S,O){var N=f4(S,t.name,t.items,Rn.getValue(S));O(Ig(N,Fi.CLOSE_ON_EXECUTE,r,!1))},onSetup:R(_),getApi:R({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ro.config({}),Rn.config({store:{mode:"manual",initialValue:u.map(function(S){return S.value}).getOr(""),getValue:function(S){return po(S.element,c4)},setValue:function(S,O){v4(t.items,O).each(function(N){Zr(S.element,c4,N.value),hr(S,Vd,{text:N.text})})}}})]},"tox-listbox",r.shared)}}}),p={dom:{tag:"div",classes:["tox-listboxfield"]},components:[v]};return ha.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([f.toArray(),[p]]),fieldBehaviours:$n([mr.config({disabled:R(t.disabled),onDisabled:function(C){ha.getField(C).each(mr.disable)},onEnabled:function(C){ha.getField(C).each(mr.enable)}})])})},d4=function(t,r){return{dom:{tag:"div",classes:t.classes},components:it(t.items,r.shared.interpreter)}},m4=function(t,r){var o=it(t.options,function(f){return{dom:{tag:"option",value:f.value,innerHtml:f.text}}}),u=t.data.map(function(f){return Ac("initialValue",f)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Oi(t.selectBehaviours,[Dr.config({}),Rn.config({store:z({mode:"manual",getValue:function(f){return uv(f.element)},setValue:function(f,v){var p=Et(t.options,function(C){return C.value===v});p.isSome()&&Hm(f.element,v)}},u)})])}},g4=Pl({name:"HtmlSelect",configFields:[tn("options"),li("selectBehaviours",[Dr,Rn]),nt("selectClasses",[]),nt("selectAttributes",{}),$a("data")],factory:m4}),$L=function(t,r){var o=it(t.items,function(C){return{text:r.translate(C.text),value:C.value}}),u=t.label.map(function(C){return kf(C,r)}),f=ha.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:g4,selectBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ro.config({}),Vr("selectbox-change",[nn(_m(),function(C,S){hr(C,Rl,{name:t.name})})])])}),v=t.size>1?E.none():E.some(lc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),p={dom:{tag:"div",classes:["tox-selectfield"]},components:Re([[f],v.toArray()])};return ha.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Re([u.toArray(),[p]]),fieldBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(C){ha.getField(C).each(mr.disable)},onEnabled:function(C){ha.getField(C).each(mr.enable)}}),Qo()])})},p4=function(t,r){var o=function(C){return{dom:{tag:"th",innerHtml:r.translate(C)}}},u=function(C){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:it(C,o)}]}},f=function(C){return{dom:{tag:"td",innerHtml:r.translate(C)}}},v=function(C){return{dom:{tag:"tr"},components:it(C,f)}},p=function(C){return{dom:{tag:"tbody"},components:it(C,v)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),p(t.cells)],behaviours:$n([Ro.config({}),Dr.config({})])}},h4=function(t,r){var o=t.label.map(function(ne){return kf(ne,r)}),u=[mr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Qo(),Sr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ne){return Ca(ne,sl),E.some(!0)}}),Vr("textfield-change",[nn(Dm(),function(ne,ie){hr(ne,Rl,{name:t.name})}),nn(Mw(),function(ne,ie){hr(ne,Rl,{name:t.name})})]),Ro.config({})],f=t.validation.map(function(ne){return cc.config({getRoot:function(ie){return ni(ie.element)},invalidClass:"tox-invalid",validator:{validate:function(ie){var ge=Rn.getValue(ie),$e=ne.validator(ge);return Ai.pure($e===!0?Xr.value(ge):Xr.error($e))},validateOnLoad:ne.validateOnLoad}})}).toArray(),v=t.placeholder.fold(R({}),function(ne){return{placeholder:r.translate(ne)}}),p=t.inputMode.fold(R({}),function(ne){return{inputmode:ne}}),C=z(z({},v),p),S=ha.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:C,inputClasses:[t.classname],inputBehaviours:$n(Re([u,f])),selectOnFocus:!1,factory:Th}),O=t.flex?["tox-form__group--stretched"]:[],N=O.concat(t.maximized?["tox-form-group--maximize"]:[]),H=[mr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ne){ha.getField(ne).each(mr.disable)},onEnabled:function(ne){ha.getField(ne).each(mr.enable)}}),Qo()];return xh(o,S,N,H)},DL=function(t,r){return h4({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:E.none(),maximized:t.maximized},r)},_L=function(t,r){return h4({name:t.name,multiline:!0,label:t.label,inputMode:E.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:E.none(),maximized:t.maximized},r)},PL=function(t,r){var o=t.stream.streams,u=o.setup(t,r);return Va([nn(t.event,u),Gl(function(){return r.cancel()})].concat(t.cancelEvent.map(function(f){return[nn(f,function(){return r.cancel()})]}).getOr([])))},ML=Object.freeze({__proto__:null,events:PL}),b4=function(t){var r=Cr(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},u=function(v){r.set(v)},f=function(){var v=r.get();v!==null&&v.cancel()};return al({readState:o,setTimer:u,cancel:f})},RL=function(t){return t.stream.streams.state(t)},BL=Object.freeze({__proto__:null,throttle:b4,init:RL}),FL=function(t,r){var o=t.stream,u=oS(t.onStream,o.delay);return r.setTimer(u),function(f,v){u.throttle(f,v),o.stopEvent&&v.stop()}},IL=[tl("stream",Vl("mode",{throttle:[tn("delay"),nt("stopEvent",!0),ro("streams",{setup:FL,state:b4})]})),nt("event","input"),$a("cancelEvent"),Eu("onStream")],y4=bi({fields:IL,name:"streaming",active:ML,state:BL}),hy=function(t,r,o){var u=Rn.getValue(o);Rn.setValue(r,u),C4(r)},w4=function(t,r){var o=t.element,u=uv(o),f=o.dom;po(o,"type")!=="number"&&r(f,u)},C4=function(t){w4(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},S4=function(t,r){w4(t,function(o,u){return o.setSelectionRange(r,u.length)})},NL=function(t,r,o){if(t.selectsOver){var u=Rn.getValue(r),f=t.getDisplayText(u),v=Rn.getValue(o),p=t.getDisplayText(v);return p.indexOf(f)===0?E.some(function(){hy(t,r,o),S4(r,f.length)}):E.none()}else return E.none()},nk=R("alloy.typeahead.itemexecute"),x4=function(t,r,o,u){var f=function(S,O,N){t.previewing.set(!1);var H=Bo.getCoupled(S,"sandbox");if(ua.isOpen(H))ia.getCurrent(H).each(function(ie){Da.getHighlighted(ie).fold(function(){N(ie)},function(){gT(H,ie.element,"keydown",O)})});else{var ne=function(ie){ia.getCurrent(ie).each(N)};z0(t,p(S),S,H,u,ne,Ss.HighlightFirst).get(_)}},v=I0(t),p=function(S){return function(O){return O.map(function(N){var H=Lt(N.menus),ne=Tt(H,function(ge){return Be(ge.items,function($e){return $e.type==="item"})}),ie=Rn.getState(S);return ie.update(it(ne,function(ge){return ge.data})),N})}},C=[Dr.config({}),Rn.config({onSetValue:t.onSetValue,store:z({mode:"dataset",getDataKey:function(S){return uv(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,O){Hm(S.element,t.model.getDisplayText(O))}},t.initialData.map(function(S){return Ac("initialValue",S)}).getOr({}))}),y4.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(S,O){var N=Bo.getCoupled(S,"sandbox"),H=Dr.isFocused(S);if(H&&uv(S.element).length>=t.minChars){var ne=ia.getCurrent(N).bind(function(ge){return Da.getHighlighted(ge).map(Rn.getValue)});t.previewing.set(!0);var ie=function(ge){ia.getCurrent(N).each(function($e){ne.fold(function(){t.model.selectsOver&&Da.highlightFirst($e)},function(Ze){Da.highlightBy($e,function(Se){var et=Rn.getValue(Se);return et.value===Ze.value}),Da.getHighlighted($e).orThunk(function(){return Da.highlightFirst($e),E.none()})})})};z0(t,p(S),S,N,u,ie,Ss.HighlightFirst).get(_)}},cancelEvent:Bw()}),Sr.config({mode:"special",onDown:function(S,O){return f(S,O,Da.highlightFirst),E.some(!0)},onEscape:function(S){var O=Bo.getCoupled(S,"sandbox");return ua.isOpen(O)?(ua.close(O),E.some(!0)):E.none()},onUp:function(S,O){return f(S,O,Da.highlightLast),E.some(!0)},onEnter:function(S){var O=Bo.getCoupled(S,"sandbox"),N=ua.isOpen(O);if(N&&!t.previewing.get())return ia.getCurrent(O).bind(function(ne){return Da.getHighlighted(ne)}).map(function(ne){return hr(S,nk(),{item:ne}),!0});var H=Rn.getValue(S);return Ca(S,Bw()),t.onExecute(O,S,H),N&&ua.close(O),E.some(!0)}}),fa.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Bo.config({others:{sandbox:function(S){return ix(t,S,{onOpen:function(){return fa.on(S)},onClose:function(){return fa.off(S)}})}}}),Vr("typeaheadevents",[Yl(function(S){var O=_;_g(t,p(S),S,u,O,Ss.HighlightFirst).get(_)}),nn(nk(),function(S,O){var N=Bo.getCoupled(S,"sandbox");hy(t.model,S,O.event.item),Ca(S,Bw()),t.onItemExecute(S,N,O.event.item,Rn.getValue(S)),ua.close(N),C4(S)})].concat(t.dismissOnBlur?[nn(Pw(),function(S){var O=Bo.getCoupled(S,"sandbox");Qs(O.element).isNone()&&ua.close(O)})]:[]))];return{uid:t.uid,dom:N0(zt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:z(z({},v),Oi(t.typeaheadBehaviours,C)),eventOrder:t.eventOrder}},LL=R([$a("lazySink"),tn("fetch"),nt("minChars",5),nt("responseTime",1e3),xa("onOpen"),nt("getHotspot",E.some),nt("getAnchorOverrides",R({})),nt("layouts",E.none()),nt("eventOrder",{}),xw("model",{},[nt("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),nt("selectsOver",!0),nt("populateFromBrowse",!0)]),xa("onSetValue"),ol("onExecute"),xa("onItemExecute"),nt("inputClasses",[]),nt("inputAttributes",{}),nt("inputStyles",{}),nt("matchWidth",!0),nt("useMinWidth",!1),nt("dismissOnBlur",!0),ld(["openClass"]),$a("initialData"),li("typeaheadBehaviours",[Dr,Rn,y4,Sr,fa,Bo]),Vu("previewing",function(){return Cr(!0)})].concat(S$()).concat(ux())),zL=R([hs({schema:[qb()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(u){NL(t.model,u,o).fold(function(){return Da.dehighlight(r,o)},function(f){return f()})}):r.getSystem().getByUid(t.uid).each(function(u){t.model.populateFromBrowse&&hy(t.model,u,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(u){return hr(u,nk(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(u){t.model.populateFromBrowse&&hy(t.model,u,o)})}}}})]),HL=Du({name:"Typeahead",configFields:LL(),partFields:zL(),factory:x4}),Os=function(t){var r=function(){return Os(t.toCached())},o=function(S){return Os(t.bind(function(O){return O.fold(function(N){return Ai.pure(Xr.error(N))},function(N){return S(N)})}))},u=function(S){return Os(t.map(function(O){return O.bind(S)}))},f=function(S){return Os(t.map(function(O){return O.map(S)}))},v=function(S){return Os(t.map(function(O){return O.mapError(S)}))},p=function(S,O){return t.map(function(N){return N.fold(S,O)})},C=function(S,O){return Os(Ai.nu(function(N){var H=!1,ne=setTimeout(function(){H=!0,N(Xr.error(O()))},S);t.get(function(ie){H||(clearTimeout(ne),N(ie))})}))};return z(z({},t),{toCached:r,bindFuture:o,bindResult:u,mapResult:f,mapError:v,foldResult:p,withTimeout:C})},k4=function(t){return Os(Ai.nu(t))},T4=function(t){return Os(Ai.pure(Xr.value(t)))},by=function(t){return Os(Ai.pure(Xr.error(t)))},VL=function(t){return Os(Ai.pure(t))},UL=function(t){return Os(t.map(Xr.value))},WL=function(t){return k4(function(r){t.then(function(o){r(Xr.value(o))},function(o){r(Xr.error(o))})})},jL={nu:k4,wrap:Os,pure:T4,value:T4,error:by,fromResult:VL,fromFuture:UL,fromPromise:WL},qL={type:"separator"},KL=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:_}},rk=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:_}},E4=function(t){return it(t,KL)},GL=function(t,r){return Be(r,function(o){return o.type===t})},O4=function(t,r){return E4(GL(t,r))},YL=function(t){return O4("header",t.targets)},XL=function(t){return O4("anchor",t.targets)},ZL=function(t){return E.from(t.anchorTop).map(function(r){return rk("<top>",r)}).toArray()},JL=function(t){return E.from(t.anchorBottom).map(function(r){return rk("<bottom>",r)}).toArray()},QL=function(t){return it(t,function(r){return rk(r,r)})},A4=function(t){return gt(t,function(r,o){var u=r.length===0||o.length===0;return u?r.concat(o):r.concat(qL,o)},[])},ak=function(t,r){var o=t.toLowerCase();return Be(r,function(u){var f=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text;return Nr(f.toLowerCase(),o)||Nr(u.value.toLowerCase(),o)})},e8=function(t,r,o){var u=Rn.getValue(r),f=u.meta.text!==void 0?u.meta.text:u.value,v=o.getLinkInformation();return v.fold(function(){return[]},function(p){var C=ak(f,QL(o.getHistory(t)));return t==="file"?A4([C,ak(f,YL(p)),ak(f,Re([ZL(p),XL(p),JL(p)]))]):C})},$4=Zn("aria-invalid"),t8=function(t,r,o){var u,f=r.shared.providers,v=function(Se){var et=Rn.getValue(Se);o.addToHistory(et.value,t.filetype)},p=ha.parts.field({factory:HL,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$4,type:"url"},minChars:0,responseTime:0,fetch:function(Se){var et=e8(t.filetype,Se,o),Rt=Ig(et,Fi.BUBBLE_TO_SANDBOX,r,!1);return Ai.pure(Rt)},getHotspot:function(Se){return ie.getOpt(Se)},onSetValue:function(Se,et){Se.hasConfigured(cc)&&cc.run(Se).get(_)},typeaheadBehaviours:$n(Re([o.getValidationHandler().map(function(Se){return cc.config({getRoot:function(et){return ni(et.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(et,Rt){O.getOpt(et).each(function(Mt){Zr(Mt.element,"title",f.translate(Rt))})}},validator:{validate:function(et){var Rt=Rn.getValue(et);return jL.nu(function(Mt){Se({type:t.filetype,url:Rt.value},function(Qe){if(Qe.status==="invalid"){var kt=Xr.error(Qe.message);Mt(kt)}else{var qt=Xr.value(Qe.message);Mt(qt)}})})},validateOnLoad:!1}})}).toArray(),[mr.config({disabled:function(){return t.disabled||f.isDisabled()}}),Ro.config({}),Vr("urlinput-events",Re([t.filetype==="file"?[nn(Dm(),function(Se){hr(Se,Rl,{name:t.name})})]:[],[nn(_m(),function(Se){hr(Se,Rl,{name:t.name}),v(Se)}),nn(Mw(),function(Se){hr(Se,Rl,{name:t.name}),v(Se)})]]))]])),eventOrder:(u={},u[Dm()]=["streaming","urlinput-events","invalidating"],u),model:{getDisplayText:function(Se){return Se.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:Ed(!1,1,"normal")},onExecute:function(Se,et,Rt){hr(et,sl,{})},onItemExecute:function(Se,et,Rt,Mt){v(Se),hr(Se,Rl,{name:t.name})}}),C=t.label.map(function(Se){return kf(Se,f)}),S=function(Se,et,Rt,Mt){return Rt===void 0&&(Rt=Se),Mt===void 0&&(Mt=Se),lc(Rt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Se],attributes:z({title:f.translate(Mt),"aria-live":"polite"},et.fold(function(){return{}},function(Qe){return{id:Qe}}))},f.icons)},O=ka(S("invalid",E.some($4),"warning")),N=ka({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),H=o.getUrlPicker(t.filetype),ne=Zn("browser.url.event"),ie=ka({dom:{tag:"div",classes:["tox-control-wrap"]},components:[p,N.asSpec()],behaviours:$n([mr.config({disabled:function(){return t.disabled||f.isDisabled()}})])}),ge=ka(Yx({name:t.name,icon:E.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(Se){return Ca(Se,ne)},f,[],["tox-browse-url"])),$e=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Re([[ie.asSpec()],H.map(function(){return ge.asSpec()}).toArray()])}},Ze=function(Se){ia.getCurrent(Se).each(function(et){var Rt=Rn.getValue(et),Mt=z({fieldname:t.name},Rt);H.each(function(Qe){Qe(Mt).get(function(kt){Rn.setValue(et,kt),hr(Se,Rl,{name:t.name})})})})};return ha.sketch({dom:t5(),components:C.toArray().concat([$e()]),fieldBehaviours:$n([mr.config({disabled:function(){return t.disabled||f.isDisabled()},onDisabled:function(Se){ha.getField(Se).each(mr.disable),ge.getOpt(Se).each(mr.disable)},onEnabled:function(Se){ha.getField(Se).each(mr.enable),ge.getOpt(Se).each(mr.enable)}}),Qo(),Vr("url-input-events",[nn(ne,Ze)])])})},n8=function(t,r){return Xi.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[_u.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:TA(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){hr(o,sc,{name:"alert-banner",value:t.url})},buttonBehaviours:$n([tS()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},r8=function(t,r){var o=Rn.config({store:{mode:"manual",getValue:function(S){var O=S.element.dom;return O.checked},setValue:function(S,O){var N=S.element.dom;N.checked=O}}}),u=function(S){return S.element.dom.click(),E.some(!0)},f=ha.parts.field({factory:{sketch:Q},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:$n([vc.self(),mr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ro.config({}),Dr.config({}),o,Sr.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),Vr("checkbox-events",[nn(_m(),function(S,O){hr(S,Rl,{name:t.name})})])])}),v=ha.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:$n([Oh.config({})])}),p=function(S){var O=S==="checked"?"selected":"unselected";return lc(O,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},r.icons)},C=ka({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return ha.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[f,C.asSpec(),v],fieldBehaviours:$n([mr.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){ha.getField(S).each(mr.disable)},onEnabled:function(S){ha.getField(S).each(mr.enable)}}),Qo()])})},D4=function(t){return t.presets==="presentation"?Xi.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Xi.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:$n([Ro.config({}),Dr.config({})])})},$o=function(t){return function(r,o,u){return _t(o,"name").fold(function(){return t(o,u)},function(f){return r.field(f,t(o,u))})}},yy=function(t){return function(r,o,u){var f=zt(o,{source:"dynamic"});return $o(t)(r,f,u)}},a8={bar:$o(function(t,r){return Dd(t,r.shared)}),collection:$o(function(t,r){return F0(t,r.shared.providers)}),alertbanner:$o(function(t,r){return n8(t,r.shared.providers)}),input:$o(function(t,r){return DL(t,r.shared.providers)}),textarea:$o(function(t,r){return _L(t,r.shared.providers)}),label:$o(function(t,r){return OL(t,r.shared)}),iframe:yy(function(t,r){return AD(t,r.shared.providers)}),button:$o(function(t,r){return uL(t,r.shared.providers)}),checkbox:$o(function(t,r){return r8(t,r.shared.providers)}),colorinput:$o(function(t,r){return w5(t,r.shared,r.colorinput)}),colorpicker:$o(m6),dropzone:$o(function(t,r){return C6(t,r.shared.providers)}),grid:$o(function(t,r){return ED(t,r.shared)}),listbox:$o(function(t,r){return AL(t,r)}),selectbox:$o(function(t,r){return $L(t,r.shared.providers)}),sizeinput:$o(function(t,r){return t4(t,r.shared.providers)}),urlinput:$o(function(t,r){return t8(t,r,r.urlinput)}),customeditor:$o(p6),htmlpanel:$o(D4),imagetools:$o(function(t,r){return EL(t,r.shared.providers)}),table:$o(function(t,r){return p4(t,r.shared.providers)}),panel:$o(function(t,r){return d4(t,r)})},o8={field:function(t,r){return r}},wy=function(t,r,o){var u=zt(o,{shared:{interpreter:function(f){return ok(t,f,u)}}});return ok(t,r,u)},ok=function(t,r,o){return _t(a8,r.type).fold(function(){return r},function(u){return u(t,r,o)})},i8=function(t,r){var o=o8;return ok(o,t,r)},Cy={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},_4=function(t,r,o){var u=12,f={maxHeightFunction:Rp()},v=function(){return{type:"node",root:Fn(t()),node:E.from(t()),bubble:Zm(u,u,Cy),layouts:{onRtl:function(){return[bg]},onLtr:function(){return[hg]}},overrides:f}},p=function(){return{type:"hotspot",hotspot:r(),bubble:Zm(-u,u,Cy),layouts:{onRtl:function(){return[qi]},onLtr:function(){return[Ki]}},overrides:f}};return function(){return o()?v():p()}},P4=function(t,r,o){var u=function(){return{type:"node",root:Fn(t()),node:E.from(t()),layouts:{onRtl:function(){return[uc]},onLtr:function(){return[uc]}}}},f=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Jo]},onLtr:function(){return[Jo]}}}};return function(){return o()?u():f()}},u8=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return E.some(Np.range(Te.fromDom(o.startContainer),o.startOffset,Te.fromDom(o.endContainer),o.endOffset))}}}},l8=function(t){return function(r){return{type:"node",root:t(),node:r}}},s8=function(t,r,o){var u=x0(t),f=function(){return Te.fromDom(t.getBody())},v=function(){return Te.fromDom(t.getContentAreaContainer())},p=function(){return u||!o()};return{inlineDialog:_4(v,r,p),banner:P4(v,r,p),cursor:u8(t,f),node:l8(f)}},c8=function(t){return function(r,o){var u=e$(t);u(r,o)}},f8=function(t){return function(){return K3(t)}},M4=function(t){return function(){return VS(t)}},v8=function(t){return function(){return Y3(t)}},R4=function(t){return{colorPicker:c8(t),hasCustomColors:f8(t),getColors:M4(t),getColorCols:v8(t)}},d8=function(t){return function(){return p3(t)}},m8=function(t){return{isDraggableModal:d8(t)}},ik=function(t){var r=Cr(f3(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},Sy=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],qh=function(t){return an(t,"items")},g8=function(t){return an(t,"block")},p8=function(t){return an(t,"inline")},h8=function(t){return an(t,"selector")},B4=function(t){return gt(t,function(r,o){if(qh(o)){var u=B4(o.items);return{customFormats:r.customFormats.concat(u.customFormats),formats:r.formats.concat([{title:o.title,items:u.formats}])}}else if(p8(o)||g8(o)||h8(o)){var f=y(o.name)?o.name:o.title.toLowerCase(),v="custom-"+f;return{customFormats:r.customFormats.concat([{name:v,format:o}]),formats:r.formats.concat([{title:o.title,format:v,icon:o.icon}])}}else return z(z({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},b8=function(t,r){var o=B4(r),u=function(f){Oe(f,function(v){t.formatter.has(v.name)||t.formatter.register(v.name,v.format)})};return t.formatter?u(o.customFormats):t.on("init",function(){u(o.customFormats)}),o.formats},uk=function(t){return EI(t).map(function(r){var o=b8(t,r);return OI(t)?Sy.concat(o):o}).getOr(Sy)},lk=function(t,r,o){var u={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return zt(t,u)},sk=function(t,r,o,u){var f=function(S){return lk(S,o,u)},v=function(S){var O={type:"submenu"};return zt(S,O)},p=function(S){var O=y(S.name)?S.name:Zn(S.title),N="custom-"+O,H={type:"formatter",format:N,isSelected:o(N),getStylePreview:u(N)},ne=zt(S,H);return t.formatter.register(O,ne),ne},C=function(S){return it(S,function(O){var N=st(O);if(Un(O,"items")){var H=C(O.items);return zt(v(O),{getStyleItems:R(H)})}else return Un(O,"format")?f(O):N.length===1&&Xe(N,"title")?zt(O,{type:"separator"}):p(O)})};return C(r)},y8=function(t){var r=function(H){return function(){return t.formatter.match(H)}},o=function(H){return function(){var ne=t.formatter.get(H);return ne!==void 0?E.some({tag:ne.length>0&&(ne[0].inline||ne[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(H))}):E.none()}},u=function(H){var ne=H.items;return ne!==void 0&&ne.length>0?Tt(ne,u):[H.format]},f=Cr([]),v=Cr([]),p=Cr([]),C=Cr([]),S=Cr(!1);t.on("PreInit",function(H){var ne=uk(t),ie=sk(t,ne,r,o);f.set(ie),v.set(Tt(ie,u))}),t.on("addStyleModifications",function(H){var ne=sk(t,H.items,r,o);p.set(ne),S.set(H.replace),C.set(Tt(ne,u))});var O=function(){var H=S.get()?[]:f.get(),ne=p.get();return H.concat(ne)},N=function(){var H=S.get()?[]:v.get(),ne=C.get();return H.concat(ne)};return{getData:O,getFlattenedKeys:N}},w8=function(t){return D(t)&&t.nodeType===1},C8=Pv.trim,F4=function(t){return function(r){return!!(w8(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},S8=F4("true"),I4=F4("false"),N4=function(t,r,o,u,f){return{type:t,title:r,url:o,level:u,attach:f}},x8=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return S8(t)}return!1},k8=function(t,r){return it(Au(Te.fromDom(r),t),function(o){return o.dom})},L4=function(t){return t.innerText||t.textContent},z4=function(t){return t.id?t.id:Zn("h")},Ud=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},H4=function(t){return Ud(t)&&U4(t)},V4=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},U4=function(t){return x8(t)&&!I4(t)},T8=function(t){return V4(t)&&U4(t)},W4=function(t){return V4(t)?parseInt(t.nodeName.substr(1),10):0},E8=function(t){var r=z4(t),o=function(){t.id=r};return N4("header",L4(t),"#"+r,W4(t),o)},O8=function(t){var r=t.id||t.name,o=L4(t);return N4("anchor",o||"#"+r,"#"+r,0,_)},A8=function(t){return it(Be(t,T8),E8)},$8=function(t){return it(Be(t,H4),O8)},D8=function(t){var r=k8("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},_8=function(t){return C8(t.title).length>0},P8=function(t){var r=D8(t);return Be(A8(r).concat($8(r)),_8)},M8={find:P8},j4="tinymce-url-history",q4=5,ck=function(t){return y(t)&&/^https?/.test(t)},R8=function(t){return x(t)&&t.length<=q4&&ln(t,ck)},K4=function(t){return k(t)&&He(t,function(r){return!R8(r)}).isNone()},G4=function(){var t=D0.getItem(j4);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return{};throw o}return K4(r)?r:{}},B8=function(t){if(!K4(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));D0.setItem(j4,JSON.stringify(t))},F8=function(t){var r=G4();return _t(r,t).getOr([])},fk=function(t,r){if(ck(t)){var o=G4(),u=_t(o,r).getOr([]),f=Be(u,function(v){return v!==t});o[r]=[t].concat(f).slice(0,q4),B8(o)}},xy=function(t){return!!t},I8=function(t){return Xt(Pv.makeMap(t,/[, ]/),xy)},vk=function(t){return E.from(RI(t)).filter(F)},N8=function(t){var r=E.some(BI(t)).filter(xy),o=E.some(RS(t)).filter(xy),u=r.or(o).map(I8);return vk(t).fold(se,function(f){return u.fold(Ce,function(v){return st(v).length>0?v:!1})})},L8=function(t,r){var o=N8(t);return P(o)?o?vk(t):E.none():o[r]?vk(t):E.none()},z8=function(t,r){return L8(t,r).map(function(o){return function(u){return Ai.nu(function(f){var v=function(C,S){if(!y(C))throw new Error("Expected value to be string");if(S!==void 0&&!k(S))throw new Error("Expected meta to be a object");var O={value:C,meta:S};f(O)},p=z({filetype:r,fieldname:u.fieldname},E.from(u.meta).getOr({}));o.call(t,v,u.value,p)})}})},Y4=function(t){return E.from(t).filter(y).getOrUndefined()},H8=function(t){return h3(t)?E.none():E.some({targets:M8.find(t.getBody()),anchorTop:Y4(b3(t)),anchorBottom:Y4(FI(t))})},V8=function(t){return E.from(y3(t))},U8=function(t){return{getHistory:F8,addToHistory:fk,getLinkInformation:function(){return H8(t)},getValidationHandler:function(){return V8(t)},getUrlPicker:function(r){return z8(t,r)}}},ky=function(t,r,o){var u=Cr(!1),f=ik(r),v={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:ws.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(p){return i8(p,v)},anchors:s8(r,o,f.isPositionedAtTop),header:f,getSink:function(){return Xr.value(t)}},urlinput:U8(r),styleselect:y8(r),colorinput:R4(r),dialog:m8(r),isContextMenuOpen:function(){return u.get()},setContextMenuState:function(p){return u.set(p)}};return v},W8=function(t,r,o){var u=function(Mt,Qe){Oe([r,o],function(kt){kt.broadcastEvent(Mt,Qe)})},f=function(Mt,Qe){Oe([r,o],function(kt){kt.broadcastOn([Mt],Qe)})},v=function(Mt){return f(pd(),{target:Mt.target})},p=_p(),C=Ko(p,"touchstart",v),S=Ko(p,"touchmove",function(Mt){return u(Fw(),Mt)}),O=Ko(p,"touchend",function(Mt){return u(XP(),Mt)}),N=Ko(p,"mousedown",v),H=Ko(p,"mouseup",function(Mt){Mt.raw.button===0&&f(KC(),{target:Mt.target})}),ne=function(Mt){return f(pd(),{target:Te.fromDom(Mt.target)})},ie=function(Mt){Mt.button===0&&f(KC(),{target:Te.fromDom(Mt.target)})},ge=function(){Oe(t.editorManager.get(),function(Mt){t!==Mt&&Mt.fire("DismissPopups",{relatedTarget:t})})},$e=function(Mt){return u(Iw(),EC(Mt))},Ze=function(Mt){f(ag(),{}),u(js(),EC(Mt))},Se=function(){return f(ag(),{})},et=function(Mt){Mt.state&&f(pd(),{target:Te.fromDom(t.getContainer())})},Rt=function(Mt){f(pd(),{target:Te.fromDom(Mt.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ne),t.on("tap",ne),t.on("mouseup",ie),t.on("mousedown",ge),t.on("ScrollWindow",$e),t.on("ResizeWindow",Ze),t.on("ResizeEditor",Se),t.on("AfterProgressState",et),t.on("DismissPopups",Rt)}),t.on("remove",function(){t.off("click",ne),t.off("tap",ne),t.off("mouseup",ie),t.off("mousedown",ge),t.off("ScrollWindow",$e),t.off("ResizeWindow",Ze),t.off("ResizeEditor",Se),t.off("AfterProgressState",et),t.off("DismissPopups",Rt),N.unbind(),C.unbind(),S.unbind(),O.unbind(),H.unbind()}),t.on("detach",function(){$u(r),$u(o),r.destroy(),o.destroy()})},Yu=Tr,Mv=eO,Wd=R([nt("shell",!1),tn("makeItem"),nt("setupItem",_),Zl.field("listBehaviours",[Ir])]),j8=function(){return{behaviours:$n([Ir.config({})])}},dk=bs({name:"items",overrides:j8}),Ty=R([dk]),q8=R("CustomList"),K8=function(t,r,o,u){var f=function(C,S){p(C).fold(function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(O){var N=Ir.contents(O),H=S.length,ne=H-N.length,ie=ne>0?re(ne,function(){return t.makeItem()}):[],ge=N.slice(H);Oe(ge,function(Ze){return Ir.remove(O,Ze)}),Oe(ie,function(Ze){return Ir.append(O,Ze)});var $e=Ir.contents(O);Oe($e,function(Ze,Se){t.setupItem(C,Ze,S[Se],Se)})})},v=t.shell?{behaviours:[Ir.config({})],components:[]}:{behaviours:[],components:r},p=function(C){return t.shell?E.some(C):Ua(C,t,"items")};return{uid:t.uid,dom:t.dom,components:v.components,behaviours:Oi(t.listBehaviours,v.behaviours),apis:{setItems:f}}},X4=Du({name:q8(),configFields:Wd(),partFields:Ty(),factory:K8,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Lg=R([tn("dom"),nt("shell",!0),li("toolbarBehaviours",[Ir])]),G8=function(){return{behaviours:$n([Ir.config({})])}},jd=R([bs({name:"groups",overrides:G8})]),Z4=function(t,r,o,u){var f=function(C,S){v(C).fold(function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(O){Ir.set(O,S)})},v=function(C){return t.shell?E.some(C):Ua(C,t,"groups")},p=t.shell?{behaviours:[Ir.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Oi(t.toolbarBehaviours,p.behaviours),apis:{setGroups:f},domModification:{attributes:{role:"group"}}}},dc=Du({name:"Toolbar",configFields:Lg(),partFields:jd(),factory:Z4,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),Y8=_,X8=se,J4=R([]),Z8=Object.freeze({__proto__:null,setup:Y8,isDocked:X8,getBehaviours:J4}),Q4=function(t){var r=kr(ki(t,"position"),"fixed"),o=r?E.none():zl(t);return o.orThunk(function(){var u=Te.fromTag("span");return ni(t).bind(function(f){Vi(f,u);var v=zl(u);return yl(u),v})})},Ey=function(t){return Q4(t).map(Cu).getOrThunk(function(){return Ya(0,0)})},qd=ql.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),Oy=function(t,r){var o=t.element;oi(o,r.transitionClass),Zo(o,r.fadeOutClass),oi(o,r.fadeInClass),r.onShow(t)},Ay=function(t,r){var o=t.element;oi(o,r.transitionClass),Zo(o,r.fadeInClass),oi(o,r.fadeOutClass),r.onHide(t)},Kd=function(t,r){return t.y<r.bottom&&t.bottom>r.y},$y=function(t,r){return t.y>=r.y},J8=function(t,r){return t.bottom<=r.bottom},mk=function(t,r,o){return ln(t,function(u){switch(u){case"bottom":return J8(r,o);case"top":return $y(r,o)}})},gk=function(t,r){return r.getInitialPos().map(function(o){return gi(o.bounds.x,o.bounds.y,au(t),ri(t))})},e_=function(t,r,o){o.setInitialPos({style:rf(t),position:Io(t,"position")||"static",bounds:r})},t_=function(t,r,o){return o.getInitialPos().bind(function(u){switch(o.clearInitialPos(),u.position){case"static":return E.some(qd.static());case"absolute":var f=Q4(t).map(pi).getOrThunk(function(){return pi(Ba())});return E.some(qd.absolute(ps("absolute",_t(u.style,"left").map(function(v){return r.x-f.x}),_t(u.style,"top").map(function(v){return r.y-f.y}),_t(u.style,"right").map(function(v){return f.right-r.right}),_t(u.style,"bottom").map(function(v){return f.bottom-r.bottom}))));default:return E.none()}})},n_=function(t,r,o){return gk(t,o).filter(function(u){return mk(o.getModes(),u,r)}).bind(function(u){return t_(t,u,o)})},Q8=function(t,r,o){var u=pi(t);if(mk(o.getModes(),u,r))return E.none();e_(t,u,o);var f=Sl(),v=u.x-f.x,p=r.y-f.y,C=f.bottom-r.bottom,S=u.y<=r.y;return E.some(qd.fixed(ps("fixed",E.some(v),S?E.some(p):E.none(),E.none(),S?E.none():E.some(C))))},ez=function(t,r,o){var u=t.element,f=kr(ki(u,"position"),"fixed");return f?n_(u,r,o):Q8(u,r,o)},tz=function(t,r){var o=t.element;return gk(o,r).bind(function(u){return t_(o,u,r)})},Dy=function(t,r,o){o.setDocked(!1),Oe(["left","right","top","bottom","position"],function(u){return za(t.element,u)}),r.onUndocked(t)},Kh=function(t,r,o,u){var f=u.position==="fixed";o.setDocked(f),fv(t.element,u);var v=f?r.onDocked:r.onUndocked;v(t)},r_=function(t,r,o,u,f){f===void 0&&(f=!1),r.contextual.each(function(v){v.lazyContext(t).each(function(p){var C=Kd(p,u);if(C!==o.isVisible())if(o.setVisible(C),f&&!C)od(t.element,[v.fadeOutClass]),v.onHide(t);else{var S=C?Oy:Ay;S(t,v)}})})},a_=function(t,r,o){var u=r.lazyViewport(t),f=o.isDocked();f&&r_(t,r,o,u),ez(t,u,o).each(function(v){v.fold(function(){return Dy(t,r,o)},function(p){return Kh(t,r,o,p)},function(p){r_(t,r,o,u,!0),Kh(t,r,o,p)})})},nz=function(t,r,o){var u=t.element;o.setDocked(!1),tz(t,o).each(function(f){f.fold(function(){return Dy(t,r,o)},function(v){return Kh(t,r,o,v)},_)}),o.setVisible(!0),r.contextual.each(function(f){Al(u,[f.fadeInClass,f.fadeOutClass,f.transitionClass]),f.onShow(t)}),_y(t,r,o)},_y=function(t,r,o){t.getSystem().isConnected()&&a_(t,r,o)},o_=function(t,r,o){o.isDocked()&&nz(t,r,o)},rz=function(t,r,o){return o.isDocked()},Gd=function(t,r,o,u){return o.setModes(u)},i_=function(t,r,o){return o.getModes()},az=Object.freeze({__proto__:null,refresh:_y,reset:o_,isDocked:rz,getModes:i_,setModes:Gd}),u_=function(t,r){return Va([jo(Cp(),function(o,u){t.contextual.each(function(f){if(ku(o.element,f.transitionClass)){Al(o.element,[f.transitionClass,f.fadeInClass]);var v=r.isVisible()?f.onShown:f.onHidden;v(o)}u.stop()})}),nn(Iw(),function(o,u){_y(o,t,r)}),nn(js(),function(o,u){o_(o,t,r)})])},oz=Object.freeze({__proto__:null,events:u_}),Py=[kl("contextual",[$r("fadeInClass"),$r("fadeOutClass"),$r("transitionClass"),uu("lazyContext"),xa("onShow"),xa("onShown"),xa("onHide"),xa("onHidden")]),Xa("lazyViewport",Sl),bp("modes",["top","bottom"],Wo),xa("onDocked"),xa("onUndocked")],As=function(t){var r=Cr(!1),o=Cr(!0),u=Po(),f=Cr(t.modes),v=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+f.get().join(",")};return al({isDocked:r.get,setDocked:r.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:o.get,setVisible:o.set,getModes:f.get,setModes:f.set,readState:v})},iz=Object.freeze({__proto__:null,init:As}),Fo=bi({fields:Py,name:"docking",active:oz,apis:az,state:iz}),pk=R(Zn("toolbar-height-change")),Gc={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},hk="tox-tinymce--toolbar-sticky-on",Gh="tox-tinymce--toolbar-sticky-off",Rv=function(t,r){var o=zi(r),u=o.dom.defaultView.innerHeight,f=wl(o),v=Te.fromDom(t.elm),p=Ec(v),C=ri(v),S=p.y,O=S+C,N=Cu(r),H=ri(r),ne=N.top,ie=ne+H,ge=Math.abs(ne-f.top)<2,$e=Math.abs(ie-(f.top+u))<2;if(ge&&S<ie)hm(f.left,S-H,o);else if($e&&O>ne){var Ze=S-u+C+H;hm(f.left,Ze,o)}},su=function(t,r){return Xe(Fo.getModes(t),r)},bk=function(t){var r=function(u){return bl(u)+(parseInt(Io(u,"margin-top"),10)||0)+(parseInt(Io(u,"margin-bottom"),10)||0)},o=t.element;ni(o).each(function(u){var f="padding-"+Fo.getModes(t)[0];if(Fo.isDocked(t)){var v=au(u);Pr(o,"width",v+"px"),Pr(u,f,r(o)+"px")}else za(o,"width"),za(u,f)})},yk=function(t,r){r?(Zo(t,Gc.fadeOutClass),od(t,[Gc.transitionClass,Gc.fadeInClass])):(Zo(t,Gc.fadeInClass),od(t,[Gc.fadeOutClass,Gc.transitionClass]))},wk=function(t,r){var o=Te.fromDom(t.getContainer());r?(oi(o,hk),Zo(o,Gh)):(oi(o,Gh),Zo(o,hk))},l_=function(t,r){var o=zi(r);Js(o).filter(function(u){return!fo(r,u)}).filter(function(u){return fo(u,Te.fromDom(o.dom.body))||yu(t,u)}).each(function(){return Zs(r)})},uz=function(t,r){return Qs(t).orThunk(function(){return r().toOptional().bind(function(o){return Qs(o.element)})})},lz=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Fo.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(bk)}),t.on("SkinLoaded",function(){o().each(function(u){Fo.isDocked(u)?Fo.reset(u):Fo.refresh(u)})}),t.on("FullscreenStateChanged",function(){o().each(Fo.reset)})),t.on("AfterScrollIntoView",function(u){o().each(function(f){Fo.refresh(f);var v=f.element;OO(v)&&Rv(u,v)})}),t.on("PostRender",function(){wk(t,!1)})},Bv=function(t){return t().map(Fo.isDocked).getOr(!1)},s_=function(){var t;return[qu.config({channels:(t={},t[pk()]={onReceive:bk},t)})]},Yd=function(t,r){var o=Po(),u=r.getSink,f=function(C){u().each(function(S){return C(S.element)})},v=function(C){t.inline||bk(C),wk(t,Fo.isDocked(C)),C.getSystem().broadcastOn([ag()],{}),u().each(function(S){return S.getSystem().broadcastOn([ag()],{})})},p=t.inline?[]:s_();return he([Dr.config({}),Fo.config({contextual:z({lazyContext:function(C){var S=bl(C.element),O=t.inline?t.getContentAreaContainer():t.getContainer(),N=pi(Te.fromDom(O)),H=N.height-S,ne=N.y+(su(C,"top")?0:S);return E.some(gi(N.x,ne,N.width,H))},onShow:function(){f(function(C){return yk(C,!0)})},onShown:function(C){f(function(S){return Al(S,[Gc.transitionClass,Gc.fadeInClass])}),o.get().each(function(S){l_(C.element,S),o.clear()})},onHide:function(C){uz(C.element,u).fold(o.clear,o.set),f(function(S){return yk(S,!1)})},onHidden:function(){f(function(C){return Al(C,[Gc.transitionClass])})}},Gc),lazyViewport:function(C){var S=Sl(),O=T0(t),N=S.y+(su(C,"top")?O:0),H=S.height-(su(C,"bottom")?O:0);return gi(S.x,N,S.width,H)},modes:[r.header.getDockingMode()],onDocked:v,onUndocked:v})],p,!0)},My=Object.freeze({__proto__:null,setup:lz,isDocked:Bv,getBehaviours:Yd}),c_=function(t){var r=t.editor,o=t.sticky?Yd:J4;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:$n(o(r,t.sharedBackstage))}},sz=vr([$r("type"),tl("items",ww([Cw([$r("name"),Su("items",Wo)]),Wo]))].concat(ih)),cz=function(t){return Eo("GroupToolbarButton",sz,t)},fz=[no("text"),no("tooltip"),no("icon"),uu("fetch"),Xa("onSetup",function(){return _})],vz=vr(he([$r("type")],fz,!0)),Xd=function(t){return Eo("menubutton",vz,t)},dz=vr([$r("type"),no("tooltip"),no("icon"),no("text"),Qv("select"),uu("fetch"),Xa("onSetup",function(){return _}),Wl("presets","normal",["normal","color","listpreview"]),nt("columns",1),uu("onAction"),uu("onItemAction")]),mz=function(t){return Eo("SplitButton",dz,t)},gz=function(t,r){var o=function(f,v){var p=it(v,function(C){var S={type:"menubutton",text:C.text,fetch:function(N){N(C.getItems())}},O=Xd(S).mapError(function(N){return Em(N)}).getOrDie();return qx(O,"tox-mbtn",r.backstage,E.some("menuitem"))});Ir.set(f,p)},u={focus:Sr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:$n([Ir.config({}),Vr("menubar-events",[qr(function(f){t.onSetup(f)}),nn(Kf(),function(f,v){ii(f.element,".tox-mbtn--active").each(function(p){Xs(v.event.target,".tox-mbtn").each(function(C){fo(p,C)||f.getSystem().getByDom(p).each(function(S){f.getSystem().getByDom(C).each(function(O){xs.expand(O),xs.close(S),Dr.focus(O)})})})})}),nn($b(),function(f,v){v.event.prevFocus.bind(function(p){return f.getSystem().getByDom(p).toOptional()}).each(function(p){v.event.newFocus.bind(function(C){return f.getSystem().getByDom(C).toOptional()}).each(function(C){xs.isOpen(p)&&(xs.expand(C),xs.close(p))})})})]),Sr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(f){return t.onEscape(f),E.some(!0)}}),Ro.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},Ck=Pl({factory:gz,name:"silver.Menubar",configFields:[tn("dom"),tn("uid"),tn("onEscape"),tn("backstage"),nt("onSetup",_)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),Yh=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},mc=function(t){return t.dimension.property},zg=function(t,r){return t.dimension.getDimension(r)},Ry=function(t,r){var o=Yh(t,r);Al(o,[r.shrinkingClass,r.growingClass])},Xh=function(t,r){Zo(t.element,r.openClass),oi(t.element,r.closedClass),Pr(t.element,mc(r),"0px"),af(t.element)},Sk=function(t,r){Zo(t.element,r.closedClass),oi(t.element,r.openClass),za(t.element,mc(r))},Zh=function(t,r,o,u){o.setCollapsed(),Pr(t.element,mc(r),zg(r,t.element)),af(t.element),Ry(t,r),Xh(t,r),r.onStartShrink(t),r.onShrunk(t)},By=function(t,r,o,u){var f=u.getOrThunk(function(){return zg(r,t.element)});o.setCollapsed(),Pr(t.element,mc(r),f),af(t.element);var v=Yh(t,r);Zo(v,r.growingClass),oi(v,r.shrinkingClass),Xh(t,r),r.onStartShrink(t)},Fv=function(t,r,o){var u=zg(r,t.element),f=u==="0px"?Zh:By;f(t,r,o,E.some(u))},f_=function(t,r,o){var u=Yh(t,r),f=ku(u,r.shrinkingClass),v=zg(r,t.element);Sk(t,r);var p=zg(r,t.element),C=function(){Pr(t.element,mc(r),v),af(t.element)},S=function(){Xh(t,r)},O=f?C:S;O(),Zo(u,r.shrinkingClass),oi(u,r.growingClass),Sk(t,r),Pr(t.element,mc(r),p),o.setExpanded(),r.onStartGrow(t)},pz=function(t,r,o){if(o.isExpanded()){za(t.element,mc(r));var u=zg(r,t.element);Pr(t.element,mc(r),u)}},xk=function(t,r,o){o.isExpanded()||f_(t,r,o)},hz=function(t,r,o){o.isExpanded()&&Fv(t,r,o)},Fy=function(t,r,o){o.isExpanded()&&Zh(t,r,o)},v_=function(t,r,o){return o.isExpanded()},bz=function(t,r,o){return o.isCollapsed()},d_=function(t,r,o){var u=Yh(t,r);return ku(u,r.growingClass)===!0},Hg=function(t,r,o){var u=Yh(t,r);return ku(u,r.shrinkingClass)===!0},kk=function(t,r,o){return d_(t,r)||Hg(t,r)},yz=function(t,r,o){var u=o.isExpanded()?Fv:f_;u(t,r,o)},wz=Object.freeze({__proto__:null,refresh:pz,grow:xk,shrink:hz,immediateShrink:Fy,hasGrown:v_,hasShrunk:bz,isGrowing:d_,isShrinking:Hg,isTransitioning:kk,toggleGrow:yz,disableTransitions:Ry}),m_=function(t,r,o){var u=r.expanded;return gs(u?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Ac(r.dimension.property,"0px")})},Cz=function(t,r){return Va([jo(Cp(),function(o,u){var f=u.event.raw;if(f.propertyName===t.dimension.property){Ry(o,t),r.isExpanded()&&za(o.element,t.dimension.property);var v=r.isExpanded()?t.onGrown:t.onShrunk;v(o)}})])},Sz=Object.freeze({__proto__:null,exhibit:m_,events:Cz}),e=[tn("closedClass"),tn("openClass"),tn("shrinkingClass"),tn("growingClass"),$a("getAnimationRoot"),xa("onShrunk"),xa("onStartShrink"),xa("onGrown"),xa("onStartGrow"),nt("expanded",!1),tl("dimension",Vl("property",{width:[ro("property","width"),ro("getDimension",function(t){return au(t)+"px"})],height:[ro("property","height"),ro("getDimension",function(t){return ri(t)+"px"})]}))],n=function(t){var r=Cr(t.expanded),o=function(){return"expanded: "+r.get()};return al({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:me(r.set,!1),setExpanded:me(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=bi({fields:e,name:"sliding",active:Sz,apis:wz,state:a}),l="container",c=[li("slotBehaviours",[])],m=function(t){return"<alloy.field."+t+">"},b=function(t){var r=function(){var v=[],p=function(C,S){return v.push(C),u2(l,m(C),S)};return{slot:p,record:R(v)}}(),o=t(r),u=r.record(),f=it(u,function(v){return Yi({name:v,pname:m(v)})});return v2(l,c,f,w,o)},w=function(t,r){var o=function($e){return oO(t)},u=function($e,Ze){return Ua($e,t,Ze)},f=function($e,Ze){return function(Se,et){return Ua(Se,t,et).map(function(Rt){return $e(Rt,et)}).getOr(Ze)}},v=function($e){return function(Ze,Se){Oe(Se,function(et){return $e(Ze,et)})}},p=function($e,Ze){return po($e.element,"aria-hidden")!=="true"},C=function($e,Ze){if(!p($e)){var Se=$e.element;za(Se,"display"),xi(Se,"aria-hidden"),hr($e,Db(),{name:Ze,visible:!0})}},S=function($e,Ze){if(p($e)){var Se=$e.element;Pr(Se,"display","none"),Zr(Se,"aria-hidden","true"),hr($e,Db(),{name:Ze,visible:!1})}},O=f(p,!1),N=f(S),H=v(N),ne=function($e){return H($e,o())},ie=f(C),ge={getSlotNames:o,getSlot:u,isShowing:O,hideSlot:N,hideAllSlots:ne,showSlot:ie};return{uid:t.uid,dom:t.dom,components:r,behaviours:S1(t.slotBehaviours),apis:ge}},M=Xt({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return _o(t)}),W=z(z({},M),{sketch:b}),K=vr([no("icon"),no("tooltip"),Xa("onShow",_),Xa("onHide",_),Xa("onSetup",function(){return _})]),ee=function(t){return Eo("sidebar",K,t)},de=function(t){var r=t.ui.registry.getAll().sidebars;Oe(st(r),function(o){var u=r[o],f=function(){return kr(E.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:u.icon,tooltip:u.tooltip,onAction:function(v){t.execCommand("ToggleSidebar",!1,o),v.setActive(f())},onSetup:function(v){var p=function(){return v.setActive(f())};return t.on("ToggleSidebar",p),function(){t.off("ToggleSidebar",p)}}})})},pe=function(t){return{element:function(){return t.element.dom}}},be=function(t,r){var o=it(st(r),function(u){var f=r[u],v=Vs(ee(f));return{name:u,getApi:pe,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return it(o,function(u){var f=Cr(_);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:h0.unnamedEvents([Ad(u,f),$d(u,f),nn(Db(),function(v,p){var C=p.event,S=Et(o,function(O){return O.name===C.name});S.each(function(O){var N=C.visible?O.onShow:O.onHide;N(O.getApi(v))})})])})})},we=function(t){return W.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:be(r,t),slotBehaviours:h0.unnamedEvents([qr(function(o){return W.hideAllSlots(o)})])}})},Fe=function(t,r){var o=ia.getCurrent(t);o.each(function(u){return Ir.set(u,[we(r)])})},De=function(t,r){var o=ia.getCurrent(t);o.each(function(u){var f=ia.getCurrent(u);f.each(function(v){i.hasGrown(u)?W.isShowing(v,r)?i.shrink(u):(W.hideAllSlots(v),W.showSlot(v,r)):(W.hideAllSlots(v),W.showSlot(v,r),i.grow(u))})})},vt=function(t){var r=ia.getCurrent(t);return r.bind(function(o){var u=i.isGrowing(o)||i.hasGrown(o);if(u){var f=ia.getCurrent(o);return f.bind(function(v){return Et(W.getSlotNames(v),function(p){return W.isShowing(v,p)})})}else return E.none()})},ot=Zn("FixSizeEvent"),Ue=Zn("AutoSizeEvent"),ht=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:$n([Ro.config({}),Dr.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=ia.getCurrent(r);o.each(W.hideAllSlots),Ca(r,Ue)},onGrown:function(r){Ca(r,Ue)},onStartGrow:function(r){hr(r,ot,{width:ki(r.element,"width").getOr("")})},onStartShrink:function(r){hr(r,ot,{width:au(r.element)+"px"})}}),Ir.config({}),ia.config({find:function(r){var o=Ir.contents(r);return $t(o)}})])}],behaviours:$n([vc.childAt(0),Vr("sidebar-sliding-events",[nn(ot,function(r,o){Pr(r.element,"width",o.event.width)}),nn(Ue,function(r,o){za(r.element,"width")})])])}},Kt=function(t,r,o,u){Zr(t.element,"aria-busy",!0);var f=r.getRoot(t).getOr(t),v=$n([Sr.config({mode:"special",onTab:function(){return E.some(!0)},onShiftTab:function(){return E.some(!0)}}),Dr.config({})]),p=u(f,v),C=f.getSystem().build(p);Ir.append(f,$l(C)),C.hasConfigured(Sr)&&r.focus&&Sr.focusIn(C),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Ir.remove(f,C)})},vn=function(t,r,o){xi(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},br=Object.freeze({__proto__:null,block:Kt,unblock:vn}),Hn=[Xa("getRoot",E.none),Oo("focus",!0),xa("onBlock"),xa("onUnblock")],en=function(){var t=xC(),r=function(o){t.set({destroy:o})};return al({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},pr=Object.freeze({__proto__:null,init:en}),pn=bi({fields:Hn,name:"blocking",apis:br,state:pr}),Nn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return gt(r,function(o,u){var f;return u.name==="class"?o:z(z({},o),(f={},f[u.name]=u.value,f))},{})},Sn=function(t){return Array.prototype.slice.call(t.dom.classList,0)},An=function(t){var r=Te.fromHtml(t),o=V(r),u=Nn(r),f=Sn(r),v=o.length===0?{}:{innerHtml:Rb(r)};return z({tag:Pe(r),classes:f,attributes:u},v)},Gn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:An('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},on=function(t){return ia.getCurrent(t).each(function(r){return Zs(r.element)})},Vn=function(t,r){var o="tabindex",u="data-mce-"+o;E.from(t.iframeElement).map(Te.fromDom).each(function(f){r?(Vo(f,o).each(function(v){return Zr(f,u,v)}),Zr(f,o,-1)):(xi(f,o),Vo(f,u).each(function(v){Zr(f,o,v),xi(f,u)}))})},ta=function(t,r,o,u){var f=r.element;if(Vn(t,o),o)pn.block(r,Gn(u)),za(f,"display"),xi(f,"aria-hidden"),t.hasFocus()&&on(r);else{var v=ia.getCurrent(r).exists(function(p){return hC(p.element)});pn.unblock(r),Pr(f,"display","none"),Zr(f,"aria-hidden","true"),v&&t.focus()}},Sa=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:$n([Ir.config({}),pn.config({focus:!1}),ia.config({find:function(r){return $t(r.components())}})]),components:[]}},ba=function(t){return t.type==="focusin"},wi=function(t){if(ba(t)){var r=t.composed?$t(t.composedPath()):E.from(t.target);return r.map(Te.fromDom).filter(j).exists(function(o){return ku(o,"mce-pastebin")})}else return!1},bo=function(t,r,o){var u=Cr(!1),f=Po(),v=function(C){u.get()&&!wi(C)&&(C.preventDefault(),on(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",v),t.on("BeforeExecCommand",function(C){C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&v(C)})});var p=function(C){C!==u.get()&&(u.set(C),ta(t,r(),C,o.providers),t.fire("AfterProgressState",{state:C}))};t.on("ProgressState",function(C){if(f.on(xv.clearTimeout),L(C.time)){var S=xv.setEditorTimeout(t,function(){return p(C.state)},C.time);f.set(S)}else p(C.state),f.clear()})},cu=function(t,r){var o={len:0,list:[]},u=gt(t,function(f,v){var p=r(v,f.len);return p.fold(R(f),function(C){return{len:C.finish,list:f.list.concat([C])}})},o);return u.list},Ru=function(t,r,o){return{within:t,extra:r,withinWidth:o}},un=function(t,r,o){var u=cu(t,function(C,S){var O=o(C);return E.some({element:C,start:S,finish:S+O,width:O})}),f=Be(u,function(C){return C.finish<=r}),v=at(f,function(C,S){return C+S.width},0),p=u.slice(f.length);return{within:f,extra:p,withinWidth:v}},kn=function(t){return it(t,function(r){return r.element})},ir=function(t,r,o){var u=kn(t.concat(r));return Ru(u,[],o)},xt=function(t,r,o,u){var f=kn(t).concat([o]);return Ru(f,kn(r),u)},gn=function(t,r,o){return Ru(kn(t),[],o)},sn=function(t,r,o){var u=un(r,t,o);return u.extra.length===0?E.some(u):E.none()},cr=function(t,r,o,u){var f=sn(t,r,o).getOrThunk(function(){return un(r,t-o(u),o)}),v=f.within,p=f.extra,C=f.withinWidth;return p.length===1&&p[0].width<=o(u)?ir(v,p,C):p.length>=1?xt(v,p,u,C):gn(v,p,C)},gr=function(t,r){var o=it(r,function(u){return $l(u)});dc.setGroups(t,o)},Ia=function(t){return rt(t,function(r){return Qs(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ei=function(t,r,o){var u=r.builtGroups.get();if(u.length!==0){var f=zc(t,r,"primary"),v=Bo.getCoupled(t,"overflowGroup");Pr(f.element,"visibility","hidden");var p=u.concat([v]),C=Ia(p);o([]),gr(f,p);var S=au(f.element),O=cr(S,r.builtGroups.get(),function(N){return au(N.element)},v);O.extra.length===0?(Ir.remove(f,v),o([])):(gr(f,O.within),o(O.extra)),za(f.element,"visibility"),af(f.element),C.each(Dr.focus)}},Go=R([li("splitToolbarBehaviours",[Bo]),Vu("builtGroups",function(){return Cr([])})]),Df=R([ld(["overflowToggledClass"]),Qv("getOverflowBounds"),tn("lazySink"),Vu("overflowGroups",function(){return Cr([])})].concat(Go())),fu=R([Yi({factory:dc,schema:Lg(),name:"primary"}),hs({schema:Lg(),name:"overflow"}),hs({name:"overflow-button"}),hs({name:"overflow-group"})]),Ji=R(function(t,r){Hl(t,Math.floor(r))}),ci=R([ld(["toggledClass"]),tn("lazySink"),uu("fetch"),Qv("getBounds"),kl("fireDismissalEventInstead",[nt("event",qs())]),vv()]),Fl=R([hs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:$n([fa.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),hs({factory:dc,schema:Lg(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:$n([Sr.config({mode:"cyclic",onEscape:function(r){return Ua(r,t,"button").each(Dr.focus),E.none()}})])}}})]),vu=function(t,r){var o=Bo.getCoupled(t,"toolbarSandbox");ua.isOpen(o)?ua.close(o):ua.open(o,r.toolbar())},$s=function(t,r,o,u){var f=o.getBounds.map(function(p){return p()}),v=o.lazySink(t).getOrDie();Mo.positionWithinBounds(v,r,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:Ji()}}},f)},Wa=function(t,r,o,u,f){dc.setGroups(r,f),$s(t,r,o,u),fa.on(t)},ao=function(t,r,o){var u=id(),f=function(p,C){o.fetch().get(function(S){Wa(t,C,o,r.layouts,S),u.link(t.element),Sr.focusIn(C)})},v=function(){fa.off(t),Dr.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:$n([Sr.config({mode:"special",onEscape:function(p){return ua.close(p),E.some(!0)}}),ua.config({onOpen:f,onClose:v,isPartOf:function(p,C,S){return ud(C,S)||ud(t,S)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),qu.config({channels:z(z({},ul(z({isExtraPart:se},o.fireDismissalEventInstead.map(function(p){return{fireEventInstead:{event:p.event}}}).getOr({})))),hd({doReposition:function(){ua.getState(Bo.getCoupled(t,"toolbarSandbox")).each(function(p){$s(t,p,o,r.layouts)})}}))})])}},fi=function(t,r,o,u){return z(z({},_u.sketch(z(z({},u.button()),{action:function(f){vu(f,u)},buttonBehaviours:Zl.augment({dump:u.button().buttonBehaviours},[Bo.config({others:{toolbarSandbox:function(f){return ao(f,o,t)}}})])}))),{apis:{setGroups:function(f,v){ua.getState(Bo.getCoupled(f,"toolbarSandbox")).each(function(p){Wa(f,p,t,o.layouts,v)})},reposition:function(f){ua.getState(Bo.getCoupled(f,"toolbarSandbox")).each(function(v){$s(f,v,t,o.layouts)})},toggle:function(f){vu(f,u)},getToolbar:function(f){return ua.getState(Bo.getCoupled(f,"toolbarSandbox"))},isOpen:function(f){return ua.isOpen(Bo.getCoupled(f,"toolbarSandbox"))}}})},Bu=Du({name:"FloatingToolbarButton",factory:fi,configFields:ci(),partFields:Fl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),gc=R([tn("items"),ld(["itemSelector"]),li("tgroupBehaviours",[Sr])]),pc=R([A1({name:"items",unit:"item"})]),Iv=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.tgroupBehaviours,[Sr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Vg=Du({name:"ToolbarGroup",configFields:gc(),partFields:pc(),factory:Iv}),Iy=function(t){return it(t,function(r){return $l(r)})},g_=function(t,r,o){ei(t,o,function(u){o.overflowGroups.set(u),r.getOpt(t).each(function(f){Bu.setGroups(f,Iy(u))})})},p_=function(t,r,o,u){var f=ka(Bu.sketch({fetch:function(){return Ai.nu(function(v){v(Iy(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Ki,qi]},onRtl:function(){return[qi,Ki]},onBottomLtr:function(){return[Ou,Wu]},onBottomRtl:function(){return[Wu,Ou]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.splitToolbarBehaviours,[Bo.config({others:{overflowGroup:function(){return Vg.sketch(z(z({},u["overflow-group"]()),{items:[f.asSpec()]}))}}})]),apis:{setGroups:function(v,p){t.builtGroups.set(it(p,v.getSystem().build)),g_(v,f,t)},refresh:function(v){return g_(v,f,t)},toggle:function(v){f.getOpt(v).each(function(p){Bu.toggle(p)})},isOpen:function(v){return f.getOpt(v).map(Bu.isOpen).getOr(!1)},reposition:function(v){f.getOpt(v).each(function(p){Bu.reposition(p)})},getOverflow:function(v){return f.getOpt(v).bind(Bu.getToolbar)}},domModification:{attributes:{role:"group"}}}},Tk=Du({name:"SplitFloatingToolbar",configFields:Df(),partFields:fu(),factory:p_,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),xz=R([ld(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xa("onOpened"),xa("onClosed")].concat(Go())),h_=R([Yi({factory:dc,schema:Lg(),name:"primary"}),Yi({factory:dc,schema:Lg(),name:"overflow",overrides:function(t){return{toolbarBehaviours:$n([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){Ua(r,t,"overflow-button").each(function(o){fa.off(o),Dr.focus(o)}),t.onClosed(r)},onGrown:function(r){Sr.focusIn(r),t.onOpened(r)},onStartGrow:function(r){Ua(r,t,"overflow-button").each(fa.on)}}),Sr.config({mode:"acyclic",onEscape:function(r){return Ua(r,t,"overflow-button").each(Dr.focus),E.some(!0)}})])}}}),hs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:$n([fa.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),hs({name:"overflow-group"})]),kz=function(t,r){return Ua(t,r,"overflow").map(i.hasGrown).getOr(!1)},b_=function(t,r){Ua(t,r,"overflow-button").bind(function(){return Ua(t,r,"overflow")}).each(function(o){Ek(t,r),i.toggleGrow(o)})},Ek=function(t,r){Ua(t,r,"overflow").each(function(o){ei(t,r,function(u){var f=it(u,function(v){return $l(v)});dc.setGroups(o,f)}),Ua(t,r,"overflow-button").each(function(u){i.hasGrown(o)&&fa.on(u)}),i.refresh(o)})},Tz=function(t,r,o,u){var f="alloy.toolbar.toggle",v=function(p,C){var S=it(C,p.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Oi(t.splitToolbarBehaviours,[Bo.config({others:{overflowGroup:function(p){return Vg.sketch(z(z({},u["overflow-group"]()),{items:[_u.sketch(z(z({},u["overflow-button"]()),{action:function(C){Ca(p,f)}}))]}))}}}),Vr("toolbar-toggle-events",[nn(f,function(p){b_(p,t)})])]),apis:{setGroups:function(p,C){v(p,C),Ek(p,t)},refresh:function(p){return Ek(p,t)},toggle:function(p){return b_(p,t)},isOpen:function(p){return kz(p,t)}},domModification:{attributes:{role:"group"}}}},_f=Du({name:"SplitSlidingToolbar",configFields:xz(),partFields:h_(),factory:Tz,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Ok=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:z({tag:"div",classes:["tox-toolbar__group"]},r),components:[Vg.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:$n([Ro.config({}),Dr.config({})])}},Ke=function(t){return Vg.sketch(Ok(t))},Pt=function(t,r){var o=qr(function(u){var f=it(t.initGroups,Ke);dc.setGroups(u,f)});return $n([Cs.toolbarButton(t.providers.isDisabled),Qo(),Sr.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Vr("toolbar-events",[o])])},yn=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Ok({title:E.none(),items:[]}),"overflow-button":QD({name:"more",icon:E.some("more-drawer"),disabled:!1,tooltip:E.some("More..."),primary:!1,borderless:!1},E.none(),t.providers)},splitToolbarBehaviours:Pt(t,r)}},Dn=function(t){var r=yn(t),o=4,u=Tk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Tk.sketch(z(z({},r),{lazySink:t.getSink,getOverflowBounds:function(){var f=t.moreDrawerData.lazyHeader().element,v=Ec(f),p=Ht(f),C=Ec(p),S=Math.max(p.dom.scrollHeight,C.height);return gi(v.x+o,C.y,v.width-o*2,S)},parts:z(z({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},Gr=function(t){var r=_f.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=_f.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=yn(t);return _f.sketch(z(z({},u),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(f){f.getSystem().broadcastOn([pk()],{type:"opened"})},onClosed:function(f){f.getSystem().broadcastOn([pk()],{type:"closed"})}}))},ma=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return dc.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ml.scrolling?["tox-toolbar--scrolling"]:[])},components:[dc.parts.groups({})],toolbarBehaviours:Pt(t,r)})},mo=function(t,r,o){var u={getSocket:function(f){return Yu.getPart(f,t,"socket")},setSidebar:function(f,v){Yu.getPart(f,t,"sidebar").each(function(p){return Fe(p,v)})},toggleSidebar:function(f,v){Yu.getPart(f,t,"sidebar").each(function(p){return De(p,v)})},whichSidebar:function(f){return Yu.getPart(f,t,"sidebar").bind(vt).getOrNull()},getHeader:function(f){return Yu.getPart(f,t,"header")},getToolbar:function(f){return Yu.getPart(f,t,"toolbar")},setToolbar:function(f,v){Yu.getPart(f,t,"toolbar").each(function(p){p.getApis().setGroups(p,v)})},setToolbars:function(f,v){Yu.getPart(f,t,"multiple-toolbar").each(function(p){X4.setItems(p,v)})},refreshToolbar:function(f){var v=Yu.getPart(f,t,"toolbar");v.each(function(p){return p.getApis().refresh(p)})},toggleToolbarDrawer:function(f){Yu.getPart(f,t,"toolbar").each(function(v){oo(v.getApis().toggle,function(p){return p(v)})})},isToolbarDrawerToggled:function(f){return Yu.getPart(f,t,"toolbar").bind(function(v){return E.from(v.getApis().isOpen).map(function(p){return p(v)})}).getOr(!1)},getThrobber:function(f){return Yu.getPart(f,t,"throbber")},focusToolbar:function(f){var v=Yu.getPart(f,t,"toolbar").orThunk(function(){return Yu.getPart(f,t,"multiple-toolbar")});v.each(function(p){Sr.focusIn(p)})},setMenubar:function(f,v){Yu.getPart(f,t,"menubar").each(function(p){Ck.setMenus(p,v)})},focusMenubar:function(f){Yu.getPart(f,t,"menubar").each(function(v){Ck.focus(v)})}};return{uid:t.uid,dom:t.dom,components:r,apis:u,behaviours:t.behaviours}},Nv=Mv.optional({factory:Ck,name:"menubar",schema:[tn("backstage")]}),Qj=function(t){return t.type===Ml.sliding?Gr:t.type===Ml.floating?Dn:ma},eq=Mv.optional({factory:{sketch:function(t){return X4.sketch({uid:t.uid,dom:t.dom,listBehaviours:$n([Sr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return ma({type:t.type,uid:Zn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),E.some(!0)}})},setupItem:function(r,o,u,f){dc.setGroups(o,u)},shell:!0})}},name:"multiple-toolbar",schema:[tn("dom"),tn("onEscape")]}),tq=Mv.optional({factory:{sketch:function(t){var r=Qj(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),E.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[tn("dom"),tn("onEscape"),tn("getSink")]}),nq=Mv.optional({factory:{sketch:c_},name:"header",schema:[tn("dom")]}),rq=Mv.optional({name:"socket",schema:[tn("dom")]}),aq=Mv.optional({factory:{sketch:ht},name:"sidebar",schema:[tn("dom")]}),oq=Mv.optional({factory:{sketch:Sa},name:"throbber",schema:[tn("dom")]}),No=Du({name:"OuterContainer",factory:mo,configFields:[tn("dom"),tn("behaviours")],partFields:[nq,Nv,tq,eq,rq,aq,oq],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var u=it(o,function(f){return Ke(f)});t.setToolbar(r,u)},setToolbars:function(t,r,o){var u=it(o,function(f){return it(f,Ke)});t.setToolbars(r,u)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),iq="file edit view insert format tools table help",XH={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},uq=function(t,r,o){var u=l3(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Tt(t.items,function(f){var v=f.toLowerCase();return v.trim().length===0?[]:ct(u,function(p){return p===v})?[]:v==="separator"||v==="|"?[{type:"separator"}]:r.menuItems[v]?[r.menuItems[v]]:[]})}}},Ez=function(t){return typeof t=="string"?t.split(" "):t},ZH=function(t,r){var o=z(z({},XH),r.menus),u=st(r.menus).length>0,f=r.menubar===void 0||r.menubar===!0?Ez(iq):Ez(r.menubar===!1?"":r.menubar),v=Be(f,function(C){var S=an(XH,C);return u?S||_t(r.menus,C).exists(function(O){return an(O,"items")}):S}),p=it(v,function(C){var S=o[C];return uq({title:S.title,items:Ez(S.items)},r,t)});return Be(p,function(C){var S=function(O){return O.type!=="separator"};return C.getItems().length>0&&ct(C.getItems(),S)})},JH=function(t){var r=function(){t._skinLoaded=!0,iN(t)};return function(){t.initialized?r():t.on("init",r)}},lq=function(t,r){return function(){return z3(t,{message:r})}},QH=function(t,r,o){return new oh(function(u,f){o.load(r,u,f),t.on("remove",function(){return o.unload(r)})})},sq=function(t,r){var o=r+"/skin.min.css";return QH(t,o,t.ui.styleSheetLoader)},cq=function(t,r){var o=er(Te.fromDom(t.getElement()));if(o){var u=r+"/skin.shadowdom.min.css";return QH(t,u,Eg.DOM.styleSheetLoader)}else return oh.resolve()},eV=function(t,r){var o=xI(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),TI(r)===!1&&y(o)?oh.all([sq(r,o),cq(r,o)]).then(JH(r),lq(r,"Skin could not be loaded")):JH(r)()},fq=me(eV,!1),vq=me(eV,!0),y_=function(t,r){return function(o){var u=Xm(),f=function(){o.setActive(t.formatter.match(r));var v=t.formatter.formatChanged(r,o.setActive);u.set(v)};return t.initialized?f():t.once("init",f),function(){t.off("init",f),u.clear()}}},w_=function(t,r,o){return function(u){var f=function(){return o(u)},v=function(){o(u),t.on(r,f)};return t.initialized?v():t.once("init",v),function(){t.off("init",v),t.off(r,f)}}},tV=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},hc=function(t,r){return function(){return t.execCommand(r)}},dq=function(t,r,o){var u=function(C,S,O,N){var H=r.shared.providers.translate(C.title);if(C.type==="separator")return E.some({type:"separator",text:H});if(C.type==="submenu"){var ne=Tt(C.getStyleItems(),function(ie){return f(ie,S,N)});return S===0&&ne.length<=0?E.none():E.some({type:"nestedmenuitem",text:H,disabled:ne.length<=0,getSubmenuItems:function(){return Tt(C.getStyleItems(),function(ie){return f(ie,S,N)})}})}else return E.some(z({type:"togglemenuitem",text:H,icon:C.icon,active:C.isSelected(N),disabled:O,onAction:o.onAction(C)},C.getStylePreview().fold(function(){return{}},function(ie){return{meta:{style:ie}}})))},f=function(C,S,O){var N=C.type==="formatter"&&o.isInvalid(C);return S===0?N?[]:u(C,S,!1,O).toArray():u(C,S,N,O).toArray()},v=function(C){var S=o.getCurrentValue(),O=o.shouldHide?0:1;return Tt(C,function(N){return f(N,O,S)})},p=function(C,S){return function(O,N){var H=S(),ne=v(H),ie=Ig(ne,Fi.CLOSE_ON_EXECUTE,C,!1);N(ie)}};return{validateItems:v,getFetch:p}},Ny=function(t,r,o){var u=o.dataset,f=u.type==="basic"?function(){return it(u.data,function(v){return lk(v,o.isSelectedFor,o.getPreviewFor)})}:u.getData;return{items:dq(t,r,o),getStyleItems:f}},Ak=function(t,r,o){var u=Ny(t,r,o),f=u.items,v=u.getStyleItems,p=function(S){return{getComponent:R(S)}},C=w_(t,"NodeChange",function(S){var O=S.getComponent();o.updateText(O)});return sy({text:o.icon.isSome()?E.none():o.text,icon:o.icon,tooltip:E.from(o.tooltip),role:E.none(),fetch:f.getFetch(r,v),onSetup:C,getApi:p,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},mq=function(t){return it(t,function(r){var o=r,u=r,f=r.split("=");return f.length>1&&(o=f[0],u=f[1]),{title:o,format:u}})},gq=function(t){return{type:"basic",data:t}},Ly;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Ly||(Ly={}));var pq=function(t,r){return r===Ly.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},Oz=function(t,r,o,u){var f=t.getParam(r,o,"string"),v=mq(pq(f,u));return{type:"basic",data:v}},Az=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],nV=function(t){var r=function(){return Et(Az,function(C){return t.formatter.match(C.format)})},o=function(C){return function(){return t.formatter.match(C)}},u=function(C){return E.none},f=function(C){var S=r(),O=S.fold(R("left"),function(N){return N.title.toLowerCase()});hr(C,XD,{icon:"align-"+O})},v=gq(Az),p=function(C){return function(){return Et(Az,function(S){return S.format===C.format}).each(function(S){return t.execCommand(S.command)})}};return{tooltip:"Align",text:E.none(),icon:E.some("align-left"),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:u,onAction:p,updateText:f,dataset:v,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},hq=function(t,r){return Ak(t,r,nV(t))},bq=function(t,r){var o=Ny(t,r,nV(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},yq="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",wq=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],rV=function(t){var r=t.split(/\s*,\s*/);return it(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},Cq=function(t){var r=function(){var o=rV(t.toLowerCase());return ln(wq,function(u){return o.indexOf(u.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},aV=function(t){var r="System Font",o=function(){var O=function(ge){return ge?rV(ge)[0]:""},N=t.queryCommandValue("FontName"),H=S.data,ne=N?N.toLowerCase():"",ie=Et(H,function(ge){var $e=ge.format;return $e.toLowerCase()===ne||O($e).toLowerCase()===O(ne).toLowerCase()}).orThunk(function(){return hn(Cq(ne),{title:r,format:ne})});return{matchOpt:ie,font:N}},u=function(O){return function(N){return N.exists(function(H){return H.format===O})}},f=function(){var O=o().matchOpt;return O},v=function(O){return function(){return E.some({tag:"div",styles:O.indexOf("dings")===-1?{"font-family":O}:{}})}},p=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,O.format)})}},C=function(O){var N=o(),H=N.matchOpt,ne=N.font,ie=H.fold(R(ne),function(ge){return ge.title});hr(O,Vd,{text:ie})},S=Oz(t,"font_formats",yq,Ly.SemiColon);return{tooltip:"Fonts",text:E.some(r),icon:E.none(),isSelectedFor:u,getCurrentValue:f,getPreviewFor:v,onAction:p,updateText:C,dataset:S,shouldHide:!1,isInvalid:se}},Sq=function(t,r){return Ak(t,r,aV(t))},xq=function(t,r){var o=Ny(t,r,aV(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},kq="8pt 10pt 12pt 14pt 18pt 24pt 36pt",Tq={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Eq={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Oq=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},Aq=function(t,r){return/[0-9.]+px$/.test(t)?Oq(parseInt(t,10)*72/96,r||0)+"pt":_t(Eq,t).getOr(t)},$q=function(t){return _t(Tq,t).getOr("")},oV=function(t){var r=function(){var S=E.none(),O=C.data,N=t.queryCommandValue("FontSize");if(N)for(var H=function(ie){var ge=Aq(N,ie),$e=$q(ge);S=Et(O,function(Ze){return Ze.format===N||Ze.format===ge||Ze.format===$e})},ne=3;S.isNone()&&ne>=0;ne--)H(ne);return{matchOpt:S,size:N}},o=function(S){return function(O){return O.exists(function(N){return N.format===S})}},u=function(){var S=r().matchOpt;return S},f=R(E.none),v=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,S.format)})}},p=function(S){var O=r(),N=O.matchOpt,H=O.size,ne=N.fold(R(H),function(ie){return ie.title});hr(S,Vd,{text:ne})},C=Oz(t,"fontsize_formats",kq,Ly.Space);return{tooltip:"Font sizes",text:E.some("12pt"),icon:E.none(),isSelectedFor:o,getPreviewFor:f,getCurrentValue:u,onAction:v,updateText:p,dataset:C,shouldHide:!1,isInvalid:se}},Dq=function(t,r){return Ak(t,r,oV(t))},_q=function(t,r){var o=Ny(t,r,oV(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},iV=function(t,r){var o=r(),u=it(o,function(f){return f.format});return E.from(t.formatter.closest(u)).bind(function(f){return Et(o,function(v){return v.format===f})}).orThunk(function(){return hn(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},Pq="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",uV=function(t){var r="Paragraph",o=function(p){return function(){return t.formatter.match(p)}},u=function(p){return function(){var C=t.formatter.get(p);return E.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))})}},f=function(p){var C=iV(t,function(){return v.data}),S=C.fold(R(r),function(O){return O.title});hr(p,Vd,{text:S})},v=Oz(t,"block_formats",Pq,Ly.SemiColon);return{tooltip:"Blocks",text:E.some(r),icon:E.none(),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:u,onAction:tV(t),updateText:f,dataset:v,shouldHide:!1,isInvalid:function(p){return!t.formatter.canApply(p.format)}}},Mq=function(t,r){return Ak(t,r,uV(t))},Rq=function(t,r){var o=Ny(t,r,uV(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},lV=function(t,r){var o="Paragraph",u=function(p){return function(){return t.formatter.match(p)}},f=function(p){return function(){var C=t.formatter.get(p);return C!==void 0?E.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):E.none()}},v=function(p){var C=function(H){var ne=H.items;return ne!==void 0&&ne.length>0?Tt(ne,C):[{title:H.title,format:H.format}]},S=Tt(uk(t),C),O=iV(t,R(S)),N=O.fold(R(o),function(H){return H.title});hr(p,Vd,{text:N})};return{tooltip:"Formats",text:E.some(o),icon:E.none(),isSelectedFor:u,getCurrentValue:E.none,getPreviewFor:f,onAction:tV(t),updateText:v,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(p){return!t.formatter.canApply(p.format)},dataset:r}},Bq=function(t,r){var o=z({type:"advanced"},r.styleselect);return Ak(t,r,lV(t,o))},Fq=function(t,r){var o=z({type:"advanced"},r.styleselect),u=Ny(t,r,lV(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return u.items.validateItems(u.getStyleItems())}})},Iq=function(t,r){var o=function(u,f){t.updateState.each(function(v){var p=v(u,f);r.set(p)}),t.renderComponents.each(function(v){var p=v(f,r.get()),C=it(p,u.getSystem().build);UC(u,C)})};return Va([nn(Kl(),function(u,f){var v=f;if(!v.universal){var p=t.channel;Xe(v.channels,p)&&o(u,v.data)}}),qr(function(u,f){t.initialData.each(function(v){o(u,v)})})])},Nq=Object.freeze({__proto__:null,events:Iq}),Lq=function(t,r,o){return o},zq=Object.freeze({__proto__:null,getState:Lq}),Hq=[tn("channel"),$a("renderComponents"),$a("updateState"),$a("initialData")],Vq=function(){var t=Cr(E.none()),r=function(){return t.set(E.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},Uq=Object.freeze({__proto__:null,init:Vq}),ns=bi({fields:Hq,name:"reflecting",active:Nq,apis:zq,state:Uq}),Wq=R([tn("toggleClass"),tn("fetch"),Eu("onExecute"),nt("getHotspot",E.some),nt("getAnchorOverrides",R({})),vv(),Eu("onItemExecute"),$a("lazySink"),tn("dom"),xa("onOpen"),li("splitDropdownBehaviours",[Bo,Sr,Dr]),nt("matchWidth",!1),nt("useMinWidth",!1),nt("eventOrder",{}),$a("role")].concat(ux())),jq=Yi({factory:_u,schema:[tn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:$n([Dr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Ol)},buttonBehaviours:$n([fa.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),qq=Yi({factory:_u,schema:[tn("dom")],name:"button",defaults:function(){return{buttonBehaviours:$n([Dr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),Kq=R([jq,qq,bs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[tn("text")],name:"aria-descriptor"}),hs({schema:[qb()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(u){t.onItemExecute(u,r,o)})}}}}),$$()]),Gq=function(t,r,o,u){var f,v=function(H){ia.getCurrent(H).each(function(ne){Da.highlightFirst(ne),Sr.focusIn(ne)})},p=function(H){var ne=v;_g(t,Q,H,u,ne,Ss.HighlightFirst).get(_)},C=function(H){return p(H),E.some(!0)},S=function(H){var ne=zc(H,t,"button");return Ol(ne),E.some(!0)},O=z(z({},Va([qr(function(H,ne){var ie=Ua(H,t,"aria-descriptor");ie.each(function(ge){var $e=Zn("aria");Zr(ge.element,"id",$e),Zr(H.element,"aria-describedby",$e)})})])),J1(E.some(p))),N={repositionMenus:function(H){fa.isOn(H)&&Ov(H)}};return{uid:t.uid,dom:t.dom,components:r,apis:N,eventOrder:z(z({},t.eventOrder),(f={},f[Tl()]=["disabling","toggling","alloy.base.behaviour"],f)),events:O,behaviours:Oi(t.splitDropdownBehaviours,[Bo.config({others:{sandbox:function(H){var ne=zc(H,t,"arrow"),ie={onOpen:function(){fa.on(ne),fa.on(H)},onClose:function(){fa.off(ne),fa.off(H)}};return ix(t,H,ie)}}}),Sr.config({mode:"special",onSpace:S,onEnter:S,onDown:C}),Dr.config({}),fa.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},C_=Du({name:"SplitDropdown",configFields:Wq(),partFields:Kq(),factory:Gq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Yq=function(t){return{isDisabled:function(){return mr.isDisabled(t)},setDisabled:function(r){return mr.set(t,r)}}},Xq=function(t){return{setActive:function(r){fa.set(t,r)},isActive:function(){return fa.isOn(t)},isDisabled:function(){return mr.isDisabled(t)},setDisabled:function(r){return mr.set(t,r)}}},sV=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},cV=Zn("focus-button"),$z=function(t,r,o,u,f,v){var p;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:sV(o,v)},components:Cf([t.map(function(C){return ly(C,v.icons)}),r.map(function(C){return Ux(C,"tox-tbtn",v)})]),eventOrder:(p={},p[ms()]=["focusing","alloy.base.behaviour","common-button-display-events"],p),buttonBehaviours:$n([Cs.toolbarButton(v.isDisabled),Qo(),Vr("common-button-display-events",[nn(ms(),function(C,S){S.event.prevent(),Ca(C,cV)})])].concat(u.map(function(C){return ns.config({channel:C,initialData:{icon:t,text:r},renderComponents:function(S,O){return Cf([S.icon.map(function(N){return ly(N,v.icons)}),S.text.map(function(N){return Ux(N,"tox-tbtn",v)})])}})}).toArray()).concat(f.getOr([])))}},Zq=function(t,r,o,u){var f=r.shared;return Bu.sketch({lazySink:f.getSink,fetch:function(){return Ai.nu(function(v){v(it(o(t.items),Ke))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:$z(t.icon,t.text,t.tooltip,E.none(),E.none(),f.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},fV=function(t,r,o){var u=Cr(_),f=$z(t.icon,t.text,t.tooltip,E.none(),E.none(),o);return _u.sketch({dom:f.dom,components:f.components,eventOrder:YD,buttonBehaviours:$n([Vr("toolbar-button-events",[GD({onAction:t.onAction,getApi:r.getApi}),Ad(r,u),$d(r,u)]),Cs.toolbarButton(function(){return t.disabled||o.isDisabled()}),Qo()].concat(r.toolbarButtonBehaviours))})},Jq=function(t,r){return vV(t,r,[])},vV=function(t,r,o){return fV(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Vr("toolbarButtonWith",o)]:[]),getApi:Yq,onSetup:t.onSetup},r)},Qq=function(t,r){return dV(t,r,[])},dV=function(t,r,o){return zt(fV(t,{toolbarButtonBehaviours:[Ir.config({}),fa.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Vr("toolbarToggleButtonWith",o)]:[]),getApi:Xq,onSetup:t.onSetup},r))},eK=function(t,r,o){return function(u){return Ai.nu(function(f){return r.fetch(f)}).map(function(f){return E.from(s$(zt(GS(Zn("menu-value"),f,function(v){r.onItemAction(t(u),v)},r.columns,r.presets,Fi.CLOSE_ON_EXECUTE,r.select.getOr(se),o),{movement:_0(r.columns,r.presets),menuBehaviours:h0.unnamedEvents(r.columns!=="auto"?[]:[qr(function(v,p){OS(v,4,VA(r.presets)).each(function(C){var S=C.numRows,O=C.numColumns;Sr.setGridSize(v,S,O)})})])})))})}},tK=function(t,r){var o,u=Zn("channel-update-split-dropdown-display"),f=function(C){return{isDisabled:function(){return mr.isDisabled(C)},setDisabled:function(S){return mr.set(C,S)},setIconFill:function(S,O){ii(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(N){Zr(N,"fill",O)})},setIconStroke:function(S,O){ii(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(N){Zr(N,"stroke",O)})},setActive:function(S){Zr(C.element,"aria-pressed",S),ii(C.element,"span").each(function(O){C.getSystem().getByDom(O).each(function(N){return fa.set(N,S)})})},isActive:function(){return ii(C.element,"span").exists(function(S){return C.getSystem().getByDom(S).exists(fa.isOn)})}}},v=Cr(_),p={getApi:f,onSetup:t.onSetup};return C_.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:z({"aria-pressed":!1},sV(t.tooltip,r.providers))},onExecute:function(C){t.onAction(f(C))},onItemExecute:function(C,S,O){},splitDropdownBehaviours:$n([Cs.splitButton(r.providers.isDisabled),Qo(),Vr("split-dropdown-events",[nn(cV,Dr.focus),Ad(p,v),$d(p,v)]),Oh.config({})]),eventOrder:(o={},o[El()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:eK(f,t,r.providers),parts:{menu:Ed(!1,t.columns,t.presets)},components:[C_.parts.button($z(t.icon,t.text,E.none(),E.some(u),E.some([fa.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),C_.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:TA("chevron-down",r.providers.icons)},buttonBehaviours:$n([Cs.splitButton(r.providers.isDisabled),Qo(),tS()])}),C_.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},nK=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],$k=function(t,r){return function(o,u,f){var v=t(o).mapError(function(p){return Em(p)}).getOrDie();return r(v,u,f)}},zy={button:$k(MA,function(t,r){return Jq(t,r.backstage.shared.providers)}),togglebutton:$k(v0,function(t,r){return Qq(t,r.backstage.shared.providers)}),menubutton:$k(Xd,function(t,r){return qx(t,"tox-tbtn",r.backstage,E.none())}),splitbutton:$k(mz,function(t,r){return tK(t,r.backstage.shared)}),grouptoolbarbutton:$k(cz,function(t,r,o){var u,f=o.ui.registry.getAll().buttons,v=function(C){return S_(o,{buttons:f,toolbar:C,allowToolbarGroups:!1},r,E.none())},p=(u={},u[AC]=r.backstage.shared.header.isPositionedAtTop()?Rc.TopToBottom:Rc.BottomToTop,u);switch(dh(o)){case Ml.floating:return Zq(t,r.backstage,v,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return Bq(t,r.backstage)},fontsizeSelectButton:function(t,r){return Dq(t,r.backstage)},fontSelectButton:function(t,r){return Sq(t,r.backstage)},formatButton:function(t,r){return Mq(t,r.backstage)},alignMenuButton:function(t,r){return hq(t,r.backstage)}},rK=function(t,r,o){return _t(zy,t.type).fold(function(){return E.none()},function(u){return E.some(u(t,r,o))})},mV={styleselect:zy.styleSelectButton,fontsizeselect:zy.fontsizeSelectButton,fontselect:zy.fontSelectButton,formatselect:zy.formatButton,align:zy.alignMenuButton},aK=function(t){var r=it(nK,function(o){var u=Be(o.items,function(f){return an(t,f)||an(mV,f)});return{name:o.name,items:u}});return Be(r,function(o){return o.items.length>0})},oK=function(t){var r=t.split("|");return it(r,function(o){return{items:o.trim().split(" ")}})},iK=function(t){return J(t,function(r){return an(r,"name")&&an(r,"items")})},uK=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?aK(o):y(r)?oK(r):iK(r)?r:[]},lK=function(t,r,o,u,f,v){return _t(r,o.toLowerCase()).orThunk(function(){return v.bind(function(p){return rt(p,function(C){return _t(r,C+o.toLowerCase())})})}).fold(function(){return _t(mV,o.toLowerCase()).map(function(p){return p(t,f)}).orThunk(function(){return E.none()})},function(p){return p.type==="grouptoolbarbutton"&&!u?E.none():rK(p,f,t)})},S_=function(t,r,o,u){var f=uK(r),v=it(f,function(p){var C=Tt(p.items,function(S){return S.trim().length===0?[]:lK(t,r.buttons,S,r.allowToolbarGroups,o,u).toArray()});return{title:E.from(t.translate(p.name)),items:C}});return Be(v,function(p){return p.items.length>0})},gV=function(t,r,o,u){var f=r.outerContainer,v=o.toolbar,p=o.buttons;if(J(v,y)){var C=v.map(function(S){var O={toolbar:S,buttons:p,allowToolbarGroups:o.allowToolbarGroups};return S_(t,O,{backstage:u},E.none())});No.setToolbars(f,C)}else No.setToolbar(f,S_(t,o,{backstage:u},E.none()))},pV=dr(),sK=pV.os.isiOS()&&pV.os.version.major<=12,cK=function(t,r){var o=t.dom,u=t.getWin(),f=t.getDoc().documentElement,v=Cr(Ya(u.innerWidth,u.innerHeight)),p=Cr(Ya(f.offsetWidth,f.offsetHeight)),C=function(){var ne=v.get();(ne.left!==u.innerWidth||ne.top!==u.innerHeight)&&(v.set(Ya(u.innerWidth,u.innerHeight)),LS(t))},S=function(){var ne=t.getDoc().documentElement,ie=p.get();(ie.left!==ne.offsetWidth||ie.top!==ne.offsetHeight)&&(p.set(Ya(ne.offsetWidth,ne.offsetHeight)),LS(t))},O=function(ne){return lN(t,ne)};o.bind(u,"resize",C),o.bind(u,"scroll",O);var N=a1(Te.fromDom(t.getBody()),"load",S),H=r.uiMothership.element;t.on("hide",function(){Pr(H,"display","none")}),t.on("show",function(){za(H,"display")}),t.on("NodeChange",S),t.on("remove",function(){N.unbind(),o.unbind(u,"resize",C),o.unbind(u,"scroll",O),u=null})},fK=function(t,r,o,u,f){var v=Cr(0),p=r.outerContainer;fq(t);var C=Te.fromDom(f.targetNode),S=Fn(Er(C));rc(C,r.mothership),mv(S,r.uiMothership),t.on("PostRender",function(){gV(t,r,o,u),v.set(t.getWin().innerWidth),No.setMenubar(p,ZH(t,o)),No.setSidebar(p,o.sidebar),cK(t,r)});var O=No.getSocket(p).getOrDie("Could not find expected socket element");if(sK){Ls(O.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var N=DF(function(){t.fire("ScrollContent")},20),H=Ko(O.element,"scroll",N.throttle);t.on("remove",H.unbind)}w3(t,r),t.addCommand("ToggleSidebar",function($e,Ze){No.toggleSidebar(p,Ze),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return No.whichSidebar(p)});var ne=dh(t),ie=function(){No.refreshToolbar(r.outerContainer)};(ne===Ml.sliding||ne===Ml.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var $e=t.getWin().innerWidth;$e!==v.get()&&(ie(),v.set($e))});var ge={enable:function(){Og(r,!1)},disable:function(){Og(r,!0)},isDisabled:function(){return mr.isDisabled(p)}};return{iframeContainer:O.element.dom,editorContainer:p.element.dom,api:ge}},vK=Object.freeze({__proto__:null,render:fK}),Dz=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?E.some(parseInt(""+t,10)):E.none()},_z=function(t){return L(t)?t+"px":t},x_=function(t,r,o){var u=r.filter(function(v){return t<v}),f=o.filter(function(v){return t>v});return u.or(f).getOr(t)},dK=function(t){var r=y0(t),o=a3(t),u=o3(t);return Dz(r).map(function(f){return x_(f,o,u)})},mK=function(t){var r=dK(t);return r.getOr(y0(t))},hV=function(t){var r=w0(t),o=_S(t),u=C0(t);return Dz(r).map(function(f){return x_(f,o,u)})},gK=function(t){var r=hV(t);return r.getOr(w0(t))},pK=function(t,r,o,u,f){var v=o.uiMothership,p=o.outerContainer,C=Eg.DOM,S=x0(t),O=k0(t),N=C0(t).or(hV(t)),H=u.shared.header,ne=H.isPositionedAtTop,ie=dh(t),ge=ie===Ml.sliding||ie===Ml.floating,$e=Cr(!1),Ze=function(){return $e.get()&&!t.removed},Se=function(rn){return ge?rn.fold(R(0),function(jt){return jt.components().length>1?ri(jt.components()[1].element):0}):0},et=function(rn){switch(c3(t)){case Od.auto:var jt=No.getToolbar(p),Tn=Se(jt),Xn=ri(rn.element)-Tn,Zt=pi(r),qn=Zt.y>Xn;if(qn)return"top";var nr=Ht(r),ra=Math.max(nr.dom.scrollHeight,ri(nr)),Ta=Zt.bottom<ra-Xn;if(Ta)return"bottom";var Za=Sl(),yo=Za.bottom<Zt.bottom-Xn;return yo?"bottom":"top";case Od.bottom:return"bottom";case Od.top:default:return"top"}},Rt=function(rn){var jt=f.get();Fo.setModes(jt,[rn]),H.setDockingMode(rn);var Tn=ne()?Rc.TopToBottom:Rc.BottomToTop;Zr(jt.element,AC,Tn)},Mt=function(){var rn=N.getOrThunk(function(){var jt=Dz(Io(Ba(),"margin-left")).getOr(0);return au(Ba())-Cu(r).left+jt});Pr(f.get().element,"max-width",rn+"px")},Qe=function(){var rn=No.getToolbar(p),jt=Se(rn),Tn=pi(r),Xn=ne()?Math.max(Tn.y-ri(f.get().element)+jt,0):Tn.bottom;Ls(p.element,{position:"absolute",top:Math.round(Xn)+"px",left:Math.round(Tn.x)+"px"})},kt=function(){v.broadcastOn([ag()],{})},qt=function(rn){if(rn===void 0&&(rn=!1),!!Ze()){if(S||Mt(),ge&&No.refreshToolbar(p),S||Qe(),O){var jt=f.get();rn?Fo.reset(jt):Fo.refresh(jt)}kt()}},Pn=function(rn){if(rn===void 0&&(rn=!0),!(S||!O||!Ze())){var jt=H.getDockingMode(),Tn=et(f.get());Tn!==jt&&(Rt(Tn),rn&&qt(!0))}},Qt=function(){$e.set(!0),Pr(p.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),za(v.element,"display"),Pn(!1),qt()},Mn=function(){$e.set(!1),o.outerContainer&&(Pr(p.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus")),Pr(v.element,"display","none")};return{isVisible:Ze,isPositionedAtTop:ne,show:Qt,hide:Mn,update:qt,updateMode:Pn,repositionPopups:kt}},bV=function(t,r){var o=pi(t);return{pos:r?o.y:o.bottom,bounds:o}},hK=function(t,r,o,u){var f=Cr(bV(r,o.isPositionedAtTop())),v=function(C){var S=bV(r,o.isPositionedAtTop()),O=S.pos,N=S.bounds,H=f.get(),ne=H.pos,ie=H.bounds,ge=N.height!==ie.height||N.width!==ie.width;f.set({pos:O,bounds:N}),ge&&LS(t,C),o.isVisible()&&(ne!==O?o.update(!0):ge&&(o.updateMode(),o.repositionPopups()))};u||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(C){xv.requestAnimationFrame(function(){return v(C)})}),t.on("ScrollWindow",function(){return o.updateMode()});var p=Xm();p.set(a1(Te.fromDom(t.getBody()),"load",v)),t.on("remove",function(){p.clear()})},bK=function(t,r,o,u,f){var v=r.mothership,p=r.uiMothership,C=r.outerContainer,S=Cr(null),O=Te.fromDom(f.targetNode),N=pK(t,O,r,u,S),H=DI(t);vq(t);var ne=function(){if(S.get()){N.show();return}S.set(No.getHeader(C).getOrDie());var ge=m3(t);mv(ge,v),mv(ge,p),gV(t,r,o,u),No.setMenubar(C,ZH(t,o)),N.show(),hK(t,O,N,H),t.nodeChanged()};t.on("show",ne),t.on("hide",N.hide),H||(t.on("focus",ne),t.on("blur",N.hide)),t.on("init",function(){(t.hasFocus()||H)&&ne()}),w3(t,r);var ie={show:function(){N.show()},hide:function(){N.hide()},enable:function(){Og(r,!1)},disable:function(){Og(r,!0)},isDisabled:function(){return mr.isDisabled(C)}};return{editorContainer:C.element.dom,api:ie}},yK=Object.freeze({__proto__:null,render:bK}),wK="contexttoolbar-show",yV="contexttoolbar-hide",CK=function(t){return{hide:function(){return Ca(t,xp())},getValue:function(){return Rn.getValue(t)}}},wV=function(t,r){return nn(KD,function(o,u){var f=t.get(o),v=CK(f);r.onAction(v,u.event.buttonApi)})},SK=function(t,r,o){var u=r.original;u.primary;var f=G(u,["primary"]),v=Vs(MA(z(z({},f),{type:"button",onAction:_})));return vV(v,o.backstage.shared.providers,[wV(t,r)])},xK=function(t,r,o){var u=r.original;u.primary;var f=G(u,["primary"]),v=Vs(v0(z(z({},f),{type:"togglebutton",onAction:_})));return dV(v,o.backstage.shared.providers,[wV(t,r)])},kK=function(t,r,o){var u={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?xK(t,r,u):SK(t,r,u)},TK=function(t,r,o){var u=it(r,function(p){return ka(kK(t,p,o))}),f=function(){return it(u,function(p){return p.asSpec()})},v=function(p){return rt(r,function(C,S){return C.primary?E.from(u[S]).bind(function(O){return O.getOpt(p)}).filter(xe(mr.isDisabled)):E.none()})};return{asSpecs:f,findPrimary:v}},CV=function(t,r){var o=t.label.fold(function(){return{}},function(v){return{"aria-label":v}}),u=ka(Th.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:$n([Sr.config({mode:"special",onEnter:function(v){return f.findPrimary(v).map(function(p){return Ol(p),!0})},onLeft:function(v,p){return p.cut(),E.none()},onRight:function(v,p){return p.cut(),E.none()}})])})),f=TK(u,t.commands,r);return[{title:E.none(),items:[u.asSpec()]},{title:E.none(),items:f.asSpecs()}]},EK=function(t,r,o){return ma({type:t,uid:Zn("context-toolbar"),initGroups:CV(r,o),onEscape:E.none,cyclicKeying:!0,providers:o})},OK={renderContextForm:EK,buildInitGroups:CV},SV=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},AK=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=Ie(Te.fromDom(t.startContainer),t.startOffset).element,u=ve(o)?ni(o):E.some(o);return u.filter(j).map(function(f){return f.dom.getBoundingClientRect()}).getOr(r)}else return r},Pz=function(t){var r=t.selection.getRng(),o=AK(r);if(t.inline){var u=wl();return gi(u.left+o.left,u.top+o.top,o.width,o.height)}else{var f=Ec(Te.fromDom(t.getBody()));return gi(f.x+o.left,f.y+o.top,o.width,o.height)}},$K=function(t,r){return r.filter(Br).map(Ec).getOrThunk(function(){return Pz(t)})},DK=function(t,r,o){var u=Math.max(t.x+o,r.x),f=Math.min(t.right-o,r.right);return{x:u,width:f-u}},_K=function(t,r,o,u,f,v){var p=Te.fromDom(t.getContainer()),C=ii(p,".tox-editor-header").getOr(p),S=pi(C),O=S.y>=r.bottom,N=u&&!O;if(t.inline&&N)return{y:Math.max(S.bottom+v,o.y),bottom:o.bottom};if(t.inline&&!N)return{y:o.y,bottom:Math.min(S.y-v,o.bottom)};var H=f==="line"?pi(p):r;return N?{y:Math.max(S.bottom+v,o.y),bottom:Math.min(H.bottom-v,o.bottom)}:{y:Math.max(H.y+v,o.y),bottom:Math.min(S.y-v,o.bottom)}},xV=function(t,r,o,u){u===void 0&&(u=0);var f=Xv(window),v=pi(Te.fromDom(t.getContentAreaContainer())),p=PS(t)||MS(t)||S0(t),C=DK(v,f,u),S=C.x,O=C.width;if(t.inline&&!p)return gi(S,f.y,O,f.height);var N=r.header.isPositionedAtTop(),H=_K(t,v,f,N,o,u),ne=H.y,ie=H.bottom;return gi(S,ne,O,ie-ne)},k_=12,kV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},TV={maxHeightFunction:Rp(),maxWidthFunction:Ji()},PK=function(t,r){var o=t.selection.getRng(),u=Ie(Te.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&fo(u.element,r)},MK=function(t,r,o){var u=ki(t,"position");Pr(t,"position",r);var f=o(t);return u.each(function(v){return Pr(t,"position",v)}),f},EV=function(t){return t==="node"},RK=function(t,r,o,u,f){var v=Pz(t),p=u.lastElement().exists(function(O){return fo(o,O)});if(PK(t,o))return p?SA:uc;if(p)return MK(r,u.getMode(),function(){var O=SV(v,pi(r));return O&&!u.isReposition()?kF:SA});var C=u.getMode()==="fixed"?f.y+wl().top:f.y,S=ri(r)+k_;return C+S<=v.y?uc:yg},BK=function(t,r,o,u){var f=function(S){return function(O,N,H,ne,ie){var ge=RK(t,ne,S,o,ie),$e=z(z({},O),{y:ie.y,height:ie.height});return z(z({},ge($e,N,H,ne,ie)),{alwaysFit:!0})}},v=function(S){return EV(u)?[f(S)]:[]},p={onLtr:function(S){return[ju,Jo,Wu,qi,Ou,Ki].concat(v(S))},onRtl:function(S){return[ju,Jo,Ou,Ki,Wu,qi].concat(v(S))}},C={onLtr:function(S){return[Jo,qi,Ki,Wu,Ou,ju].concat(v(S))},onRtl:function(S){return[Jo,Ki,qi,Ou,Wu,ju].concat(v(S))}};return r?C:p},FK=function(t,r,o,u){return r==="line"?{bubble:Zm(k_,0,kV),layouts:{onLtr:function(){return[Zb]},onRtl:function(){return[Jb]}},overrides:TV}:{bubble:Zm(0,k_,kV,1/k_),layouts:BK(t,o,u,r),overrides:TV}},Mz=function(t,r){var o=Be(r,function(p){return p.predicate(t.dom)}),u=Ne(o,function(p){return p.type==="contexttoolbar"}),f=u.pass,v=u.fail;return{contextToolbars:f,contextForms:v}},IK=function(t){if(t.length<=1)return t;var r=function(C){return ct(t,function(S){return S.position===C})},o=function(C){return Be(t,function(S){return S.position===C})},u=r("selection"),f=r("node");if(u||f)if(f&&u){var v=o("node"),p=it(o("selection"),function(C){return z(z({},C),{position:"node"})});return v.concat(p)}else return o(u?"selection":"node");else return o("line")},NK=function(t){if(t.length<=1)return t;var r=function(u){return Et(t,function(f){return f.position===u})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(u){return u.position});return o.fold(function(){return[]},function(u){return Be(t,function(f){return f.position===u})})},LK=function(t,r,o){var u=Mz(t,r);if(u.contextForms.length>0)return E.some({elem:t,toolbars:[u.contextForms[0]]});var f=Mz(t,o);if(f.contextForms.length>0)return E.some({elem:t,toolbars:[f.contextForms[0]]});if(u.contextToolbars.length>0||f.contextToolbars.length>0){var v=IK(u.contextToolbars.concat(f.contextToolbars));return E.some({elem:t,toolbars:v})}else return E.none()},zK=function(t,r,o){return t(r)?E.none():Ew(r,function(u){if(j(u)){var f=Mz(u,o.inNodeScope),v=f.contextToolbars,p=f.contextForms,C=p.length>0?p:NK(v);return C.length>0?E.some({elem:u,toolbars:C}):E.none()}else return E.none()},t)},HK=function(t,r){var o=Te.fromDom(r.getBody()),u=function(p){return fo(p,o)},f=function(p){return!u(p)&&!yu(o,p)},v=Te.fromDom(r.selection.getNode());return f(v)?E.none():LK(v,t.inNodeScope,t.inEditorScope).orThunk(function(){return zK(u,v,t)})},VK=function(t,r){var o={},u=[],f=[],v={},p={},C=function(N,H){var ne=Vs(fS(H));o[N]=ne,ne.launch.map(function(ie){v["form:"+N]=z(z({},H.launch),{type:ie.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ne)}})}),ne.scope==="editor"?f.push(ne):u.push(ne),p[N]=ne},S=function(N,H){FA(H).each(function(ne){H.scope==="editor"?f.push(ne):u.push(ne),p[N]=ne})},O=st(t);return Oe(O,function(N){var H=t[N];H.type==="contextform"?C(N,H):H.type==="contexttoolbar"&&S(N,H)}),{forms:o,inNodeScope:u,inEditorScope:f,lookupTable:p,formNavigators:v}},OV=Zn("forward-slide"),AV=Zn("backward-slide"),Rz=Zn("change-slide-event"),Bz="tox-pop--resizing",UK=function(t){var r=Cr([]);return So.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),So.getContent(o).each(function(u){za(u.element,"visibility")}),Zo(o.element,Bz),za(o.element,"width")},inlineBehaviours:$n([Vr("context-toolbar-events",[jo(Cp(),function(o,u){u.event.raw.propertyName==="width"&&(Zo(o.element,Bz),za(o.element,"width"))}),nn(Rz,function(o,u){var f=o.element;za(f,"width");var v=au(f);So.setContent(o,u.event.contents),oi(f,Bz);var p=au(f);Pr(f,"width",v+"px"),So.getContent(o).each(function(C){u.event.focus.bind(function(S){return Zs(S),Qs(f)}).orThunk(function(){return Sr.focusIn(C),Js(Er(f))})}),xv.setTimeout(function(){Pr(o.element,"width",p+"px")},0)}),nn(OV,function(o,u){So.getContent(o).each(function(f){r.set(r.get().concat([{bar:f,focus:Js(Er(o.element))}]))}),hr(o,Rz,{contents:u.event.forwardContents,focus:E.none()})}),nn(AV,function(o,u){Dt(r.get()).each(function(f){r.set(r.get().slice(0,r.get().length-1)),hr(o,Rz,{contents:$l(f.bar),focus:f.focus})})})]),Sr.config({mode:"special",onEscape:function(o){return Dt(r.get()).fold(function(){return t.onEscape()},function(u){return Ca(o,AV),E.some(!0)})}})]),lazySink:function(){return Xr.value(t.sink)}})},Fz="tox-pop--transition",WK=function(t,r,o,u){var f=u.backstage,v=f.shared,p=dr().deviceType.isTouch,C=Po(),S=Po(),O=Po(),N=qo(UK({sink:o,onEscape:function(){return t.focus(),E.some(!0)}})),H=function(){var Qt=O.get().getOr("node"),Mn=EV(Qt)?1:0;return xV(t,v,Qt,Mn)},ne=function(){return!t.removed&&!(p()&&f.isContextMenuOpen())},ie=function(Qt){return kr(_a(Qt,C.get(),fo),!0)},ge=function(){if(ne()){var Qt=H(),Mn=kr(O.get(),"node")?$K(t,C.get()):Pz(t);return Qt.height<=0||!SV(Mn,Qt)}else return!0},$e=function(){C.clear(),S.clear(),O.clear(),So.hide(N)},Ze=function(){if(So.isOpen(N)){var Qt=N.element;za(Qt,"display"),ge()?Pr(Qt,"display","none"):(S.set(0),So.reposition(N))}},Se=function(Qt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Qt],behaviours:$n([Sr.config({mode:"acyclic"}),Vr("pop-dialog-wrap-events",[qr(function(Mn){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Sr.focusIn(Mn)})}),Gl(function(Mn){t.shortcuts.remove("ctrl+F9")})])])}},et=pt(function(){return VK(r,function(Qt){var Mn=Qe([Qt]);hr(N,OV,{forwardContents:Se(Mn)})})}),Rt=function(Qt,Mn){return S_(t,{buttons:Qt,toolbar:Mn.items,allowToolbarGroups:!1},u,E.some(["form:"]))},Mt=function(Qt,Mn){return OK.buildInitGroups(Qt,Mn)},Qe=function(Qt){var Mn=t.ui.registry.getAll().buttons,rn=et(),jt=z(z({},Mn),rn.formNavigators),Tn=dh(t)===Ml.scrolling?Ml.scrolling:Ml.default,Xn=Re(it(Qt,function(Zt){return Zt.type==="contexttoolbar"?Rt(jt,Zt):Mt(Zt,v.providers)}));return ma({type:Tn,uid:Zn("context-toolbar"),initGroups:Xn,onEscape:E.none,cyclicKeying:!0,providers:v.providers})},kt=function(Qt,Mn){var rn=Qt==="node"?v.anchors.node(Mn):v.anchors.cursor(),jt=FK(t,Qt,p(),{lastElement:C.get,isReposition:function(){return kr(S.get(),0)},getMode:function(){return Mo.getMode(o)}});return zt(rn,jt)},qt=function(Qt,Mn){if(Pn.cancel(),!!ne()){var rn=Qe(Qt),jt=Qt[0].position,Tn=kt(jt,Mn);O.set(jt),S.set(1);var Xn=N.element;za(Xn,"display"),ie(Mn)||(Zo(Xn,Fz),Mo.reset(o,N)),So.showWithinBounds(N,Se(rn),{anchor:Tn,transition:{classes:[Fz],mode:"placement"}},function(){return E.some(H())}),Mn.fold(C.clear,C.set),ge()&&Pr(Xn,"display","none")}},Pn=oS(function(){if(!(!t.hasFocus()||t.removed))if(ku(N.element,Fz))Pn.throttle();else{var Qt=et();HK(Qt,t).fold($e,function(Mn){qt(Mn.toolbars,E.some(Mn.elem))})}},17);t.on("init",function(){t.on("remove",$e),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ze),t.on("click keyup focus SetContent",Pn.throttle),t.on(yV,$e),t.on(wK,function(Qt){var Mn=et();_t(Mn.lookupTable,Qt.toolbarKey).each(function(rn){qt([rn],hn(Qt.target!==t,Qt.target)),So.getContent(N).each(Sr.focusIn)})}),t.on("focusout",function(Qt){xv.setEditorTimeout(t,function(){Qs(o.element).isNone()&&Qs(N.element).isNone()&&$e()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&$e()}),t.on("AfterProgressState",function(Qt){Qt.state?$e():t.hasFocus()&&Pn.throttle()}),t.on("NodeChange",function(Qt){Qs(N.element).fold(Pn.throttle,_)})})},jK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Oe(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:hc(t,o.cmd),onSetup:y_(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:hc(t,"JustifyNone")})},qK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},KK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,u="\\.",f=function(C){return"(?:"+C+")?"},v=["Infinity",t+u+f(t)+f(o),u+t+f(o),t+f(o)].join("|"),p="[+-]?(?:"+v+")";return new RegExp("^("+p+")(.*)$")}(),GK=function(t,r){return ct(r,function(o){return ct(qK[o],function(u){return t===u})})},YK=function(t,r){var o=E.from(KK.exec(t));return o.bind(function(u){var f=Number(u[1]),v=u[2];return GK(v,r)?E.some({value:f,unit:v}):E.none()})},XK=function(t,r){return YK(t,r).map(function(o){var u=o.value,f=o.unit;return u+f})},$V=function(t,r){var o=function(){var u=r.getOptions(t),f=r.getCurrent(t).map(r.hash),v=Po();return it(u,function(p){return{type:"togglemenuitem",text:r.display(p),onSetup:function(C){var S=function(N){N&&(v.on(function(H){return H.setActive(!1)}),v.set(C)),C.setActive(N)};S(kr(f,r.hash(p)));var O=r.watcher(t,p,S);return function(){v.clear(),O()}},onAction:function(){return r.setCurrent(t,p)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(u){return u(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},ZK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:i3,hash:function(t){return XK(t,["fixed","relative","empty"]).getOr(t)},display:Q,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return E.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},JK=function(t){var r=E.from(u3(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:R(o),hash:function(u){return I(u.customCode)?u.code:u.code+"/"+u.customCode},display:function(u){return u.title},watcher:function(u,f,v){return u.formatter.formatChanged("lang",v,!1,{value:f.code,customValue:f.customCode}).unbind},getCurrent:function(u){var f=Te.fromDom(u.selection.getNode());return Ow(f,function(v){return E.some(v).filter(j).bind(function(p){var C=Vo(p,"lang");return C.map(function(S){var O=Vo(p,"data-mce-lang").getOrUndefined();return{code:S,customCode:O,title:""}})})})},setCurrent:function(u,f){return u.execCommand("Lang",!1,f)},onToolbarSetup:function(u){var f=Xm();return u.setActive(t.formatter.match("lang",{},void 0,!0)),f.set(t.formatter.formatChanged("lang",u.setActive,!0)),f.clear}}})},QK=function(t){$V(t,ZK),JK(t).each(function(r){return $V(t,r)})},eG=function(t,r){bq(t,r),xq(t,r),Fq(t,r),Rq(t,r),_q(t,r)},tG=function(t){return w_(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},nG=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:tG(t),onAction:hc(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:hc(t,"indent")})},rG=function(t){nG(t)},Iz=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},aG=function(t){Pv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(u,f){t.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:y_(t,u.name),onAction:Iz(t,u.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:y_(t,o),onAction:Iz(t,o)})}},oG=function(t){Pv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:hc(t,r.action)})})},iG=function(t){Pv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:hc(t,r.action),onSetup:y_(t,r.name)})})},uG=function(t){aG(t),oG(t),iG(t)},lG=function(t){Pv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:hc(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:Iz(t,"code")})},sG=function(t){uG(t),lG(t)},T_=function(t,r){return w_(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},cG=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:T_(t,"hasUndo"),onAction:hc(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:T_(t,"hasRedo"),onAction:hc(t,"redo")})},fG=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:T_(t,"hasUndo"),onAction:hc(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:T_(t,"hasRedo"),onAction:hc(t,"redo")})},vG=function(t){cG(t),fG(t)},dG=function(t){return w_(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},mG=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:dG(t),onAction:hc(t,"mceToggleVisualAid")})},gG=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:hc(t,"mceToggleVisualAid")})},pG=function(t){gG(t),mG(t)},hG=function(t,r){jK(t),sG(t),eG(t,r),vG(t),pN(t),pG(t),rG(t),QK(t)},Dk=function(t,r){return{type:"makeshift",x:t,y:r}},bG=function(t,r,o){return Dk(t.x+r,t.y+o)},DV=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},yG=function(t){if(DV(t)){var r=t.touches[0];return Dk(r.pageX,r.pageY)}else return Dk(t.pageX,t.pageY)},wG=function(t){if(DV(t)){var r=t.touches[0];return Dk(r.clientX,r.clientY)}else return Dk(t.clientX,t.clientY)},CG=function(t,r){var o=Eg.DOM.getPos(t);return bG(r,o.x,o.y)},SG=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?yG(r):CG(t.getContentAreaContainer(),wG(r)):_V(t)},_V=function(t){return{type:"selection",root:Te.fromDom(t.selection.getNode())}},xG=function(t){return{type:"node",node:E.some(Te.fromDom(t.selection.getNode())),root:Te.fromDom(t.getBody())}},PV=function(t,r,o){switch(o){case"node":return xG(t);case"point":return SG(t,r);case"selection":return _V(t)}},kG=function(t,r,o,u,f,v){var p=o(),C=PV(t,r,v);Ig(p,Fi.CLOSE_ON_EXECUTE,u,!1).map(function(S){r.preventDefault(),So.showMenuAt(f,{anchor:C},{menu:{markers:Sg("normal")},data:S})})},TG={onLtr:function(){return[Jo,qi,Ki,Wu,Ou,ju,uc,yg,bg,u0,hg,i0]},onRtl:function(){return[Jo,Ki,qi,Ou,Wu,ju,uc,yg,hg,i0,bg,u0]}},EG=12,OG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},AG=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var u=r.touches[0],f=o.getRng(),v=RC(t.getWin(),Np.domRange(f));return v.exists(function(p){return p.left<=u.clientX&&p.right>=u.clientX&&p.top<=u.clientY&&p.bottom>=u.clientY})},$G=function(t){var r=t.selection.getRng(),o=function(){xv.setEditorTimeout(t,function(){t.selection.setRng(r)},10),v()};t.once("touchend",o);var u=function(p){p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",u,!0);var f=function(){return v()};t.once("longpresscancel",f);var v=function(){t.off("touchend",o),t.off("longpresscancel",f),t.off("mousedown",u)}},DG=function(t,r,o){var u=PV(t,r,o),f=o==="point"?EG:0;return z({bubble:Zm(0,f,OG),layouts:TG,overrides:{maxWidthFunction:Ji(),maxHeightFunction:Rp()}},u)},_G=function(t,r,o,u,f,v,p){var C=DG(t,r,v);Ig(o,Fi.CLOSE_ON_EXECUTE,u,!0).map(function(S){r.preventDefault(),So.showMenuWithinBounds(f,{anchor:C},{menu:{markers:Sg("normal"),highlightImmediately:p},data:S,type:"horizontal"},function(){return E.some(xV(t,u.shared,v==="node"?"node":"selection"))}),t.fire(yV)})},PG=function(t,r,o,u,f,v){var p=dr(),C=p.os.isiOS(),S=p.os.isOSX(),O=p.os.isAndroid(),N=p.deviceType.isTouch(),H=function(){return!(O||C||S&&N)},ne=function(){var ge=o();_G(t,r,ge,u,f,v,H())};if((S||C)&&v!=="node"){var ie=function(){$G(t),ne()};AG(t,r)?ie():(t.once("selectionchange",ie),t.once("touchend",function(){return t.off("selectionchange",ie)}))}else ne()},MV=function(t){return typeof t=="string"?t.split(/[ ,]/):t},RV=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},MG=function(t,r,o){var u=t.ui.registry.getAll().contextMenus;return E.from(t.getParam(r)).map(MV).getOrThunk(function(){return Be(MV(o),function(f){return an(u,f)})})},RG=function(t){return t.getParam("contextmenu")===!1},BG=function(t){return MG(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},FG=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},BV=function(t){return y(t)?t==="|":t.type==="separator"},Nz={type:"separator"},FV=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(y(t))return t;switch(t.type){case"separator":return Nz;case"submenu":return z(z({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return y(o)?o:it(o,FV)}});default:return z(z({type:"menuitem"},r(t)),{onAction:U(t.onAction)})}},IV=function(t,r){if(r.length===0)return t;var o=Dt(t).filter(function(f){return!BV(f)}),u=o.fold(function(){return[]},function(f){return[Nz]});return t.concat(u).concat(r).concat([Nz])},IG=function(t,r,o){var u=gt(r,function(f,v){return _t(t,v.toLowerCase()).map(function(p){var C=p.update(o);if(y(C))return IV(f,C.split(" "));if(C.length>0){var S=it(C,FV);return IV(f,S)}else return f}).getOrThunk(function(){return f.concat([v])})},[]);return u.length>0&&BV(u[u.length-1])&&u.pop(),u},NG=function(t,r){return r.ctrlKey&&!RV(t)},NV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},LV=function(t,r){return NV(t,r)?t.selection.getStart(!0):r.target},LG=function(t,r){var o=FG(t),u=NV(t,r)?"selection":"point";if(Aa(o)){var f=LV(t,r),v=wh(Te.fromDom(f),o);return v?"node":u}else return u},zG=function(t,r,o){var u=dr(),f=u.deviceType.isTouch,v=qo(So.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:$n([Vr("dismissContextMenu",[nn(qs(),function(S,O){ua.close(S),t.focus()})])])})),p=function(S){return So.hide(v)},C=function(S){if(RV(t)&&S.preventDefault(),!(NG(t,S)||RG(t))){var O=LG(t,S),N=function(){var ne=LV(t,S),ie=t.ui.registry.getAll(),ge=BG(t);return IG(ie.contextMenus,ge,ne)},H=f()?PG:kG;H(t,S,N,o,v,O)}};t.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");t.on(S,p),t.on("longpress contextmenu",C)})},Lz=ql.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),E_=function(t){return function(r){return r.translate(-t.left,-t.top)}},O_=function(t){return function(r){return r.translate(t.left,t.top)}},Zd=function(t){return function(r,o){return gt(t,function(u,f){return f(u)},Ya(r,o))}},A_=function(t,r,o){return t.fold(Zd([O_(o),E_(r)]),Zd([E_(r)]),Zd([]))},Hy=function(t,r,o){return t.fold(Zd([O_(o)]),Zd([]),Zd([O_(r)]))},zV=function(t,r,o){return t.fold(Zd([]),Zd([E_(o)]),Zd([O_(r),E_(o)]))},HG=function(t,r,o,u,f,v){var p=Hy(t,f,v),C=Hy(r,f,v);return Math.abs(p.left-C.left)<=o&&Math.abs(p.top-C.top)<=u},VG=function(t,r,o,u,f,v){var p=Hy(t,f,v),C=Hy(r,f,v),S=Math.abs(p.left-C.left),O=Math.abs(p.top-C.top);return Ya(S,O)},HV=function(t,r,o){var u=t.fold(function(f,v){return{position:E.some("absolute"),left:E.some(f+"px"),top:E.some(v+"px")}},function(f,v){return{position:E.some("absolute"),left:E.some(f-o.left+"px"),top:E.some(v-o.top+"px")}},function(f,v){return{position:E.some("fixed"),left:E.some(f+"px"),top:E.some(v+"px")}});return z({right:E.none(),bottom:E.none()},u)},UG=function(t,r,o){return t.fold(function(u,f){return $_(u+r,f+o)},function(u,f){return Ug(u+r,f+o)},function(u,f){return Jh(u+r,f+o)})},zz=function(t,r,o,u){var f=function(v,p){return function(C,S){var O=v(r,o,u);return p(C.getOr(O.left),S.getOr(O.top))}};return t.fold(f(zV,$_),f(Hy,Ug),f(A_,Jh))},$_=Lz.offset,Ug=Lz.absolute,Jh=Lz.fixed,VV=function(t,r){var o=po(t,r);return I(o)?NaN:parseInt(o,10)},WG=function(t,r){var o=t.element,u=VV(o,r.leftAttr),f=VV(o,r.topAttr);return isNaN(u)||isNaN(f)?E.none():E.some(Ya(u,f))},jG=function(t,r,o){var u=t.element;Zr(u,r.leftAttr,o.left+"px"),Zr(u,r.topAttr,o.top+"px")},qG=function(t,r){var o=t.element;xi(o,r.leftAttr),xi(o,r.topAttr)},KG=function(t,r,o,u){return WG(t,r).fold(function(){return o},function(f){return Jh(f.left+u.left,f.top+u.top)})},GG=function(t,r,o,u,f,v){var p=KG(t,r,o,u),C=r.mustSnap?XG(t,r,p,f,v):ZG(t,r,p,f,v),S=A_(p,f,v);return jG(t,r,S),C.fold(function(){return{coord:Jh(S.left,S.top),extra:E.none()}},function(O){return{coord:O.output,extra:O.extra}})},YG=function(t,r){qG(t,r)},UV=function(t,r,o,u){return rt(t,function(f){var v=f.sensor,p=HG(r,v,f.range.left,f.range.top,o,u);return p?E.some({output:zz(f.output,r,o,u),extra:f.extra}):E.none()})},XG=function(t,r,o,u,f){var v=r.getSnapPoints(t),p=UV(v,o,u,f);return p.orThunk(function(){var C=gt(v,function(S,O){var N=O.sensor,H=VG(o,N,O.range.left,O.range.top,u,f);return S.deltas.fold(function(){return{deltas:E.some(H),snap:E.some(O)}},function(ne){var ie=(H.left+H.top)/2,ge=(ne.left+ne.top)/2;return ie<=ge?{deltas:E.some(H),snap:E.some(O)}:S})},{deltas:E.none(),snap:E.none()});return C.snap.map(function(S){return{output:zz(S.output,o,u,f),extra:S.extra}})})},ZG=function(t,r,o,u,f){var v=r.getSnapPoints(t);return UV(v,o,u,f)},JG=function(t,r,o){return{coord:zz(t.output,t.output,r,o),extra:t.extra}},QG=function(t,r,o,u){var f=r.getTarget(t.element);if(r.repositionTarget){var v=zi(t.element),p=wl(v),C=Ey(f),S=JG(u,p,C),O=HV(S.coord,p,C);kc(f,O)}},eY=Object.freeze({__proto__:null,snapTo:QG}),Hz="data-initial-z-index",tY=function(t){ni(t.element).filter(j).each(function(r){Vo(r,Hz).fold(function(){return za(r,"z-index")},function(o){return Pr(r,"z-index",o)}),xi(r,Hz)})},nY=function(t){ni(t.element).filter(j).each(function(r){ki(r,"z-index").each(function(o){Zr(r,Hz,o)}),Pr(r,"z-index",Io(t.element,"z-index"))})},WV=function(t,r){t.getSystem().addToGui(r),nY(r)},rY=function(t){tY(t),t.getSystem().removeFromGui(t)},jV=function(t,r,o){return t.getSystem().build(Xi.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},aY=kl("snaps",[tn("getSnapPoints"),xa("onSensor"),tn("leftAttr"),tn("topAttr"),nt("lazyViewport",Sl),nt("mustSnap",!1)]),Vz=[nt("useFixed",se),tn("blockerClass"),nt("getTarget",Q),nt("onDrag",_),nt("repositionTarget",!0),nt("onDrop",_),Xa("getBounds",Sl),aY],oY=function(t){return xo(ki(t,"left"),ki(t,"top"),ki(t,"position"),function(r,o,u){var f=u==="fixed"?Jh:$_;return f(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=Cu(t);return Ug(r.left,r.top)})},iY=function(t,r,o,u,f){var v=f.bounds,p=Hy(r,o,u),C=il(p.left,v.x,v.x+v.width-f.width),S=il(p.top,v.y,v.y+v.height-f.height),O=Ug(C,S);return r.fold(function(){var N=zV(O,o,u);return $_(N.left,N.top)},R(O),function(){var N=A_(O,o,u);return Jh(N.left,N.top)})},uY=function(t,r,o,u,f,v,p){var C=r.fold(function(){var S=UG(o,v.left,v.top),O=A_(S,u,f);return Jh(O.left,O.top)},function(S){var O=GG(t,S,o,v,u,f);return O.extra.each(function(N){S.onSensor(t,N)}),O.coord});return iY(t,C,u,f,p)},lY=function(t,r,o,u){var f=r.getTarget(t.element);if(r.repositionTarget){var v=zi(t.element),p=wl(v),C=Ey(f),S=oY(f),O=uY(t,r.snaps,S,p,C,u,o),N=HV(O,p,C);kc(f,N)}r.onDrag(t,f,u)},qV=function(t,r){return{bounds:t.getBounds(),height:bl(r.element),width:Tc(r.element)}},Uz=function(t,r,o,u,f){var v=o.update(u,f),p=o.getStartData().getOrThunk(function(){return qV(r,t)});v.each(function(C){lY(t,r,p,C)})},KV=function(t,r,o,u){r.each(rY),o.snaps.each(function(v){YG(t,v)});var f=o.getTarget(t.element);u.reset(),o.onDrop(t,f)},Wz=function(t){return function(r,o){var u=function(f){o.setStartData(qV(r,f))};return Va(he([nn(Iw(),function(f){o.getStartData().each(function(){return u(f)})})],t(r,o,u),!0))}},sY=function(t){return Va([nn(ms(),t.forceDrop),nn(Dw(),t.drop),nn(td(),function(r,o){t.move(o.event)}),nn($w(),t.delayDrop)])},cY=function(t){return E.from(Ya(t.x,t.y))},fY=function(t,r){return Ya(r.left-t.left,r.top-t.top)},vY=Object.freeze({__proto__:null,getData:cY,getDelta:fY}),GV=function(t,r,o){return[nn(ms(),function(u,f){var v=f.event.raw;if(v.button===0){f.stop();var p=function(){return KV(u,E.some(O),t,r)},C=f$(p,200),S={drop:p,delayDrop:C.schedule,forceDrop:p,move:function(H){C.cancel(),Uz(u,t,r,vY,H)}},O=jV(u,t.blockerClass,sY(S)),N=function(){o(u),WV(u,O)};N()}})]},dY=he(he([],Vz,!0),[ro("dragger",{handlers:Wz(GV)})],!1),mY=function(t){return Va([nn(pf(),t.forceDrop),nn(yp(),t.drop),nn(vT(),t.drop),nn(Ws(),function(r,o){t.move(o.event)})])},gY=function(t){var r=t[0];return E.some(Ya(r.clientX,r.clientY))},pY=function(t){var r=t.raw,o=r.touches;return o.length===1?gY(o):E.none()},hY=function(t,r){return Ya(r.left-t.left,r.top-t.top)},YV=Object.freeze({__proto__:null,getData:pY,getDelta:hY}),XV=function(t,r,o){var u=Po(),f=function(v){KV(v,u.get(),t,r),u.clear()};return[nn(pf(),function(v,p){p.stop();var C=function(){return f(v)},S={drop:C,delayDrop:_,forceDrop:C,move:function(H){Uz(v,t,r,YV,H)}},O=jV(v,t.blockerClass,mY(S));u.set(O);var N=function(){o(v),WV(v,O)};N()}),nn(Ws(),function(v,p){p.stop(),Uz(v,t,r,YV,p.event)}),nn(yp(),function(v,p){p.stop(),f(v)}),nn(vT(),f)]},bY=he(he([],Vz,!0),[ro("dragger",{handlers:Wz(XV)})],!1),yY=function(t,r,o){return he(he([],GV(t,r,o),!0),XV(t,r,o),!0)},wY=he(he([],Vz,!0),[ro("dragger",{handlers:Wz(yY)})],!1),CY=dY,SY=bY,xY=wY,kY=Object.freeze({__proto__:null,mouse:CY,touch:SY,mouseOrTouch:xY}),TY=function(){var t=E.none(),r=E.none(),o=function(){t=E.none(),r=E.none()},u=function(S,O){var N=t.map(function(H){return S.getDelta(H,O)});return t=E.some(O),N},f=function(S,O){return S.getData(O).bind(function(N){return u(S,N)})},v=function(S){r=E.some(S)},p=function(){return r},C=R({});return al({readState:C,reset:o,update:f,getStartData:p,setStartData:v})},EY=Object.freeze({__proto__:null,init:TY}),Qh=Ym({branchKey:"mode",branches:kY,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:E.from(t.extra)}}},state:EY,apis:eY}),jz=40,D_=jz/2,ZV=function(t,r,o,u,f,v){return t.fold(function(){return Qh.snap({sensor:Ug(o-D_,u-D_),range:Ya(f,v),output:Ug(E.some(o),E.some(u)),extra:{td:r}})},function(p){var C=o-D_,S=u-D_,O=jz,N=jz,H=p.element.dom.getBoundingClientRect();return Qh.snap({sensor:Ug(C,S),range:Ya(O,N),output:Ug(E.some(o-H.width/2),E.some(u-H.height/2)),extra:{td:r}})})},JV=function(t,r,o){var u=function(f,v){return f.exists(function(p){return fo(p,v)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(f,v){var p=v.td;u(r.get(),p)||(r.set(p),o(p))},mustSnap:!0}},QV=function(t){return ka(_u.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:$n([Qh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Oh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},OY=function(t,r){var o=Cr([]),u=Cr([]),f=Cr(!1),v=Po(),p=Po(),C=function(qt){var Pn=Ec(qt);return ZV(ie.getOpt(r),qt,Pn.x,Pn.y,Pn.width,Pn.height)},S=function(){return it(o.get(),function(qt){return C(qt)})},O=function(qt){var Pn=Ec(qt);return ZV(ge.getOpt(r),qt,Pn.right,Pn.bottom,Pn.width,Pn.height)},N=function(){return it(u.get(),function(qt){return O(qt)})},H=JV(S,v,function(qt){p.get().each(function(Pn){t.fire("TableSelectorChange",{start:qt,finish:Pn})})}),ne=JV(N,p,function(qt){v.get().each(function(Pn){t.fire("TableSelectorChange",{start:Pn,finish:qt})})}),ie=QV(H),ge=QV(ne),$e=qo(ie.asSpec()),Ze=qo(ge.asSpec()),Se=function(qt,Pn,Qt,Mn){var rn=Pn.dom.getBoundingClientRect();za(qt.element,"display");var jt=Is(Te.fromDom(t.getBody())).dom.innerHeight,Tn=Qt(rn),Xn=Mn(rn,jt);(Tn||Xn)&&Pr(qt.element,"display","none")},et=function(qt,Pn,Qt,Mn){var rn=Qt(Pn);Qh.snapTo(qt,rn);var jt=function(Xn){return Xn[Mn]<0},Tn=function(Xn,Zt){return Xn[Mn]>Zt};Se(qt,Pn,jt,Tn)},Rt=function(qt){return et($e,qt,C,"top")},Mt=function(){return v.get().each(Rt)},Qe=function(qt){return et(Ze,qt,O,"bottom")},kt=function(){return p.get().each(Qe)};dr().deviceType.isTouch()&&(t.on("TableSelectionChange",function(qt){f.get()||(md(r,$e),md(r,Ze),f.set(!0)),v.set(qt.start),p.set(qt.finish),qt.otherCells.each(function(Pn){o.set(Pn.upOrLeftCells),u.set(Pn.downOrRightCells),Rt(qt.start),Qe(qt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){Mt(),kt()}),t.on("TableSelectionClear",function(){f.get()&&(Fc($e),Fc(Ze),f.set(!1)),v.clear(),p.clear()}))},AY=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},$Y=function(t,r,o){r.delimiter||(r.delimiter="»");var u=function(v){var p=v||[],C=it(p,function(O,N){return _u.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":N,"tab-index":-1,"aria-level":N+1},innerHtml:O.name},action:function(H){t.focus(),t.selection.select(O.element),t.nodeChanged()},buttonBehaviours:$n([Cs.button(o.isDisabled),Qo()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return gt(C.slice(1),function(O,N){var H=O;return H.push(S),H.push(N),H},[C[0]])},f=function(v){for(var p=[],C=v.length;C-- >0;){var S=v[C];if(S.nodeType===1&&!AY(S)){var O=t.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(O.isDefaultPrevented()||p.push({name:O.name,element:S}),O.isPropagationStopped())break}}return p};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:$n([Sr.config({mode:"flow",selector:"div[role=button]"}),mr.config({disabled:o.isDisabled}),Qo(),Ro.config({}),Ir.config({}),Vr("elementPathEvents",[qr(function(v,p){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Sr.focusIn(v)}),t.on("NodeChange",function(C){var S=f(C.parents);S.length>0?Ir.set(v,u(S)):Ir.set(v,[])})})])]),components:[]}},eb;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(eb||(eb={}));var DY=function(t,r,o,u,f){var v={};return v.height=x_(u+r.top,a3(t),o3(t)),o===eb.Both&&(v.width=x_(f+r.left,_S(t),C0(t))),v},e9=function(t,r,o){var u=Te.fromDom(t.getContainer()),f=DY(t,r,o,ri(u),au(u));dn(f,function(v,p){return Pr(u,p,_z(v))}),uN(t)},_Y=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?eb.None:o==="both"?eb.Both:eb.Vertical},__=function(t,r,o,u){var f=20,v=Ya(o*f,u*f);return e9(t,v,r),E.some(!0)},PY=function(t,r){var o=_Y(t);return o===eb.None?E.none():E.some(lc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[Qh.config({mode:"mouse",repositionTarget:!1,onDrag:function(u,f,v){return e9(t,v,o)},blockerClass:"tox-blocker"}),Sr.config({mode:"special",onLeft:function(){return __(t,o,-1,0)},onRight:function(){return __(t,o,1,0)},onUp:function(){return __(t,o,0,-1)},onDown:function(){return __(t,o,0,1)}}),Ro.config({}),Dr.config({})]},r.icons))},MY=function(t,r){var o,u=function(f,v,p){return Ir.set(f,[ji(r.translate(["{0} "+p,v[p]]))])};return _u.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:$n([Cs.button(r.isDisabled),Qo(),Ro.config({}),Ir.config({}),Rn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Vr("wordcount-events",[Yl(function(f){var v=Rn.getValue(f),p=v.mode==="words"?"characters":"words";Rn.setValue(f,{mode:p,count:v.count}),u(f,v.count,p)}),qr(function(f){t.on("wordCountUpdate",function(v){var p=Rn.getValue(f).mode;Rn.setValue(f,{mode:p,count:v.wordCount}),u(f,v.wordCount,p)})})])]),eventOrder:(o={},o[Tl()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},RY=function(t,r){var o=function(){var v=ws.translate(["Powered by {0}","Tiny"]),p='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+v+'">'+v+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:p}}},u=function(){var v=[];return t.getParam("elementpath",!0,"boolean")&&v.push($Y(t,{},r)),t.hasPlugin("wordcount")&&v.push(MY(t,r)),t.getParam("branding",!0,"boolean")&&v.push(o()),v.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:v}]:[]},f=function(){var v=u(),p=PY(t,r);return v.concat(p.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:f()}},BY=function(t){var r,o=t.inline,u=o?yK:vK,f=k0(t)?My:Z8,v=E.none(),p=dr(),C=p.browser.isIE(),S=C?["tox-platform-ie"]:[],O=p.deviceType.isTouch(),N="tox-platform-touch",H=O?[N]:[],ne=f3(t),ie=m3(t),ge=ws.isRtl()?{attributes:{dir:"rtl"}}:{},$e={attributes:(r={},r[AC]=ne?Rc.BottomToTop:Rc.TopToBottom,r)},Ze=function(){return v.bind(No.getHeader)},Se=function(){return f.isDocked(Ze)},et=function(){Pr(du.element,"width",document.body.clientWidth+"px")},Rt=function(){var di=fo(Ba(),ie)&&Io(ie,"display")==="grid",Rf={dom:z({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(H)},ge),behaviours:$n([Mo.config({useFixed:function(){return Se()}})])},Hv={dom:{styles:{width:document.body.clientWidth+"px"}},events:Va([nn(js(),et)])};return zt(Rf,di?Hv:{})},Mt=qo(Rt()),Qe=function(){return Xr.value(Mt)},kt=ka({dom:{tag:"div",classes:["tox-anchorbar"]}}),qt=function(){return v.bind(function(di){return kt.getOpt(di)}).getOrDie("Could not find a anchor bar element")},Pn=function(){return v.bind(function(di){return No.getToolbar(di)}).getOrDie("Could not find more toolbar element")},Qt=function(){return v.bind(function(di){return No.getThrobber(di)}).getOrDie("Could not find throbber element")},Mn=ky(Mt,t,qt),rn=No.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Mn,onEscape:function(){t.focus()}}),jt=dh(t),Tn=No.parts.toolbar(z({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Qe,providers:Mn.shared.providers,onEscape:function(){t.focus()},type:jt,lazyToolbar:Pn,lazyHeader:function(){return Ze().getOrDie("Could not find header element")}},$e)),Xn=No.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Mn.shared.providers,onEscape:function(){t.focus()},type:jt}),Zt=No.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qn=No.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),nr=No.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Mn}),ra=t.getParam("statusbar",!0,"boolean"),Ta=ra&&!o?E.some(RY(t,Mn.shared.providers)):E.none(),Za={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Zt,qn]},yo=S0(t),fl=MS(t),Qi=PS(t),Uy=function(){return yo?[Xn]:fl?[Tn]:[]},vi=No.parts.header({dom:z({tag:"div",classes:["tox-editor-header"]},$e),components:Re([Qi?[rn]:[],Uy(),x0(t)?[]:[kt.asSpec()]]),sticky:k0(t),editor:t,sharedBackstage:Mn.shared}),Jd=Re([ne?[]:[vi],o?[]:[Za],ne?[vi]:[]]),Qd={dom:{tag:"div",classes:["tox-editor-container"]},components:Jd},rb=Re([[Qd],o?[]:Ta.toArray(),[nr]]),em=g3(t),ab=z(z({role:"application"},ws.isRtl()?{dir:"rtl"}:{}),em?{"aria-hidden":"true"}:{}),Fu=qo(No.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ne?["tox-tinymce--toolbar-bottom"]:[]).concat(H).concat(S),styles:z({visibility:"hidden"},em?{opacity:"0",border:"0"}:{}),attributes:ab},components:rb,behaviours:$n([Qo(),mr.config({disableClass:"tox-tinymce--disabled"}),Sr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));v=E.some(Fu),t.shortcuts.add("alt+F9","focus menubar",function(){No.focusMenubar(Fu)}),t.shortcuts.add("alt+F10","focus toolbar",function(){No.focusToolbar(Fu)}),t.addCommand("ToggleToolbarDrawer",function(){No.toggleToolbarDrawer(Fu)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return No.isToolbarDrawerToggled(Fu)});var bc=b$(Fu),du=b$(Mt);W8(t,bc,du);var ob=function(){var di={broadcastAll:du.broadcast,broadcastOn:du.broadcastOn,register:_};return{channels:di}},zv=function(){var di=_z(mK(t)),Rf=_z(gK(t));return t.inline||(Vf("div","width",Rf)&&Pr(Fu.element,"width",Rf),Vf("div","height",di)?Pr(Fu.element,"height",di):Pr(Fu.element,"height","200px")),di},jg=function(){f.setup(t,Mn.shared,Ze),hG(t,Mn),zG(t,Qe,Mn),de(t),bo(t,Qt,Mn.shared),Xt(AI(t),function(mu,vl){t.ui.registry.addGroupToolbarButton(vl,mu)});var di=t.ui.registry.getAll(),Rf=di.buttons,Hv=di.menuItems,tm=di.contextToolbars,yc=di.sidebars,Vv=s3(t),Ln={menuItems:Hv,menus:_I(t),menubar:PI(t),toolbar:Vv.getOrThunk(function(){return MI(t)}),allowToolbarGroups:jt===Ml.floating,buttons:Rf,sidebar:yc};WK(t,tm,Mt,{backstage:Mn}),OY(t,Mt);var Ur=t.getElement(),Ea=zv(),go={mothership:bc,uiMothership:du,outerContainer:Fu},Iu={targetNode:Ur,height:Ea};return u.render(t,go,Ln,Mn,Iu)};return{mothership:bc,uiMothership:du,backstage:Mn,renderUI:jg,getUi:ob}},FY=function(t,r){var o=E.from(po(t,"id")).fold(function(){var u=Zn("dialog-describe");return Zr(r,"id",u),u},Q);Zr(t,"aria-describedby",o)},IY=function(t,r){var o=Vo(t,"id").fold(function(){var u=Zn("dialog-label");return Zr(r,"id",u),u},Q);Zr(t,"aria-labelledby",o)},NY=R([tn("lazySink"),$a("dragBlockClass"),Xa("getBounds",Sl),nt("useTabstopAt",Ce),nt("eventOrder",{}),li("modalBehaviours",[Sr]),ol("onExecute"),Uu("onEscape")]),qz={sketch:Q},LY=R([bs({name:"draghandle",overrides:function(t,r){return{behaviours:$n([Qh.config({mode:"mouse",getTarget:function(o){return Ub(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Yi({schema:[tn("dom")],name:"title"}),Yi({factory:qz,schema:[tn("dom")],name:"close"}),Yi({factory:qz,schema:[tn("dom")],name:"body"}),bs({factory:qz,schema:[tn("dom")],name:"footer"}),hs({factory:{sketch:function(t,r){return z(z({},t),{dom:r.dom,components:r.components})}},schema:[nt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),nt("components",[])],name:"blocker"})]),zY=function(t,r,o,u){var f,v=Po(),p=function(ge){v.set(ge);var $e=t.lazySink(ge).getOrDie(),Ze=u.blocker(),Se=$e.getSystem().build(z(z({},Ze),{components:Ze.components.concat([$l(ge)]),behaviours:$n([Dr.config({}),Vr("dialog-blocker-events",[jo(Gf(),function(){Sr.focusIn(ge)})])])}));md($e,Se),Sr.focusIn(ge)},C=function(ge){v.clear(),ni(ge.element).each(function($e){ge.getSystem().getByDom($e).each(function(Ze){Fc(Ze)})})},S=function(ge){return zc(ge,t,"body")},O=function(ge){return zc(ge,t,"footer")},N=function(ge,$e){pn.block(ge,$e)},H=function(ge){pn.unblock(ge)},ne=Zn("modal-events"),ie=z(z({},t.eventOrder),(f={},f[El()]=[ne].concat(t.eventOrder["alloy.system.attached"]||[]),f));return{uid:t.uid,dom:t.dom,components:r,apis:{show:p,hide:C,getBody:S,getFooter:O,setIdle:H,setBusy:N},eventOrder:ie,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Oi(t.modalBehaviours,[Ir.config({}),Sr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),pn.config({getRoot:v.get}),Vr(ne,[qr(function(ge){IY(ge.element,zc(ge,t,"title").element),FY(ge.element,zc(ge,t,"body").element)})])])}},Ci=Du({name:"ModalDialog",configFields:NY(),partFields:LY(),factory:zY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),HY=vr([$r("type"),$r("name")].concat(kv)),VY=Ti,t9=[hi("name","name",da(function(){return Zn("button-name")}),Wo),no("icon"),Wl("align","end",["start","end"]),Oo("primary",!1),Oo("disabled",!1)],n9=he(he([],t9,!0),[$r("text")],!1),Kz=he([Ul("type",["submit","cancel","custom"])],n9,!0),UY=he([Ul("type",["menu"]),no("text"),no("tooltip"),no("icon"),Su("items",HY)],t9,!0),WY=Vl("type",{submit:Kz,cancel:Kz,custom:Kz,menu:UY}),jY=[$r("type"),$r("text"),Ul("level",["info","warn","error","success"]),$r("icon"),nt("url","")],qY=vr(jY),KY=function(t){return[$r("type"),t]},GY=[$r("type"),$r("text"),Oo("disabled",!1),Oo("primary",!1),hi("name","name",da(function(){return Zn("button-name")}),Wo),no("icon"),Oo("borderless",!1)],YY=vr(GY),XY=[$r("type"),$r("name"),$r("label"),Oo("disabled",!1)],ZY=vr(XY),JY=Ti,Gz=[$r("type"),$r("name")],Yc=Gz.concat([no("label")]),QY=Yc.concat([nt("columns","auto")]),eX=vr(QY),tX=Cw([$r("value"),$r("text"),$r("icon")]),nX=Yc,rX=vr(nX),aX=Wo,oX=Yc,iX=vr(oX),uX=Wo,lX=Gz.concat([Am("tag","textarea"),$r("scriptId"),$r("scriptUrl"),jl("settings",void 0)]),sX=Gz.concat([Am("tag","textarea"),uu("init")]),cX=Tm(function(t){return Eo("customeditor.old",xl(sX),t).orThunk(function(){return Eo("customeditor.new",xl(lX),t)})}),fX=Wo,vX=Yc,dX=vr(vX),mX=FP(),gX=function(t){return[$r("type"),qf("columns"),t]},pX=[$r("type"),$r("html"),Wl("presets","presentation",["presentation","document"])],hX=vr(pX),bX=Yc.concat([Oo("sandboxed",!0)]),yX=vr(bX),wX=Wo,CX=Yc.concat([tl("currentState",vr([tn("blob"),$r("url")]))]),SX=vr(CX),xX=Yc.concat([no("inputMode"),no("placeholder"),Oo("maximized",!1),Oo("disabled",!1)]),kX=vr(xX),TX=Wo,EX=function(t){return[$r("type"),$r("label"),t]},OX=[$r("text"),$r("value")],AX=[$r("text"),Su("items",IP("items",function(){return r9}))],r9=ww([vr(OX),vr(AX)]),$X=Yc.concat([Su("items",r9),Oo("disabled",!1)]),DX=vr($X),_X=Wo,PX=Yc.concat([kb("items",[$r("text"),$r("value")]),Oc("size",1),Oo("disabled",!1)]),MX=vr(PX),RX=Wo,BX=Yc.concat([Oo("constrain",!0),Oo("disabled",!1)]),FX=vr(BX),a9=vr([$r("width"),$r("height")]),IX=[$r("type"),Su("header",Wo),Su("cells",mf(Wo))],NX=vr(IX),LX=Yc.concat([no("placeholder"),Oo("maximized",!1),Oo("disabled",!1)]),zX=vr(LX),HX=Wo,VX=Yc.concat([Wl("filetype","file",["image","media","file"]),nt("disabled",!1)]),UX=vr(VX),WX=vr([$r("value"),nt("meta",{})]),Yz=function(t){return hi("items","items",Fr(),mf(Tm(function(r){return Eo("Checking item of "+t,Xz,r).fold(function(o){return Xr.error(Em(o))},function(o){return Xr.value(o)})})))},Xz=aT(function(){return xb("type",{alertbanner:qY,bar:vr(KY(Yz("bar"))),button:YY,checkbox:ZY,colorinput:rX,colorpicker:iX,dropzone:dX,grid:vr(gX(Yz("grid"))),iframe:yX,input:kX,listbox:DX,selectbox:MX,sizeinput:FX,textarea:zX,urlinput:UX,customeditor:cX,htmlpanel:hX,imagetools:SX,collection:eX,label:vr(EX(Yz("label"))),table:NX,panel:o9})}),jX=[$r("type"),nt("classes",[]),Su("items",Xz)],o9=vr(jX),qX=[hi("name","name",da(function(){return Zn("tab-name")}),Wo),$r("title"),Su("items",Xz)],KX=[$r("type"),kb("tabs",qX)],GX=vr(KX),YX=n9,XX=WY,ZX=vr([$r("title"),tl("body",xb("type",{panel:o9,tabpanel:GX})),Am("size","normal"),Su("buttons",XX),nt("initialData",{}),Xa("onAction",_),Xa("onChange",_),Xa("onSubmit",_),Xa("onClose",_),Xa("onCancel",_),nt("onTabChange",_)]),JX=function(t){return Eo("dialog",ZX,t)},QX=vr(he([Ul("type",["cancel","custom"])],YX,!0)),eZ=vr([$r("title"),$r("url"),hp("height"),hp("width"),nl("buttons",QX),Xa("onAction",_),Xa("onCancel",_),Xa("onClose",_),Xa("onMessage",_)]),tZ=function(t){return Eo("dialog",eZ,t)},Zz=function(t){return k(t)?[t].concat(Tt(Lt(t),Zz)):x(t)?Tt(t,Zz):[]},nZ=function(t){return y(t.type)&&y(t.name)},rZ={checkbox:JY,colorinput:aX,colorpicker:uX,dropzone:mX,input:TX,iframe:wX,sizeinput:a9,selectbox:RX,listbox:_X,size:a9,textarea:HX,urlinput:WX,customeditor:fX,collection:tX,togglemenuitem:VY},aZ=function(t){return E.from(rZ[t.type])},oZ=function(t){return Be(Zz(t),nZ)},iZ=function(t){var r=oZ(t),o=Tt(r,function(u){return aZ(u).fold(function(){return[]},function(f){return[tl(u.name,f)]})});return vr(o)},i9=function(t){var r=Vs(JX(t)),o=iZ(t),u=t.initialData;return{internalDialog:r,dataValidator:o,initialData:u}},_k={open:function(t,r){var o=i9(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Vs(tZ(r));return t(o)},redial:function(t){return i9(t)}},u9=function(t){var r=[],o={};return dn(t,function(u,f){u.fold(function(){r.push(f)},function(v){o[f]=v})}),r.length>0?Xr.error(r):Xr.value(o)},uZ=function(t,r){var o=ka(Rg.sketch(function(u){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:it(t.items,function(f){return wy(u,f,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:$n([Sr.config({mode:"acyclic",useTabstopAt:xe(zh)}),vc.memento(o),Af.memento(o,{postprocess:function(u){return u9(u).fold(function(f){return{}},Q)}})])}},lZ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:J1(t.action),behaviours:Oi(t.tabButtonBehaviours,[Dr.config({}),Sr.config({mode:"execution",useSpace:!0,useEnter:!0}),Rn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},sZ=Pl({name:"TabButton",configFields:[nt("uid",void 0),tn("value"),hi("dom","dom",iu(function(){return{attributes:{role:"tab",id:Zn("aria"),"aria-selected":"false"}}}),Hs()),$a("action"),nt("domModification",{}),li("tabButtonBehaviours",[Dr,Sr,Rn]),tn("view")],factory:lZ}),cZ=R([tn("tabs"),tn("dom"),nt("clickToDismiss",!1),li("tabbarBehaviours",[Da,Sr]),ld(["tabClass","selectedClass"])]),fZ=A1({factory:sZ,name:"tabs",unit:"tab",overrides:function(t){var r=function(u,f){Da.dehighlight(u,f),hr(u,Pi(),{tabbar:u,button:f})},o=function(u,f){Da.highlight(u,f),hr(u,mT(),{tabbar:u,button:f})};return{action:function(u){var f=u.getSystem().getByUid(t.uid).getOrDie(),v=Da.isHighlighted(f,u),p=function(){return v&&t.clickToDismiss?r:v?_:o}();p(f,u)},domModification:{classes:[t.markers.tabClass]}}}}),vZ=R([fZ]),dZ=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Oi(t.tabbarBehaviours,[Da.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(f,v){Zr(v.element,"aria-selected","true")},onDehighlight:function(f,v){Zr(v.element,"aria-selected","false")}}),Sr.config({mode:"flow",getInitial:function(f){return Da.getHighlighted(f).map(function(v){return v.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},l9=Du({name:"Tabbar",configFields:cZ(),partFields:vZ(),factory:dZ}),mZ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Oi(t.tabviewBehaviours,[Ir.config({})]),domModification:{attributes:{role:"tabpanel"}}}},gZ=Pl({name:"Tabview",configFields:[li("tabviewBehaviours",[Ir])],factory:mZ}),pZ=R([nt("selectFirst",!0),xa("onChangeTab"),xa("onDismissTab"),nt("tabs",[]),li("tabSectionBehaviours",[])]),hZ=Yi({factory:l9,schema:[tn("dom"),gf("markers",[tn("tabClass"),tn("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),bZ=Yi({factory:gZ,name:"tabview"}),yZ=R([hZ,bZ]),wZ=function(t,r,o,u){var f=function(p){var C=Rn.getValue(p);Ua(p,t,"tabview").each(function(S){var O=Et(t.tabs,function(N){return N.value===C});O.each(function(N){var H=N.view();Vo(p.element,"id").each(function(ne){Zr(S.element,"aria-labelledby",ne)}),Ir.set(S,H),t.onChangeTab(S,p,H)})})},v=function(p,C){Ua(p,t,"tabbar").each(function(S){C(S).each(Ol)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:S1(t.tabSectionBehaviours),events:Va(Re([t.selectFirst?[qr(function(p,C){v(p,Da.getFirst)})]:[],[nn(mT(),function(p,C){var S=C.event.button;f(S)}),nn(Pi(),function(p,C){var S=C.event.button;t.onDismissTab(p,S)})]])),apis:{getViewItems:function(p){return Ua(p,t,"tabview").map(function(C){return Ir.contents(C)}).getOr([])},showTab:function(p,C){var S=function(O){var N=Da.getCandidates(O),H=Et(N,function(ne){return Rn.getValue(ne)===C});return H.filter(function(ne){return!Da.isHighlighted(O,ne)})};v(p,S)}}}},Vy=Du({name:"TabSection",configFields:pZ(),partFields:yZ(),factory:wZ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),CZ=function(t,r,o){return it(t,function(u,f){Ir.set(o,t[f].view());var v=r.dom.getBoundingClientRect();return Ir.set(o,[]),v.height})},SZ=function(t){return $t(sr(t,function(r,o){return r>o?-1:r<o?1:0}))},xZ=function(t,r,o){var u=Ht(t).dom,f=Ub(t,".tox-dialog-wrap").getOr(t),v=Io(f,"position")==="fixed",p;v?p=Math.max(u.clientHeight,window.innerHeight):p=Math.max(u.offsetHeight,u.scrollHeight);var C=ri(r),S=r.dom.offsetLeft>=o.dom.offsetLeft+au(o),O=S?Math.max(ri(o),C):C,N=parseInt(Io(t,"margin-top"),10)||0,H=parseInt(Io(t,"margin-bottom"),10)||0,ne=ri(t)+N+H,ie=ne-O;return p-ie},kZ=function(t,r){$t(t).each(function(o){return Vy.showTab(r,o.value)})},s9=function(t,r){Pr(t,"height",r+"px"),dr().browser.isIE()?za(t,"flex-basis"):Pr(t,"flex-basis",r+"px")},P_=function(t,r,o){Ub(t,'[role="dialog"]').each(function(u){ii(u,'[role="tablist"]').each(function(f){o.get().map(function(v){return Pr(r,"height","0"),Pr(r,"flex-basis","0"),Math.min(v,xZ(u,r,f))}).each(function(v){s9(r,v)})})})},Jz=function(t){return ii(t,'[role="tabpanel"]')},TZ=function(t){var r=function(){var u=Po(),f=[qr(function(p){var C=p.element;Jz(C).each(function(S){Pr(S,"visibility","hidden"),p.getSystem().getByDom(S).toOptional().each(function(O){var N=CZ(t,S,O),H=SZ(N);H.fold(u.clear,u.set)}),P_(C,S,u),za(S,"visibility"),kZ(t,p),xv.requestAnimationFrame(function(){P_(C,S,u)})})}),nn(js(),function(p){var C=p.element;Jz(C).each(function(S){P_(C,S,u)})}),nn(ex,function(p,C){var S=p.element;Jz(S).each(function(O){var N=Js(Er(O));Pr(O,"visibility","hidden");var H=ki(O,"height").map(function(ge){return parseInt(ge,10)});za(O,"height"),za(O,"flex-basis");var ne=O.dom.getBoundingClientRect().height,ie=H.forall(function(ge){return ne>ge});ie?(u.set(ne),P_(S,O,u)):H.each(function(ge){s9(O,ge)}),za(O,"visibility"),N.each(Zs)})})],v=!1;return{extraEvents:f,selectFirst:v}}(),o=function(){var u=[],f=!0;return{extraEvents:u,selectFirst:f}}();return{smartTabHeight:r,naiveTabHeight:o}},c9="send-data-to-section",f9="send-data-to-view",EZ=function(t,r){var o=Cr({}),u=function(S){var O=Rn.getValue(S),N=u9(O).getOr({}),H=o.get(),ne=zt(H,N);o.set(ne)},f=function(S){var O=o.get();Rn.setValue(S,O)},v=Cr(null),p=it(t.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[Rg.sketch(function(O){return{dom:{tag:"div",classes:["tox-form"]},components:it(S.items,function(N){return wy(O,N,r)}),formBehaviours:$n([Sr.config({mode:"acyclic",useTabstopAt:xe(zh)}),Vr("TabView.form.events",[qr(f),Gl(u)]),qu.config({channels:ed([{key:c9,value:{onReceive:u}},{key:f9,value:{onReceive:f}}])})])}})]}}}),C=TZ(p).smartTabHeight;return Vy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,O,N){var H=Rn.getValue(O);hr(S,QS,{name:H,oldName:v.get()}),v.set(H)},tabs:p,components:[Vy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[l9.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:$n([Ro.config({})])}),Vy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:$n([Vr("tabpanel",C.extraEvents),Sr.config({mode:"acyclic"}),ia.config({find:function(S){return $t(Vy.getViewItems(S))}}),Rn.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([c9],{}),o.get()},setValue:function(S,O){o.set(O),S.getSystem().broadcastOn([f9],{})}}})])})},Qz=Zn("update-dialog"),v9=Zn("update-title"),d9=Zn("update-body"),m9=Zn("update-footer"),g9=Zn("body-send-message"),p9=function(t,r,o,u){var f=function(C){switch(C.body.type){case"tabpanel":return[EZ(C.body,o)];default:return[uZ(C.body,o)]}},v=function(C,S){return E.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},p={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:z(z({},r.map(function(C){return{id:C}}).getOr({})),u?p:{})},components:[],behaviours:$n([vc.childAt(0),ns.config({channel:d9,updateState:v,renderComponents:f,initialData:t})])}},OZ=function(t,r,o,u){return p9(t,E.some(r),o,u)},AZ=function(t,r){var o=p9(t,E.none(),r,!1);return Ci.parts.body(o)},$Z=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Rx({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:$n([Ro.config({}),Dr.config({})])})]}],behaviours:$n([Sr.config({mode:"acyclic",useTabstopAt:xe(zh)})])};return Ci.parts.body(r)};function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tb(t)}function e7(t,r){return e7=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u},e7(t,r)}function DZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M_(t,r,o){return DZ()?M_=Reflect.construct:M_=function(f,v,p){var C=[null];C.push.apply(C,v);var S=Function.bind.apply(f,C),O=new S;return p&&e7(O,p.prototype),O},M_.apply(null,arguments)}function Pf(t){return _Z(t)||PZ(t)||MZ(t)||RZ()}function _Z(t){if(Array.isArray(t))return t7(t)}function PZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MZ(t,r){if(t){if(typeof t=="string")return t7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t7(t,r)}}function t7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,u=new Array(r);o<r;o++)u[o]=t[o];return u}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BZ=Object.hasOwnProperty,h9=Object.setPrototypeOf,FZ=Object.isFrozen,IZ=Object.getPrototypeOf,NZ=Object.getOwnPropertyDescriptor,rs=Object.freeze,Lv=Object.seal,LZ=Object.create,b9=typeof Reflect<"u"&&Reflect,R_=b9.apply,n7=b9.construct;R_||(R_=function(r,o,u){return r.apply(o,u)}),rs||(rs=function(r){return r}),Lv||(Lv=function(r){return r}),n7||(n7=function(r,o){return M_(r,Pf(o))});var zZ=Mf(Array.prototype.forEach),y9=Mf(Array.prototype.pop),Pk=Mf(Array.prototype.push),B_=Mf(String.prototype.toLowerCase),HZ=Mf(String.prototype.match),Wg=Mf(String.prototype.replace),VZ=Mf(String.prototype.indexOf),UZ=Mf(String.prototype.trim),as=Mf(RegExp.prototype.test),r7=WZ(TypeError);function Mf(t){return function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];return R_(t,r,u)}}function WZ(t){return function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n7(t,o)}}function ja(t,r){h9&&h9(t,null);for(var o=r.length;o--;){var u=r[o];if(typeof u=="string"){var f=B_(u);f!==u&&(FZ(r)||(r[o]=f),u=f)}t[u]=!0}return t}function nb(t){var r=LZ(null),o;for(o in t)R_(BZ,t,[o])&&(r[o]=t[o]);return r}function F_(t,r){for(;t!==null;){var o=NZ(t,r);if(o){if(o.get)return Mf(o.get);if(typeof o.value=="function")return Mf(o.value)}t=IZ(t)}function u(f){return null}return u}var w9=rs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),a7=rs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),o7=rs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jZ=rs(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),i7=rs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qZ=rs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C9=rs(["#text"]),S9=rs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),u7=rs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),x9=rs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I_=rs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KZ=Lv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),GZ=Lv(/<%[\w\W]*|[\w\W]*%>/gm),YZ=Lv(/^data-[\-\w.\u00B7-\uFFFF]/),XZ=Lv(/^aria-[\-\w]+$/),ZZ=Lv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JZ=Lv(/^(?:\w+script|data):/i),QZ=Lv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eJ=Lv(/^html$/i),tJ=function(){return typeof window>"u"?null:window},nJ=function(r,o){if(tb(r)!=="object"||typeof r.createPolicy!="function")return null;var u=null,f="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(f)&&(u=o.currentScript.getAttribute(f));var v="dompurify"+(u?"#"+u:"");try{return r.createPolicy(v,{createHTML:function(C){return C}})}catch{return null}};function k9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tJ(),r=function(Bt){return k9(Bt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,u=t.document,f=t.DocumentFragment,v=t.HTMLTemplateElement,p=t.Node,C=t.Element,S=t.NodeFilter,O=t.NamedNodeMap,N=O===void 0?t.NamedNodeMap||t.MozNamedAttrMap:O,H=t.HTMLFormElement,ne=t.DOMParser,ie=t.trustedTypes,ge=C.prototype,$e=F_(ge,"cloneNode"),Ze=F_(ge,"nextSibling"),Se=F_(ge,"childNodes"),et=F_(ge,"parentNode");if(typeof v=="function"){var Rt=u.createElement("template");Rt.content&&Rt.content.ownerDocument&&(u=Rt.content.ownerDocument)}var Mt=nJ(ie,o),Qe=Mt?Mt.createHTML(""):"",kt=u,qt=kt.implementation,Pn=kt.createNodeIterator,Qt=kt.createDocumentFragment,Mn=kt.getElementsByTagName,rn=o.importNode,jt={};try{jt=nb(u).documentMode?u.documentMode:{}}catch{}var Tn={};r.isSupported=typeof et=="function"&&qt&&typeof qt.createHTMLDocument<"u"&&jt!==9;var Xn=KZ,Zt=GZ,qn=YZ,nr=XZ,ra=JZ,Ta=QZ,Za=ZZ,yo=null,fl=ja({},[].concat(Pf(w9),Pf(a7),Pf(o7),Pf(i7),Pf(C9))),Qi=null,Uy=ja({},[].concat(Pf(S9),Pf(u7),Pf(x9),Pf(I_))),vi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Jd=null,Qd=null,rb=!0,em=!0,ab=!1,Fu=!1,bc=!1,du=!1,ob=!1,zv=!1,jg=!1,di=!1,Rf=!0,Hv=!0,tm=!1,yc={},Vv=null,Ln=ja({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ur=null,Ea=ja({},["audio","video","img","source","image","track"]),go=null,Iu=ja({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mu="http://www.w3.org/1998/Math/MathML",vl="http://www.w3.org/2000/svg",os="http://www.w3.org/1999/xhtml",qg=os,ib=!1,Kg,v7=["application/xhtml+xml","text/html"],d7="text/html",nm,Gg=null,DJ=u.createElement("form"),j9=function(Bt){return Bt instanceof RegExp||Bt instanceof Function},m7=function(Bt){Gg&&Gg===Bt||((!Bt||tb(Bt)!=="object")&&(Bt={}),Bt=nb(Bt),yo="ALLOWED_TAGS"in Bt?ja({},Bt.ALLOWED_TAGS):fl,Qi="ALLOWED_ATTR"in Bt?ja({},Bt.ALLOWED_ATTR):Uy,go="ADD_URI_SAFE_ATTR"in Bt?ja(nb(Iu),Bt.ADD_URI_SAFE_ATTR):Iu,Ur="ADD_DATA_URI_TAGS"in Bt?ja(nb(Ea),Bt.ADD_DATA_URI_TAGS):Ea,Vv="FORBID_CONTENTS"in Bt?ja({},Bt.FORBID_CONTENTS):Ln,Jd="FORBID_TAGS"in Bt?ja({},Bt.FORBID_TAGS):{},Qd="FORBID_ATTR"in Bt?ja({},Bt.FORBID_ATTR):{},yc="USE_PROFILES"in Bt?Bt.USE_PROFILES:!1,rb=Bt.ALLOW_ARIA_ATTR!==!1,em=Bt.ALLOW_DATA_ATTR!==!1,ab=Bt.ALLOW_UNKNOWN_PROTOCOLS||!1,Fu=Bt.SAFE_FOR_TEMPLATES||!1,bc=Bt.WHOLE_DOCUMENT||!1,zv=Bt.RETURN_DOM||!1,jg=Bt.RETURN_DOM_FRAGMENT||!1,di=Bt.RETURN_TRUSTED_TYPE||!1,ob=Bt.FORCE_BODY||!1,Rf=Bt.SANITIZE_DOM!==!1,Hv=Bt.KEEP_CONTENT!==!1,tm=Bt.IN_PLACE||!1,Za=Bt.ALLOWED_URI_REGEXP||Za,qg=Bt.NAMESPACE||os,Bt.CUSTOM_ELEMENT_HANDLING&&j9(Bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(vi.tagNameCheck=Bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Bt.CUSTOM_ELEMENT_HANDLING&&j9(Bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(vi.attributeNameCheck=Bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Bt.CUSTOM_ELEMENT_HANDLING&&typeof Bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(vi.allowCustomizedBuiltInElements=Bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Kg=v7.indexOf(Bt.PARSER_MEDIA_TYPE)===-1?Kg=d7:Kg=Bt.PARSER_MEDIA_TYPE,nm=Kg==="application/xhtml+xml"?function(Jn){return Jn}:B_,Fu&&(em=!1),jg&&(zv=!0),yc&&(yo=ja({},Pf(C9)),Qi=[],yc.html===!0&&(ja(yo,w9),ja(Qi,S9)),yc.svg===!0&&(ja(yo,a7),ja(Qi,u7),ja(Qi,I_)),yc.svgFilters===!0&&(ja(yo,o7),ja(Qi,u7),ja(Qi,I_)),yc.mathMl===!0&&(ja(yo,i7),ja(Qi,x9),ja(Qi,I_))),Bt.ADD_TAGS&&(yo===fl&&(yo=nb(yo)),ja(yo,Bt.ADD_TAGS)),Bt.ADD_ATTR&&(Qi===Uy&&(Qi=nb(Qi)),ja(Qi,Bt.ADD_ATTR)),Bt.ADD_URI_SAFE_ATTR&&ja(go,Bt.ADD_URI_SAFE_ATTR),Bt.FORBID_CONTENTS&&(Vv===Ln&&(Vv=nb(Vv)),ja(Vv,Bt.FORBID_CONTENTS)),Hv&&(yo["#text"]=!0),bc&&ja(yo,["html","head","body"]),yo.table&&(ja(yo,["tbody"]),delete Jd.tbody),rs&&rs(Bt),Gg=Bt)},q9=ja({},["mi","mo","mn","ms","mtext"]),K9=ja({},["foreignobject","desc","title","annotation-xml"]),_J=ja({},["title","style","font","a","script"]),N_=ja({},a7);ja(N_,o7),ja(N_,jZ);var g7=ja({},i7);ja(g7,qZ);var PJ=function(Bt){var Jn=et(Bt);(!Jn||!Jn.tagName)&&(Jn={namespaceURI:os,tagName:"template"});var zr=B_(Bt.tagName),Lo=B_(Jn.tagName);return Bt.namespaceURI===vl?Jn.namespaceURI===os?zr==="svg":Jn.namespaceURI===mu?zr==="svg"&&(Lo==="annotation-xml"||q9[Lo]):!!N_[zr]:Bt.namespaceURI===mu?Jn.namespaceURI===os?zr==="math":Jn.namespaceURI===vl?zr==="math"&&K9[Lo]:!!g7[zr]:Bt.namespaceURI===os?Jn.namespaceURI===vl&&!K9[Lo]||Jn.namespaceURI===mu&&!q9[Lo]?!1:!g7[zr]&&(_J[zr]||!N_[zr]):!1},rm=function(Bt){Pk(r.removed,{element:Bt});try{Bt.parentNode.removeChild(Bt)}catch{try{Bt.outerHTML=Qe}catch{Bt.remove()}}},G9=function(Bt,Jn){try{Pk(r.removed,{attribute:Jn.getAttributeNode(Bt),from:Jn})}catch{Pk(r.removed,{attribute:null,from:Jn})}if(Jn.removeAttribute(Bt),Bt==="is"&&!Qi[Bt])if(zv||jg)try{rm(Jn)}catch{}else try{Jn.setAttribute(Bt,"")}catch{}},Y9=function(Bt){var Jn,zr;if(ob)Bt="<remove></remove>"+Bt;else{var Lo=HZ(Bt,/^[\r\n\t ]+/);zr=Lo&&Lo[0]}Kg==="application/xhtml+xml"&&(Bt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Bt+"</body></html>");var Ds=Mt?Mt.createHTML(Bt):Bt;if(qg===os)try{Jn=new ne().parseFromString(Ds,Kg)}catch{}if(!Jn||!Jn.documentElement){Jn=qt.createDocument(qg,"template",null);try{Jn.documentElement.innerHTML=ib?"":Ds}catch{}}var Il=Jn.body||Jn.documentElement;return Bt&&zr&&Il.insertBefore(u.createTextNode(zr),Il.childNodes[0]||null),qg===os?Mn.call(Jn,bc?"html":"body")[0]:bc?Jn.documentElement:Il},X9=function(Bt){return Pn.call(Bt.ownerDocument||Bt,Bt,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},MJ=function(Bt){return Bt instanceof H&&(typeof Bt.nodeName!="string"||typeof Bt.textContent!="string"||typeof Bt.removeChild!="function"||!(Bt.attributes instanceof N)||typeof Bt.removeAttribute!="function"||typeof Bt.setAttribute!="function"||typeof Bt.namespaceURI!="string"||typeof Bt.insertBefore!="function")},Mk=function(Bt){return tb(p)==="object"?Bt instanceof p:Bt&&tb(Bt)==="object"&&typeof Bt.nodeType=="number"&&typeof Bt.nodeName=="string"},am=function(Bt,Jn,zr){Tn[Bt]&&zZ(Tn[Bt],function(Lo){Lo.call(r,Jn,zr,Gg)})},Z9=function(Bt){var Jn;if(am("beforeSanitizeElements",Bt,null),MJ(Bt)||as(/[\u0080-\uFFFF]/,Bt.nodeName))return rm(Bt),!0;var zr=nm(Bt.nodeName);if(am("uponSanitizeElement",Bt,{tagName:zr,allowedTags:yo}),Bt.hasChildNodes()&&!Mk(Bt.firstElementChild)&&(!Mk(Bt.content)||!Mk(Bt.content.firstElementChild))&&as(/<[/\w]/g,Bt.innerHTML)&&as(/<[/\w]/g,Bt.textContent)||zr==="select"&&as(/<template/i,Bt.innerHTML))return rm(Bt),!0;if(!yo[zr]||Jd[zr]){if(!Jd[zr]&&Q9(zr)&&(vi.tagNameCheck instanceof RegExp&&as(vi.tagNameCheck,zr)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(zr)))return!1;if(Hv&&!Vv[zr]){var Lo=et(Bt)||Bt.parentNode,Ds=Se(Bt)||Bt.childNodes;if(Ds&&Lo)for(var Il=Ds.length,dl=Il-1;dl>=0;--dl)Lo.insertBefore($e(Ds[dl],!0),Ze(Bt))}return rm(Bt),!0}return Bt instanceof C&&!PJ(Bt)||(zr==="noscript"||zr==="noembed")&&as(/<\/no(script|embed)/i,Bt.innerHTML)?(rm(Bt),!0):(Fu&&Bt.nodeType===3&&(Jn=Bt.textContent,Jn=Wg(Jn,Xn," "),Jn=Wg(Jn,Zt," "),Bt.textContent!==Jn&&(Pk(r.removed,{element:Bt.cloneNode()}),Bt.textContent=Jn)),am("afterSanitizeElements",Bt,null),!1)},J9=function(Bt,Jn,zr){if(Rf&&(Jn==="id"||Jn==="name")&&(zr in u||zr in DJ))return!1;if(!(em&&!Qd[Jn]&&as(qn,Jn))){if(!(rb&&as(nr,Jn))){if(!Qi[Jn]||Qd[Jn]){if(!(Q9(Bt)&&(vi.tagNameCheck instanceof RegExp&&as(vi.tagNameCheck,Bt)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(Bt))&&(vi.attributeNameCheck instanceof RegExp&&as(vi.attributeNameCheck,Jn)||vi.attributeNameCheck instanceof Function&&vi.attributeNameCheck(Jn))||Jn==="is"&&vi.allowCustomizedBuiltInElements&&(vi.tagNameCheck instanceof RegExp&&as(vi.tagNameCheck,zr)||vi.tagNameCheck instanceof Function&&vi.tagNameCheck(zr))))return!1}else if(!go[Jn]){if(!as(Za,Wg(zr,Ta,""))){if(!((Jn==="src"||Jn==="xlink:href"||Jn==="href")&&Bt!=="script"&&VZ(zr,"data:")===0&&Ur[Bt])){if(!(ab&&!as(ra,Wg(zr,Ta,"")))){if(zr)return!1}}}}}}return!0},Q9=function(Bt){return Bt.indexOf("-")>0},eU=function(Bt){var Jn,zr,Lo,Ds;am("beforeSanitizeAttributes",Bt,null);var Il=Bt.attributes;if(Il){var dl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qi};for(Ds=Il.length;Ds--;){Jn=Il[Ds];var L_=Jn,is=L_.name,tU=L_.namespaceURI;if(zr=is==="value"?Jn.value:UZ(Jn.value),Lo=nm(is),dl.attrName=Lo,dl.attrValue=zr,dl.keepAttr=!0,dl.forceKeepAttr=void 0,am("uponSanitizeAttribute",Bt,dl),zr=dl.attrValue,!dl.forceKeepAttr&&(G9(is,Bt),!!dl.keepAttr)){if(as(/\/>/i,zr)){G9(is,Bt);continue}Fu&&(zr=Wg(zr,Xn," "),zr=Wg(zr,Zt," "));var BJ=nm(Bt.nodeName);if(J9(BJ,Lo,zr))try{tU?Bt.setAttributeNS(tU,is,zr):Bt.setAttribute(is,zr),y9(r.removed)}catch{}}}am("afterSanitizeAttributes",Bt,null)}},RJ=function Qr(Bt){var Jn,zr=X9(Bt);for(am("beforeSanitizeShadowDOM",Bt,null);Jn=zr.nextNode();)am("uponSanitizeShadowNode",Jn,null),!Z9(Jn)&&(Jn.content instanceof f&&Qr(Jn.content),eU(Jn));am("afterSanitizeShadowDOM",Bt,null)};return r.sanitize=function(Qr,Bt){var Jn,zr,Lo,Ds,Il;if(ib=!Qr,ib&&(Qr="<!-->"),typeof Qr!="string"&&!Mk(Qr)){if(typeof Qr.toString!="function")throw r7("toString is not a function");if(Qr=Qr.toString(),typeof Qr!="string")throw r7("dirty is not a string, aborting")}if(!r.isSupported){if(tb(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Qr=="string")return t.toStaticHTML(Qr);if(Mk(Qr))return t.toStaticHTML(Qr.outerHTML)}return Qr}if(du||m7(Bt),r.removed=[],typeof Qr=="string"&&(tm=!1),tm){if(Qr.nodeName){var dl=nm(Qr.nodeName);if(!yo[dl]||Jd[dl])throw r7("root node is forbidden and cannot be sanitized in-place")}}else if(Qr instanceof p)Jn=Y9("<!---->"),zr=Jn.ownerDocument.importNode(Qr,!0),zr.nodeType===1&&zr.nodeName==="BODY"||zr.nodeName==="HTML"?Jn=zr:Jn.appendChild(zr);else{if(!zv&&!Fu&&!bc&&Qr.indexOf("<")===-1)return Mt&&di?Mt.createHTML(Qr):Qr;if(Jn=Y9(Qr),!Jn)return zv?null:di?Qe:""}Jn&&ob&&rm(Jn.firstChild);for(var L_=X9(tm?Qr:Jn);Lo=L_.nextNode();)Lo.nodeType===3&&Lo===Ds||Z9(Lo)||(Lo.content instanceof f&&RJ(Lo.content),eU(Lo),Ds=Lo);if(Ds=null,tm)return Qr;if(zv){if(jg)for(Il=Qt.call(Jn.ownerDocument);Jn.firstChild;)Il.appendChild(Jn.firstChild);else Il=Jn;return Qi.shadowroot&&(Il=rn.call(o,Il,!0)),Il}var is=bc?Jn.outerHTML:Jn.innerHTML;return bc&&yo["!doctype"]&&Jn.ownerDocument&&Jn.ownerDocument.doctype&&Jn.ownerDocument.doctype.name&&as(eJ,Jn.ownerDocument.doctype.name)&&(is="<!DOCTYPE "+Jn.ownerDocument.doctype.name+`>
`+is),Fu&&(is=Wg(is,Xn," "),is=Wg(is,Zt," ")),Mt&&di?Mt.createHTML(is):is},r.setConfig=function(Qr){m7(Qr),du=!0},r.clearConfig=function(){Gg=null,du=!1},r.isValidAttribute=function(Qr,Bt,Jn){Gg||m7({});var zr=nm(Qr),Lo=nm(Bt);return J9(zr,Lo,Jn)},r.addHook=function(Qr,Bt){typeof Bt=="function"&&(Tn[Qr]=Tn[Qr]||[],Pk(Tn[Qr],Bt))},r.removeHook=function(Qr){if(Tn[Qr])return y9(Tn[Qr])},r.removeHooks=function(Qr){Tn[Qr]&&(Tn[Qr]=[])},r.removeAllHooks=function(){Tn={}},r}var rJ=k9(),aJ=function(t){return rJ().sanitize(t)},oJ=O0.deviceType.isTouch(),T9=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},E9=function(t,r){return Ci.parts.close(_u.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:$n([Ro.config({})])}))},O9=function(){return Ci.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},A9=function(t,r){return Ci.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:An("<p>"+aJ(r.translate(t))+"</p>")}]}]})},$9=function(t){return Ci.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},D9=function(t,r){return[Xi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Xi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},l7=function(t){var r,o="tox-dialog",u=o+"-wrap",f=u+"__backdrop",v=o+"__disable-scroll";return Ci.sketch({lazySink:t.lazySink,onEscape:function(p){return t.onEscape(p),E.some(!0)},useTabstopAt:function(p){return!zh(p)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:z({position:"relative"},t.extraStyles)},components:he([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:An('<div class="'+u+'"></div>'),components:[{dom:{tag:"div",classes:oJ?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:$n(he([Dr.config({}),Vr("dialog-events",t.dialogEvents.concat([jo(Gf(),function(p,C){Sr.focusIn(p)})])),Vr("scroll-lock",[qr(function(){oi(Ba(),v)}),Gl(function(){Zo(Ba(),v)})])],t.extraBehaviours,!0)),eventOrder:z((r={},r[Tl()]=["dialog-events"],r[El()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Tp()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},_9=function(t){return _u.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[lc("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Ca(r,_d)}})},P9=function(t,r,o){var u=function(f){return[ji(o.translate(f.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:z({},r.map(function(f){return{id:f}}).getOr({}))},components:u(t),behaviours:$n([ns.config({channel:v9,renderComponents:u})])}},M9=function(){return{dom:An('<div class="tox-dialog__draghandle"></div>')}},iJ=function(t,r,o){return Xi.sketch({dom:An('<div class="tox-dialog__header"></div>'),components:[P9(t,E.some(r),o),M9(),_9(o)],containerBehaviours:$n([Qh.config({mode:"mouse",blockerClass:"blocker",getTarget:function(u){return Xs(u,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},uJ=function(t,r){var o=Ci.parts.title(P9(t,E.none(),r)),u=Ci.parts.draghandle(M9()),f=Ci.parts.close(_9(r)),v=[o].concat(t.draggable?[u]:[]).concat([f]);return Xi.sketch({dom:An('<div class="tox-dialog__header"></div>'),components:v})},R9=function(t,r){return uJ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},B9=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:An('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},F9=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(u){Ci.setBusy(t(),function(f,v){return B9(u.message,v,r)})},onUnblock:function(){Ci.setIdle(t())}}},I9=function(t,r,o,u){var f,v=function(p,C){return E.some(C)};return qo(l7(z(z({},t),{lazySink:u.shared.getSink,extraBehaviours:he([ns.config({channel:Qz,updateState:v,initialData:r}),Af.memory({})],t.extraBehaviours,!0),onEscape:function(p){Ca(p,_d)},dialogEvents:o,eventOrder:(f={},f[Kl()]=[ns.name(),qu.name()],f[El()]=["scroll-lock",ns.name(),"messages","dialog-events","alloy.base.behaviour"],f[Tp()]=["alloy.base.behaviour","dialog-events","messages",ns.name(),"scroll-lock"],f)})))},N9=function(t){var r=function(o){var u=it(o.items,function(f){var v=Cr(!1);return z(z({},f),{storage:v})});return z(z({},o),{items:u})};return it(t,function(o){return o.type==="menu"?r(o):o})},L9=function(t){return gt(t,function(r,o){if(o.type==="menu"){var u=o;return gt(u.items,function(f,v){return f[v.name]=v.storage,f},r)}return r},{})},z9=function(t,r){return[Yf(Gf(),OD),t(kh,function(o,u){r.onClose(),u.onClose()}),t(_d,function(o,u,f,v){u.onCancel(o),Ca(v,kh)}),nn(JS,function(o,u){return r.onUnblock()}),nn(jc,function(o,u){return r.onBlock(u.event)})]},lJ=function(t,r){var o=function(f,v){return nn(f,function(p,C){u(p,function(S,O){v(t(),S,C.event,p)})})},u=function(f,v){ns.getState(f).get().each(function(p){v(p,f)})};return he(he([],z9(o,r),!0),[o(sc,function(f,v,p){v.onAction(f,{name:p.name})})],!1)},sJ=function(t,r,o){var u=function(v,p){return nn(v,function(C,S){f(C,function(O,N){p(t(),O,S.event,C)})})},f=function(v,p){ns.getState(v).get().each(function(C){p(C.internalDialog,v)})};return he(he([],z9(u,r),!0),[u(sl,function(v,p){return p.onSubmit(v)}),u(Rl,function(v,p,C){p.onChange(v,{name:C.name})}),u(sc,function(v,p,C,S){var O=function(){return Sr.focusIn(S)},N=function(ie){return pb(ie,"disabled")||Vo(ie,"aria-disabled").exists(function(ge){return ge==="true"})},H=Er(S.element),ne=Js(H);p.onAction(v,{name:C.name,value:C.value}),Js(H).fold(O,function(ie){N(ie)||ne.exists(function(ge){return yu(ie,ge)&&N(ge)})?O():o().toOptional().filter(function(ge){return!yu(ge.element,ie)}).each(O)})}),u(QS,function(v,p,C){p.onTabChange(v,{newTabName:C.name,oldTabName:C.oldName})}),Gl(function(v){var p=t();Rn.setValue(v,p.getData())})],!1)},s7={initUrlDialog:lJ,initDialog:sJ},cJ=function(t,r){return vy(t,t.type,r)},fJ=function(t,r,o){return Et(r,function(u){return u.name===o}).bind(function(u){return u.memento.getOpt(t)})},vJ=function(t,r){var o=r.map(function(C){return C.footerButtons}).getOr([]),u=Ne(o,function(C){return C.align==="start"}),f=function(C,S){return Xi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+C]},components:it(S,function(O){return O.memento.asSpec()})})},v=f("start",u.pass),p=f("end",u.fail);return[v,p]},H9=function(t,r){var o=function(u,f){var v=it(f.buttons,function(C){var S=ka(cJ(C,r));return{name:C.name,align:C.align,memento:S}}),p=function(C,S){return fJ(C,v,S)};return E.some({lookupByName:p,footerButtons:v})};return{dom:An('<div class="tox-dialog__footer"></div>'),components:[],behaviours:$n([ns.config({channel:m9,initialData:t,updateState:o,renderComponents:vJ})])}},dJ=function(t,r){return H9(t,r)},V9=function(t,r){return Ci.parts.footer(H9(t,r))},c7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var u=ia.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Rg.getField(u,r).fold(function(){var f=t.getFooter(),v=ns.getState(f);return v.get().bind(function(p){return p.lookupByName(u,r)})},function(f){return E.some(f)})}else return E.none()},mJ=function(t,r){var o=t.getRoot();return ns.getState(o).get().map(function(u){return Vs(Eo("data",u.dataValidator,r))}).getOr(r)},U9=function(t,r,o){var u=function($e){var Ze=t.getRoot();Ze.getSystem().isConnected()&&$e(Ze)},f=function(){var $e=t.getRoot(),Ze=$e.getSystem().isConnected()?t.getFormWrapper():$e,Se=Rn.getValue(Ze),et=Xt(o,function(Rt){return Rt.get()});return z(z({},Se),et)},v=function($e){u(function(Ze){var Se=ge.getData(),et=z(z({},Se),$e),Rt=mJ(t,et),Mt=t.getFormWrapper();Rn.setValue(Mt,Rt),dn(o,function(Qe,kt){an(et,kt)&&Qe.set(et[kt])})})},p=function($e){c7(t,$e).each(mr.disable)},C=function($e){c7(t,$e).each(mr.enable)},S=function($e){c7(t,$e).each(Dr.focus)},O=function($e){if(!y($e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(function(Ze){hr(Ze,jc,{message:$e})})},N=function(){u(function($e){Ca($e,JS)})},H=function($e){u(function(Ze){var Se=t.getBody(),et=ns.getState(Se);et.get().exists(function(Rt){return Rt.isTabPanel()})&&ia.getCurrent(Se).each(function(Rt){Vy.showTab(Rt,$e)})})},ne=function($e){u(function(Ze){var Se=r($e);Ze.getSystem().broadcastOn([Qz],Se),Ze.getSystem().broadcastOn([v9],Se.internalDialog),Ze.getSystem().broadcastOn([d9],Se.internalDialog),Ze.getSystem().broadcastOn([m9],Se.internalDialog),ge.setData(Se.initialData)})},ie=function(){u(function($e){Ca($e,kh)})},ge={getData:f,setData:v,disable:p,enable:C,focus:S,block:O,unblock:N,showTab:H,redial:ne,close:ie};return ge},gJ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},pJ=function(t,r,o){var u=R9(t.internalDialog.title,o),f=AZ({body:t.internalDialog.body},o),v=N9(t.internalDialog.buttons),p=L9(v),C=V9({buttons:v},o),S=s7.initDialog(function(){return ie},F9(function(){return H},o.shared.providers,r),o.shared.getSink),O=gJ(t.internalDialog.size),N={header:u,body:f,footer:E.some(C),extraClasses:O,extraBehaviours:[],extraStyles:{}},H=I9(N,t,S,o),ne=function(){var ge=function(){var $e=Ci.getBody(H);return ia.getCurrent($e).getOr($e)};return{getRoot:R(H),getBody:function(){return Ci.getBody(H)},getFooter:function(){return Ci.getFooter(H)},getFormWrapper:ge}}(),ie=U9(ne,r.redial,p);return{dialog:H,instanceApi:ie}},hJ=function(t,r,o,u){var f,v,p=Zn("dialog-label"),C=Zn("dialog-content"),S=function(Se,et){return E.some(et)},O=ka(iJ({title:t.internalDialog.title,draggable:!0},p,o.shared.providers)),N=ka(OZ({body:t.internalDialog.body},C,o,u)),H=N9(t.internalDialog.buttons),ne=L9(H),ie=ka(dJ({buttons:H},o)),ge=s7.initDialog(function(){return Ze},{onBlock:function(Se){pn.block($e,function(et,Rt){return B9(Se.message,Rt,o.shared.providers)})},onUnblock:function(){pn.unblock($e)},onClose:function(){return r.closeWindow()}},o.shared.getSink),$e=qo({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(f={role:"dialog"},f["aria-labelledby"]=p,f["aria-describedby"]=C,f)},eventOrder:(v={},v[Kl()]=[ns.name(),qu.name()],v[Tl()]=["execute-on-form"],v[El()]=["reflecting","execute-on-form"],v),behaviours:$n([Sr.config({mode:"cyclic",onEscape:function(Se){return Ca(Se,kh),E.some(!0)},useTabstopAt:function(Se){return!zh(Se)&&(Pe(Se)!=="button"||po(Se,"disabled")!=="disabled")}}),ns.config({channel:Qz,updateState:S,initialData:t}),Dr.config({}),Vr("execute-on-form",ge.concat([jo(Gf(),function(Se,et){Sr.focusIn(Se)})])),pn.config({getRoot:function(){return E.some($e)}}),Ir.config({}),Af.memory({})]),components:[O.asSpec(),N.asSpec(),ie.asSpec()]}),Ze=U9({getRoot:R($e),getFooter:function(){return ie.get($e)},getBody:function(){return N.get($e)},getFormWrapper:function(){var Se=N.get($e);return ia.getCurrent(Se).getOr(Se)}},r.redial,ne);return{dialog:$e,instanceApi:Ze}},f7=tinymce.util.Tools.resolve("tinymce.util.URI"),bJ=function(t){var r=function(p){t.getSystem().isConnected()&&p(t)},o=function(p){if(!y(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(C){hr(C,jc,{message:p})})},u=function(){r(function(p){Ca(p,JS)})},f=function(){r(function(p){Ca(p,kh)})},v=function(p){r(function(C){C.getSystem().broadcastOn([g9],p)})};return{block:o,unblock:u,close:f,sendMessage:v}},yJ=["insertContent","setContent","execCommand","close","block","unblock"],W9=function(t){return k(t)&&yJ.indexOf(t.mceAction)!==-1},wJ=function(t){return!W9(t)&&k(t)&&an(t,"mceAction")},CJ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var u=P(o.ui)?o.ui:!1;t.execCommand(o.cmd,u,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},SJ=function(t,r,o,u){var f,v=R9(t.title,u),p=$Z(t),C=t.buttons.bind(function(et){return et.length===0?E.none():E.some(V9({buttons:et},u))}),S=s7.initUrlDialog(function(){return Se},F9(function(){return Ze},u.shared.providers,r)),O=z(z({},t.height.fold(function(){return{}},function(et){return{height:et+"px","max-height":et+"px"}})),t.width.fold(function(){return{}},function(et){return{width:et+"px","max-width":et+"px"}})),N=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],H=new f7(t.url,{base_uri:new f7(window.location.href)}),ne=H.protocol+"://"+H.host+(H.port?":"+H.port:""),ie=Xm(),ge=[Vr("messages",[qr(function(){var et=Ko(Te.fromDom(window),"message",function(Rt){if(H.isSameOrigin(new f7(Rt.raw.origin))){var Mt=Rt.raw.data;W9(Mt)?CJ(o,Se,Mt):wJ(Mt)&&t.onMessage(Se,Mt)}});ie.set(et)}),Gl(ie.clear)]),qu.config({channels:(f={},f[g9]={onReceive:function(et,Rt){ii(et.element,"iframe").each(function(Mt){var Qe=Mt.dom.contentWindow;Qe.postMessage(Rt,ne)})}},f)})],$e={header:v,body:p,footer:C,extraClasses:N,extraBehaviours:ge,extraStyles:O},Ze=I9($e,t,S,u),Se=bJ(Ze);return{dialog:Ze,instanceApi:Se}},xJ=function(t){var r=t.backstage.shared,o=function(u,f){var v=function(){Ci.hide(O),f()},p=ka(vy({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage)),C=O9(),S=E9(v,r.providers),O=qo(l7({lazySink:function(){return r.getSink()},header:T9(C,S),body:A9(u,r.providers),footer:E.some($9(D9([],[p.asSpec()]))),onEscape:v,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[nn(_d,v)],eventOrder:{}}));Ci.show(O);var N=p.get(O);Dr.focus(N)};return{open:o}},kJ=function(t){var r=t.backstage.shared,o=function(u,f){var v=function(ne){Ci.hide(N),f(ne)},p=ka(vy({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:E.none()},"submit",t.backstage)),C=vy({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage),S=O9(),O=E9(function(){return v(!1)},r.providers),N=qo(l7({lazySink:function(){return r.getSink()},header:T9(S,O),body:A9(u,r.providers),footer:E.some($9(D9([],[C,p.asSpec()]))),onEscape:function(){return v(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[nn(_d,function(){return v(!1)}),nn(sl,function(){return v(!0)})],eventOrder:{}}));Ci.show(N);var H=p.get(N);Dr.focus(H)};return{open:o}},TJ=function(t,r){return Vs(Eo("data",r,t))},EJ=function(t){return wh(t,".tox-alert-dialog")||wh(t,".tox-confirm-dialog")},OJ=function(t,r,o){return r&&o?[]:[Fo.config({contextual:{lazyContext:function(){return E.some(pi(Te.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},AJ=function(t){var r=t.backstage,o=t.editor,u=k0(o),f=xJ(t),v=kJ(t),p=function(ge,$e,Ze){return $e!==void 0&&$e.inline==="toolbar"?N(ge,r.shared.anchors.inlineDialog(),Ze,$e.ariaAttrs):$e!==void 0&&$e.inline==="cursor"?N(ge,r.shared.anchors.cursor(),Ze,$e.ariaAttrs):O(ge,Ze)},C=function(ge,$e){return S(ge,$e)},S=function(ge,$e){var Ze=function(Se){var et=SJ(Se,{closeWindow:function(){Ci.hide(et.dialog),$e(et.instanceApi)}},o,r);return Ci.show(et.dialog),et.instanceApi};return _k.openUrl(Ze,ge)},O=function(ge,$e){var Ze=function(Se,et,Rt){var Mt=et,Qe={dataValidator:Rt,initialData:Mt,internalDialog:Se},kt=pJ(Qe,{redial:_k.redial,closeWindow:function(){Ci.hide(kt.dialog),$e(kt.instanceApi)}},r);return Ci.show(kt.dialog),kt.instanceApi.setData(Mt),kt.instanceApi};return _k.open(Ze,ge)},N=function(ge,$e,Ze,Se){var et=function(Rt,Mt,Qe){var kt=TJ(Mt,Qe),qt=Po(),Pn=r.shared.header.isPositionedAtTop(),Qt={dataValidator:Qe,initialData:kt,internalDialog:Rt},Mn=function(){return qt.on(function(Tn){So.reposition(Tn),Fo.refresh(Tn)})},rn=hJ(Qt,{redial:_k.redial,closeWindow:function(){qt.on(So.hide),o.off("ResizeEditor",Mn),qt.clear(),Ze(rn.instanceApi)}},r,Se),jt=qo(So.sketch(z(z({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Pn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:$n(he([Vr("window-manager-inline-events",[nn(qs(),function(Tn,Xn){Ca(rn.dialog,_d)})])],OJ(o,u,Pn),!0)),isExtraPart:function(Tn,Xn){return EJ(Xn)}})));return qt.set(jt),So.showWithin(jt,$l(rn.dialog),{anchor:$e},E.some(Ba())),(!u||!Pn)&&(Fo.refresh(jt),o.on("ResizeEditor",Mn)),rn.instanceApi.setData(kt),Sr.focusIn(rn.dialog),rn.instanceApi};return _k.open(et,ge)},H=function(ge,$e){v.open(ge,function(Ze){$e(Ze)})},ne=function(ge,$e){f.open(ge,function(){$e()})},ie=function(ge){ge.close()};return{open:p,openUrl:C,alert:ne,close:ie,confirm:H}};function $J(){oe.add("silver",function(t){var r=BY(t),o=r.uiMothership,u=r.backstage,f=r.renderUI,v=r.getUi;RN.register(t,u.shared);var p=AJ({editor:t,backstage:u});return{renderUI:f,getWindowManagerImpl:R(p),getNotificationManagerImpl:function(){return aS(t,{backstage:u},o)},ui:v()}})}$J()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(G,he,Ge){var Me=he==="UL"?"InsertUnorderedList":"InsertOrderedList";G.execCommand(Me,!1,Ge===!1?null:{"list-style-type":Ge})},d=function(G){G.addCommand("ApplyUnorderedListStyle",function(he,Ge){g(G,"UL",Ge["list-style-type"])}),G.addCommand("ApplyOrderedListStyle",function(he,Ge){g(G,"OL",Ge["list-style-type"])})},h=tinymce.util.Tools.resolve("tinymce.util.Tools"),y=function(G){var he=G.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return he?he.split(/[ ,]/):[]},k=function(G){var he=G.getParam("advlist_bullet_styles","default,circle,square");return he?he.split(/[ ,]/):[]},x=function(){},T=function(G){return function(){return G}},P=function(G){return G},I=T(!1),B=T(!0),D=function(){return F},F=function(){var G=function(Me){return Me()},he=P,Ge={fold:function(Me,je){return Me()},isSome:I,isNone:B,getOr:he,getOrThunk:G,getOrDie:function(Me){throw new Error(Me||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:he,orThunk:G,map:D,each:x,bind:D,exists:I,forall:B,filter:function(){return D()},toArray:function(){return[]},toString:T("none()")};return Ge}(),L=function(G){var he=T(G),Ge=function(){return je},Me=function(tt){return tt(G)},je={fold:function(tt,E){return E(G)},isSome:B,isNone:I,getOr:he,getOrThunk:he,getOrDie:he,getOrNull:he,getOrUndefined:he,or:Ge,orThunk:Ge,map:function(tt){return L(tt(G))},each:function(tt){tt(G)},bind:Me,exists:Me,forall:Me,filter:function(tt){return tt(G)?je:F},toArray:function(){return[G]},toString:function(){return"some("+G+")"}};return je},J=function(G){return G==null?F:L(G)},_={some:L,none:D,from:J},U=function(G,he){return G.$.contains(G.getBody(),he)},te=function(G){return G&&/^(TH|TD)$/.test(G.nodeName)},Z=function(G){return function(he){return he&&/^(OL|UL|DL)$/.test(he.nodeName)&&U(G,he)}},R=function(G){var he=G.dom.getParent(G.selection.getNode(),"ol,ul"),Ge=G.dom.getStyle(he,"listStyleType");return _.from(Ge)},Q=function(G,he){for(var Ge=0;Ge<G.length;Ge++){var Me=G[Ge];if(he(Me))return Ge}return-1},X=function(G){return G.replace(/\-/g," ").replace(/\b\w/g,function(he){return he.toUpperCase()})},me=function(G,he,Ge){var Me=Q(he.parents,te),je=Me!==-1?he.parents.slice(0,Me):he.parents,tt=h.grep(je,Z(G));return tt.length>0&&tt[0].nodeName===Ge},xe=function(G,he){return function(Ge){var Me=function(je){Ge.setActive(me(G,je,he))};return G.on("NodeChange",Me),function(){return G.off("NodeChange",Me)}}},fe=function(G,he,Ge,Me,je,tt){G.ui.registry.addSplitButton(he,{tooltip:Ge,icon:je==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(E){var Ae=h.map(tt,function(Le){var At=je==="OL"?"num":"bull",ze=Le==="disc"||Le==="decimal"?"default":Le,ft=Le==="default"?"":Le,Xe=X(Le);return{type:"choiceitem",value:ft,icon:"list-"+At+"-"+ze,text:Xe}});E(Ae)},onAction:function(){return G.execCommand(Me)},onItemAction:function(E,Ae){g(G,je,Ae)},select:function(E){var Ae=R(G);return Ae.map(function(Le){return E===Le}).getOr(!1)},onSetup:xe(G,je)})},se=function(G,he,Ge,Me,je,tt){G.ui.registry.addToggleButton(he,{active:!1,tooltip:Ge,icon:je==="OL"?"ordered-list":"unordered-list",onSetup:xe(G,je),onAction:function(){return G.execCommand(Me)}})},Ce=function(G,he,Ge,Me,je,tt){tt.length>1?fe(G,he,Ge,Me,je,tt):se(G,he,Ge,Me,je)},oe=function(G){Ce(G,"numlist","Numbered list","InsertOrderedList","OL",y(G)),Ce(G,"bullist","Bullet list","InsertUnorderedList","UL",k(G))};function z(){s.add("advlist",function(G){G.hasPlugin("lists")&&(oe(G),d(G))})}z()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),d=tinymce.util.Tools.resolve("tinymce.util.Tools"),h=function(oe){return oe.getParam("allow_html_in_named_anchor",!1,"boolean")},y="a:not([href])",k=function(oe){return!oe},x=function(oe){var z=oe.getAttribute("id")||oe.getAttribute("name");return z||""},T=function(oe){return oe&&oe.nodeName.toLowerCase()==="a"},P=function(oe){return T(oe)&&!oe.getAttribute("href")&&x(oe)!==""},I=function(oe){return P(oe)&&!oe.firstChild},B=function(oe){var z=oe.dom;g(z).walk(oe.selection.getRng(),function(G){d.each(G,function(he){I(he)&&z.remove(he,!1)})})},D=function(oe){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(oe)},F=function(oe){return oe.dom.getParent(oe.selection.getStart(),y)},L=function(oe){var z=F(oe);return z?x(z):""},J=function(oe,z){oe.undoManager.transact(function(){h(oe)||oe.selection.collapse(!0),oe.selection.isCollapsed()?oe.insertContent(oe.dom.createHTML("a",{id:z})):(B(oe),oe.formatter.remove("namedAnchor",null,null,!0),oe.formatter.apply("namedAnchor",{value:z}),oe.addVisual())})},_=function(oe,z,G){G.removeAttribute("name"),G.id=z,oe.addVisual(),oe.undoManager.add()},U=function(oe,z){var G=F(oe);G?_(oe,z,G):J(oe,z),oe.focus()},te=function(oe,z){return D(z)?(U(oe,z),!0):(oe.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},Z=function(oe){var z=L(oe);oe.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:z},onSubmit:function(G){te(oe,G.getData().id)&&G.close()}})},R=function(oe){oe.addCommand("mceAnchor",function(){Z(oe)})},Q=function(oe){return oe&&k(oe.attr("href"))&&!k(oe.attr("id")||oe.attr("name"))},X=function(oe){return Q(oe)&&!oe.firstChild},me=function(oe){return function(z){for(var G=0;G<z.length;G++){var he=z[G];X(he)&&he.attr("contenteditable",oe)}}},xe=function(oe){oe.on("PreInit",function(){oe.parser.addNodeFilter("a",me("false")),oe.serializer.addNodeFilter("a",me(null))})},fe=function(oe){oe.formatter.register("namedAnchor",{inline:"a",selector:y,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(z,G,he){return P(z)}})},se=function(oe){oe.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return oe.execCommand("mceAnchor")},onSetup:function(z){return oe.selection.selectorChangedWithUnbind("a:not([href])",z.setActive).unbind}}),oe.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return oe.execCommand("mceAnchor")}})};function Ce(){s.add("anchor",function(oe){xe(oe),R(oe),se(oe),oe.on("PreInit",function(){fe(oe)})})}Ce()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(fe,se,Ce){return se===""||fe.length>=se.length&&fe.substr(Ce,Ce+se.length)===se},d=function(fe,se){return fe.indexOf(se)!==-1},h=function(fe,se){return g(fe,se,0)},y=tinymce.util.Tools.resolve("tinymce.Env"),k=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},x=new RegExp("^"+k().source+"$","i"),T=function(fe){return fe.getParam("autolink_pattern",x)},P=function(fe){return fe.getParam("default_link_target",!1)},I=function(fe){return fe.getParam("link_default_protocol","http","string")},B=function(fe){return/^[(\[{ \u00a0]$/.test(fe)},D=function(fe){return fe.nodeType===3},F=function(fe){return fe.nodeType===1},L=function(fe){return X(fe,-1)},J=function(fe){return X(fe,0)},_=function(fe){return X(fe,-1)},U=function(fe,se){if(se<0&&(se=0),D(fe)){var Ce=fe.data.length;se>Ce&&(se=Ce)}return se},te=function(fe,se,Ce){!F(se)||se.hasChildNodes()?fe.setStart(se,U(se,Ce)):fe.setStartBefore(se)},Z=function(fe,se,Ce){!F(se)||se.hasChildNodes()?fe.setEnd(se,U(se,Ce)):fe.setEndAfter(se)},R=function(fe){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(fe)},Q=function(fe){return/[?!,.;:]/.test(fe)},X=function(fe,se){var Ce,oe,z,G,he,Ge,Me,je=T(fe),tt=P(fe);if(fe.dom.getParent(fe.selection.getNode(),"a[href]")===null){var E=fe.selection.getRng().cloneRange();if(E.startOffset<5){if(he=E.endContainer.previousSibling,!he){if(!E.endContainer.firstChild||!E.endContainer.firstChild.nextSibling)return;he=E.endContainer.firstChild.nextSibling}if(Ge=he.length,te(E,he,Ge),Z(E,he,Ge),E.endOffset<5)return;Ce=E.endOffset,oe=he}else{if(oe=E.endContainer,!D(oe)&&oe.firstChild){for(;!D(oe)&&oe.firstChild;)oe=oe.firstChild;D(oe)&&(te(E,oe,0),Z(E,oe,oe.nodeValue.length))}E.endOffset===1?Ce=2:Ce=E.endOffset-1-se}var Ae=Ce;do te(E,oe,Ce>=2?Ce-2:0),Z(E,oe,Ce>=1?Ce-1:0),Ce-=1,Me=E.toString();while(!B(Me)&&Ce-2>=0);B(E.toString())?(te(E,oe,Ce),Z(E,oe,Ae),Ce+=1):E.startOffset===0?(te(E,oe,0),Z(E,oe,Ae)):(te(E,oe,Ce),Z(E,oe,Ae)),G=E.toString(),Q(G.charAt(G.length-1))&&Z(E,oe,Ae-1),G=E.toString().trim();var Le=G.match(je),At=I(fe);if(Le){var ze=Le[0];h(ze,"www.")?ze=At+"://"+ze:d(ze,"@")&&!R(ze)&&(ze="mailto:"+ze),z=fe.selection.getBookmark(),fe.selection.setRng(E),fe.execCommand("createlink",!1,ze),tt!==!1&&fe.dom.setAttrib(fe.selection.getNode(),"target",tt),fe.selection.moveToBookmark(z),fe.nodeChanged()}}},me=function(fe){var se;if(fe.on("keydown",function(Ce){if(Ce.keyCode===13)return _(fe)}),y.browser.isIE()){fe.on("focus",function(){if(!se){se=!0;try{fe.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}fe.on("keypress",function(Ce){if(Ce.keyCode===41||Ce.keyCode===93||Ce.keyCode===125)return L(fe)}),fe.on("keyup",function(Ce){if(Ce.keyCode===32)return J(fe)})};function xe(){s.add("autolink",function(fe){me(fe)})}xe()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(z){return function(G){return z===G}},d=g(void 0),h=tinymce.util.Tools.resolve("tinymce.util.Delay"),y=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),k=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=function(z){return z.fire("RestoreDraft")},T=function(z){return z.fire("StoreDraft")},P=function(z){return z.fire("RemoveDraft")},I=function(z,G){var he={s:1e3,m:6e4},Ge=z||G,Me=/^(\d+)([ms]?)$/.exec(""+Ge);return(Me[2]?he[Me[2]]:1)*parseInt(Ge,10)},B=function(z){return z.getParam("autosave_ask_before_unload",!0)},D=function(z){var G=document.location;return z.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,G.pathname).replace(/{query}/g,G.search).replace(/{hash}/g,G.hash).replace(/{id}/g,z.id)},F=function(z){return z.getParam("autosave_restore_when_empty",!1)},L=function(z){return I(z.getParam("autosave_interval"),"30s")},J=function(z){return I(z.getParam("autosave_retention"),"20m")},_=function(z,G){if(d(G))return z.dom.isEmpty(z.getBody());var he=k.trim(G);if(he==="")return!0;var Ge=new DOMParser().parseFromString(he,"text/html");return z.dom.isEmpty(Ge)},U=function(z){var G=parseInt(y.getItem(D(z)+"time"),10)||0;return new Date().getTime()-G>J(z)?(te(z,!1),!1):!0},te=function(z,G){var he=D(z);y.removeItem(he+"draft"),y.removeItem(he+"time"),G!==!1&&P(z)},Z=function(z){var G=D(z);!_(z)&&z.isDirty()&&(y.setItem(G+"draft",z.getContent({format:"raw",no_events:!0})),y.setItem(G+"time",new Date().getTime().toString()),T(z))},R=function(z){var G=D(z);U(z)&&(z.setContent(y.getItem(G+"draft"),{format:"raw"}),x(z))},Q=function(z){var G=L(z);h.setEditorInterval(z,function(){Z(z)},G)},X=function(z){z.undoManager.transact(function(){R(z),te(z)}),z.focus()},me=function(z){return{hasDraft:function(){return U(z)},storeDraft:function(){return Z(z)},restoreDraft:function(){return R(z)},removeDraft:function(G){return te(z,G)},isEmpty:function(G){return _(z,G)}}},xe=tinymce.util.Tools.resolve("tinymce.EditorManager"),fe=function(z){z.editorManager.on("BeforeUnload",function(G){var he;k.each(xe.get(),function(Ge){Ge.plugins.autosave&&Ge.plugins.autosave.storeDraft(),!he&&Ge.isDirty()&&B(Ge)&&(he=Ge.translate("You have unsaved changes are you sure you want to navigate away?"))}),he&&(G.preventDefault(),G.returnValue=he)})},se=function(z){return function(G){G.setDisabled(!U(z));var he=function(){return G.setDisabled(!U(z))};return z.on("StoreDraft RestoreDraft RemoveDraft",he),function(){return z.off("StoreDraft RestoreDraft RemoveDraft",he)}}},Ce=function(z){Q(z),z.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){X(z)},onSetup:se(z)}),z.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){X(z)},onSetup:se(z)})};function oe(){s.add("autosave",function(z){return fe(z),Ce(z),z.on("init",function(){F(z)&&z.dom.isEmpty(z.getBody())&&R(z)}),me(z)})}oe()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(T,P){T.focus(),T.undoManager.transact(function(){T.setContent(P)}),T.selection.setCursorLocation(),T.nodeChanged()},d=function(T){return T.getContent({source_view:!0})},h=function(T){var P=d(T);T.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:P},onSubmit:function(I){g(T,I.getData().code),I.close()}})},y=function(T){T.addCommand("mceCodeEditor",function(){h(T)})},k=function(T){var P=function(){return T.execCommand("mceCodeEditor")};T.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:P}),T.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:P})};function x(){s.add("code",function(T){return y(T),k(T),{}})}x()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(){},d=function(Ae){return function(){return Ae}},h=function(Ae){return Ae},y=d(!1),k=d(!0),x=function(){return T},T=function(){var Ae=function(ze){return ze()},Le=h,At={fold:function(ze,ft){return ze()},isSome:y,isNone:k,getOr:Le,getOrThunk:Ae,getOrDie:function(ze){throw new Error(ze||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:Le,orThunk:Ae,map:x,each:g,bind:x,exists:y,forall:k,filter:function(){return x()},toArray:function(){return[]},toString:d("none()")};return At}(),P=function(Ae){var Le=d(Ae),At=function(){return ft},ze=function(Xe){return Xe(Ae)},ft={fold:function(Xe,ct){return ct(Ae)},isSome:k,isNone:y,getOr:Le,getOrThunk:Le,getOrDie:Le,getOrNull:Le,getOrUndefined:Le,or:At,orThunk:At,map:function(Xe){return P(Xe(Ae))},each:function(Xe){Xe(Ae)},bind:ze,exists:ze,forall:ze,filter:function(Xe){return Xe(Ae)?ft:T},toArray:function(){return[Ae]},toString:function(){return"some("+Ae+")"}};return ft},I=function(Ae){return Ae==null?T:P(Ae)},B={some:P,none:x,from:I},D=function(Ae,Le){return Le>=0&&Le<Ae.length?B.some(Ae[Le]):B.none()},F=function(Ae){return D(Ae,0)},L=function(Ae,Le){return Ae?B.some(Le):B.none()},J=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=function(Ae){return Ae&&Ae.nodeName==="PRE"&&Ae.className.indexOf("language-")!==-1},U=function(Ae){return function(Le,At){return Ae(At)}},te=typeof window<"u"?window:Function("return this;")(),Z={},R={exports:Z},Q={};(function(Ae,Le,At,ze){var ft=window.Prism;window.Prism={manual:!0},function(ct,re){typeof Le=="object"&&typeof At<"u"?At.exports=re():typeof Ae=="function"&&Ae.amd?Ae(re):(ct=typeof globalThis<"u"?globalThis:ct||self,ct.EphoxContactWrapper=re())}(this,function(){var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Q<"u"?Q:typeof self<"u"?self:{},re={exports:{}};(function(Oe){var dt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Ne=function(Be){var at=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,gt=0,ut={},Et={manual:Be.Prism&&Be.Prism.manual,disableWorkerMessageHandler:Be.Prism&&Be.Prism.disableWorkerMessageHandler,util:{encode:function $t(Dt){return Dt instanceof _n?new _n(Dt.type,$t(Dt.content),Dt.alias):Array.isArray(Dt)?Dt.map($t):Dt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($t){return Object.prototype.toString.call($t).slice(8,-1)},objId:function($t){return $t.__id||Object.defineProperty($t,"__id",{value:++gt}),$t.__id},clone:function $t(Dt,Ft){Ft=Ft||{};var rt,st;switch(Et.util.type(Dt)){case"Object":if(st=Et.util.objId(Dt),Ft[st])return Ft[st];rt={},Ft[st]=rt;for(var Wt in Dt)Dt.hasOwnProperty(Wt)&&(rt[Wt]=$t(Dt[Wt],Ft));return rt;case"Array":return st=Et.util.objId(Dt),Ft[st]?Ft[st]:(rt=[],Ft[st]=rt,Dt.forEach(function(dn,Xt){rt[Xt]=$t(dn,Ft)}),rt);default:return Dt}},getLanguage:function($t){for(;$t;){var Dt=at.exec($t.className);if(Dt)return Dt[1].toLowerCase();$t=$t.parentElement}return"none"},setLanguage:function($t,Dt){$t.className=$t.className.replace(RegExp(at.source,"gi"),""),$t.classList.add("language-"+Dt)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(rt){var $t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(rt.stack)||[])[1];if($t){var Dt=document.getElementsByTagName("script");for(var Ft in Dt)if(Dt[Ft].src==$t)return Dt[Ft]}return null}},isActive:function($t,Dt,Ft){for(var rt="no-"+Dt;$t;){var st=$t.classList;if(st.contains(Dt))return!0;if(st.contains(rt))return!1;$t=$t.parentElement}return!!Ft}},languages:{plain:ut,plaintext:ut,text:ut,txt:ut,extend:function($t,Dt){var Ft=Et.util.clone(Et.languages[$t]);for(var rt in Dt)Ft[rt]=Dt[rt];return Ft},insertBefore:function($t,Dt,Ft,rt){rt=rt||Et.languages;var st=rt[$t],Wt={};for(var dn in st)if(st.hasOwnProperty(dn)){if(dn==Dt)for(var Xt in Ft)Ft.hasOwnProperty(Xt)&&(Wt[Xt]=Ft[Xt]);Ft.hasOwnProperty(dn)||(Wt[dn]=st[dn])}var Ve=rt[$t];return rt[$t]=Wt,Et.languages.DFS(Et.languages,function(Yt,On){On===Ve&&Yt!=$t&&(this[Yt]=Wt)}),Wt},DFS:function $t(Dt,Ft,rt,st){st=st||{};var Wt=Et.util.objId;for(var dn in Dt)if(Dt.hasOwnProperty(dn)){Ft.call(Dt,dn,Dt[dn],rt||dn);var Xt=Dt[dn],Ve=Et.util.type(Xt);Ve==="Object"&&!st[Wt(Xt)]?(st[Wt(Xt)]=!0,$t(Xt,Ft,null,st)):Ve==="Array"&&!st[Wt(Xt)]&&(st[Wt(Xt)]=!0,$t(Xt,Ft,dn,st))}}},plugins:{},highlightAll:function($t,Dt){Et.highlightAllUnder(document,$t,Dt)},highlightAllUnder:function($t,Dt,Ft){var rt={callback:Ft,container:$t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Et.hooks.run("before-highlightall",rt),rt.elements=Array.prototype.slice.apply(rt.container.querySelectorAll(rt.selector)),Et.hooks.run("before-all-elements-highlight",rt);for(var st=0,Wt;Wt=rt.elements[st++];)Et.highlightElement(Wt,Dt===!0,rt.callback)},highlightElement:function($t,Dt,Ft){var rt=Et.util.getLanguage($t),st=Et.languages[rt];Et.util.setLanguage($t,rt);var Wt=$t.parentElement;Wt&&Wt.nodeName.toLowerCase()==="pre"&&Et.util.setLanguage(Wt,rt);var dn=$t.textContent,Xt={element:$t,language:rt,grammar:st,code:dn};function Ve(On){Xt.highlightedCode=On,Et.hooks.run("before-insert",Xt),Xt.element.innerHTML=Xt.highlightedCode,Et.hooks.run("after-highlight",Xt),Et.hooks.run("complete",Xt),Ft&&Ft.call(Xt.element)}if(Et.hooks.run("before-sanity-check",Xt),Wt=Xt.element.parentElement,Wt&&Wt.nodeName.toLowerCase()==="pre"&&!Wt.hasAttribute("tabindex")&&Wt.setAttribute("tabindex","0"),!Xt.code){Et.hooks.run("complete",Xt),Ft&&Ft.call(Xt.element);return}if(Et.hooks.run("before-highlight",Xt),!Xt.grammar){Ve(Et.util.encode(Xt.code));return}if(Dt&&Be.Worker){var Yt=new Worker(Et.filename);Yt.onmessage=function(On){Ve(On.data)},Yt.postMessage(JSON.stringify({language:Xt.language,code:Xt.code,immediateClose:!0}))}else Ve(Et.highlight(Xt.code,Xt.grammar,Xt.language))},highlight:function($t,Dt,Ft){var rt={code:$t,grammar:Dt,language:Ft};if(Et.hooks.run("before-tokenize",rt),!rt.grammar)throw new Error('The language "'+rt.language+'" has no grammar.');return rt.tokens=Et.tokenize(rt.code,rt.grammar),Et.hooks.run("after-tokenize",rt),_n.stringify(Et.util.encode(rt.tokens),rt.language)},tokenize:function($t,Dt){var Ft=Dt.rest;if(Ft){for(var rt in Ft)Dt[rt]=Ft[rt];delete Dt.rest}var st=new ln;return Ut(st,st.head,$t),Tt($t,st,Dt,st.head,0),bn(st)},hooks:{all:{},add:function($t,Dt){var Ft=Et.hooks.all;Ft[$t]=Ft[$t]||[],Ft[$t].push(Dt)},run:function($t,Dt){var Ft=Et.hooks.all[$t];if(!(!Ft||!Ft.length))for(var rt=0,st;st=Ft[rt++];)st(Dt)}},Token:_n};Be.Prism=Et;function _n($t,Dt,Ft,rt){this.type=$t,this.content=Dt,this.alias=Ft,this.length=(rt||"").length|0}_n.stringify=function $t(Dt,Ft){if(typeof Dt=="string")return Dt;if(Array.isArray(Dt)){var rt="";return Dt.forEach(function(Ve){rt+=$t(Ve,Ft)}),rt}var st={type:Dt.type,content:$t(Dt.content,Ft),tag:"span",classes:["token",Dt.type],attributes:{},language:Ft},Wt=Dt.alias;Wt&&(Array.isArray(Wt)?Array.prototype.push.apply(st.classes,Wt):st.classes.push(Wt)),Et.hooks.run("wrap",st);var dn="";for(var Xt in st.attributes)dn+=" "+Xt+'="'+(st.attributes[Xt]||"").replace(/"/g,"&quot;")+'"';return"<"+st.tag+' class="'+st.classes.join(" ")+'"'+dn+">"+st.content+"</"+st.tag+">"};function Re($t,Dt,Ft,rt){$t.lastIndex=Dt;var st=$t.exec(Ft);if(st&&rt&&st[1]){var Wt=st[1].length;st.index+=Wt,st[0]=st[0].slice(Wt)}return st}function Tt($t,Dt,Ft,rt,st,Wt){for(var dn in Ft)if(!(!Ft.hasOwnProperty(dn)||!Ft[dn])){var Xt=Ft[dn];Xt=Array.isArray(Xt)?Xt:[Xt];for(var Ve=0;Ve<Xt.length;++Ve){if(Wt&&Wt.cause==dn+","+Ve)return;var Yt=Xt[Ve],On=Yt.inside,wn=!!Yt.lookbehind,jn=!!Yt.greedy,He=Yt.alias;if(jn&&!Yt.pattern.global){var Lt=Yt.pattern.toString().match(/[imsuy]*$/)[0];Yt.pattern=RegExp(Yt.pattern.source,Lt+"g")}for(var _t=Yt.pattern||Yt,an=rt.next,Un=st;an!==Dt.tail&&!(Wt&&Un>=Wt.reach);Un+=an.value.length,an=an.next){var kr=an.value;if(Dt.length>$t.length)return;if(!(kr instanceof _n)){var Oa=1,_r;if(jn){if(_r=Re(_t,Un,$t,wn),!_r||_r.index>=$t.length)break;var oo=_r.index,Ar=_r.index+_r[0].length,_a=Un;for(_a+=an.value.length;oo>=_a;)an=an.next,_a+=an.value.length;if(_a-=an.value.length,Un=_a,an.value instanceof _n)continue;for(var xo=an;xo!==Dt.tail&&(_a<Ar||typeof xo.value=="string");xo=xo.next)Oa++,_a+=xo.value.length;Oa--,kr=$t.slice(Un,_a),_r.index-=Un}else if(_r=Re(_t,0,kr,wn),!_r)continue;var oo=_r.index,hn=_r[0],or=kr.slice(0,oo),tr=kr.slice(oo+hn.length),Wr=Un+kr.length;Wt&&Wr>Wt.reach&&(Wt.reach=Wr);var va=an.prev;or&&(va=Ut(Dt,va,or),Un+=or.length),fn(Dt,va,Oa);var Pa=new _n(dn,On?Et.tokenize(hn,On):hn,He,hn);if(an=Ut(Dt,va,Pa),tr&&Ut(Dt,an,tr),Oa>1){var Nr={cause:dn+","+Ve,reach:Wr};Tt($t,Dt,Ft,an.prev,Un,Nr),Wt&&Nr.reach>Wt.reach&&(Wt.reach=Nr.reach)}}}}}}function ln(){var $t={value:null,prev:null,next:null},Dt={value:null,prev:$t,next:null};$t.next=Dt,this.head=$t,this.tail=Dt,this.length=0}function Ut($t,Dt,Ft){var rt=Dt.next,st={value:Ft,prev:Dt,next:rt};return Dt.next=st,rt.prev=st,$t.length++,st}function fn($t,Dt,Ft){for(var rt=Dt.next,st=0;st<Ft&&rt!==$t.tail;st++)rt=rt.next;Dt.next=rt,rt.prev=Dt,$t.length-=st}function bn($t){for(var Dt=[],Ft=$t.head.next;Ft!==$t.tail;)Dt.push(Ft.value),Ft=Ft.next;return Dt}if(!Be.document)return Be.addEventListener&&(Et.disableWorkerMessageHandler||Be.addEventListener("message",function($t){var Dt=JSON.parse($t.data),Ft=Dt.language,rt=Dt.code,st=Dt.immediateClose;Be.postMessage(Et.highlight(rt,Et.languages[Ft],Ft)),st&&Be.close()},!1)),Et;var In=Et.util.currentScript();In&&(Et.filename=In.src,In.hasAttribute("data-manual")&&(Et.manual=!0));function sr(){Et.manual||Et.highlightAll()}if(!Et.manual){var yr=document.readyState;yr==="loading"||yr==="interactive"&&In&&In.defer?document.addEventListener("DOMContentLoaded",sr):window.requestAnimationFrame?window.requestAnimationFrame(sr):window.setTimeout(sr,16)}return Et}(dt);Oe.exports&&(Oe.exports=Ne),typeof ct<"u"&&(ct.Prism=Ne)})(re),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Oe){function dt(Ne,Be){return"___"+Ne.toUpperCase()+Be+"___"}Object.defineProperties(Oe.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ne,Be,at,gt){if(Ne.language===Be){var ut=Ne.tokenStack=[];Ne.code=Ne.code.replace(at,function(Et){if(typeof gt=="function"&&!gt(Et))return Et;for(var _n=ut.length,Re;Ne.code.indexOf(Re=dt(Be,_n))!==-1;)++_n;return ut[_n]=Et,Re}),Ne.grammar=Oe.languages.markup}}},tokenizePlaceholders:{value:function(Ne,Be){if(Ne.language!==Be||!Ne.tokenStack)return;Ne.grammar=Oe.languages[Be];var at=0,gt=Object.keys(Ne.tokenStack);function ut(Et){for(var _n=0;_n<Et.length&&!(at>=gt.length);_n++){var Re=Et[_n];if(typeof Re=="string"||Re.content&&typeof Re.content=="string"){var Tt=gt[at],ln=Ne.tokenStack[Tt],Ut=typeof Re=="string"?Re:Re.content,fn=dt(Be,Tt),bn=Ut.indexOf(fn);if(bn>-1){++at;var In=Ut.substring(0,bn),sr=new Oe.Token(Be,Oe.tokenize(ln,Ne.grammar),"language-"+Be,ln),yr=Ut.substring(bn+fn.length),$t=[];In&&$t.push.apply($t,ut([In])),$t.push(sr),yr&&$t.push.apply($t,ut([yr])),typeof Re=="string"?Et.splice.apply(Et,[_n,1].concat($t)):Re.content=$t}}else Re.content&&ut(Re.content)}return Et}ut(Ne.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(Oe){var dt=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ne=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return dt.source});Oe.languages.cpp=Oe.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return dt.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:dt,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Oe.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ne})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Oe.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Oe.languages.cpp}}}}),Oe.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Oe.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Oe.languages.extend("cpp",{})}}),Oe.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Oe.languages.cpp["base-clause"])}(Prism),function(Oe){function dt(Un,kr){return Un.replace(/<<(\d+)>>/g,function(Oa,_r){return"(?:"+kr[+_r]+")"})}function Ne(Un,kr,Oa){return RegExp(dt(Un,kr),Oa||"")}function Be(Un,kr){for(var Oa=0;Oa<kr;Oa++)Un=Un.replace(/<<self>>/g,function(){return"(?:"+Un+")"});return Un.replace(/<<self>>/g,"[^\\s\\S]")}var at={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function gt(Un){return"\\b(?:"+Un.trim().replace(/ /g,"|")+")\\b"}var ut=gt(at.typeDeclaration),Et=RegExp(gt(at.type+" "+at.typeDeclaration+" "+at.contextual+" "+at.other)),_n=gt(at.typeDeclaration+" "+at.contextual+" "+at.other),Re=gt(at.type+" "+at.typeDeclaration+" "+at.other),Tt=Be(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),ln=Be(/\((?:[^()]|<<self>>)*\)/.source,2),Ut=/@?\b[A-Za-z_]\w*\b/.source,fn=dt(/<<0>>(?:\s*<<1>>)?/.source,[Ut,Tt]),bn=dt(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[_n,fn]),In=/\[\s*(?:,\s*)*\]/.source,sr=dt(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[bn,In]),yr=dt(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Tt,ln,In]),$t=dt(/\(<<0>>+(?:,<<0>>+)+\)/.source,[yr]),Dt=dt(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[$t,bn,In]),Ft={keyword:Et,punctuation:/[<>()?,.:[\]]/},rt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,st=/"(?:\\.|[^\\"\r\n])*"/.source,Wt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Oe.languages.csharp=Oe.languages.extend("clike",{string:[{pattern:Ne(/(^|[^$\\])<<0>>/.source,[Wt]),lookbehind:!0,greedy:!0},{pattern:Ne(/(^|[^@$\\])<<0>>/.source,[st]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:Ne(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[bn]),lookbehind:!0,inside:Ft},{pattern:Ne(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Ut,Dt]),lookbehind:!0,inside:Ft},{pattern:Ne(/(\busing\s+)<<0>>(?=\s*=)/.source,[Ut]),lookbehind:!0},{pattern:Ne(/(\b<<0>>\s+)<<1>>/.source,[ut,fn]),lookbehind:!0,inside:Ft},{pattern:Ne(/(\bcatch\s*\(\s*)<<0>>/.source,[bn]),lookbehind:!0,inside:Ft},{pattern:Ne(/(\bwhere\s+)<<0>>/.source,[Ut]),lookbehind:!0},{pattern:Ne(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[sr]),lookbehind:!0,inside:Ft},{pattern:Ne(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Dt,Re,Ut]),inside:Ft}],keyword:Et,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Oe.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Oe.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ne(/([(,]\s*)<<0>>(?=\s*:)/.source,[Ut]),lookbehind:!0,alias:"punctuation"}}),Oe.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ne(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Ut]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ne(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[ln]),lookbehind:!0,alias:"class-name",inside:Ft},"return-type":{pattern:Ne(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Dt,bn]),inside:Ft,alias:"class-name"},"constructor-invocation":{pattern:Ne(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Dt]),lookbehind:!0,inside:Ft,alias:"class-name"},"generic-method":{pattern:Ne(/<<0>>\s*<<1>>(?=\s*\()/.source,[Ut,Tt]),inside:{function:Ne(/^<<0>>/.source,[Ut]),generic:{pattern:RegExp(Tt),alias:"class-name",inside:Ft}}},"type-list":{pattern:Ne(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[ut,fn,Ut,Dt,Et.source,ln,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ne(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[fn,ln]),lookbehind:!0,greedy:!0,inside:Oe.languages.csharp},keyword:Et,"class-name":{pattern:RegExp(Dt),greedy:!0,inside:Ft},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var dn=st+"|"+rt,Xt=dt(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[dn]),Ve=Be(dt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Xt]),2),Yt=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,On=dt(/<<0>>(?:\s*\(<<1>>*\))?/.source,[bn,Ve]);Oe.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ne(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Yt,On]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ne(/^<<0>>(?=\s*:)/.source,[Yt]),alias:"keyword"},"attribute-arguments":{pattern:Ne(/\(<<0>>*\)/.source,[Ve]),inside:Oe.languages.csharp},"class-name":{pattern:RegExp(bn),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var wn=/:[^}\r\n]+/.source,jn=Be(dt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Xt]),2),He=dt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[jn,wn]),Lt=Be(dt(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[dn]),2),_t=dt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Lt,wn]);function an(Un,kr){return{interpolation:{pattern:Ne(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Un]),lookbehind:!0,inside:{"format-string":{pattern:Ne(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[kr,wn]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Oe.languages.csharp}}},string:/[\s\S]+/}}Oe.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ne(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[He]),lookbehind:!0,greedy:!0,inside:an(He,jn)},{pattern:Ne(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[_t]),lookbehind:!0,greedy:!0,inside:an(_t,Lt)}],char:{pattern:RegExp(rt),greedy:!0}}),Oe.languages.dotnet=Oe.languages.cs=Oe.languages.csharp}(Prism),function(Oe){var dt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Oe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+dt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+dt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+dt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+dt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:dt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Oe.languages.css.atrule.inside.rest=Oe.languages.css;var Ne=Oe.languages.markup;Ne&&(Ne.tag.addInlined("style","css"),Ne.tag.addAttribute("style","css"))}(Prism),function(Oe){var dt=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ne=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Be={pattern:RegExp(/(^|[^\w.])/.source+Ne+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Oe.languages.java=Oe.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Be,{pattern:RegExp(/(^|[^\w.])/.source+Ne+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Be.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+Ne+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Be.inside}],keyword:dt,function:[Oe.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Oe.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Oe.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Be,keyword:dt,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+Ne+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Be.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+Ne+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Be.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return dt.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Oe){Oe.type==="entity"&&(Oe.attributes.title=Oe.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(dt,Ne){var Be={};Be["language-"+Ne]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Ne]},Be.cdata=/^<!\[CDATA\[|\]\]>$/i;var at={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Be}};at["language-"+Ne]={pattern:/[\s\S]+/,inside:Prism.languages[Ne]};var gt={};gt[dt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return dt}),"i"),lookbehind:!0,greedy:!0,inside:at},Prism.languages.insertBefore("markup","cdata",gt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Oe,dt){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Oe+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[dt,"language-"+dt],inside:Prism.languages[dt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Oe){var dt=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ne=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Be=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,at=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,gt=/[{}\[\](),:;]/;Oe.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:dt,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ne,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Be,operator:at,punctuation:gt};var ut={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Oe.languages.php},Et=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:ut}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:ut}}];Oe.languages.insertBefore("php","variable",{string:Et,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:dt,string:Et,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ne,number:Be,operator:at,punctuation:gt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Oe.hooks.add("before-tokenize",function(_n){if(/<\?/.test(_n.code)){var Re=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Oe.languages["markup-templating"].buildPlaceholders(_n,"php",Re)}}),Oe.hooks.add("after-tokenize",function(_n){Oe.languages["markup-templating"].tokenizePlaceholders(_n,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Oe){Oe.languages.ruby=Oe.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Oe.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var dt={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Oe.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Oe.languages.ruby.function;var Ne="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Be=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Oe.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+Ne+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:dt,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:dt,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Be),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Be+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Oe.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+Ne),greedy:!0,inside:{interpolation:dt,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:dt,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:dt,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+Ne),greedy:!0,inside:{interpolation:dt,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:dt,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Oe.languages.ruby.string,Oe.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Oe.languages.rb=Oe.languages.ruby}(Prism);var Vt=re.exports,it={boltExport:Vt};return it});var Xe=window.Prism;return window.Prism=ft,Xe})(void 0,Z,R);var X=R.exports.boltExport,me=function(Ae){return Ae.getParam("codesample_languages")},xe=function(Ae){return Ae.getParam("codesample_global_prismjs",!1,"boolean")},fe=function(Ae){return te.Prism&&xe(Ae)?te.Prism:X},se=function(Ae){var Le=Ae.selection?Ae.selection.getNode():null;return L(_(Le),Le)},Ce=function(Ae,Le,At){Ae.undoManager.transact(function(){var ze=se(Ae);return At=J.DOM.encode(At),ze.fold(function(){Ae.insertContent('<pre id="__new" class="language-'+Le+'">'+At+"</pre>"),Ae.selection.select(Ae.$("#__new").removeAttr("id")[0])},function(ft){Ae.dom.setAttrib(ft,"class","language-"+Le),ft.innerHTML=At,fe(Ae).highlightElement(ft),Ae.selection.select(ft)})})},oe=function(Ae){var Le=se(Ae);return Le.fold(d(""),function(At){return At.textContent})},z=function(Ae){var Le=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],At=me(Ae);return At||Le},G=function(Ae,Le){var At=se(Ae);return At.fold(function(){return Le},function(ze){var ft=ze.className.match(/language-(\w+)/);return ft?ft[1]:Le})},he=function(Ae){var Le=z(Ae),At=F(Le).fold(d(""),function(Xe){return Xe.value}),ze=G(Ae,At),ft=oe(Ae);Ae.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Le},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ze,code:ft},onSubmit:function(Xe){var ct=Xe.getData();Ce(Ae,ct.language,ct.code),Xe.close()}})},Ge=function(Ae){Ae.addCommand("codesample",function(){var Le=Ae.selection.getNode();Ae.selection.isCollapsed()||_(Le)?he(Ae):Ae.formatter.toggle("code")})},Me=function(Ae){var Le=Ae.$;Ae.on("PreProcess",function(At){Le("pre[contenteditable=false]",At.node).filter(U(_)).each(function(ze,ft){var Xe=Le(ft),ct=ft.textContent;Xe.attr("class",Le.trim(Xe.attr("class"))),Xe.removeAttr("contentEditable"),Xe.empty().append(Le("<code></code>").each(function(){this.textContent=ct}))})}),Ae.on("SetContent",function(){var At=Le("pre").filter(U(_)).filter(function(ze,ft){return ft.contentEditable!=="false"});At.length&&Ae.undoManager.transact(function(){At.each(function(ze,ft){Le(ft).find("br").each(function(Xe,ct){ct.parentNode.replaceChild(Ae.getDoc().createTextNode(`
`),ct)}),ft.contentEditable="false",ft.innerHTML=Ae.dom.encode(ft.textContent),fe(Ae).highlightElement(ft),ft.className=Le.trim(ft.className)})})})},je=function(Ae){var Le=Ae.selection.getStart();return Ae.dom.is(Le,'pre[class*="language-"]')},tt=function(Ae){var Le=function(){return Ae.execCommand("codesample")};Ae.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Le,onSetup:function(At){var ze=function(){At.setActive(je(Ae))};return Ae.on("NodeChange",ze),function(){return Ae.off("NodeChange",ze)}}}),Ae.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Le})};function E(){s.add("codesample",function(Ae){Me(Ae),tt(Ae),Ge(Ae),Ae.on("dblclick",function(Le){_(Le.target)&&he(Ae)})})}E()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(Ve){var Yt=typeof Ve;return Ve===null?"null":Yt==="object"&&(Array.prototype.isPrototypeOf(Ve)||Ve.constructor&&Ve.constructor.name==="Array")?"array":Yt==="object"&&(String.prototype.isPrototypeOf(Ve)||Ve.constructor&&Ve.constructor.name==="String")?"string":Yt},d=function(Ve){return function(Yt){return g(Yt)===Ve}},h=function(Ve){return function(Yt){return typeof Yt===Ve}},y=d("string"),k=h("boolean"),x=function(Ve){return Ve==null},T=function(Ve){return!x(Ve)},P=h("function"),I=h("number"),B=function(){},D=function(Ve,Yt){return function(On){return Ve(Yt(On))}},F=function(Ve){return function(){return Ve}},L=function(Ve){return Ve},J=F(!1),_=F(!0),U=function(){return te},te=function(){var Ve=function(wn){return wn()},Yt=L,On={fold:function(wn,jn){return wn()},isSome:J,isNone:_,getOr:Yt,getOrThunk:Ve,getOrDie:function(wn){throw new Error(wn||"error: getOrDie called on none.")},getOrNull:F(null),getOrUndefined:F(void 0),or:Yt,orThunk:Ve,map:U,each:B,bind:U,exists:J,forall:_,filter:function(){return U()},toArray:function(){return[]},toString:F("none()")};return On}(),Z=function(Ve){var Yt=F(Ve),On=function(){return jn},wn=function(He){return He(Ve)},jn={fold:function(He,Lt){return Lt(Ve)},isSome:_,isNone:J,getOr:Yt,getOrThunk:Yt,getOrDie:Yt,getOrNull:Yt,getOrUndefined:Yt,or:On,orThunk:On,map:function(He){return Z(He(Ve))},each:function(He){He(Ve)},bind:wn,exists:wn,forall:wn,filter:function(He){return He(Ve)?jn:te},toArray:function(){return[Ve]},toString:function(){return"some("+Ve+")"}};return jn},R=function(Ve){return Ve==null?te:Z(Ve)},Q={some:Z,none:U,from:R},X=function(Ve,Yt){for(var On=Ve.length,wn=new Array(On),jn=0;jn<On;jn++){var He=Ve[jn];wn[jn]=Yt(He,jn)}return wn},me=function(Ve,Yt){for(var On=0,wn=Ve.length;On<wn;On++){var jn=Ve[On];Yt(jn,On)}},xe=function(Ve,Yt){for(var On=[],wn=0,jn=Ve.length;wn<jn;wn++){var He=Ve[wn];Yt(He,wn)&&On.push(He)}return On},fe=9,se=11,Ce=1,oe=3,z=function(Ve,Yt){var On=Yt||document,wn=On.createElement("div");if(wn.innerHTML=Ve,!wn.hasChildNodes()||wn.childNodes.length>1)throw new Error("HTML must have a single root node");return Ge(wn.childNodes[0])},G=function(Ve,Yt){var On=Yt||document,wn=On.createElement(Ve);return Ge(wn)},he=function(Ve,Yt){var On=Yt||document,wn=On.createTextNode(Ve);return Ge(wn)},Ge=function(Ve){if(Ve==null)throw new Error("Node cannot be null or undefined");return{dom:Ve}},Me=function(Ve,Yt,On){return Q.from(Ve.dom.elementFromPoint(Yt,On)).map(Ge)},je={fromHtml:z,fromTag:G,fromText:he,fromDom:Ge,fromPoint:Me},tt=function(Ve,Yt){var On=Ve.dom;if(On.nodeType!==Ce)return!1;var wn=On;if(wn.matches!==void 0)return wn.matches(Yt);if(wn.msMatchesSelector!==void 0)return wn.msMatchesSelector(Yt);if(wn.webkitMatchesSelector!==void 0)return wn.webkitMatchesSelector(Yt);if(wn.mozMatchesSelector!==void 0)return wn.mozMatchesSelector(Yt);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var E=function(Ve){var Yt=Ve.dom.nodeName;return Yt.toLowerCase()},Ae=function(Ve){return Ve.dom.nodeType},Le=function(Ve){return function(Yt){return Ae(Yt)===Ve}},At=Le(Ce),ze=Le(oe),ft=Le(fe),Xe=Le(se),ct=function(Ve){return function(Yt){return At(Yt)&&E(Yt)===Ve}},re=function(Ve){return je.fromDom(Ve.dom.ownerDocument)},Vt=function(Ve){return ft(Ve)?Ve:re(Ve)},it=function(Ve){return Q.from(Ve.dom.parentNode).map(je.fromDom)},Oe=function(Ve){return X(Ve.dom.childNodes,je.fromDom)},dt=function(Ve,Yt,On){if(y(On)||k(On)||I(On))Ve.setAttribute(Yt,On+"");else throw new Error("Attribute value was not simple")},Ne=function(Ve,Yt,On){dt(Ve.dom,Yt,On)},Be=function(Ve,Yt){Ve.dom.removeAttribute(Yt)},at=function(Ve){return Xe(Ve)&&T(Ve.dom.host)},gt=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),ut=gt?function(Ve){return je.fromDom(Ve.dom.getRootNode())}:Vt,Et=function(Ve){var Yt=ut(Ve);return at(Yt)?Q.some(Yt):Q.none()},_n=function(Ve){return je.fromDom(Ve.dom.host)},Re=function(Ve){var Yt=ze(Ve)?Ve.dom.parentNode:Ve.dom;if(Yt==null||Yt.ownerDocument===null)return!1;var On=Yt.ownerDocument;return Et(je.fromDom(Yt)).fold(function(){return On.body.contains(Yt)},D(Re,_n))},Tt=function(Ve,Yt,On){for(var wn=Ve.dom,jn=P(On)?On:J;wn.parentNode;){wn=wn.parentNode;var He=je.fromDom(wn);if(Yt(He))return Q.some(He);if(jn(He))break}return Q.none()},ln=function(Ve,Yt,On){return Tt(Ve,function(wn){return tt(wn,Yt)},On)},Ut=function(Ve){return Ve.style!==void 0&&P(Ve.style.getPropertyValue)},fn=function(Ve,Yt){var On=Ve.dom,wn=window.getComputedStyle(On),jn=wn.getPropertyValue(Yt);return jn===""&&!Re(Ve)?bn(On,Yt):jn},bn=function(Ve,Yt){return Ut(Ve)?Ve.style.getPropertyValue(Yt):""},In=function(Ve){return fn(Ve,"direction")==="rtl"?"rtl":"ltr"},sr=function(Ve,Yt){return xe(Oe(Ve),Yt)},yr=function(Ve,Yt){return sr(Ve,function(On){return tt(On,Yt)})},$t=function(Ve){return it(Ve).filter(At)},Dt=function(Ve,Yt){var On=Yt?ln(Ve,"ol,ul"):Q.some(Ve);return On.getOr(Ve)},Ft=ct("li"),rt=function(Ve,Yt){var On=Ve.selection.getSelectedBlocks();On.length>0&&(me(On,function(wn){var jn=je.fromDom(wn),He=Ft(jn),Lt=Dt(jn,He),_t=$t(Lt);_t.each(function(an){var Un=In(an);if(Un!==Yt?Ne(Lt,"dir",Yt):In(Lt)!==Yt&&Be(Lt,"dir"),He){var kr=yr(Lt,"li[dir]");me(kr,function(Oa){return Be(Oa,"dir")})}})}),Ve.nodeChanged())},st=function(Ve){Ve.addCommand("mceDirectionLTR",function(){rt(Ve,"ltr")}),Ve.addCommand("mceDirectionRTL",function(){rt(Ve,"rtl")})},Wt=function(Ve,Yt){return function(On){var wn=function(jn){var He=je.fromDom(jn.element);On.setActive(In(He)===Yt)};return Ve.on("NodeChange",wn),function(){return Ve.off("NodeChange",wn)}}},dn=function(Ve){Ve.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return Ve.execCommand("mceDirectionLTR")},onSetup:Wt(Ve,"ltr")}),Ve.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return Ve.execCommand("mceDirectionRTL")},onSetup:Wt(Ve,"rtl")})};function Xt(){s.add("directionality",function(Ve){st(Ve),dn(Ve)})}Xt()})();(function(){var s=function(V){var A=V,Y=function(){return A},ce=function(Ie){A=Ie};return{get:Y,set:ce}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(V){return{isFullscreen:function(){return V.get()!==null}}},h=function(V){var A=typeof V;return V===null?"null":A==="object"&&(Array.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="String")?"string":A},y=function(V){return function(A){return h(A)===V}},k=function(V){return function(A){return typeof A===V}},x=y("string"),T=y("array"),P=k("boolean"),I=function(V){return V==null},B=function(V){return!I(V)},D=k("function"),F=k("number"),L=function(){},J=function(V,A){return function(){for(var Y=[],ce=0;ce<arguments.length;ce++)Y[ce]=arguments[ce];return V(A.apply(null,Y))}},_=function(V,A){return function(Y){return V(A(Y))}},U=function(V){return function(){return V}},te=function(V){return V};function Z(V){for(var A=[],Y=1;Y<arguments.length;Y++)A[Y-1]=arguments[Y];return function(){for(var ce=[],Ie=0;Ie<arguments.length;Ie++)ce[Ie]=arguments[Ie];var St=A.concat(ce);return V.apply(null,St)}}var R=U(!1),Q=U(!0),X=function(){return me},me=function(){var V=function(ce){return ce()},A=te,Y={fold:function(ce,Ie){return ce()},isSome:R,isNone:Q,getOr:A,getOrThunk:V,getOrDie:function(ce){throw new Error(ce||"error: getOrDie called on none.")},getOrNull:U(null),getOrUndefined:U(void 0),or:A,orThunk:V,map:X,each:L,bind:X,exists:R,forall:Q,filter:function(){return X()},toArray:function(){return[]},toString:U("none()")};return Y}(),xe=function(V){var A=U(V),Y=function(){return Ie},ce=function(St){return St(V)},Ie={fold:function(St,cn){return cn(V)},isSome:Q,isNone:R,getOr:A,getOrThunk:A,getOrDie:A,getOrNull:A,getOrUndefined:A,or:Y,orThunk:Y,map:function(St){return xe(St(V))},each:function(St){St(V)},bind:ce,exists:ce,forall:ce,filter:function(St){return St(V)?Ie:me},toArray:function(){return[V]},toString:function(){return"some("+V+")"}};return Ie},fe=function(V){return V==null?me:xe(V)},se={some:xe,none:X,from:fe},Ce=function(){return Ce=Object.assign||function(A){for(var Y,ce=1,Ie=arguments.length;ce<Ie;ce++){Y=arguments[ce];for(var St in Y)Object.prototype.hasOwnProperty.call(Y,St)&&(A[St]=Y[St])}return A},Ce.apply(this,arguments)},oe=function(V){var A=s(se.none()),Y=function(){return A.get().each(V)},ce=function(){Y(),A.set(se.none())},Ie=function(){return A.get().isSome()},St=function(){return A.get()},cn=function(ur){Y(),A.set(se.some(ur))};return{clear:ce,isSet:Ie,get:St,set:cn}},z=function(){return oe(function(V){return V.unbind()})},G=function(){var V=oe(L),A=function(Y){return V.get().each(Y)};return Ce(Ce({},V),{on:A})},he=Array.prototype.push,Ge=function(V,A){for(var Y=V.length,ce=new Array(Y),Ie=0;Ie<Y;Ie++){var St=V[Ie];ce[Ie]=A(St,Ie)}return ce},Me=function(V,A){for(var Y=0,ce=V.length;Y<ce;Y++){var Ie=V[Y];A(Ie,Y)}},je=function(V,A){for(var Y=[],ce=0,Ie=V.length;ce<Ie;ce++){var St=V[ce];A(St,ce)&&Y.push(St)}return Y},tt=function(V,A,Y){for(var ce=0,Ie=V.length;ce<Ie;ce++){var St=V[ce];if(A(St,ce))return se.some(St);if(Y(St,ce))break}return se.none()},E=function(V,A){return tt(V,A,R)},Ae=function(V){for(var A=[],Y=0,ce=V.length;Y<ce;++Y){if(!T(V[Y]))throw new Error("Arr.flatten item "+Y+" was not an array, input: "+V);he.apply(A,V[Y])}return A},Le=function(V,A){return Ae(Ge(V,A))},At=function(V,A){return A>=0&&A<V.length?se.some(V[A]):se.none()},ze=function(V){return At(V,0)},ft=function(V,A){for(var Y=0;Y<V.length;Y++){var ce=A(V[Y],Y);if(ce.isSome())return ce}return se.none()},Xe=Object.keys,ct=function(V,A){for(var Y=Xe(V),ce=0,Ie=Y.length;ce<Ie;ce++){var St=Y[ce],cn=V[St];A(cn,St)}},re=function(V,A){return V.indexOf(A)!==-1},Vt=function(V){return V.style!==void 0&&D(V.style.getPropertyValue)},it=function(V,A){var Y=A||document,ce=Y.createElement("div");if(ce.innerHTML=V,!ce.hasChildNodes()||ce.childNodes.length>1)throw new Error("HTML must have a single root node");return Ne(ce.childNodes[0])},Oe=function(V,A){var Y=A||document,ce=Y.createElement(V);return Ne(ce)},dt=function(V,A){var Y=A||document,ce=Y.createTextNode(V);return Ne(ce)},Ne=function(V){if(V==null)throw new Error("Node cannot be null or undefined");return{dom:V}},Be=function(V,A,Y){return se.from(V.dom.elementFromPoint(A,Y)).map(Ne)},at={fromHtml:it,fromTag:Oe,fromText:dt,fromDom:Ne,fromPoint:Be};typeof window<"u"||Function("return this;")();var gt=9,ut=11,Et=1,_n=3,Re=function(V){return V.dom.nodeType},Tt=function(V){return function(A){return Re(A)===V}},ln=Tt(Et),Ut=Tt(_n),fn=Tt(gt),bn=Tt(ut),In=function(V){var A=!1,Y;return function(){for(var ce=[],Ie=0;Ie<arguments.length;Ie++)ce[Ie]=arguments[Ie];return A||(A=!0,Y=V.apply(null,ce)),Y}},sr=function(V,A,Y,ce){var Ie=V.isiOS()&&/ipad/i.test(Y)===!0,St=V.isiOS()&&!Ie,cn=V.isiOS()||V.isAndroid(),ur=cn||ce("(pointer:coarse)"),Er=Ie||!St&&cn&&ce("(min-device-width:768px)"),Fn=St||cn&&!Er,er=A.isSafari()&&V.isiOS()&&/safari/i.test(Y)===!1,Lr=!Fn&&!Er&&!er;return{isiPad:U(Ie),isiPhone:U(St),isTablet:U(Er),isPhone:U(Fn),isTouch:U(ur),isAndroid:V.isAndroid,isiOS:V.isiOS,isWebView:U(er),isDesktop:U(Lr)}},yr=function(V,A){for(var Y=0;Y<V.length;Y++){var ce=V[Y];if(ce.test(A))return ce}},$t=function(V,A){var Y=yr(V,A);if(!Y)return{major:0,minor:0};var ce=function(Ie){return Number(A.replace(Y,"$"+Ie))};return rt(ce(1),ce(2))},Dt=function(V,A){var Y=String(A).toLowerCase();return V.length===0?Ft():$t(V,Y)},Ft=function(){return rt(0,0)},rt=function(V,A){return{major:V,minor:A}},st={nu:rt,detect:Dt,unknown:Ft},Wt=function(V,A){return ft(A.brands,function(Y){var ce=Y.brand.toLowerCase();return E(V,function(Ie){var St;return ce===((St=Ie.brand)===null||St===void 0?void 0:St.toLowerCase())}).map(function(Ie){return{current:Ie.name,version:st.nu(parseInt(Y.version,10),0)}})})},dn=function(V,A){var Y=String(A).toLowerCase();return E(V,function(ce){return ce.search(Y)})},Xt=function(V,A){return dn(V,A).map(function(Y){var ce=st.detect(Y.versionRegexes,A);return{current:Y.name,version:ce}})},Ve=function(V,A){return dn(V,A).map(function(Y){var ce=st.detect(Y.versionRegexes,A);return{current:Y.name,version:ce}})},Yt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,On=function(V){return function(A){return re(A,V)}},wn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(V){return re(V,"edge/")&&re(V,"chrome")&&re(V,"safari")&&re(V,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yt],search:function(V){return re(V,"chrome")&&!re(V,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(V){return re(V,"msie")||re(V,"trident")}},{name:"Opera",versionRegexes:[Yt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:On("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:On("firefox")},{name:"Safari",versionRegexes:[Yt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(V){return(re(V,"safari")||re(V,"mobile/"))&&re(V,"applewebkit")}}],jn=[{name:"Windows",search:On("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(V){return re(V,"iphone")||re(V,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:On("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:On("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:On("linux"),versionRegexes:[]},{name:"Solaris",search:On("sunos"),versionRegexes:[]},{name:"FreeBSD",search:On("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:On("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],He={browsers:U(wn),oses:U(jn)},Lt="Edge",_t="Chrome",an="IE",Un="Opera",kr="Firefox",Oa="Safari",_r=function(){return Ar({current:void 0,version:st.unknown()})},Ar=function(V){var A=V.current,Y=V.version,ce=function(Ie){return function(){return A===Ie}};return{current:A,version:Y,isEdge:ce(Lt),isChrome:ce(_t),isIE:ce(an),isOpera:ce(Un),isFirefox:ce(kr),isSafari:ce(Oa)}},_a={unknown:_r,nu:Ar,edge:U(Lt),chrome:U(_t),ie:U(an),opera:U(Un),firefox:U(kr),safari:U(Oa)},xo="Windows",oo="iOS",hn="Android",or="Linux",tr="OSX",Wr="Solaris",va="FreeBSD",Pa="ChromeOS",Nr=function(){return Fa({current:void 0,version:st.unknown()})},Fa=function(V){var A=V.current,Y=V.version,ce=function(Ie){return function(){return A===Ie}};return{current:A,version:Y,isWindows:ce(xo),isiOS:ce(oo),isAndroid:ce(hn),isOSX:ce(tr),isLinux:ce(or),isSolaris:ce(Wr),isFreeBSD:ce(va),isChromeOS:ce(Pa)}},Yn={unknown:Nr,nu:Fa,windows:U(xo),ios:U(oo),android:U(hn),linux:U(or),osx:U(tr),solaris:U(Wr),freebsd:U(va),chromeos:U(Pa)},Do=function(V,A,Y){var ce=He.browsers(),Ie=He.oses(),St=A.bind(function(Er){return Wt(ce,Er)}).orThunk(function(){return Xt(ce,V)}).fold(_a.unknown,_a.nu),cn=Ve(Ie,V).fold(Yn.unknown,Yn.nu),ur=sr(cn,St,V,Y);return{browser:St,os:cn,deviceType:ur}},Ga={detect:Do},Aa=function(V){return window.matchMedia(V).matches},ko=In(function(){return Ga.detect(navigator.userAgent,se.from(navigator.userAgentData),Aa)}),io=function(){return ko()},Yo=function(V,A){var Y=V.dom;if(Y.nodeType!==Et)return!1;var ce=Y;if(ce.matches!==void 0)return ce.matches(A);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(A);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(A);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(A);throw new Error("Browser lacks native selectors")},ti=function(V){return V.nodeType!==Et&&V.nodeType!==gt&&V.nodeType!==ut||V.childElementCount===0},$i=function(V,A){var Y=A===void 0?document:A.dom;return ti(Y)?[]:Ge(Y.querySelectorAll(V),at.fromDom)},ke=function(V,A){return V.dom===A.dom},qe=function(V){return at.fromDom(V.dom.ownerDocument)},Te=function(V){return fn(V)?V:qe(V)},wt=function(V){return se.from(V.dom.parentNode).map(at.fromDom)},En=function(V,A){for(var Y=D(A)?A:R,ce=V.dom,Ie=[];ce.parentNode!==null&&ce.parentNode!==void 0;){var St=ce.parentNode,cn=at.fromDom(St);if(Ie.push(cn),Y(cn)===!0)break;ce=St}return Ie},zn=function(V){var A=function(Y){return je(Y,function(ce){return!ke(V,ce)})};return wt(V).map(ye).map(A).getOr([])},ye=function(V){return Ge(V.dom.childNodes,at.fromDom)},Pe=function(V){return bn(V)&&B(V.dom.host)},Ct=D(Element.prototype.attachShadow)&&D(Node.prototype.getRootNode),Nt=U(Ct),j=Ct?function(V){return at.fromDom(V.dom.getRootNode())}:Te,ve=function(V){var A=j(V);return Pe(A)?se.some(A):se.none()},_e=function(V){return at.fromDom(V.dom.host)},Je=function(V){if(Nt()&&B(V.target)){var A=at.fromDom(V.target);if(ln(A)&&pt(A)&&V.composed&&V.composedPath){var Y=V.composedPath();if(Y)return ze(Y)}}return se.from(V.target)},pt=function(V){return B(V.dom.shadowRoot)},bt=function(V){var A=Ut(V)?V.dom.parentNode:V.dom;if(A==null||A.ownerDocument===null)return!1;var Y=A.ownerDocument;return ve(at.fromDom(A)).fold(function(){return Y.body.contains(A)},_(bt,_e))},xn=function(V){var A=V.dom.body;if(A==null)throw new Error("Body is not available yet");return at.fromDom(A)},Bn=function(V,A,Y){if(x(Y)||P(Y)||F(Y))V.setAttribute(A,Y+"");else throw new Error("Attribute value was not simple")},fr=function(V,A,Y){Bn(V.dom,A,Y)},wr=function(V,A){var Y=V.dom.getAttribute(A);return Y===null?void 0:Y},Qn=function(V,A){V.dom.removeAttribute(A)},xr=function(V,A,Y){if(!x(Y))throw new Error("CSS value must be a string: "+Y);Vt(V)&&V.style.setProperty(A,Y)},ga=function(V,A){var Y=V.dom;ct(A,function(ce,Ie){xr(Y,Ie,ce)})},Qa=function(V,A){var Y=V.dom,ce=window.getComputedStyle(Y),Ie=ce.getPropertyValue(A);return Ie===""&&!bt(V)?To(Y,A):Ie},To=function(V,A){return Vt(V)?V.style.getPropertyValue(A):""},nu=function(V,A,Y,ce,Ie,St,cn){return{target:V,x:A,y:Y,stop:ce,prevent:Ie,kill:St,raw:cn}},ru=function(V){var A=at.fromDom(Je(V).getOr(V.target)),Y=function(){return V.stopPropagation()},ce=function(){return V.preventDefault()},Ie=J(ce,Y);return nu(A,V.clientX,V.clientY,Y,ce,Ie,V)},eo=function(V,A){return function(Y){V(Y)&&A(ru(Y))}},Zu=function(V,A,Y,ce,Ie){var St=eo(Y,ce);return V.dom.addEventListener(A,St,Ie),{unbind:Z(mi,V,A,St,Ie)}},hu=function(V,A,Y,ce){return Zu(V,A,Y,ce,!1)},mi=function(V,A,Y,ce){V.dom.removeEventListener(A,Y,ce)},Xo=Q,cs=function(V,A,Y){return hu(V,A,Xo,Y)},Ju=function(V,A){var Y=function(ce,Ie){return Ju(V+ce,A+Ie)};return{left:V,top:A,translate:Y}},fs=Ju,Rs=function(V){var A=V!==void 0?V.dom:document,Y=A.body.scrollLeft||A.documentElement.scrollLeft,ce=A.body.scrollTop||A.documentElement.scrollTop;return fs(Y,ce)},Qu=function(V){var A=V===void 0?window:V;return io().browser.isFirefox()?se.none():se.from(A.visualViewport)},bu=function(V,A,Y,ce){return{x:V,y:A,width:Y,height:ce,right:V+Y,bottom:A+ce}},Bs=function(V){var A=V===void 0?window:V,Y=A.document,ce=Rs(at.fromDom(Y));return Qu(A).fold(function(){var Ie=A.document.documentElement,St=Ie.clientWidth,cn=Ie.clientHeight;return bu(ce.left,ce.top,St,cn)},function(Ie){return bu(Math.max(Ie.pageLeft,ce.left),Math.max(Ie.pageTop,ce.top),Ie.width,Ie.height)})},Ll=function(V,A,Y){return Qu(Y).map(function(ce){var Ie=function(St){return A(ru(St))};return ce.addEventListener(V,Ie),{unbind:function(){return ce.removeEventListener(V,Ie)}}}).getOrThunk(function(){return{unbind:L}})},vs=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),le=tinymce.util.Tools.resolve("tinymce.Env"),Ye=tinymce.util.Tools.resolve("tinymce.util.Delay"),mt=function(V,A){V.fire("FullscreenStateChanged",{state:A}),V.fire("ResizeEditor")},Gt=function(V){return V.getParam("fullscreen_native",!1,"boolean")},Cn=function(V){var A=at.fromDom(V.getElement());return ve(A).map(_e).getOrThunk(function(){return xn(qe(A))})},ar=function(V){return V.fullscreenElement!==void 0?V.fullscreenElement:V.msFullscreenElement!==void 0?V.msFullscreenElement:V.webkitFullscreenElement!==void 0?V.webkitFullscreenElement:null},pa=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},Ma=function(V){var A=V.dom;A.requestFullscreen?A.requestFullscreen():A.msRequestFullscreen?A.msRequestFullscreen():A.webkitRequestFullScreen&&A.webkitRequestFullScreen()},jr=function(V){var A=V.dom;A.exitFullscreen?A.exitFullscreen():A.msExitFullscreen?A.msExitFullscreen():A.webkitCancelFullScreen&&A.webkitCancelFullScreen()},La=function(V){return V.dom===ar(qe(V).dom)},co=function(V,A,Y){return je(En(V,Y),A)},el=function(V,A){return je(zn(V),A)},Cc=function(V){return $i(V)},Sc=function(V,A,Y){return co(V,function(ce){return Yo(ce,A)},Y)},dr=function(V,A){return el(V,function(Y){return Yo(Y,A)})},hl="data-ephox-mobile-fullscreen-style",ef="display:none!important;",zu="position:absolute!important;",tf="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Kv="background-color:rgb(255,255,255)!important;",Hf=le.os.isAndroid(),fo=function(V){var A=Qa(V,"background-color");return A!==void 0&&A!==""?"background-color:"+A+"!important":Kv},Fs=function(V,A,Y){var ce=function(Fn){return dr(Fn,"*:not(.tox-silver-sink)")},Ie=function(Fn){return function(er){var Lr=wr(er,"style"),Jr=Lr===void 0?"no-styles":Lr.trim();Jr!==Fn&&(fr(er,hl,Jr),ga(er,V.parseStyle(Fn)))}},St=Sc(A,"*"),cn=Le(St,ce),ur=fo(Y);Me(cn,Ie(ef)),Me(St,Ie(zu+tf+ur));var Er=Hf===!0?"":zu;Ie(Er+tf+ur)(A)},Gv=function(V){var A=Cc("["+hl+"]");Me(A,function(Y){var ce=wr(Y,hl);ce!=="no-styles"?ga(Y,V.parseStyle(ce)):Qn(Y,"style"),Qn(Y,hl)})},yu=vs.DOM,zi=function(){return Bs(window)},xc=function(V){return window.scrollTo(V.x,V.y)},Ht=Qu().fold(function(){return{bind:L,unbind:L}},function(V){var A=G(),Y=z(),ce=z(),Ie=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},St=function(){window.requestAnimationFrame(function(){A.on(function(Fn){return ga(Fn,{top:V.offsetTop+"px",left:V.offsetLeft+"px",height:V.height+"px",width:V.width+"px"})})})},cn=Ye.throttle(function(){Ie(),St()},50),ur=function(Fn){A.set(Fn),cn(),Y.set(Ll("resize",cn)),ce.set(Ll("scroll",cn))},Er=function(){A.on(function(){Y.clear(),ce.clear()}),A.clear()};return{bind:ur,unbind:Er}}),Is=function(V,A){var Y=document.body,ce=document.documentElement,Ie=V.getContainer(),St=at.fromDom(Ie),cn=Cn(V),ur=A.get(),Er=at.fromDom(V.getBody()),Fn=le.deviceType.isTouch(),er=Ie.style,Lr=V.iframeElement,Jr=Lr.style,Or=function(Ra){Ra(Y,"tox-fullscreen"),Ra(ce,"tox-fullscreen"),Ra(Ie,"tox-fullscreen"),ve(St).map(function(Hi){return _e(Hi).dom}).each(function(Hi){Ra(Hi,"tox-fullscreen"),Ra(Hi,"tox-shadowhost")})},to=function(){Fn&&Gv(V.dom),Or(yu.removeClass),Ht.unbind(),se.from(A.get()).each(function(Ra){return Ra.fullscreenChangeHandler.unbind()})};if(ur)ur.fullscreenChangeHandler.unbind(),Gt(V)&&La(cn)&&jr(qe(cn)),Jr.width=ur.iframeWidth,Jr.height=ur.iframeHeight,er.width=ur.containerWidth,er.height=ur.containerHeight,er.top=ur.containerTop,er.left=ur.containerLeft,to(),xc(ur.scrollPos),A.set(null),mt(V,!1),V.off("remove",to);else{var Br=cs(qe(cn),pa(),function(Ra){Gt(V)&&!La(cn)&&A.get()!==null&&Is(V,A)}),Ba={scrollPos:zi(),containerWidth:er.width,containerHeight:er.height,containerTop:er.top,containerLeft:er.left,iframeWidth:Jr.width,iframeHeight:Jr.height,fullscreenChangeHandler:Br};Fn&&Fs(V.dom,St,Er),Jr.width=Jr.height="100%",er.width=er.height="",Or(yu.addClass),Ht.bind(St),V.on("remove",to),A.set(Ba),Gt(V)&&Ma(cn),mt(V,!0)}},ni=function(V,A){V.addCommand("mceFullScreen",function(){Is(V,A)})},nf=function(V,A){return function(Y){Y.setActive(A.get()!==null);var ce=function(Ie){return Y.setActive(Ie.state)};return V.on("FullscreenStateChanged",ce),function(){return V.off("FullscreenStateChanged",ce)}}},zl=function(V,A){var Y=function(){return V.execCommand("mceFullScreen")};V.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Y,onSetup:nf(V,A)}),V.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Y,onSetup:nf(V,A)})};function Ns(){g.add("fullscreen",function(V){var A=s(null);return V.inline||(ni(V,A),zl(V,A),V.addShortcut("Meta+Shift+F","","mceFullScreen")),d(A)})}Ns()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(y){y.addCommand("InsertHorizontalRule",function(){y.execCommand("mceInsertContent",!1,"<hr />")})},d=function(y){var k=function(){return y.execCommand("InsertHorizontalRule")};y.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:k}),y.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:k})};function h(){s.add("hr",function(y){g(y),d(y)})}h()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(R){return R.getParam("insertdatetime_dateformat",R.translate("%Y-%m-%d"))},d=function(R){return R.getParam("insertdatetime_timeformat",R.translate("%H:%M:%S"))},h=function(R){return R.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},y=function(R){var Q=h(R);return Q.length>0?Q[0]:d(R)},k=function(R){return R.getParam("insertdatetime_element",!1)},x="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),T="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),P="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),I="January February March April May June July August September October November December".split(" "),B=function(R,Q){if(R=""+R,R.length<Q)for(var X=0;X<Q-R.length;X++)R="0"+R;return R},D=function(R,Q,X){return X===void 0&&(X=new Date),Q=Q.replace("%D","%m/%d/%Y"),Q=Q.replace("%r","%I:%M:%S %p"),Q=Q.replace("%Y",""+X.getFullYear()),Q=Q.replace("%y",""+X.getYear()),Q=Q.replace("%m",B(X.getMonth()+1,2)),Q=Q.replace("%d",B(X.getDate(),2)),Q=Q.replace("%H",""+B(X.getHours(),2)),Q=Q.replace("%M",""+B(X.getMinutes(),2)),Q=Q.replace("%S",""+B(X.getSeconds(),2)),Q=Q.replace("%I",""+((X.getHours()+11)%12+1)),Q=Q.replace("%p",X.getHours()<12?"AM":"PM"),Q=Q.replace("%B",""+R.translate(I[X.getMonth()])),Q=Q.replace("%b",""+R.translate(P[X.getMonth()])),Q=Q.replace("%A",""+R.translate(T[X.getDay()])),Q=Q.replace("%a",""+R.translate(x[X.getDay()])),Q=Q.replace("%%","%"),Q},F=function(R,Q,X,me){var xe=R.dom.create("time",{datetime:X},me);Q.parentNode.insertBefore(xe,Q),R.dom.remove(Q),R.selection.select(xe,!0),R.selection.collapse(!1)},L=function(R,Q){if(k(R)){var X=D(R,Q),me=void 0;/%[HMSIp]/.test(Q)?me=D(R,"%Y-%m-%dT%H:%M"):me=D(R,"%Y-%m-%d");var xe=R.dom.getParent(R.selection.getStart(),"time");xe?F(R,xe,me,X):R.insertContent('<time datetime="'+me+'">'+X+"</time>")}else R.insertContent(D(R,Q))},J=function(R){R.addCommand("mceInsertDate",function(Q,X){L(R,X??g(R))}),R.addCommand("mceInsertTime",function(Q,X){L(R,X??d(R))})},_=function(R){var Q=R,X=function(){return Q},me=function(xe){Q=xe};return{get:X,set:me}},U=tinymce.util.Tools.resolve("tinymce.util.Tools"),te=function(R){var Q=h(R),X=_(y(R)),me=function(fe){return R.execCommand("mceInsertDate",!1,fe)};R.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(fe){return fe===X.get()},fetch:function(fe){fe(U.map(Q,function(se){return{type:"choiceitem",text:D(R,se),value:se}}))},onAction:function(fe){me(X.get())},onItemAction:function(fe,se){X.set(se),me(se)}});var xe=function(fe){return function(){X.set(fe),me(fe)}};R.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return U.map(Q,function(fe){return{type:"menuitem",text:D(R,fe),onAction:xe(fe)}})}})};function Z(){s.add("insertdatetime",function(R){J(R),te(R)})}Z()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.util.VK"),d=function(le){var Ye=typeof le;return le===null?"null":Ye==="object"&&(Array.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="Array")?"array":Ye==="object"&&(String.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="String")?"string":Ye},h=function(le){return function(Ye){return d(Ye)===le}},y=function(le){return function(Ye){return typeof Ye===le}},k=function(le){return function(Ye){return le===Ye}},x=h("string"),T=h("array"),P=k(null),I=y("boolean"),B=y("function"),D=function(){},F=function(le){return function(){return le}},L=function(le){return le},J=function(le,Ye){return le===Ye},_=F(!1),U=F(!0),te=function(){return Z},Z=function(){var le=function(Gt){return Gt()},Ye=L,mt={fold:function(Gt,Cn){return Gt()},isSome:_,isNone:U,getOr:Ye,getOrThunk:le,getOrDie:function(Gt){throw new Error(Gt||"error: getOrDie called on none.")},getOrNull:F(null),getOrUndefined:F(void 0),or:Ye,orThunk:le,map:te,each:D,bind:te,exists:_,forall:U,filter:function(){return te()},toArray:function(){return[]},toString:F("none()")};return mt}(),R=function(le){var Ye=F(le),mt=function(){return Cn},Gt=function(ar){return ar(le)},Cn={fold:function(ar,pa){return pa(le)},isSome:U,isNone:_,getOr:Ye,getOrThunk:Ye,getOrDie:Ye,getOrNull:Ye,getOrUndefined:Ye,or:mt,orThunk:mt,map:function(ar){return R(ar(le))},each:function(ar){ar(le)},bind:Gt,exists:Gt,forall:Gt,filter:function(ar){return ar(le)?Cn:Z},toArray:function(){return[le]},toString:function(){return"some("+le+")"}};return Cn},Q=function(le){return le==null?Z:R(le)},X={some:R,none:te,from:Q},me=Array.prototype.indexOf,xe=Array.prototype.push,fe=function(le,Ye){return me.call(le,Ye)},se=function(le,Ye){return fe(le,Ye)>-1},Ce=function(le,Ye){for(var mt=le.length,Gt=new Array(mt),Cn=0;Cn<mt;Cn++){var ar=le[Cn];Gt[Cn]=Ye(ar,Cn)}return Gt},oe=function(le,Ye){for(var mt=0,Gt=le.length;mt<Gt;mt++){var Cn=le[mt];Ye(Cn,mt)}},z=function(le,Ye,mt){return oe(le,function(Gt,Cn){mt=Ye(mt,Gt,Cn)}),mt},G=function(le){for(var Ye=[],mt=0,Gt=le.length;mt<Gt;++mt){if(!T(le[mt]))throw new Error("Arr.flatten item "+mt+" was not an array, input: "+le);xe.apply(Ye,le[mt])}return Ye},he=function(le,Ye){return G(Ce(le,Ye))},Ge=function(le,Ye){for(var mt=0;mt<le.length;mt++){var Gt=Ye(le[mt],mt);if(Gt.isSome())return Gt}return X.none()},Me=function(le,Ye,mt){return mt===void 0&&(mt=J),le.exists(function(Gt){return mt(Gt,Ye)})},je=function(le){for(var Ye=[],mt=function(Cn){Ye.push(Cn)},Gt=0;Gt<le.length;Gt++)le[Gt].each(mt);return Ye},tt=function(le,Ye){return le?X.some(Ye):X.none()},E=function(le){var Ye=le.getParam("link_assume_external_targets",!1);return I(Ye)&&Ye?1:x(Ye)&&(Ye==="http"||Ye==="https")?Ye:0},Ae=function(le){return le.getParam("link_context_toolbar",!1,"boolean")},Le=function(le){return le.getParam("link_list")},At=function(le){return le.getParam("default_link_target")},ze=function(le){return le.getParam("target_list",!0)},ft=function(le){return le.getParam("rel_list",[],"array")},Xe=function(le){return le.getParam("link_class_list",[],"array")},ct=function(le){return le.getParam("link_title",!0,"boolean")},re=function(le){return le.getParam("allow_unsafe_link_target",!1,"boolean")},Vt=function(le){return le.getParam("link_quicklink",!1,"boolean")},it=function(le){return le.getParam("link_default_protocol","http","string")},Oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),dt=function(le){return x(le.value)?le.value:""},Ne=function(le){return x(le.text)?le.text:x(le.title)?le.title:""},Be=function(le,Ye){var mt=[];return Oe.each(le,function(Gt){var Cn=Ne(Gt);if(Gt.menu!==void 0){var ar=Be(Gt.menu,Ye);mt.push({text:Cn,items:ar})}else{var pa=Ye(Gt);mt.push({text:Cn,value:pa})}}),mt},at=function(le){return le===void 0&&(le=dt),function(Ye){return X.from(Ye).map(function(mt){return Be(mt,le)})}},gt=function(le){return at(dt)(le)},ut=function(le,Ye){return function(mt){return{name:le,type:"listbox",label:Ye,items:mt}}},Et={sanitize:gt,sanitizeWith:at,createUi:ut,getValue:dt},_n=function(){return _n=Object.assign||function(Ye){for(var mt,Gt=1,Cn=arguments.length;Gt<Cn;Gt++){mt=arguments[Gt];for(var ar in mt)Object.prototype.hasOwnProperty.call(mt,ar)&&(Ye[ar]=mt[ar])}return Ye},_n.apply(this,arguments)},Re=Object.keys,Tt=Object.hasOwnProperty,ln=function(le,Ye){for(var mt=Re(le),Gt=0,Cn=mt.length;Gt<Cn;Gt++){var ar=mt[Gt],pa=le[ar];Ye(pa,ar)}},Ut=function(le){return function(Ye,mt){le[mt]=Ye}},fn=function(le,Ye,mt,Gt){var Cn={};return ln(le,function(ar,pa){(Ye(ar,pa)?mt:Gt)(ar,pa)}),Cn},bn=function(le,Ye){var mt={};return fn(le,Ye,Ut(mt),D),mt},In=function(le,Ye){return Tt.call(le,Ye)},sr=function(le,Ye){return In(le,Ye)&&le[Ye]!==void 0&&le[Ye]!==null},yr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$t=tinymce.util.Tools.resolve("tinymce.util.URI"),Dt=function(le){return le&&le.nodeName.toLowerCase()==="a"},Ft=function(le){return Dt(le)&&!!Wt(le)},rt=function(le,Ye){if(le.collapsed)return[];var mt=le.cloneContents(),Gt=new yr(mt.firstChild,mt),Cn=[],ar=mt.firstChild;do Ye(ar)&&Cn.push(ar);while(ar=Gt.next());return Cn},st=function(le){return/^\w+:/i.test(le)},Wt=function(le){var Ye=le.getAttribute("data-mce-href");return Ye||le.getAttribute("href")},dn=function(le,Ye){var mt=["noopener"],Gt=le?le.split(/\s+/):[],Cn=function(jr){return Oe.trim(jr.sort().join(" "))},ar=function(jr){return jr=pa(jr),jr.length>0?jr.concat(mt):mt},pa=function(jr){return jr.filter(function(La){return Oe.inArray(mt,La)===-1})},Ma=Ye?ar(Gt):pa(Gt);return Ma.length>0?Cn(Ma):""},Xt=function(le){return le.replace(/\uFEFF/g,"")},Ve=function(le,Ye){return Ye=Ye||le.selection.getNode(),He(Ye)?le.dom.select("a[href]",Ye)[0]:le.dom.getParent(Ye,"a[href]")},Yt=function(le,Ye){var mt=Ye?Ye.innerText||Ye.textContent:le.getContent({format:"text"});return Xt(mt)},On=function(le){return Oe.grep(le,Ft).length>0},wn=function(le){return rt(le,Ft).length>0},jn=function(le){var Ye=le.schema.getTextInlineElements(),mt=function(Cn){return Cn.nodeType===1&&!Dt(Cn)&&!In(Ye,Cn.nodeName.toLowerCase())},Gt=rt(le.selection.getRng(),mt);return Gt.length===0},He=function(le){return le&&le.nodeName==="FIGURE"&&/\bimage\b/i.test(le.className)},Lt=function(le){var Ye=["title","rel","class","target"];return z(Ye,function(mt,Gt){return le[Gt].each(function(Cn){mt[Gt]=Cn.length>0?Cn:null}),mt},{href:le.href})},_t=function(le,Ye){return(Ye==="http"||Ye==="https")&&!st(le)?Ye+"://"+le:le},an=function(le,Ye){var mt=_n({},Ye);if(!(ft(le).length>0)&&re(le)===!1){var Gt=dn(mt.rel,mt.target==="_blank");mt.rel=Gt||null}return X.from(mt.target).isNone()&&ze(le)===!1&&(mt.target=At(le)),mt.href=_t(mt.href,E(le)),mt},Un=function(le,Ye,mt,Gt){mt.each(function(Cn){In(Ye,"innerText")?Ye.innerText=Cn:Ye.textContent=Cn}),le.dom.setAttribs(Ye,Gt),le.selection.select(Ye)},kr=function(le,Ye,mt,Gt){He(Ye)?tr(le,Ye,Gt):mt.fold(function(){le.execCommand("mceInsertLink",!1,Gt)},function(Cn){le.insertContent(le.dom.createHTML("a",Gt,le.dom.encode(Cn)))})},Oa=function(le,Ye,mt){var Gt=le.selection.getNode(),Cn=Ve(le,Gt),ar=an(le,Lt(mt));le.undoManager.transact(function(){mt.href===Ye.href&&Ye.attach(),Cn?(le.focus(),Un(le,Cn,mt.text,ar)):kr(le,Gt,mt.text,ar)})},_r=function(le){var Ye=le.dom,mt=le.selection,Gt=mt.getBookmark(),Cn=mt.getRng().cloneRange(),ar=Ye.getParent(Cn.startContainer,"a[href]",le.getBody()),pa=Ye.getParent(Cn.endContainer,"a[href]",le.getBody());ar&&Cn.setStartBefore(ar),pa&&Cn.setEndAfter(pa),mt.setRng(Cn),le.execCommand("unlink"),mt.moveToBookmark(Gt)},Ar=function(le){le.undoManager.transact(function(){var Ye=le.selection.getNode();He(Ye)?or(le,Ye):_r(le),le.focus()})},_a=function(le){var Ye=le.class,mt=le.href,Gt=le.rel,Cn=le.target,ar=le.text,pa=le.title;return bn({class:Ye.getOrNull(),href:mt,rel:Gt.getOrNull(),target:Cn.getOrNull(),text:ar.getOrNull(),title:pa.getOrNull()},function(Ma,jr){return P(Ma)===!1})},xo=function(le,Ye){var mt=Ye.href;return _n(_n({},Ye),{href:$t.isDomSafe(mt,"a",le.settings)?mt:""})},oo=function(le,Ye,mt){var Gt=xo(le,mt);le.hasPlugin("rtc",!0)?le.execCommand("createlink",!1,_a(Gt)):Oa(le,Ye,Gt)},hn=function(le){le.hasPlugin("rtc",!0)?le.execCommand("unlink"):Ar(le)},or=function(le,Ye){var mt=le.dom.select("img",Ye)[0];if(mt){var Gt=le.dom.getParents(mt,"a[href]",Ye)[0];Gt&&(Gt.parentNode.insertBefore(mt,Gt),le.dom.remove(Gt))}},tr=function(le,Ye,mt){var Gt=le.dom.select("img",Ye)[0];if(Gt){var Cn=le.dom.create("a",mt);Gt.parentNode.insertBefore(Cn,Gt),Cn.appendChild(Gt)}},Wr=function(le){return sr(le,"items")},va=function(le,Ye){return Ge(Ye,function(mt){return Wr(mt)?va(le,mt.items):tt(mt.value===le,mt)})},Pa=function(le,Ye,mt,Gt){var Cn=Gt[Ye],ar=le.length>0;return Cn!==void 0?va(Cn,mt).map(function(pa){return{url:{value:pa.value,meta:{text:ar?le:pa.text,attach:D}},text:ar?le:pa.text}}):X.none()},Nr=function(le,Ye){return Ye==="link"?le.link:Ye==="anchor"?le.anchor:X.none()},Fa=function(le,Ye){var mt={text:le.text,title:le.title},Gt=function(jr){return tt(mt.title.length<=0,X.from(jr.meta.title).getOr(""))},Cn=function(jr){return tt(mt.text.length<=0,X.from(jr.meta.text).getOr(jr.value))},ar=function(jr){var La=Cn(jr.url),co=Gt(jr.url);return La.isSome()||co.isSome()?X.some(_n(_n({},La.map(function(el){return{text:el}}).getOr({})),co.map(function(el){return{title:el}}).getOr({}))):X.none()},pa=function(jr,La){var co=Nr(Ye,La.name).getOr([]);return Pa(mt.text,La.name,co,jr)},Ma=function(jr,La){var co=La.name;return co==="url"?ar(jr()):se(["anchor","link"],co)?pa(jr(),La):((co==="text"||co==="title")&&(mt[co]=jr()[co]),X.none())};return{onChange:Ma}},Yn={init:Fa,getDelta:Pa},Do=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ga=tinymce.util.Tools.resolve("tinymce.util.Promise"),Aa=function(le,Ye,mt){var Gt=le.selection.getRng();Do.setEditorTimeout(le,function(){le.windowManager.confirm(Ye,function(Cn){le.selection.setRng(Gt),mt(Cn)})})},ko=function(le){var Ye=le.href,mt=Ye.indexOf("@")>0&&Ye.indexOf("/")===-1&&Ye.indexOf("mailto:")===-1;return mt?X.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Gt){return _n(_n({},Gt),{href:"mailto:"+Ye})}}):X.none()},io=function(le,Ye){return function(mt){var Gt=mt.href,Cn=le===1&&!st(Gt)||le===0&&/^\s*www(\.|\d\.)/i.test(Gt);return Cn?X.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ye+":// prefix?",preprocess:function(ar){return _n(_n({},ar),{href:Ye+"://"+Gt})}}):X.none()}},Yo=function(le,Ye){return Ge([ko,io(E(le),it(le))],function(mt){return mt(Ye)}).fold(function(){return Ga.resolve(Ye)},function(mt){return new Ga(function(Gt){Aa(le,mt.message,function(Cn){Gt(Cn?mt.preprocess(Ye):Ye)})})})},ti={preprocess:Yo},$i=function(le){var Ye=le.dom.select("a:not([href])"),mt=he(Ye,function(Gt){var Cn=Gt.name||Gt.id;return Cn?[{text:Cn,value:"#"+Cn}]:[]});return mt.length>0?X.some([{text:"None",value:""}].concat(mt)):X.none()},ke={getAnchors:$i},qe=function(le){var Ye=Xe(le);return Ye.length>0?Et.sanitize(Ye):X.none()},Te={getClasses:qe},wt=tinymce.util.Tools.resolve("tinymce.util.XHR"),En=function(le){try{return X.some(JSON.parse(le))}catch{return X.none()}},zn=function(le){var Ye=function(Gt){return le.convertURL(Gt.value||Gt.url,"href")},mt=Le(le);return new Ga(function(Gt){x(mt)?wt.send({url:mt,success:function(Cn){return Gt(En(Cn))},error:function(Cn){return Gt(X.none())}}):B(mt)?mt(function(Cn){return Gt(X.some(Cn))}):Gt(X.from(mt))}).then(function(Gt){return Gt.bind(Et.sanitizeWith(Ye)).map(function(Cn){if(Cn.length>0){var ar=[{text:"None",value:""}];return ar.concat(Cn)}else return Cn})})},ye={getLinks:zn},Pe=function(le,Ye){var mt=ft(le);if(mt.length>0){var Gt=Me(Ye,"_blank"),Cn=re(le)===!1,ar=function(Ma){return dn(Et.getValue(Ma),Gt)},pa=Cn?Et.sanitizeWith(ar):Et.sanitize;return pa(mt)}return X.none()},Ct={getRels:Pe},Nt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],j=function(le){var Ye=ze(le);return T(Ye)?Et.sanitize(Ye).orThunk(function(){return X.some(Nt)}):Ye===!1?X.none():X.some(Nt)},ve={getTargets:j},_e=function(le,Ye,mt){var Gt=le.getAttrib(Ye,mt);return Gt!==null&&Gt.length>0?X.some(Gt):X.none()},Je=function(le,Ye){var mt=le.dom,Gt=jn(le),Cn=Gt?X.some(Yt(le.selection,Ye)):X.none(),ar=Ye?X.some(mt.getAttrib(Ye,"href")):X.none(),pa=Ye?X.from(mt.getAttrib(Ye,"target")):X.none(),Ma=_e(mt,Ye,"rel"),jr=_e(mt,Ye,"class"),La=_e(mt,Ye,"title");return{url:ar,text:Cn,title:La,target:pa,rel:Ma,linkClass:jr}},pt=function(le,Ye){return ye.getLinks(le).then(function(mt){var Gt=Je(le,Ye);return{anchor:Gt,catalogs:{targets:ve.getTargets(le),rels:Ct.getRels(le,Gt.target),classes:Te.getClasses(le),anchor:ke.getAnchors(le),link:mt},optNode:X.from(Ye),flags:{titleEnabled:ct(le)}}})},bt={collect:pt},xn=function(le,Ye){return function(mt){var Gt=mt.getData();if(!Gt.url.value){hn(le),mt.close();return}var Cn=function(Ma){return X.from(Gt[Ma]).filter(function(jr){return!Me(Ye.anchor[Ma],jr)})},ar={href:Gt.url.value,text:Cn("text"),target:Cn("target"),rel:Cn("rel"),class:Cn("linkClass"),title:Cn("title")},pa={href:Gt.url.value,attach:Gt.url.meta!==void 0&&Gt.url.meta.attach?Gt.url.meta.attach:D};ti.preprocess(le,ar).then(function(Ma){oo(le,pa,Ma)}),mt.close()}},Bn=function(le){var Ye=Ve(le);return bt.collect(le,Ye)},fr=function(le,Ye){var mt=le.anchor,Gt=mt.url.getOr("");return{url:{value:Gt,meta:{original:{value:Gt}}},text:mt.text.getOr(""),title:mt.title.getOr(""),anchor:Gt,link:Gt,rel:mt.rel.getOr(""),target:mt.target.or(Ye).getOr(""),linkClass:mt.linkClass.getOr("")}},wr=function(le,Ye,mt){var Gt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Cn=le.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),ar=le.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],pa=X.from(At(mt)),Ma=fr(le,pa),jr=le.catalogs,La=Yn.init(Ma,jr),co={type:"panel",items:G([Gt,Cn,ar,je([jr.anchor.map(Et.createUi("anchor","Anchors")),jr.rels.map(Et.createUi("rel","Rel")),jr.targets.map(Et.createUi("target","Open link in...")),jr.link.map(Et.createUi("link","Link list")),jr.classes.map(Et.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:co,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ma,onChange:function(el,Cc){var Sc=Cc.name;La.onChange(el.getData,{name:Sc}).each(function(dr){el.setData(dr)})},onSubmit:Ye}},Qn=function(le){var Ye=Bn(le);Ye.then(function(mt){var Gt=xn(le,mt);return wr(mt,Gt,le)}).then(function(mt){le.windowManager.open(mt)})},xr=function(le,Ye){document.body.appendChild(le),le.dispatchEvent(Ye),document.body.removeChild(le)},ga=function(le){var Ye=document.createElement("a");Ye.target="_blank",Ye.href=le,Ye.rel="noreferrer noopener";var mt=document.createEvent("MouseEvents");mt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),xr(Ye,mt)},Qa=function(le,Ye){return le.dom.getParent(Ye,"a[href]")},To=function(le){return Qa(le,le.selection.getStart())},nu=function(le){return le.altKey===!0&&le.shiftKey===!1&&le.ctrlKey===!1&&le.metaKey===!1},ru=function(le,Ye){if(Ye){var mt=Wt(Ye);if(/^#/.test(mt)){var Gt=le.$(mt);Gt.length&&le.selection.scrollIntoView(Gt[0],!0)}else ga(Ye.href)}},eo=function(le){return function(){Qn(le)}},Zu=function(le){return function(){ru(le,To(le))}},hu=function(le){le.on("click",function(Ye){var mt=Qa(le,Ye.target);mt&&g.metaKeyPressed(Ye)&&(Ye.preventDefault(),ru(le,mt))}),le.on("keydown",function(Ye){var mt=To(le);mt&&Ye.keyCode===13&&nu(Ye)&&(Ye.preventDefault(),ru(le,mt))})},mi=function(le,Ye){return le.on("NodeChange",Ye),function(){return le.off("NodeChange",Ye)}},Xo=function(le){return function(Ye){var mt=function(){return Ye.setActive(!le.mode.isReadOnly()&&Ve(le,le.selection.getNode())!==null)};return mt(),mi(le,mt)}},cs=function(le){return function(Ye){var mt=function(){return Ye.setDisabled(Ve(le,le.selection.getNode())===null)};return mt(),mi(le,mt)}},Ju=function(le){return function(Ye){var mt=function(Cn){return On(Cn)||wn(le.selection.getRng())},Gt=le.dom.getParents(le.selection.getStart());return Ye.setDisabled(!mt(Gt)),mi(le,function(Cn){return Ye.setDisabled(!mt(Cn.parents))})}},fs=function(le){le.addCommand("mceLink",function(){Vt(le)?le.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):eo(le)()})},Rs=function(le){le.addShortcut("Meta+K","",function(){le.execCommand("mceLink")})},Qu=function(le){le.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:eo(le),onSetup:Xo(le)}),le.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Zu(le),onSetup:cs(le)}),le.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return hn(le)},onSetup:Ju(le)})},bu=function(le){le.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Zu(le),onSetup:cs(le)}),le.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:eo(le)}),le.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return hn(le)},onSetup:Ju(le)})},Bs=function(le){var Ye="link unlink openlink",mt="link";le.ui.registry.addContextMenu("link",{update:function(Gt){return On(le.dom.getParents(Gt,"a"))?Ye:mt}})},Ll=function(le){var Ye=function(Cn){Cn.selection.collapse(!1)},mt=function(Cn){var ar=le.selection.getNode();return Cn.setDisabled(!Ve(le,ar)),D},Gt=function(Cn){var ar=Ve(le),pa=jn(le);if(!ar&&pa){var Ma=Yt(le.selection,ar);return X.some(Ma.length>0?Ma:Cn)}else return X.none()};le.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Xo(le)},label:"Link",predicate:function(Cn){return!!Ve(le,Cn)&&Ae(le)},initValue:function(){var Cn=Ve(le);return Cn?Wt(Cn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Cn){var ar=le.selection.getNode();return Cn.setActive(!!Ve(le,ar)),Xo(le)(Cn)},onAction:function(Cn){var ar=Cn.getValue(),pa=Gt(ar),Ma={href:ar,attach:D};oo(le,Ma,{href:ar,text:pa,title:X.none(),rel:X.none(),target:X.none(),class:X.none()}),Ye(le),Cn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:mt,onAction:function(Cn){hn(le),Cn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:mt,onAction:function(Cn){Zu(le)(),Cn.hide()}}]})};function vs(){s.add("link",function(le){Qu(le),bu(le),Bs(le),Ll(le),hu(le),fs(le),Rs(le)})}vs()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function($){var q=typeof $;return $===null?"null":q==="object"&&(Array.prototype.isPrototypeOf($)||$.constructor&&$.constructor.name==="Array")?"array":q==="object"&&(String.prototype.isPrototypeOf($)||$.constructor&&$.constructor.name==="String")?"string":q},d=function($){return function(q){return g(q)===$}},h=function($){return function(q){return typeof q===$}},y=d("string"),k=d("object"),x=d("array"),T=h("boolean"),P=h("function"),I=h("number"),B=function(){},D=function($){return function(){return $}},F=function($){return $},L=function($,q){return $===q},J=function($){return function(q){return!$(q)}},_=D(!1),U=D(!0),te=function(){return Z},Z=function(){var $=function(Ee){return Ee()},q=F,ae={fold:function(Ee,lt){return Ee()},isSome:_,isNone:U,getOr:q,getOrThunk:$,getOrDie:function(Ee){throw new Error(Ee||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:q,orThunk:$,map:te,each:B,bind:te,exists:_,forall:U,filter:function(){return te()},toArray:function(){return[]},toString:D("none()")};return ae}(),R=function($){var q=D($),ae=function(){return lt},Ee=function(zt){return zt($)},lt={fold:function(zt,lr){return lr($)},isSome:U,isNone:_,getOr:q,getOrThunk:q,getOrDie:q,getOrNull:q,getOrUndefined:q,or:ae,orThunk:ae,map:function(zt){return R(zt($))},each:function(zt){zt($)},bind:Ee,exists:Ee,forall:Ee,filter:function(zt){return zt($)?lt:Z},toArray:function(){return[$]},toString:function(){return"some("+$+")"}};return lt},Q=function($){return $==null?Z:R($)},X={some:R,none:te,from:Q},me=Array.prototype.slice,xe=Array.prototype.push,fe=function($,q){for(var ae=$.length,Ee=new Array(ae),lt=0;lt<ae;lt++){var zt=$[lt];Ee[lt]=q(zt,lt)}return Ee},se=function($,q){for(var ae=0,Ee=$.length;ae<Ee;ae++){var lt=$[ae];q(lt,ae)}},Ce=function($,q){for(var ae=[],Ee=0,lt=$.length;Ee<lt;Ee++){var zt=$[Ee];q(zt,Ee)&&ae.push(zt)}return ae},oe=function($,q){if($.length===0)return[];for(var ae=q($[0]),Ee=[],lt=[],zt=0,lr=$.length;zt<lr;zt++){var Fr=$[zt],da=q(Fr);da!==ae&&(Ee.push(lt),lt=[]),ae=da,lt.push(Fr)}return lt.length!==0&&Ee.push(lt),Ee},z=function($,q,ae){return se($,function(Ee,lt){ae=q(ae,Ee,lt)}),ae},G=function($,q,ae){for(var Ee=0,lt=$.length;Ee<lt;Ee++){var zt=$[Ee];if(q(zt,Ee))return X.some(zt);if(ae(zt,Ee))break}return X.none()},he=function($,q){return G($,q,_)},Ge=function($){for(var q=[],ae=0,Ee=$.length;ae<Ee;++ae){if(!x($[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+$);xe.apply(q,$[ae])}return q},Me=function($,q){return Ge(fe($,q))},je=function($){var q=me.call($,0);return q.reverse(),q},tt=function($,q){return q>=0&&q<$.length?X.some($[q]):X.none()},E=function($){return tt($,0)},Ae=function($){return tt($,$.length-1)},Le=function($,q){for(var ae=0;ae<$.length;ae++){var Ee=q($[ae],ae);if(Ee.isSome())return Ee}return X.none()},At=function(){return At=Object.assign||function(q){for(var ae,Ee=1,lt=arguments.length;Ee<lt;Ee++){ae=arguments[Ee];for(var zt in ae)Object.prototype.hasOwnProperty.call(ae,zt)&&(q[zt]=ae[zt])}return q},At.apply(this,arguments)};function ze($,q,ae){if(ae||arguments.length===2)for(var Ee=0,lt=q.length,zt;Ee<lt;Ee++)(zt||!(Ee in q))&&(zt||(zt=Array.prototype.slice.call(q,0,Ee)),zt[Ee]=q[Ee]);return $.concat(zt||Array.prototype.slice.call(q))}var ft=function($){var q=!1,ae;return function(){for(var Ee=[],lt=0;lt<arguments.length;lt++)Ee[lt]=arguments[lt];return q||(q=!0,ae=$.apply(null,Ee)),ae}},Xe=function($,q,ae,Ee){var lt=$.isiOS()&&/ipad/i.test(ae)===!0,zt=$.isiOS()&&!lt,lr=$.isiOS()||$.isAndroid(),Fr=lr||Ee("(pointer:coarse)"),da=lt||!zt&&lr&&Ee("(min-device-width:768px)"),aa=zt||lr&&!da,uo=q.isSafari()&&$.isiOS()&&/safari/i.test(ae)===!1,iu=!aa&&!da&&!uo;return{isiPad:D(lt),isiPhone:D(zt),isTablet:D(da),isPhone:D(aa),isTouch:D(Fr),isAndroid:$.isAndroid,isiOS:$.isiOS,isWebView:D(uo),isDesktop:D(iu)}},ct=function($,q){for(var ae=0;ae<$.length;ae++){var Ee=$[ae];if(Ee.test(q))return Ee}},re=function($,q){var ae=ct($,q);if(!ae)return{major:0,minor:0};var Ee=function(lt){return Number(q.replace(ae,"$"+lt))};return Oe(Ee(1),Ee(2))},Vt=function($,q){var ae=String(q).toLowerCase();return $.length===0?it():re($,ae)},it=function(){return Oe(0,0)},Oe=function($,q){return{major:$,minor:q}},dt={nu:Oe,detect:Vt,unknown:it},Ne=function($,q){return Le(q.brands,function(ae){var Ee=ae.brand.toLowerCase();return he($,function(lt){var zt;return Ee===((zt=lt.brand)===null||zt===void 0?void 0:zt.toLowerCase())}).map(function(lt){return{current:lt.name,version:dt.nu(parseInt(ae.version,10),0)}})})},Be=function($,q){var ae=String(q).toLowerCase();return he($,function(Ee){return Ee.search(ae)})},at=function($,q){return Be($,q).map(function(ae){var Ee=dt.detect(ae.versionRegexes,q);return{current:ae.name,version:Ee}})},gt=function($,q){return Be($,q).map(function(ae){var Ee=dt.detect(ae.versionRegexes,q);return{current:ae.name,version:Ee}})},ut=function($,q){return $.indexOf(q)!==-1},Et=function($){return function(q){return q.replace($,"")}},_n=Et(/^\s+|\s+$/g),Re=function($){return $.length>0},Tt=function($){return!Re($)},ln=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ut=function($){return function(q){return ut(q,$)}},fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function($){return ut($,"edge/")&&ut($,"chrome")&&ut($,"safari")&&ut($,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ln],search:function($){return ut($,"chrome")&&!ut($,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function($){return ut($,"msie")||ut($,"trident")}},{name:"Opera",versionRegexes:[ln,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ut("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ut("firefox")},{name:"Safari",versionRegexes:[ln,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function($){return(ut($,"safari")||ut($,"mobile/"))&&ut($,"applewebkit")}}],bn=[{name:"Windows",search:Ut("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function($){return ut($,"iphone")||ut($,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ut("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ut("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ut("linux"),versionRegexes:[]},{name:"Solaris",search:Ut("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ut("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ut("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],In={browsers:D(fn),oses:D(bn)},sr="Edge",yr="Chrome",$t="IE",Dt="Opera",Ft="Firefox",rt="Safari",st=function(){return Wt({current:void 0,version:dt.unknown()})},Wt=function($){var q=$.current,ae=$.version,Ee=function(lt){return function(){return q===lt}};return{current:q,version:ae,isEdge:Ee(sr),isChrome:Ee(yr),isIE:Ee($t),isOpera:Ee(Dt),isFirefox:Ee(Ft),isSafari:Ee(rt)}},dn={unknown:st,nu:Wt,edge:D(sr),chrome:D(yr),ie:D($t),opera:D(Dt),firefox:D(Ft),safari:D(rt)},Xt="Windows",Ve="iOS",Yt="Android",On="Linux",wn="OSX",jn="Solaris",He="FreeBSD",Lt="ChromeOS",_t=function(){return an({current:void 0,version:dt.unknown()})},an=function($){var q=$.current,ae=$.version,Ee=function(lt){return function(){return q===lt}};return{current:q,version:ae,isWindows:Ee(Xt),isiOS:Ee(Ve),isAndroid:Ee(Yt),isOSX:Ee(wn),isLinux:Ee(On),isSolaris:Ee(jn),isFreeBSD:Ee(He),isChromeOS:Ee(Lt)}},Un={unknown:_t,nu:an,windows:D(Xt),ios:D(Ve),android:D(Yt),linux:D(On),osx:D(wn),solaris:D(jn),freebsd:D(He),chromeos:D(Lt)},kr=function($,q,ae){var Ee=In.browsers(),lt=In.oses(),zt=q.bind(function(da){return Ne(Ee,da)}).orThunk(function(){return at(Ee,$)}).fold(dn.unknown,dn.nu),lr=gt(lt,$).fold(Un.unknown,Un.nu),Fr=Xe(lr,zt,$,ae);return{browser:zt,os:lr,deviceType:Fr}},Oa={detect:kr},_r=function($){return window.matchMedia($).matches},Ar=ft(function(){return Oa.detect(navigator.userAgent,X.from(navigator.userAgentData),_r)}),_a=function(){return Ar()},xo=function($,q,ae){return($.compareDocumentPosition(q)&ae)!==0},oo=function($,q){return xo($,q,Node.DOCUMENT_POSITION_CONTAINED_BY)},hn=1,or=function($,q){var ae=q||document,Ee=ae.createElement("div");if(Ee.innerHTML=$,!Ee.hasChildNodes()||Ee.childNodes.length>1)throw new Error("HTML must have a single root node");return va(Ee.childNodes[0])},tr=function($,q){var ae=q||document,Ee=ae.createElement($);return va(Ee)},Wr=function($,q){var ae=q||document,Ee=ae.createTextNode($);return va(Ee)},va=function($){if($==null)throw new Error("Node cannot be null or undefined");return{dom:$}},Pa=function($,q,ae){return X.from($.dom.elementFromPoint(q,ae)).map(va)},Nr={fromHtml:or,fromTag:tr,fromText:Wr,fromDom:va,fromPoint:Pa},Fa=function($,q){var ae=$.dom;if(ae.nodeType!==hn)return!1;var Ee=ae;if(Ee.matches!==void 0)return Ee.matches(q);if(Ee.msMatchesSelector!==void 0)return Ee.msMatchesSelector(q);if(Ee.webkitMatchesSelector!==void 0)return Ee.webkitMatchesSelector(q);if(Ee.mozMatchesSelector!==void 0)return Ee.mozMatchesSelector(q);throw new Error("Browser lacks native selectors")},Yn=function($,q){return $.dom===q.dom},Do=function($,q){var ae=$.dom,Ee=q.dom;return ae===Ee?!1:ae.contains(Ee)},Ga=function($,q){return oo($.dom,q.dom)},Aa=function($,q){return _a().browser.isIE()?Ga($,q):Do($,q)},ko=Fa,io=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Yo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ti=tinymce.util.Tools.resolve("tinymce.util.VK"),$i=Object.keys,ke=function($,q){for(var ae=$i($),Ee=0,lt=ae.length;Ee<lt;Ee++){var zt=ae[Ee],lr=$[zt];q(lr,zt)}},qe=function($){return function(q,ae){$[ae]=q}},Te=function($,q,ae,Ee){var lt={};return ke($,function(zt,lr){(q(zt,lr)?ae:Ee)(zt,lr)}),lt},wt=function($,q){var ae={};return Te($,q,qe(ae),B),ae};typeof window<"u"||Function("return this;")();var En=function($){var q=$.dom.nodeName;return q.toLowerCase()},zn=function($){return $.dom.nodeType},ye=function($){return function(q){return zn(q)===$}},Pe=ye(hn),Ct=function($){return function(q){return Pe(q)&&En(q)===$}},Nt=function($,q,ae){if(y(ae)||T(ae)||I(ae))$.setAttribute(q,ae+"");else throw new Error("Attribute value was not simple")},j=function($,q){var ae=$.dom;ke(q,function(Ee,lt){Nt(ae,lt,Ee)})},ve=function($){return z($.dom.attributes,function(q,ae){return q[ae.name]=ae.value,q},{})},_e=function($){return X.from($.dom.parentNode).map(Nr.fromDom)},Je=function($){return fe($.dom.childNodes,Nr.fromDom)},pt=function($,q){var ae=$.dom.childNodes;return X.from(ae[q]).map(Nr.fromDom)},bt=function($){return pt($,0)},xn=function($){return pt($,$.dom.childNodes.length-1)},Bn=function($,q){var ae=_e($);ae.each(function(Ee){Ee.dom.insertBefore(q.dom,$.dom)})},fr=function($,q){$.dom.appendChild(q.dom)},wr=function($,q){se(q,function(ae){Bn($,ae)})},Qn=function($,q){se(q,function(ae){fr($,ae)})},xr=function($){var q=$.dom;q.parentNode!==null&&q.parentNode.removeChild(q)},ga=function($,q){return Nr.fromDom($.dom.cloneNode(q))},Qa=function($){return ga($,!0)},To=function($,q){var ae=Nr.fromTag(q),Ee=ve($);return j(ae,Ee),ae},nu=function($,q){var ae=To($,q);Bn($,ae);var Ee=Je($);return Qn(ae,Ee),xr($),ae},ru=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zu=function($){return function(q){return q&&q.nodeName.toLowerCase()===$}},hu=function($){return function(q){return q&&$.test(q.nodeName)}},mi=function($){return $&&$.nodeType===3},Xo=hu(/^(OL|UL|DL)$/),cs=hu(/^(OL|UL)$/),Ju=Zu("ol"),fs=hu(/^(LI|DT|DD)$/),Rs=hu(/^(DT|DD)$/),Qu=hu(/^(TH|TD)$/),bu=Zu("br"),Bs=function($){return $.parentNode.firstChild===$},Ll=function($,q){return q&&!!$.schema.getTextBlockElements()[q.nodeName]},vs=function($,q){return $&&$.nodeName in q},le=function($,q){return bu(q)?$.isBlock(q.nextSibling)&&!bu(q.previousSibling):!1},Ye=function($,q,ae){var Ee=$.isEmpty(q);return ae&&$.select("span[data-mce-type=bookmark]",q).length>0?!1:Ee},mt=function($,q){return $.isChildOf(q,$.getRoot())},Gt=function($){return $.getParam("lists_indent_on_tab",!0)},Cn=function($){var q=$.getParam("forced_root_block","p");return q===!1?"":q===!0?"p":q},ar=function($){return $.getParam("forced_root_block_attrs",{})},pa=function($,q){var ae=$.dom,Ee=$.schema.getBlockElements(),lt=ae.createFragment(),zt=Cn($),lr,Fr,da;if(zt&&(Fr=ae.create(zt),Fr.tagName===zt.toUpperCase()&&ae.setAttribs(Fr,ar($)),vs(q.firstChild,Ee)||lt.appendChild(Fr)),q)for(;lr=q.firstChild;){var aa=lr.nodeName;!da&&(aa!=="SPAN"||lr.getAttribute("data-mce-type")!=="bookmark")&&(da=!0),vs(lr,Ee)?(lt.appendChild(lr),Fr=null):zt?(Fr||(Fr=ae.create(zt),lt.appendChild(Fr)),Fr.appendChild(lr)):lt.appendChild(lr)}return zt?da||Fr.appendChild(ae.create("br",{"data-mce-bogus":"1"})):lt.appendChild(ae.create("br")),lt},Ma=ru.DOM,jr=function($,q,ae){var Ee=function(aa){eo.each(lt,function(uo){aa.parentNode.insertBefore(uo,ae.parentNode)}),Ma.remove(aa)},lt=Ma.select('span[data-mce-type="bookmark"]',q),zt=pa($,ae),lr=Ma.createRng();lr.setStartAfter(ae),lr.setEndAfter(q);for(var Fr=lr.extractContents(),da=Fr.firstChild;da;da=da.firstChild)if(da.nodeName==="LI"&&$.dom.isEmpty(da)){Ma.remove(da);break}$.dom.isEmpty(Fr)||Ma.insertAfter(Fr,q),Ma.insertAfter(zt,q),Ye($.dom,ae.parentNode)&&Ee(ae.parentNode),Ma.remove(ae),Ye($.dom,q)&&Ma.remove(q)},La=Ct("dd"),co=Ct("dt"),el=function($,q){La(q)?nu(q,"dt"):co(q)&&_e(q).each(function(ae){return jr($,ae.dom,q.dom)})},Cc=function($){co($)&&nu($,"dd")},Sc=function($,q,ae){q==="Indent"?se(ae,Cc):se(ae,function(Ee){return el($,Ee)})},dr=function($,q){if(mi($))return{container:$,offset:q};var ae=io.getNode($,q);return mi(ae)?{container:ae,offset:q>=$.childNodes.length?ae.data.length:0}:ae.previousSibling&&mi(ae.previousSibling)?{container:ae.previousSibling,offset:ae.previousSibling.data.length}:ae.nextSibling&&mi(ae.nextSibling)?{container:ae.nextSibling,offset:0}:{container:$,offset:q}},hl=function($){var q=$.cloneRange(),ae=dr($.startContainer,$.startOffset);q.setStart(ae.container,ae.offset);var Ee=dr($.endContainer,$.endOffset);return q.setEnd(Ee.container,Ee.offset),q},ef=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),zu=function($,q){var ae=q||$.selection.getStart(!0);return $.dom.getParent(ae,"OL,UL,DL",yu($,ae))},tf=function($,q){return $&&q.length===1&&q[0]===$},Kv=function($){return Ce($.querySelectorAll("ol,ul,dl"),Xo)},Hf=function($){var q=zu($),ae=$.selection.getSelectedBlocks();return tf(q,ae)?Kv(q):Ce(ae,function(Ee){return Xo(Ee)&&q!==Ee})},fo=function($,q){var ae=eo.map(q,function(Ee){var lt=$.dom.getParent(Ee,"li,dd,dt",yu($,Ee));return lt||Ee});return ef.unique(ae)},Fs=function($){var q=$.selection.getSelectedBlocks();return Ce(fo($,q),fs)},Gv=function($){return Ce(Fs($),Rs)},yu=function($,q){var ae=$.dom.getParents(q,"TD,TH");return ae.length>0?ae[0]:$.getBody()},zi=function($,q){var ae=$.dom.getParents(q,"ol,ul",yu($,q));return Ae(ae)},xc=function($){var q=zi($,$.selection.getStart()),ae=Ce($.selection.getSelectedBlocks(),cs);return q.toArray().concat(ae)},Ht=function($){var q=xc($);return Is($,q)},Is=function($,q){var ae=fe(q,function(Ee){return zi($,Ee).getOr(Ee)});return ef.unique(ae)},ni=function($,q,ae){return ae===void 0&&(ae=L),$.exists(function(Ee){return ae(Ee,q)})},nf=function($,q,ae){return $.isSome()&&q.isSome()?X.some(ae($.getOrDie(),q.getOrDie())):X.none()},zl=function($,q){var ae=q||document,Ee=ae.createDocumentFragment();return se($,function(lt){Ee.appendChild(lt.dom)}),Nr.fromDom(Ee)},Ns=function($,q,ae){return $.fire("ListMutation",{action:q,element:ae})},V=function($){return $.style!==void 0&&P($.style.getPropertyValue)},A=function($,q,ae){if(!y(ae))throw new Error("CSS value must be a string: "+ae);V($)&&$.style.setProperty(q,ae)},Y=function($,q,ae){var Ee=$.dom;A(Ee,q,ae)},ce=function($,q){fr($.item,q.list)},Ie=function($){for(var q=1;q<$.length;q++)ce($[q-1],$[q])},St=function($,q){nf(Ae($),E(q),ce)},cn=function($,q){var ae={list:Nr.fromTag(q,$),item:Nr.fromTag("li",$)};return fr(ae.list,ae.item),ae},ur=function($,q,ae){for(var Ee=[],lt=0;lt<ae;lt++)Ee.push(cn($,q.listType));return Ee},Er=function($,q){for(var ae=0;ae<$.length-1;ae++)Y($[ae].item,"list-style-type","none");Ae($).each(function(Ee){j(Ee.list,q.listAttributes),j(Ee.item,q.itemAttributes),Qn(Ee.item,q.content)})},Fn=function($,q){En($.list)!==q.listType&&($.list=nu($.list,q.listType)),j($.list,q.listAttributes)},er=function($,q,ae){var Ee=Nr.fromTag("li",$);return j(Ee,q),Qn(Ee,ae),Ee},Lr=function($,q){fr($.list,q),$.item=q},Jr=function($,q,ae){var Ee=q.slice(0,ae.depth);return Ae(Ee).each(function(lt){var zt=er($,ae.itemAttributes,ae.content);Lr(lt,zt),Fn(lt,ae)}),Ee},Or=function($,q,ae){var Ee=ur($,ae,ae.depth-q.length);return Ie(Ee),Er(Ee,ae),St(q,Ee),q.concat(Ee)},to=function($,q){var ae=z(q,function(Ee,lt){return lt.depth>Ee.length?Or($,Ee,lt):Jr($,Ee,lt)},[]);return E(ae).map(function(Ee){return Ee.list})},Br=function($){return ko($,"OL,UL")},Ba=function($){return bt($).exists(Br)},Ra=function($){return xn($).exists(Br)},Hi=function($){return $.depth>0},Zr=function($){return $.isSelected},cm=function($){var q=Je($),ae=Ra($)?q.slice(0,-1):q;return fe(ae,Qa)},po=function($,q,ae){return _e($).filter(Pe).map(function(Ee){return{depth:q,dirty:!1,isSelected:ae,content:cm($),itemAttributes:ve($),listAttributes:ve(Ee),listType:En(Ee)}})},Vo=function($,q){switch($){case"Indent":q.depth++;break;case"Outdent":q.depth--;break;case"Flatten":q.depth=0}q.dirty=!0},pb=function($,q){$.listType=q.listType,$.listAttributes=At({},q.listAttributes)},xi=function($){$.listAttributes=wt($.listAttributes,function(q,ae){return ae!=="start"})},ip=function($,q){var ae=$[q].depth,Ee=function(zt){return zt.depth===ae&&!zt.dirty},lt=function(zt){return zt.depth<ae};return G(je($.slice(0,q)),Ee,lt).orThunk(function(){return G($.slice(q+1),Ee,lt)})},fm=function($){return se($,function(q,ae){ip($,ae).fold(function(){q.dirty&&xi(q)},function(Ee){return pb(q,Ee)})}),$},Pr=function($){var q=$,ae=function(){return q},Ee=function(lt){q=lt};return{get:ae,set:Ee}},Ls=function($,q,ae,Ee){return bt(Ee).filter(Br).fold(function(){q.each(function(lr){Yn(lr.start,Ee)&&ae.set(!0)});var lt=po(Ee,$,ae.get());q.each(function(lr){Yn(lr.end,Ee)&&ae.set(!1)});var zt=xn(Ee).filter(Br).map(function(lr){return kc($,q,ae,lr)}).getOr([]);return lt.toArray().concat(zt)},function(lt){return kc($,q,ae,lt)})},kc=function($,q,ae,Ee){return Me(Je(Ee),function(lt){var zt=Br(lt)?kc:Ls,lr=$+1;return zt(lr,q,ae,lt)})},Io=function($,q){var ae=Pr(!1),Ee=0;return fe($,function(lt){return{sourceList:lt,entries:kc(Ee,q,ae,lt)}})},hb=function($,q){var ae=fm(q);return fe(ae,function(Ee){var lt=zl(Ee.content);return Nr.fromDom(pa($,lt.dom))})},ki=function($,q){var ae=fm(q);return to($.contentDocument,ae).toArray()},rf=function($,q){return Me(oe(q,Hi),function(ae){var Ee=E(ae).exists(Hi);return Ee?ki($,ae):hb($,ae)})},Vf=function($,q){se(Ce($,Zr),function(ae){return Vo(q,ae)})},za=function($){var q=fe(Fs($),Nr.fromDom);return nf(he(q,J(Ba)),he(je(q),J(Ba)),function(ae,Ee){return{start:ae,end:Ee}})},af=function($,q,ae){var Ee=Io(q,za($));se(Ee,function(lt){Vf(lt.entries,ae);var zt=rf($,lt.entries);se(zt,function(lr){Ns($,ae==="Indent"?"IndentList":"OutdentList",lr.dom)}),wr(lt.sourceList,zt),xr(lt.sourceList)})},wu=function($,q){var ae=fe(Ht($),Nr.fromDom),Ee=fe(Gv($),Nr.fromDom),lt=!1;if(ae.length||Ee.length){var zt=$.selection.getBookmark();af($,ae,q),Sc($,q,Ee),$.selection.moveToBookmark(zt),$.selection.setRng(hl($.selection.getRng())),$.nodeChanged(),lt=!0}return lt},of=function($){return wu($,"Indent")},ri=function($){return wu($,"Outdent")},bl=function($){return wu($,"Flatten")},bb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),uf=ru.DOM,Ya=function($){var q={},ae=function(Ee){var lt=$[Ee?"startContainer":"endContainer"],zt=$[Ee?"startOffset":"endOffset"];if(lt.nodeType===1){var lr=uf.create("span",{"data-mce-type":"bookmark"});lt.hasChildNodes()?(zt=Math.min(zt,lt.childNodes.length-1),Ee?lt.insertBefore(lr,lt.childNodes[zt]):uf.insertAfter(lr,lt.childNodes[zt])):lt.appendChild(lr),lt=lr,zt=0}q[Ee?"startContainer":"endContainer"]=lt,q[Ee?"startOffset":"endOffset"]=zt};return ae(!0),$.collapsed||ae(),q},Uf=function($){var q=function(Ee){var lt,zt=function(da){for(var aa=da.parentNode.firstChild,uo=0;aa;){if(aa===da)return uo;(aa.nodeType!==1||aa.getAttribute("data-mce-type")!=="bookmark")&&uo++,aa=aa.nextSibling}return-1},lr=lt=$[Ee?"startContainer":"endContainer"],Fr=$[Ee?"startOffset":"endOffset"];lr&&(lr.nodeType===1&&(Fr=zt(lr),lr=lr.parentNode,uf.remove(lt),!lr.hasChildNodes()&&uf.isBlock(lr)&&lr.appendChild(uf.create("br"))),$[Ee?"startContainer":"endContainer"]=lr,$[Ee?"startOffset":"endOffset"]=Fr)};q(!0),q();var ae=uf.createRng();return ae.setStart($.startContainer,$.startOffset),$.endContainer&&ae.setEnd($.endContainer,$.endOffset),hl(ae)},lf=function($){switch($){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Cu=function($){return/\btox\-/.test($.className)},sf=function($,q,ae){var Ee=function(zt){var lr=G(zt.parents,Xo,Qu).filter(function(Fr){return Fr.nodeName===q&&!Cu(Fr)}).isSome();ae(lr)},lt=$.dom.getParents($.selection.getNode());return Ee({parents:lt}),$.on("NodeChange",Ee),function(){return $.off("NodeChange",Ee)}},vm=function($,q,ae){var Ee=ae["list-style-type"]?ae["list-style-type"]:null;$.setStyle(q,"list-style-type",Ee)},yb=function($,q){eo.each(q,function(ae,Ee){$.setAttribute(Ee,ae)})},au=function($,q,ae){yb(q,ae["list-attributes"]),eo.each($.select("li",q),function(Ee){yb(Ee,ae["list-item-attributes"])})},Tc=function($,q,ae){vm($,q,ae),au($,q,ae)},Hl=function($,q,ae){eo.each(ae,function(Ee){var lt;return $.setStyle(q,(lt={},lt[Ee]="",lt))})},Wf=function($,q,ae,Ee){var lt=q[ae?"startContainer":"endContainer"],zt=q[ae?"startOffset":"endOffset"];for(lt.nodeType===1&&(lt=lt.childNodes[Math.min(zt,lt.childNodes.length-1)]||lt),!ae&&bu(lt.nextSibling)&&(lt=lt.nextSibling);lt.parentNode!==Ee;){if(Ll($,lt)||/^(TD|TH)$/.test(lt.parentNode.nodeName))return lt;lt=lt.parentNode}return lt},up=function($,q,ae){for(var Ee=[],lt=$.dom,zt=Wf($,q,!0,ae),lr=Wf($,q,!1,ae),Fr,da=[],aa=zt;aa&&(da.push(aa),aa!==lr);aa=aa.nextSibling);return eo.each(da,function(uo){if(Ll($,uo)){Ee.push(uo),Fr=null;return}if(lt.isBlock(uo)||bu(uo)){bu(uo)&&lt.remove(uo),Fr=null;return}var iu=uo.nextSibling;if(bb.isBookmarkNode(uo)&&(Xo(iu)||Ll($,iu)||!iu&&uo.parentNode===ae)){Fr=null;return}Fr||(Fr=lt.create("p"),uo.parentNode.insertBefore(Fr,uo),Ee.push(Fr)),Fr.appendChild(uo)}),Ee},Di=function($,q,ae){var Ee=$.getStyle(q,"list-style-type"),lt=ae?ae["list-style-type"]:"";return lt=lt===null?"":lt,Ee===lt},dm=function($,q,ae){var Ee=$.selection.getRng(),lt="LI",zt=yu($,$.selection.getStart(!0)),lr=$.dom;if(lr.getContentEditable($.selection.getNode())!=="false"){q=q.toUpperCase(),q==="DL"&&(lt="DT");var Fr=Ya(Ee),da=up($,Ee,zt);eo.each(da,function(aa){var uo,iu=aa.previousSibling,Cb=aa.parentNode;fs(Cb)||(iu&&Xo(iu)&&iu.nodeName===q&&Di(lr,iu,ae)?(uo=iu,aa=lr.rename(aa,lt),iu.appendChild(aa)):(uo=lr.create(q),aa.parentNode.insertBefore(uo,aa),uo.appendChild(aa),aa=lr.rename(aa,lt)),Hl(lr,aa,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Tc(lr,uo,ae),gm($.dom,uo))}),$.selection.setRng(Uf(Fr))}},sw=function($,q){return $&&q&&Xo($)&&$.nodeName===q.nodeName},mm=function($,q,ae){var Ee=$.getStyle(q,"list-style-type",!0),lt=$.getStyle(ae,"list-style-type",!0);return Ee===lt},lp=function($,q){return $.className===q.className},Uo=function($,q,ae){return sw(q,ae)&&mm($,q,ae)&&lp(q,ae)},gm=function($,q){var ae,Ee;if(ae=q.nextSibling,Uo($,q,ae)){for(;Ee=ae.firstChild;)q.appendChild(Ee);$.remove(ae)}if(ae=q.previousSibling,Uo($,q,ae)){for(;Ee=ae.lastChild;)q.insertBefore(Ee,q.firstChild);$.remove(ae)}},Yv=function($,q,ae,Ee){if(q.nodeName!==ae){var lt=$.dom.rename(q,ae);Tc($.dom,lt,Ee),Ns($,lf(ae),lt)}else Tc($.dom,q,Ee),Ns($,lf(ae),q)},Vi=function($,q,ae,Ee,lt){var zt=Xo(q);if(zt&&q.nodeName===Ee&&!cf(lt))bl($);else{dm($,Ee,lt);var lr=Ya($.selection.getRng()),Fr=zt?ze([q],ae,!0):ae;eo.each(Fr,function(da){Yv($,da,Ee,lt)}),$.selection.setRng(Uf(lr))}},cf=function($){return"list-style-type"in $},cw=function($,q,ae,Ee){if(q!==$.getBody())if(q)if(q.nodeName===ae&&!cf(Ee)&&!Cu(q))bl($);else{var lt=Ya($.selection.getRng());Tc($.dom,q,Ee);var zt=$.dom.rename(q,ae);gm($.dom,zt),$.selection.setRng(Uf(lt)),dm($,ae,Ee),Ns($,lf(ae),zt)}else dm($,ae,Ee),Ns($,lf(ae),q)},ff=function($,q,ae){var Ee=zu($),lt=Hf($),zt=k(ae)?ae:{};lt.length>0?Vi($,Ee,lt,q,zt):cw($,Ee,q,zt)},pm=ru.DOM,yl=function($,q){var ae=q.parentNode;if(ae.nodeName==="LI"&&ae.firstChild===q){var Ee=ae.previousSibling;Ee&&Ee.nodeName==="LI"?(Ee.appendChild(q),Ye($,ae)&&pm.remove(ae)):pm.setStyle(ae,"listStyleType","none")}if(Xo(ae)){var Ee=ae.previousSibling;Ee&&Ee.nodeName==="LI"&&Ee.appendChild(q)}},sp=function($,q){var ae=eo.grep($.select("ol,ul",q));eo.each(ae,function(Ee){yl($,Ee)})},wl=function($,q,ae,Ee){var lt=q.startContainer,zt=q.startOffset;if(mi(lt)&&(ae?zt<lt.data.length:zt>0))return lt;var lr=$.schema.getNonEmptyElements();lt.nodeType===1&&(lt=io.getNode(lt,zt));var Fr=new Yo(lt,Ee);for(ae&&le($.dom,lt)&&Fr.next();lt=Fr[ae?"next":"prev2"]();)if(lt.nodeName==="LI"&&!lt.hasChildNodes()||lr[lt.nodeName]||mi(lt)&&lt.data.length>0)return lt},hm=function($,q){var ae=q.childNodes;return ae.length===1&&!Xo(ae[0])&&$.isBlock(ae[0])},fw=function($,q){hm($,q)&&$.remove(q.firstChild,!0)},cp=function($,q,ae){var Ee,lt=hm($,ae)?ae.firstChild:ae;if(fw($,q),!Ye($,q,!0))for(;Ee=q.firstChild;)lt.appendChild(Ee)},Xv=function($,q,ae){var Ee,lt=q.parentNode;if(!(!mt($,q)||!mt($,ae))){Xo(ae.lastChild)&&(Ee=ae.lastChild),lt===ae.lastChild&&bu(lt.previousSibling)&&$.remove(lt.previousSibling);var zt=ae.lastChild;zt&&bu(zt)&&q.hasChildNodes()&&$.remove(zt),Ye($,ae,!0)&&$.$(ae).empty(),cp($,q,ae),Ee&&ae.appendChild(Ee);var lr=Aa(Nr.fromDom(ae),Nr.fromDom(q)),Fr=lr?$.getParents(q,Xo,ae):[];$.remove(q),se(Fr,function(da){Ye($,da)&&da!==$.getRoot()&&$.remove(da)})}},jf=function($,q,ae){$.dom.$(ae).empty(),Xv($.dom,q,ae),$.selection.setCursorLocation(ae,0)},bm=function($,q,ae,Ee){var lt=$.dom;if(lt.isEmpty(Ee))jf($,ae,Ee);else{var zt=Ya(q);Xv(lt,ae,Ee),$.selection.setRng(Uf(zt))}},Mr=function($,q,ae,Ee){var lt=Ya(q);Xv($.dom,ae,Ee);var zt=Uf(lt);$.selection.setRng(zt)},Cl=function($,q){var ae=$.dom,Ee=$.selection,lt=Ee.getStart(),zt=yu($,lt),lr=ae.getParent(Ee.getStart(),"LI",zt);if(lr){var Fr=lr.parentNode;if(Fr===$.getBody()&&Ye(ae,Fr))return!0;var da=hl(Ee.getRng()),aa=ae.getParent(wl($,da,q,zt),"LI",zt);if(aa&&aa!==lr)return $.undoManager.transact(function(){q?bm($,da,aa,lr):Bs(lr)?ri($):Mr($,da,lr,aa)}),!0;if(!aa&&!q&&da.startOffset===0&&da.endOffset===0)return $.undoManager.transact(function(){bl($)}),!0}return!1},ym=function($,q,ae){var Ee=$.getParent(q.parentNode,$.isBlock,ae);$.remove(q),Ee&&$.isEmpty(Ee)&&$.remove(Ee)},wm=function($,q){var ae=$.dom,Ee=$.selection.getStart(),lt=yu($,Ee),zt=ae.getParent(Ee,ae.isBlock,lt);if(zt&&ae.isEmpty(zt)){var lr=hl($.selection.getRng()),Fr=ae.getParent(wl($,lr,q,lt),"LI",lt);if(Fr)return $.undoManager.transact(function(){ym(ae,zt,lt),gm(ae,Fr.parentNode),$.selection.select(Fr,!0),$.selection.collapse(q)}),!0}return!1},vw=function($,q){return Cl($,q)||wm($,q)},vf=function($){var q=$.selection.getStart(),ae=yu($,q),Ee=$.dom.getParent(q,"LI,DT,DD",ae);return Ee||Fs($).length>0?($.undoManager.transact(function(){$.execCommand("Delete"),sp($.dom,$.getBody())}),!0):!1},gi=function($,q){return $.selection.isCollapsed()?vw($,q):vf($)},pi=function($){$.on("keydown",function(q){q.keyCode===ti.BACKSPACE?gi($,!1)&&q.preventDefault():q.keyCode===ti.DELETE&&gi($,!0)&&q.preventDefault()})},Ec=function($){return{backspaceDelete:function(q){gi($,q)}}},Sl=function($,q){var ae=zu($);$.undoManager.transact(function(){k(q.styles)&&$.dom.setStyles(ae,q.styles),k(q.attrs)&&ke(q.attrs,function(Ee,lt){return $.dom.setAttrib(ae,lt,Ee)})})},Kn=function($){var q=je(_n($).split("")),ae=fe(q,function(Ee,lt){var zt=Ee.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,lt)*zt});return z(ae,function(Ee,lt){return Ee+lt},0)},df=function($){if($--,$<0)return"";var q=$%26,ae=Math.floor($/26),Ee=df(ae),lt=String.fromCharCode("A".charCodeAt(0)+q);return Ee+lt},fp=function($){return/^[A-Z]+$/.test($)},Xr=function($){return/^[a-z]+$/.test($)},Ha=function($){return/^[0-9]+$/.test($)},vp=function($){return Ha($)?2:fp($)?0:Xr($)?1:Tt($)?3:4},ds=function($){switch(vp($)){case 2:return X.some({listStyleType:X.none(),start:$});case 0:return X.some({listStyleType:X.some("upper-alpha"),start:Kn($).toString()});case 1:return X.some({listStyleType:X.some("lower-alpha"),start:Kn($).toString()});case 3:return X.some({listStyleType:X.none(),start:""});case 4:return X.none()}},vo=function($){var q=parseInt($.start,10);return ni($.listStyleType,"upper-alpha")?df(q):ni($.listStyleType,"lower-alpha")?df(q).toLowerCase():$.start},Cm=function($){var q=zu($);Ju(q)&&$.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:vo({start:$.dom.getAttrib(q,"start","1"),listStyleType:X.some($.dom.getStyle(q,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ae){var Ee=ae.getData();ds(Ee.start).each(function(lt){$.execCommand("mceListUpdate",!1,{attrs:{start:lt.start==="1"?"":lt.start},styles:{"list-style-type":lt.listStyleType.getOr("")}})}),ae.close()}})},Hu=function($,q){return function(){var ae=zu($);return ae&&ae.nodeName===q}},Zv=function($){$.addCommand("mceListProps",function(){Cm($)})},wb=function($){$.on("BeforeExecCommand",function(q){var ae=q.command.toLowerCase();ae==="indent"?of($):ae==="outdent"&&ri($)}),$.addCommand("InsertUnorderedList",function(q,ae){ff($,"UL",ae)}),$.addCommand("InsertOrderedList",function(q,ae){ff($,"OL",ae)}),$.addCommand("InsertDefinitionList",function(q,ae){ff($,"DL",ae)}),$.addCommand("RemoveList",function(){bl($)}),Zv($),$.addCommand("mceListUpdate",function(q,ae){k(ae)&&Sl($,ae)}),$.addQueryStateHandler("InsertUnorderedList",Hu($,"UL")),$.addQueryStateHandler("InsertOrderedList",Hu($,"OL")),$.addQueryStateHandler("InsertDefinitionList",Hu($,"DL"))},ou=function($){$.on("keydown",function(q){q.keyCode!==ti.TAB||ti.metaKeyPressed(q)||$.undoManager.transact(function(){(q.shiftKey?ri($):of($))&&q.preventDefault()})})},dw=function($){Gt($)&&ou($),pi($)},mw=function($){var q=function(ae){return function(){return $.execCommand(ae)}};$.hasPlugin("advlist")||($.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:q("InsertOrderedList"),onSetup:function(ae){return sf($,"OL",ae.setActive)}}),$.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:q("InsertUnorderedList"),onSetup:function(ae){return sf($,"UL",ae.setActive)}}))},ho=function($){var q={text:"List properties...",icon:"ordered-list",onAction:function(){return $.execCommand("mceListProps")},onSetup:function(ae){return sf($,"OL",function(Ee){return ae.setDisabled(!Ee)})}};$.ui.registry.addMenuItem("listprops",q),$.ui.registry.addContextMenu("lists",{update:function(ae){var Ee=zu($,ae);return Ju(Ee)?["listprops"]:[]}})};function dp(){s.add("lists",function($){return $.hasPlugin("rtc",!0)===!1?(dw($),wb($)):Zv($),mw($),ho($),Ec($)})}dp()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(){return g=Object.assign||function(qe){for(var Te,wt=1,En=arguments.length;wt<En;wt++){Te=arguments[wt];for(var zn in Te)Object.prototype.hasOwnProperty.call(Te,zn)&&(qe[zn]=Te[zn])}return qe},g.apply(this,arguments)},d=function(ke){var qe=typeof ke;return ke===null?"null":qe==="object"&&(Array.prototype.isPrototypeOf(ke)||ke.constructor&&ke.constructor.name==="Array")?"array":qe==="object"&&(String.prototype.isPrototypeOf(ke)||ke.constructor&&ke.constructor.name==="String")?"string":qe},h=function(ke){return function(qe){return d(qe)===ke}},y=h("string"),k=h("object"),x=h("array"),T=function(ke){return ke==null},P=function(ke){return!T(ke)},I=function(){},B=function(ke){return function(){return ke}},D=function(ke){return ke},F=B(!1),L=B(!0),J=function(){return _},_=function(){var ke=function(wt){return wt()},qe=D,Te={fold:function(wt,En){return wt()},isSome:F,isNone:L,getOr:qe,getOrThunk:ke,getOrDie:function(wt){throw new Error(wt||"error: getOrDie called on none.")},getOrNull:B(null),getOrUndefined:B(void 0),or:qe,orThunk:ke,map:J,each:I,bind:J,exists:F,forall:L,filter:function(){return J()},toArray:function(){return[]},toString:B("none()")};return Te}(),U=function(ke){var qe=B(ke),Te=function(){return En},wt=function(zn){return zn(ke)},En={fold:function(zn,ye){return ye(ke)},isSome:L,isNone:F,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:Te,orThunk:Te,map:function(zn){return U(zn(ke))},each:function(zn){zn(ke)},bind:wt,exists:wt,forall:wt,filter:function(zn){return zn(ke)?En:_},toArray:function(){return[ke]},toString:function(){return"some("+ke+")"}};return En},te=function(ke){return ke==null?_:U(ke)},Z={some:U,none:J,from:te},R=Array.prototype.push,Q=function(ke,qe){for(var Te=0,wt=ke.length;Te<wt;Te++){var En=ke[Te];qe(En,Te)}},X=function(ke){for(var qe=[],Te=0,wt=ke.length;Te<wt;++Te){if(!x(ke[Te]))throw new Error("Arr.flatten item "+Te+" was not an array, input: "+ke);R.apply(qe,ke[Te])}return qe},me=function(ke){var qe=ke,Te=function(){return qe},wt=function(En){qe=En};return{get:Te,set:wt}},xe=Object.keys,fe=Object.hasOwnProperty,se=function(ke,qe){for(var Te=xe(ke),wt=0,En=Te.length;wt<En;wt++){var zn=Te[wt],ye=ke[zn];qe(ye,zn)}},Ce=function(ke,qe){return oe(ke,qe)?Z.from(ke[qe]):Z.none()},oe=function(ke,qe){return fe.call(ke,qe)},z=function(ke){return ke.getParam("media_scripts")},G=function(ke){return ke.getParam("audio_template_callback")},he=function(ke){return ke.getParam("video_template_callback")},Ge=function(ke){return ke.getParam("media_live_embeds",!0)},Me=function(ke){return ke.getParam("media_filter_html",!0)},je=function(ke){return ke.getParam("media_url_resolver")},tt=function(ke){return ke.getParam("media_alt_source",!0)},E=function(ke){return ke.getParam("media_poster",!0)},Ae=function(ke){return ke.getParam("media_dimensions",!0)},Le=tinymce.util.Tools.resolve("tinymce.util.Tools"),At=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ze=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),ft=function(ke,qe){if(ke){for(var Te=0;Te<ke.length;Te++)if(qe.indexOf(ke[Te].filter)!==-1)return ke[Te]}},Xe=At.DOM,ct=function(ke){return ke.replace(/px$/,"")},re=function(ke){var qe=ke.map.style,Te=qe?Xe.parseStyle(qe):{};return{type:"ephox-embed-iri",source:ke.map["data-ephox-embed-iri"],altsource:"",poster:"",width:Ce(Te,"max-width").map(ct).getOr(""),height:Ce(Te,"max-height").map(ct).getOr("")}},Vt=function(ke,qe){var Te=me(!1),wt={};return ze({validate:!1,allow_conditional_comments:!0,start:function(En,zn){if(!Te.get())if(oe(zn.map,"data-ephox-embed-iri"))Te.set(!0),wt=re(zn);else{if(!wt.source&&En==="param"&&(wt.source=zn.map.movie),(En==="iframe"||En==="object"||En==="embed"||En==="video"||En==="audio")&&(wt.type||(wt.type=En),wt=Le.extend(zn.map,wt)),En==="script"){var ye=ft(ke,zn.map.src);if(!ye)return;wt={type:"script",source:zn.map.src,width:String(ye.width),height:String(ye.height)}}En==="source"&&(wt.source?wt.altsource||(wt.altsource=zn.map.src):wt.source=zn.map.src),En==="img"&&!wt.poster&&(wt.poster=zn.map.src)}}}).parse(qe),wt.source=wt.source||wt.src||wt.data,wt.altsource=wt.altsource||"",wt.poster=wt.poster||"",wt},it=function(ke){var qe={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Te=ke.toLowerCase().split(".").pop(),wt=qe[Te];return wt||""},Oe=tinymce.util.Tools.resolve("tinymce.html.Schema"),dt=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ne=At.DOM,Be=function(ke){return/^[0-9.]+$/.test(ke)?ke+"px":ke},at=function(ke,qe){se(qe,function(Te,wt){var En=""+Te;if(ke.map[wt])for(var zn=ke.length;zn--;){var ye=ke[zn];ye.name===wt&&(En?(ke.map[wt]=En,ye.value=En):(delete ke.map[wt],ke.splice(zn,1)))}else En&&(ke.push({name:wt,value:En}),ke.map[wt]=En)})},gt=function(ke,qe){var Te=qe.map.style,wt=Te?Ne.parseStyle(Te):{};wt["max-width"]=Be(ke.width),wt["max-height"]=Be(ke.height),at(qe,{style:Ne.serializeStyle(wt)})},ut=["source","altsource"],Et=function(ke,qe,Te){var wt=dt(),En=me(!1),zn=0,ye;return ze({validate:!1,allow_conditional_comments:!0,comment:function(Pe){wt.comment(Pe)},cdata:function(Pe){wt.cdata(Pe)},text:function(Pe,Ct){wt.text(Pe,Ct)},start:function(Pe,Ct,Nt){if(!En.get())if(oe(Ct.map,"data-ephox-embed-iri"))En.set(!0),gt(qe,Ct);else{switch(Pe){case"video":case"object":case"embed":case"img":case"iframe":qe.height!==void 0&&qe.width!==void 0&&at(Ct,{width:qe.width,height:qe.height});break}if(Te)switch(Pe){case"video":at(Ct,{poster:qe.poster,src:""}),qe.altsource&&at(Ct,{src:""});break;case"iframe":at(Ct,{src:qe.source});break;case"source":if(zn<2&&(at(Ct,{src:qe[ut[zn]],type:qe[ut[zn]+"mime"]}),!qe[ut[zn]]))return;zn++;break;case"img":if(!qe.poster)return;ye=!0;break}}wt.start(Pe,Ct,Nt)},end:function(Pe){if(!En.get()){if(Pe==="video"&&Te){for(var Ct=0;Ct<2;Ct++)if(qe[ut[Ct]]){var Nt=[];Nt.map={},zn<=Ct&&(at(Nt,{src:qe[ut[Ct]],type:qe[ut[Ct]+"mime"]}),wt.start("source",Nt,!0))}}if(qe.poster&&Pe==="object"&&Te&&!ye){var j=[];j.map={},at(j,{src:qe.poster,width:qe.width,height:qe.height}),wt.start("img",j,!0)}}wt.end(Pe)}},Oe({})).parse(ke),wt.getContent()},_n=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Re=function(ke){var qe=ke.match(/^(https?:\/\/|www\.)(.+)$/i);return qe&&qe.length>1?qe[1]==="www."?"https://":qe[1]:"https://"},Tt=function(ke,qe){for(var Te=Re(qe),wt=ke.regex.exec(qe),En=Te+ke.url,zn=function(Pe){En=En.replace("$"+Pe,function(){return wt[Pe]?wt[Pe]:""})},ye=0;ye<wt.length;ye++)zn(ye);return En.replace(/\?$/,"")},ln=function(ke){var qe=_n.filter(function(Te){return Te.regex.test(ke)});return qe.length>0?Le.extend({},qe[0],{url:Tt(qe[0],ke)}):null},Ut=function(ke){var qe=ke.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ke.source+'" width="'+ke.width+'" height="'+ke.height+'"'+qe+"></iframe>"},fn=function(ke){var qe='<object data="'+ke.source+'" width="'+ke.width+'" height="'+ke.height+'" type="application/x-shockwave-flash">';return ke.poster&&(qe+='<img src="'+ke.poster+'" width="'+ke.width+'" height="'+ke.height+'" />'),qe+="</object>",qe},bn=function(ke,qe){return qe?qe(ke):'<audio controls="controls" src="'+ke.source+'">'+(ke.altsource?`
<source src="`+ke.altsource+'"'+(ke.altsourcemime?' type="'+ke.altsourcemime+'"':"")+` />
`:"")+"</audio>"},In=function(ke,qe){return qe?qe(ke):'<video width="'+ke.width+'" height="'+ke.height+'"'+(ke.poster?' poster="'+ke.poster+'"':"")+` controls="controls">
<source src="`+ke.source+'"'+(ke.sourcemime?' type="'+ke.sourcemime+'"':"")+` />
`+(ke.altsource?'<source src="'+ke.altsource+'"'+(ke.altsourcemime?' type="'+ke.altsourcemime+'"':"")+` />
`:"")+"</video>"},sr=function(ke){return'<script src="'+ke.source+'"><\/script>'},yr=function(ke,qe){var Te=Le.extend({},qe);if(!Te.source&&(Le.extend(Te,Vt(z(ke),Te.embed)),!Te.source))return"";Te.altsource||(Te.altsource=""),Te.poster||(Te.poster=""),Te.source=ke.convertURL(Te.source,"source"),Te.altsource=ke.convertURL(Te.altsource,"source"),Te.sourcemime=it(Te.source),Te.altsourcemime=it(Te.altsource),Te.poster=ke.convertURL(Te.poster,"poster");var wt=ln(Te.source);if(wt&&(Te.source=wt.url,Te.type=wt.type,Te.allowfullscreen=wt.allowFullscreen,Te.width=Te.width||String(wt.w),Te.height=Te.height||String(wt.h)),Te.embed)return Et(Te.embed,Te,!0);var En=ft(z(ke),Te.source);En&&(Te.type="script",Te.width=String(En.width),Te.height=String(En.height));var zn=G(ke),ye=he(ke);return Te.width=Te.width||"300",Te.height=Te.height||"150",Le.each(Te,function(Pe,Ct){Te[Ct]=ke.dom.encode(""+Pe)}),Te.type==="iframe"?Ut(Te):Te.sourcemime==="application/x-shockwave-flash"?fn(Te):Te.sourcemime.indexOf("audio")!==-1?bn(Te,zn):Te.type==="script"?sr(Te):In(Te,ye)},$t=function(ke){return ke.hasAttribute("data-mce-object")||ke.hasAttribute("data-ephox-embed-iri")},Dt=function(ke){ke.on("click keyup touchend",function(){var qe=ke.selection.getNode();qe&&ke.dom.hasClass(qe,"mce-preview-object")&&ke.dom.getAttrib(qe,"data-mce-selected")&&qe.setAttribute("data-mce-selected","2")}),ke.on("ObjectSelected",function(qe){var Te=qe.target.getAttribute("data-mce-object");Te==="script"&&qe.preventDefault()}),ke.on("ObjectResized",function(qe){var Te=qe.target;if(Te.getAttribute("data-mce-object")){var wt=Te.getAttribute("data-mce-html");wt&&(wt=unescape(wt),Te.setAttribute("data-mce-html",escape(Et(wt,{width:String(qe.width),height:String(qe.height)}))))}})},Ft=tinymce.util.Tools.resolve("tinymce.util.Promise"),rt={},st=function(ke,qe,Te){return new Ft(function(wt,En){var zn=function(ye){return ye.html&&(rt[ke.source]=ye),wt({url:ke.source,html:ye.html?ye.html:qe(ke)})};rt[ke.source]?zn(rt[ke.source]):Te({url:ke.source},zn,En)})},Wt=function(ke,qe){return Ft.resolve({html:qe(ke),url:ke.source})},dn=function(ke){return function(qe){return yr(ke,qe)}},Xt=function(ke,qe){var Te=je(ke);return Te?st(qe,dn(ke),Te):Wt(qe,dn(ke))},Ve=function(ke){return oe(rt,ke)},Yt=function(ke,qe){return Ce(qe,ke).bind(function(Te){return Ce(Te,"meta")})},On=function(ke,qe,Te){return function(wt){var En,zn=function(){return Ce(ke,wt)},ye=function(){return Ce(qe,wt)},Pe=function(j){return Ce(j,"value").bind(function(ve){return ve.length>0?Z.some(ve):Z.none()})},Ct=function(){return zn().bind(function(j){return k(j)?Pe(j).orThunk(ye):ye().orThunk(function(){return Z.from(j)})})},Nt=function(){return ye().orThunk(function(){return zn().bind(function(j){return k(j)?Pe(j):Z.from(j)})})};return En={},En[wt]=(wt===Te?Ct():Nt()).getOr(""),En}},wn=function(ke,qe){var Te={};return Ce(ke,"dimensions").each(function(wt){Q(["width","height"],function(En){Ce(qe,En).orThunk(function(){return Ce(wt,En)}).each(function(zn){return Te[En]=zn})})}),Te},jn=function(ke,qe){var Te=qe?Yt(qe,ke).getOr({}):{},wt=On(ke,Te,qe);return g(g(g(g(g({},wt("source")),wt("altsource")),wt("poster")),wt("embed")),wn(ke,Te))},He=function(ke){var qe=g(g({},ke),{source:{value:Ce(ke,"source").getOr("")},altsource:{value:Ce(ke,"altsource").getOr("")},poster:{value:Ce(ke,"poster").getOr("")}});return Q(["width","height"],function(Te){Ce(ke,Te).each(function(wt){var En=qe.dimensions||{};En[Te]=wt,qe.dimensions=En})}),qe},Lt=function(ke){return function(qe){var Te=qe&&qe.msg?"Media embed handler error: "+qe.msg:"Media embed handler threw unknown error.";ke.notificationManager.open({type:"error",text:Te})}},_t=function(ke,qe){return Vt(z(ke),qe)},an=function(ke){var qe=ke.selection.getNode(),Te=$t(qe)?ke.serializer.serialize(qe,{selection:!0}):"";return g({embed:Te},Vt(z(ke),Te))},Un=function(ke,qe){return function(Te){if(y(Te.url)&&Te.url.trim().length>0){var wt=Te.html,En=_t(qe,wt),zn=g(g({},En),{source:Te.url,embed:wt});ke.setData(He(zn))}}},kr=function(ke,qe){for(var Te=ke.dom.select("*[data-mce-object]"),wt=0;wt<qe.length;wt++)for(var En=Te.length-1;En>=0;En--)qe[wt]===Te[En]&&Te.splice(En,1);ke.selection.select(Te[0])},Oa=function(ke,qe){var Te=ke.dom.select("*[data-mce-object]");ke.insertContent(qe),kr(ke,Te),ke.nodeChanged()},_r=function(ke,qe,Te){qe.embed=Et(qe.embed,qe),qe.embed&&(ke.source===qe.source||Ve(qe.source))?Oa(Te,qe.embed):Xt(Te,qe).then(function(wt){Oa(Te,wt.html)}).catch(Lt(Te))},Ar=function(ke){var qe=an(ke),Te=me(qe),wt=He(qe),En=function(Bn,fr){var wr=jn(fr.getData(),"source");Bn.source!==wr.source&&(Un(xn,ke)({url:wr.source,html:""}),Xt(ke,wr).then(Un(xn,ke)).catch(Lt(ke)))},zn=function(Bn){var fr=jn(Bn.getData()),wr=_t(ke,fr.embed);Bn.setData(He(wr))},ye=function(Bn,fr){var wr=jn(Bn.getData(),fr),Qn=yr(ke,wr);Bn.setData(He(g(g({},wr),{embed:Qn})))},Pe=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ct=Ae(ke)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Nt={title:"General",name:"general",items:X([Pe,Ct])},j={type:"textarea",name:"embed",label:"Paste your embed code below:"},ve={title:"Embed",items:[j]},_e=[];tt(ke)&&_e.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),E(ke)&&_e.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var Je={title:"Advanced",name:"advanced",items:_e},pt=[Nt,ve];_e.length>0&&pt.push(Je);var bt={type:"tabpanel",tabs:pt},xn=ke.windowManager.open({title:"Insert/Edit Media",size:"normal",body:bt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Bn){var fr=jn(Bn.getData());_r(Te.get(),fr,ke),Bn.close()},onChange:function(Bn,fr){switch(fr.name){case"source":En(Te.get(),Bn);break;case"embed":zn(Bn);break;case"dimensions":case"altsource":case"poster":ye(Bn,fr.name);break}Te.set(jn(Bn.getData()))},initialData:wt})},_a=function(ke){var qe=function(){Ar(ke)};return{showDialog:qe}},xo=function(ke){var qe=function(){Ar(ke)};ke.addCommand("mceMedia",qe)},oo=tinymce.util.Tools.resolve("tinymce.html.Node"),hn=tinymce.util.Tools.resolve("tinymce.Env"),or=tinymce.util.Tools.resolve("tinymce.html.DomParser"),tr=function(ke,qe){if(Me(ke)===!1)return qe;var Te=dt(),wt;return ze({validate:!1,allow_conditional_comments:!1,comment:function(En){wt||Te.comment(En)},cdata:function(En){wt||Te.cdata(En)},text:function(En,zn){wt||Te.text(En,zn)},start:function(En,zn,ye){if(wt=!0,!(En==="script"||En==="noscript"||En==="svg")){for(var Pe=zn.length-1;Pe>=0;Pe--){var Ct=zn[Pe].name;Ct.indexOf("on")===0&&(delete zn.map[Ct],zn.splice(Pe,1)),Ct==="style"&&(zn[Pe].value=ke.dom.serializeStyle(ke.dom.parseStyle(zn[Pe].value),En))}Te.start(En,zn,ye),wt=!1}},end:function(En){wt||Te.end(En)}},Oe({})).parse(qe),Te.getContent()},Wr=function(ke){var qe=ke.name;return qe==="iframe"||qe==="video"||qe==="audio"},va=function(ke,qe,Te,wt){wt===void 0&&(wt=null);var En=ke.attr(Te);return P(En)?En:oe(qe,Te)?null:wt},Pa=function(ke,qe,Te){var wt=qe.name==="img"||ke.name==="video",En=wt?"300":null,zn=ke.name==="audio"?"30":"150",ye=wt?zn:null;qe.attr({width:va(ke,Te,"width",En),height:va(ke,Te,"height",ye)})},Nr=function(ke,qe,Te,wt){for(var En=or({forced_root_block:!1,validate:!1},ke.schema).parse(wt,{context:qe});En.firstChild;)Te.append(En.firstChild)},Fa=function(ke,qe){var Te=qe.name,wt=new oo("img",1);return wt.shortEnded=!0,Do(ke,qe,wt),Pa(qe,wt,{}),wt.attr({style:qe.attr("style"),src:hn.transparentSrc,"data-mce-object":Te,class:"mce-object mce-object-"+Te}),wt},Yn=function(ke,qe){var Te=qe.name,wt=new oo("span",1);wt.attr({contentEditable:"false",style:qe.attr("style"),"data-mce-object":Te,class:"mce-preview-object mce-object-"+Te}),Do(ke,qe,wt);var En=ke.dom.parseStyle(qe.attr("style")),zn=new oo(Te,1);if(Pa(qe,zn,En),zn.attr({src:qe.attr("src"),style:qe.attr("style"),class:qe.attr("class")}),Te==="iframe")zn.attr({allowfullscreen:qe.attr("allowfullscreen"),frameborder:"0"});else{var ye=["controls","crossorigin","currentTime","loop","muted","poster","preload"];Q(ye,function(Nt){zn.attr(Nt,qe.attr(Nt))});var Pe=wt.attr("data-mce-html");P(Pe)&&Nr(ke,Te,zn,unescape(Pe))}var Ct=new oo("span",1);return Ct.attr("class","mce-shim"),wt.append(zn),wt.append(Ct),wt},Do=function(ke,qe,Te){for(var wt=qe.attributes,En=wt.length;En--;){var zn=wt[En].name,ye=wt[En].value;zn!=="width"&&zn!=="height"&&zn!=="style"&&((zn==="data"||zn==="src")&&(ye=ke.convertURL(ye,zn)),Te.attr("data-mce-p-"+zn,ye))}var Pe=qe.firstChild&&qe.firstChild.value;Pe&&(Te.attr("data-mce-html",escape(tr(ke,Pe))),Te.firstChild=null)},Ga=function(ke){var qe=ke.attr("class");return qe&&/\btiny-pageembed\b/.test(qe)},Aa=function(ke){for(;ke=ke.parent;)if(ke.attr("data-ephox-embed-iri")||Ga(ke))return!0;return!1},ko=function(ke){return function(qe){for(var Te=qe.length,wt,En;Te--;)wt=qe[Te],wt.parent&&(wt.parent.attr("data-mce-object")||wt.name==="script"&&(En=ft(z(ke),wt.attr("src")),!En)||(En&&(En.width&&wt.attr("width",En.width.toString()),En.height&&wt.attr("height",En.height.toString())),Wr(wt)&&Ge(ke)&&hn.ceFalse?Aa(wt)||wt.replace(Yn(ke,wt)):Aa(wt)||wt.replace(Fa(ke,wt))))}},io=function(ke){ke.on("preInit",function(){var qe=ke.schema.getSpecialElements();Le.each("video audio iframe object".split(" "),function(wt){qe[wt]=new RegExp("</"+wt+"[^>]*>","gi")});var Te=ke.schema.getBoolAttrs();Le.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(wt){Te[wt]={}}),ke.parser.addNodeFilter("iframe,video,audio,object,embed,script",ko(ke)),ke.serializer.addAttributeFilter("data-mce-object",function(wt,En){for(var zn=wt.length,ye,Pe,Ct,Nt,j,ve,_e,Je;zn--;)if(ye=wt[zn],!!ye.parent){for(_e=ye.attr(En),Pe=new oo(_e,1),_e!=="audio"&&_e!=="script"&&(Je=ye.attr("class"),Je&&Je.indexOf("mce-preview-object")!==-1?Pe.attr({width:ye.firstChild.attr("width"),height:ye.firstChild.attr("height")}):Pe.attr({width:ye.attr("width"),height:ye.attr("height")})),Pe.attr({style:ye.attr("style")}),Nt=ye.attributes,Ct=Nt.length;Ct--;){var pt=Nt[Ct].name;pt.indexOf("data-mce-p-")===0&&Pe.attr(pt.substr(11),Nt[Ct].value)}_e==="script"&&Pe.attr("type","text/javascript"),j=ye.attr("data-mce-html"),j&&(ve=new oo("#text",3),ve.raw=!0,ve.value=tr(ke,unescape(j)),Pe.append(ve)),ye.replace(Pe)}})}),ke.on("SetContent",function(){ke.$("span.mce-preview-object").each(function(qe,Te){var wt=ke.$(Te);wt.find("span.mce-shim").length===0&&wt.append('<span class="mce-shim"></span>')})})},Yo=function(ke){ke.on("ResolveName",function(qe){var Te;qe.target.nodeType===1&&(Te=qe.target.getAttribute("data-mce-object"))&&(qe.name=Te)})},ti=function(ke){var qe=function(){return ke.execCommand("mceMedia")};ke.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:qe,onSetup:function(Te){var wt=ke.selection;return Te.setActive($t(wt.getNode())),wt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Te.setActive).unbind}}),ke.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:qe})};function $i(){s.add("media",function(ke){return xo(ke),ti(ke),Yo(ke),io(ke),Dt(ke),_a(ke)})}$i()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(D){var F=D.getParam("nonbreaking_force_tab",0);return typeof F=="boolean"?F===!0?3:0:F},d=function(D){return D.getParam("nonbreaking_wrap",!0,"boolean")},h=function(D,F){for(var L="",J=0;J<F;J++)L+=D;return L},y=function(D){return D.plugins.visualchars?D.plugins.visualchars.isEnabled():!1},k=function(D,F){var L=function(){return y(D)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},J=function(){return'<span class="'+L()+'" contenteditable="false">'+h("&nbsp;",F)+"</span>"},_=d(D),U=_||D.plugins.visualchars?J():h("&nbsp;",F);D.undoManager.transact(function(){return D.insertContent(U)})},x=function(D){D.addCommand("mceNonBreaking",function(){k(D,1)})},T=tinymce.util.Tools.resolve("tinymce.util.VK"),P=function(D){var F=g(D);F>0&&D.on("keydown",function(L){if(L.keyCode===T.TAB&&!L.isDefaultPrevented()){if(L.shiftKey)return;L.preventDefault(),L.stopImmediatePropagation(),k(D,F)}})},I=function(D){var F=function(){return D.execCommand("mceNonBreaking")};D.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:F}),D.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:F})};function B(){s.add("nonbreaking",function(D){x(D),I(D),P(D)})}B()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(B){return B.getParam("noneditable_noneditable_class","mceNonEditable")},h=function(B){return B.getParam("noneditable_editable_class","mceEditable")},y=function(B){var D=B.getParam("noneditable_regexp",[]);return D&&D.constructor===RegExp?[D]:D},k=function(B){return function(D){return(" "+D.attr("class")+" ").indexOf(B)!==-1}},x=function(B,D,F){return function(L){var J=arguments,_=J[J.length-2],U=_>0?D.charAt(_-1):"";if(U==='"')return L;if(U===">"){var te=D.lastIndexOf("<",_);if(te!==-1){var Z=D.substring(te,_);if(Z.indexOf('contenteditable="false"')!==-1)return L}}return'<span class="'+F+'" data-mce-content="'+B.dom.encode(J[0])+'">'+B.dom.encode(typeof J[1]=="string"?J[1]:J[0])+"</span>"}},T=function(B,D,F){var L=D.length,J=F.content;if(F.format!=="raw"){for(;L--;)J=J.replace(D[L],x(B,J,d(B)));F.content=J}},P=function(B){var D="contenteditable",F=" "+g.trim(h(B))+" ",L=" "+g.trim(d(B))+" ",J=k(F),_=k(L),U=y(B);B.on("PreInit",function(){U.length>0&&B.on("BeforeSetContent",function(te){T(B,U,te)}),B.parser.addAttributeFilter("class",function(te){for(var Z=te.length,R;Z--;)R=te[Z],J(R)?R.attr(D,"true"):_(R)&&R.attr(D,"false")}),B.serializer.addAttributeFilter(D,function(te){for(var Z=te.length,R;Z--;)R=te[Z],!(!J(R)&&!_(R))&&(U.length>0&&R.attr("data-mce-content")?(R.name="#text",R.type=3,R.raw=!0,R.value=R.attr("data-mce-content")):R.attr(D,null))})})};function I(){s.add("noneditable",function(B){P(B)})}I()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.Env"),d=function(D){return D.getParam("pagebreak_separator","<!-- pagebreak -->")},h=function(D){return D.getParam("pagebreak_split_block",!1)},y="mce-pagebreak",k=function(D){var F='<img src="'+g.transparentSrc+'" class="'+y+'" data-mce-resize="false" data-mce-placeholder />';return D?"<p>"+F+"</p>":F},x=function(D){var F=d(D),L=function(){return h(D)},J=new RegExp(F.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(_){return"\\"+_}),"gi");D.on("BeforeSetContent",function(_){_.content=_.content.replace(J,k(L()))}),D.on("PreInit",function(){D.serializer.addNodeFilter("img",function(_){for(var U=_.length,te,Z;U--;)if(te=_[U],Z=te.attr("class"),Z&&Z.indexOf(y)!==-1){var R=te.parent;if(D.schema.getBlockElements()[R.name]&&L()){R.type=3,R.value=F,R.raw=!0,te.remove();continue}te.type=3,te.value=F,te.raw=!0}})})},T=function(D){D.addCommand("mcePageBreak",function(){D.insertContent(k(h(D)))})},P=function(D){D.on("ResolveName",function(F){F.target.nodeName==="IMG"&&D.dom.hasClass(F.target,y)&&(F.name="pagebreak")})},I=function(D){var F=function(){return D.execCommand("mcePageBreak")};D.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:F}),D.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:F})};function B(){s.add("pagebreak",function(D){T(D),I(D),x(D),P(D)})}B()})();(function(){var s=function(A){var Y=A,ce=function(){return Y},Ie=function(St){Y=St};return{get:ce,set:Ie}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(A){return A.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},h=function(A){return{clipboard:A}},y=function(A){var Y=typeof A;return A===null?"null":Y==="object"&&(Array.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="Array")?"array":Y==="object"&&(String.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="String")?"string":Y},k=function(A){return function(Y){return y(Y)===A}},x=function(A){return function(Y){return typeof Y===A}},T=k("array"),P=function(A){return A==null},I=function(A){return!P(A)},B=x("function"),D=function(){},F=function(A){return function(){return A}},L=function(A){return A},J=F(!1),_=F(!0),U=function(){return te},te=function(){var A=function(Ie){return Ie()},Y=L,ce={fold:function(Ie,St){return Ie()},isSome:J,isNone:_,getOr:Y,getOrThunk:A,getOrDie:function(Ie){throw new Error(Ie||"error: getOrDie called on none.")},getOrNull:F(null),getOrUndefined:F(void 0),or:Y,orThunk:A,map:U,each:D,bind:U,exists:J,forall:_,filter:function(){return U()},toArray:function(){return[]},toString:F("none()")};return ce}(),Z=function(A){var Y=F(A),ce=function(){return St},Ie=function(cn){return cn(A)},St={fold:function(cn,ur){return ur(A)},isSome:_,isNone:J,getOr:Y,getOrThunk:Y,getOrDie:Y,getOrNull:Y,getOrUndefined:Y,or:ce,orThunk:ce,map:function(cn){return Z(cn(A))},each:function(cn){cn(A)},bind:Ie,exists:Ie,forall:Ie,filter:function(cn){return cn(A)?St:te},toArray:function(){return[A]},toString:function(){return"some("+A+")"}};return St},R=function(A){return A==null?te:Z(A)},Q={some:Z,none:U,from:R},X=Array.prototype.slice,me=Array.prototype.push,xe=function(A,Y){for(var ce=0,Ie=A.length;ce<Ie;ce++){var St=A[ce];if(Y(St,ce))return!0}return!1},fe=function(A,Y){for(var ce=A.length,Ie=new Array(ce),St=0;St<ce;St++){var cn=A[St];Ie[St]=Y(cn,St)}return Ie},se=function(A,Y){for(var ce=0,Ie=A.length;ce<Ie;ce++){var St=A[ce];Y(St,ce)}},Ce=function(A,Y){for(var ce=[],Ie=0,St=A.length;Ie<St;Ie++){var cn=A[Ie];Y(cn,Ie)&&ce.push(cn)}return ce},oe=function(A,Y,ce){return se(A,function(Ie,St){ce=Y(ce,Ie,St)}),ce},z=function(A){for(var Y=[],ce=0,Ie=A.length;ce<Ie;++ce){if(!T(A[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+A);me.apply(Y,A[ce])}return Y},G=function(A,Y){return z(fe(A,Y))},he=B(Array.from)?Array.from:function(A){return X.call(A)},Ge=function(){return Ge=Object.assign||function(Y){for(var ce,Ie=1,St=arguments.length;Ie<St;Ie++){ce=arguments[Ie];for(var cn in ce)Object.prototype.hasOwnProperty.call(ce,cn)&&(Y[cn]=ce[cn])}return Y},Ge.apply(this,arguments)},Me=function(A){var Y=s(Q.none()),ce=function(){return Y.get().each(A)},Ie=function(){ce(),Y.set(Q.none())},St=function(){return Y.get().isSome()},cn=function(){return Y.get()},ur=function(Er){ce(),Y.set(Q.some(Er))};return{clear:Ie,isSet:St,get:cn,set:ur}},je=function(){var A=Me(D),Y=function(ce){return A.get().each(ce)};return Ge(Ge({},A),{on:Y})},tt=function(A,Y,ce){return Y===""||A.length>=Y.length&&A.substr(ce,ce+Y.length)===Y},E=function(A,Y){return tt(A,Y,0)},Ae=function(A,Y){return tt(A,Y,A.length-Y.length)},Le=function(A,Y){return Y<=0?"":new Array(Y+1).join(A)},At=tinymce.util.Tools.resolve("tinymce.Env"),ze=tinymce.util.Tools.resolve("tinymce.util.Delay"),ft=tinymce.util.Tools.resolve("tinymce.util.Promise"),Xe=tinymce.util.Tools.resolve("tinymce.util.VK"),ct=function(A,Y,ce,Ie){return A.fire("PastePreProcess",{content:Y,internal:ce,wordContent:Ie})},re=function(A,Y,ce,Ie){return A.fire("PastePostProcess",{node:Y,internal:ce,wordContent:Ie})},Vt=function(A,Y){return A.fire("PastePlainTextToggle",{state:Y})},it=function(A,Y){return A.fire("paste",{ieFake:Y})},Oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),dt=function(A){return A.getParam("paste_block_drop",!1)},Ne=function(A){return A.getParam("paste_data_images",!1)},Be=function(A){return A.getParam("paste_filter_drop",!0)},at=function(A){return A.getParam("paste_preprocess")},gt=function(A){return A.getParam("paste_postprocess")},ut=function(A){return A.getParam("paste_webkit_styles")},Et=function(A){return A.getParam("paste_remove_styles_if_webkit",!0)},_n=function(A){return A.getParam("paste_merge_formats",!0)},Re=function(A){return A.getParam("smart_paste",!0)},Tt=function(A){return A.getParam("paste_as_text",!1)},ln=function(A){return A.getParam("paste_retain_style_properties")},Ut=function(A){var Y="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return A.getParam("paste_word_valid_elements",Y)},fn=function(A){return A.getParam("paste_convert_word_fake_lists",!0)},bn=function(A){return A.getParam("paste_enable_default_filters",!0)},In=function(A){return A.getParam("validate")},sr=function(A){return A.getParam("allow_html_data_urls",!1,"boolean")},yr=function(A){return A.getParam("paste_data_images",!1,"boolean")},$t=function(A){return A.getParam("images_dataimg_filter")},Dt=function(A){return A.getParam("images_reuse_filename")},Ft=function(A){return A.getParam("forced_root_block")},rt=function(A){return A.getParam("forced_root_block_attrs")},st=function(A){return A.getParam("paste_tab_spaces",4,"number")},Wt=function(A){var Y="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Oe.explode(A.getParam("images_file_types",Y,"string"))},dn="x-tinymce/html",Xt="<!-- "+dn+" -->",Ve=function(A){return Xt+A},Yt=function(A){return A.replace(Xt,"")},On=function(A){return A.indexOf(Xt)!==-1},wn=F(dn),jn=Object.hasOwnProperty,He=function(A,Y){return jn.call(A,Y)},Lt=tinymce.util.Tools.resolve("tinymce.html.Entities"),_t=function(A){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(A)},an=function(A){return A.replace(/\r?\n/g,"<br>")},Un=function(A,Y){var ce=[],Ie="<"+A;if(typeof Y=="object"){for(var St in Y)He(Y,St)&&ce.push(St+'="'+Lt.encodeAllRaw(Y[St])+'"');ce.length&&(Ie+=" "+ce.join(" "))}return Ie+">"},kr=function(A,Y,ce){var Ie=A.split(/\n\n/),St=Un(Y,ce),cn="</"+Y+">",ur=Oe.map(Ie,function(Fn){return Fn.split(/\n/).join("<br />")}),Er=function(Fn){return St+Fn+cn};return ur.length===1?ur[0]:Oe.map(ur,Er).join("")},Oa=function(A,Y,ce){return Y?kr(A,Y===!0?"p":Y,ce):an(A)},_r=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ar=tinymce.util.Tools.resolve("tinymce.html.Serializer"),_a=" ",xo=tinymce.util.Tools.resolve("tinymce.html.Node"),oo=tinymce.util.Tools.resolve("tinymce.html.Schema"),hn=function(A){return A.constructor===RegExp},or=function(A,Y){return Oe.each(Y,function(ce){hn(ce)?A=A.replace(ce,""):A=A.replace(ce[0],ce[1])}),A},tr=function(A){var Y=oo(),ce=_r({},Y),Ie="",St=Y.getShortEndedElements(),cn=Oe.makeMap("script noscript style textarea video audio iframe object"," "),ur=Y.getBlockElements(),Er=function(Fn){var er=Fn.name,Lr=Fn;if(er==="br"){Ie+=`
`;return}if(er!=="wbr"){if(St[er]&&(Ie+=" "),cn[er]){Ie+=" ";return}if(Fn.type===3&&(Ie+=Fn.value),!Fn.shortEnded&&(Fn=Fn.firstChild))do Er(Fn);while(Fn=Fn.next);ur[er]&&Lr.next&&(Ie+=`
`,er==="p"&&(Ie+=`
`))}};return A=or(A,[/<!\[[^\]]+\]>/g]),Er(ce.parse(A)),Ie},Wr=function(A){var Y=function(ce,Ie,St){return!Ie&&!St?" ":_a};return A=or(A,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,Y],/<br class="Apple-interchange-newline">/g,/<br>$/i]),A},va=function(A){var Y=0;return function(){return A+Y++}},Pa=function(A){var Y=A.toLowerCase(),ce={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Oe.hasOwn(ce,Y)?"image/"+ce[Y]:"image/"+Y},Nr=function(A){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(A)||/class="OutlineElement/.test(A)||/id="?docs\-internal\-guid\-/.test(A)},Fa=function(A){var Y=!1,ce=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return A=A.replace(/^[\u00a0 ]+/,""),Oe.each(ce,function(Ie){if(Ie.test(A))return Y=!0,!1}),Y},Yn=function(A){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(A)},Do=function(A){for(var Y,ce,Ie=1,St=function(Br){var Ba="";if(Br.type===3)return Br.value;if(Br=Br.firstChild)do Ba+=St(Br);while(Br=Br.next);return Ba},cn=function(Br,Ba){if(Br.type===3&&Ba.test(Br.value))return Br.value=Br.value.replace(Ba,""),!1;if(Br=Br.firstChild)do if(!cn(Br,Ba))return!1;while(Br=Br.next);return!0},ur=function(Br){if(Br._listIgnore){Br.remove();return}if(Br=Br.firstChild)do ur(Br);while(Br=Br.next)},Er=function(Br,Ba,Ra){var Hi=Br._listLevel||Ie;Hi!==Ie&&(Hi<Ie?Y&&(Y=Y.parent.parent):(ce=Y,Y=null)),!Y||Y.name!==Ba?(ce=ce||Y,Y=new xo(Ba,1),Ra>1&&Y.attr("start",""+Ra),Br.wrap(Y)):Y.append(Br),Br.name="li",Hi>Ie&&ce&&ce.lastChild.append(Y),Ie=Hi,ur(Br),cn(Br,/^\u00a0+/),cn(Br,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),cn(Br,/^\u00a0+/)},Fn=[],er=A.firstChild;typeof er<"u"&&er!==null;)if(Fn.push(er),er=er.walk(),er!==null)for(;typeof er<"u"&&er.parent!==A;)er=er.walk();for(var Lr=0;Lr<Fn.length;Lr++)if(A=Fn[Lr],A.name==="p"&&A.firstChild){var Jr=St(A);if(Yn(Jr)){Er(A,"ul");continue}if(Fa(Jr)){var Or=/([0-9]+)\./.exec(Jr),to=1;Or&&(to=parseInt(Or[1],10)),Er(A,"ol",to);continue}if(A._listLevel){Er(A,"ul",1);continue}Y=null}else ce=Y,Y=null},Ga=function(A,Y,ce,Ie){var St={},cn=A.dom.parseStyle(Ie);Oe.each(cn,function(Er,Fn){switch(Fn){case"mso-list":var er=/\w+ \w+([0-9]+)/i.exec(Ie);er&&(ce._listLevel=parseInt(er[1],10)),/Ignore/i.test(Er)&&ce.firstChild&&(ce._listIgnore=!0,ce.firstChild._listIgnore=!0);break;case"horiz-align":Fn="text-align";break;case"vert-align":Fn="vertical-align";break;case"font-color":case"mso-foreground":Fn="color";break;case"mso-background":case"mso-highlight":Fn="background";break;case"font-weight":case"font-style":Er!=="normal"&&(St[Fn]=Er);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Er)){ce.remove();return}break}if(Fn.indexOf("mso-comment")===0){ce.remove();return}Fn.indexOf("mso-")!==0&&(ln(A)==="all"||Y&&Y[Fn])&&(St[Fn]=Er)}),/(bold)/i.test(St["font-weight"])&&(delete St["font-weight"],ce.wrap(new xo("b",1))),/(italic)/i.test(St["font-style"])&&(delete St["font-style"],ce.wrap(new xo("i",1)));var ur=A.dom.serializeStyle(St,ce.name);return ur||null},Aa=function(A,Y){var ce,Ie=ln(A);Ie&&(ce=Oe.makeMap(Ie.split(/[, ]/))),Y=or(Y,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,_a],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Fn,er){return er.length>0?er.replace(/./," ").slice(Math.floor(er.length/2)).split("").join(_a):""}]]);var St=Ut(A),cn=oo({valid_elements:St,valid_children:"-li[p]"});Oe.each(cn.elements,function(Fn){Fn.attributes.class||(Fn.attributes.class={},Fn.attributesOrder.push("class")),Fn.attributes.style||(Fn.attributes.style={},Fn.attributesOrder.push("style"))});var ur=_r({},cn);ur.addAttributeFilter("style",function(Fn){for(var er=Fn.length,Lr;er--;)Lr=Fn[er],Lr.attr("style",Ga(A,ce,Lr,Lr.attr("style"))),Lr.name==="span"&&Lr.parent&&!Lr.attributes.length&&Lr.unwrap()}),ur.addAttributeFilter("class",function(Fn){for(var er=Fn.length,Lr,Jr;er--;)Lr=Fn[er],Jr=Lr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Jr)&&Lr.remove(),Lr.attr("class",null)}),ur.addNodeFilter("del",function(Fn){for(var er=Fn.length;er--;)Fn[er].remove()}),ur.addNodeFilter("a",function(Fn){for(var er=Fn.length,Lr,Jr,Or;er--;){if(Lr=Fn[er],Jr=Lr.attr("href"),Or=Lr.attr("name"),Jr&&Jr.indexOf("#_msocom_")!==-1){Lr.remove();continue}if(Jr&&Jr.indexOf("file://")===0&&(Jr=Jr.split("#")[1],Jr&&(Jr="#"+Jr)),!Jr&&!Or)Lr.unwrap();else{if(Or&&!/^_?(?:toc|edn|ftn)/i.test(Or)){Lr.unwrap();continue}Lr.attr({href:Jr,name:Or})}}});var Er=ur.parse(Y);return fn(A)&&Do(Er),Y=Ar({validate:In(A)},cn).serialize(Er),Y},ko=function(A,Y){return bn(A)?Aa(A,Y):Y},io=function(A,Y){var ce=_r({},A.schema);ce.addNodeFilter("meta",function(St){Oe.each(St,function(cn){cn.remove()})});var Ie=ce.parse(Y,{forced_root_block:!1,isRootContent:!0});return Ar({validate:In(A)},A.schema).serialize(Ie)},Yo=function(A,Y){return{content:A,cancelled:Y}},ti=function(A,Y,ce,Ie){var St=A.dom.create("div",{style:"display:none"},Y),cn=re(A,St,ce,Ie);return Yo(cn.node.innerHTML,cn.isDefaultPrevented())},$i=function(A,Y,ce,Ie){var St=ct(A,Y,ce,Ie),cn=io(A,St.content);return A.hasEventListeners("PastePostProcess")&&!St.isDefaultPrevented()?ti(A,cn,ce,Ie):Yo(cn,St.isDefaultPrevented())},ke=function(A,Y,ce){var Ie=Nr(Y),St=Ie?ko(A,Y):Y;return $i(A,St,ce,Ie)},qe=function(A,Y){return A.insertContent(Y,{merge:_n(A),paste:!0}),!0},Te=function(A){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(A)},wt=function(A,Y){return Te(Y)&&xe(Wt(A),function(ce){return Ae(Y.toLowerCase(),"."+ce.toLowerCase())})},En=function(A,Y,ce){return A.undoManager.extra(function(){ce(A,Y)},function(){A.insertContent('<img src="'+Y+'">')}),!0},zn=function(A,Y,ce){return A.undoManager.extra(function(){ce(A,Y)},function(){A.execCommand("mceInsertLink",!1,Y)}),!0},ye=function(A,Y,ce){return A.selection.isCollapsed()===!1&&Te(Y)?zn(A,Y,ce):!1},Pe=function(A,Y,ce){return wt(A,Y)?En(A,Y,ce):!1},Ct=function(A,Y){Oe.each([ye,Pe,qe],function(ce){return ce(A,Y,qe)!==!0})},Nt=function(A,Y,ce){ce||Re(A)===!1?qe(A,Y):Ct(A,Y)},j=function(A){return" \f	\v".indexOf(A)!==-1},ve=function(A){return A===`
`||A==="\r"},_e=function(A,Y){return Y<A.length&&Y>=0?ve(A[Y]):!1},Je=function(A,Y){var ce=Le(" ",st(A)),Ie=Y.replace(/\t/g,ce),St=oe(Ie,function(cn,ur){return j(ur)||ur===_a?cn.pcIsSpace||cn.str===""||cn.str.length===Ie.length-1||_e(Ie,cn.str.length+1)?{pcIsSpace:!1,str:cn.str+_a}:{pcIsSpace:!0,str:cn.str+" "}:{pcIsSpace:ve(ur),str:cn.str+ur}},{pcIsSpace:!1,str:""});return St.str},pt=function(A,Y,ce,Ie){var St=ke(A,Y,ce);St.cancelled===!1&&Nt(A,St.content,Ie)},bt=function(A,Y,ce){var Ie=ce||On(Y);pt(A,Yt(Y),Ie,!1)},xn=function(A,Y){var ce=A.dom.encode(Y).replace(/\r\n/g,`
`),Ie=Je(A,ce),St=Oa(Ie,Ft(A),rt(A));pt(A,St,!1,!0)},Bn=function(A){var Y={},ce="data:text/mce-internal,";if(A){if(A.getData){var Ie=A.getData("Text");Ie&&Ie.length>0&&Ie.indexOf(ce)===-1&&(Y["text/plain"]=Ie)}if(A.types)for(var St=0;St<A.types.length;St++){var cn=A.types[St];try{Y[cn]=A.getData(cn)}catch{Y[cn]=""}}}return Y},fr=function(A,Y){return Bn(Y.clipboardData||A.getDoc().dataTransfer)},wr=function(A,Y){return Y in A&&A[Y].length>0},Qn=function(A){return wr(A,"text/html")||wr(A,"text/plain")},xr=function(A){var Y=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(A);return Y?{type:Y[1],data:decodeURIComponent(Y[2])}:{type:null,data:null}},ga=function(A,Y){var ce=$t(A);return ce?ce(Y):!0},Qa=function(A,Y){var ce=Y.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return I(ce)?A.dom.encode(ce[1]):null},To=va("mceclip"),nu=function(A,Y){var ce=xr(Y.uri),Ie=ce.data,St=ce.type,cn=To(),ur=Y.blob,Er=new Image;if(Er.src=Y.uri,ga(A,Er)){var Fn=A.editorUpload.blobCache,er=void 0,Lr=Fn.getByData(Ie,St);if(Lr)er=Lr;else{var Jr=Dt(A)&&I(ur.name),Or=Jr?Qa(A,ur.name):cn,to=Jr?ur.name:void 0;er=Fn.create(cn,ur,Ie,Or,to),Fn.add(er)}bt(A,'<img src="'+er.blobUri()+'">',!1)}else bt(A,'<img src="'+Y.uri+'">',!1)},ru=function(A){return A.type==="paste"},eo=function(A){return I(A.getAsFile)},Zu=function(A){return ft.all(fe(A,function(Y){return new ft(function(ce){var Ie=eo(Y)?Y.getAsFile():Y,St=new window.FileReader;St.onload=function(){ce({blob:Ie,uri:St.result})},St.readAsDataURL(Ie)})}))},hu=function(A){var Y=Wt(A);return function(ce){return E(ce.type,"image/")&&xe(Y,function(Ie){return Pa(Ie)===ce.type})}},mi=function(A,Y){var ce=Y.items?G(he(Y.items),function(St){return St.kind==="file"?[St.getAsFile()]:[]}):[],Ie=Y.files?he(Y.files):[];return Ce(ce.length>0?ce:Ie,hu(A))},Xo=function(A,Y,ce){var Ie=ru(Y)?Y.clipboardData:Y.dataTransfer;if(yr(A)&&Ie){var St=mi(A,Ie);if(St.length>0)return Y.preventDefault(),Zu(St).then(function(cn){ce&&A.selection.setRng(ce),se(cn,function(ur){nu(A,ur)})}),!0}return!1},cs=function(A){var Y=A.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&Y&&Y.items&&Y.items.length===0},Ju=function(A){return Xe.metaKeyPressed(A)&&A.keyCode===86||A.shiftKey&&A.keyCode===45},fs=function(A,Y,ce){var Ie=je(),St=je(),cn;A.on("keyup",St.clear),A.on("keydown",function(Fn){var er=function(Lr){Ju(Lr)&&!Lr.isDefaultPrevented()&&Y.remove()};if(Ju(Fn)&&!Fn.isDefaultPrevented()){if(cn=Fn.shiftKey&&Fn.keyCode===86,cn&&At.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Fn.stopImmediatePropagation(),Ie.set(Fn),St.set(!0),At.ie&&cn){Fn.preventDefault(),it(A,!0);return}Y.remove(),Y.create(),A.once("keyup",er),A.once("paste",function(){A.off("keyup",er)})}});var ur=function(Fn,er,Lr,Jr,Or){var to;wr(er,"text/html")?to=er["text/html"]:(to=Y.getHtml(),Or=Or||On(to),Y.isDefaultContent(to)&&(Jr=!0)),to=Wr(to),Y.remove();var Br=Or===!1&&_t(to),Ba=Te(to);if((!to.length||Br&&!Ba)&&(Jr=!0),(Jr||Ba)&&(wr(er,"text/plain")&&Br?to=er["text/plain"]:to=tr(to)),Y.isDefaultContent(to)){Lr||Fn.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Jr?xn(Fn,to):bt(Fn,to,Or)},Er=function(){return Y.getLastRng()||A.selection.getRng()};A.on("paste",function(Fn){var er=Ie.isSet()||St.isSet();er&&Ie.clear();var Lr=fr(A,Fn),Jr=ce.get()==="text"||cn,Or=wr(Lr,wn());if(cn=!1,Fn.isDefaultPrevented()||cs(Fn)){Y.remove();return}if(!Qn(Lr)&&Xo(A,Fn,Er())){Y.remove();return}er||Fn.preventDefault(),At.ie&&(!er||Fn.ieFake)&&!wr(Lr,"text/html")&&(Y.create(),A.dom.bind(Y.getEl(),"paste",function(to){to.stopPropagation()}),A.getDoc().execCommand("Paste",!1,null),Lr["text/html"]=Y.getHtml()),wr(Lr,"text/html")?(Fn.preventDefault(),Or||(Or=On(Lr["text/html"])),ur(A,Lr,er,Jr,Or)):ze.setEditorTimeout(A,function(){ur(A,Lr,er,Jr,Or)},0)})},Rs=function(A,Y,ce){fs(A,Y,ce);var Ie;A.parser.addNodeFilter("img",function(St,cn,ur){var Er=function(Or){return Or.data&&Or.data.paste===!0},Fn=function(Or){!Or.attr("data-mce-object")&&Ie!==At.transparentSrc&&Or.remove()},er=function(Or){return Or.indexOf("webkit-fake-url")===0},Lr=function(Or){return Or.indexOf("data:")===0};if(!yr(A)&&Er(ur))for(var Jr=St.length;Jr--;)Ie=St[Jr].attr("src"),Ie&&(er(Ie)||!sr(A)&&Lr(Ie))&&Fn(St[Jr])})},Qu=function(A){return At.ie&&A.inline?document.body:A.getBody()},bu=function(A){return Qu(A)!==A.getBody()},Bs=function(A,Y,ce){bu(A)&&A.dom.bind(Y,"paste keyup",function(Ie){Cn(A,ce)||A.fire("paste")})},Ll=function(A,Y,ce){var Ie=A.dom,St=A.getBody();Y.set(A.selection.getRng());var cn=A.dom.add(Qu(A),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ce);(At.ie||At.gecko)&&Ie.setStyle(cn,"left",Ie.getStyle(St,"direction",!0)==="rtl"?65535:-65535),Ie.bind(cn,"beforedeactivate focusin focusout",function(ur){ur.stopPropagation()}),Bs(A,cn,ce),cn.focus(),A.selection.select(cn,!0)},vs=function(A,Y){if(le(A)){for(var ce=void 0,Ie=Y.get();ce=A.dom.get("mcepastebin");)A.dom.remove(ce),A.dom.unbind(ce);Ie&&A.selection.setRng(Ie)}Y.set(null)},le=function(A){return A.dom.get("mcepastebin")},Ye=function(A){var Y=function(Er,Fn){Er.appendChild(Fn),A.dom.remove(Fn,!0)},ce=Oe.grep(Qu(A).childNodes,function(Er){return Er.id==="mcepastebin"}),Ie=ce.shift();Oe.each(ce,function(Er){Y(Ie,Er)});for(var St=A.dom.select("div[id=mcepastebin]",Ie),cn=St.length-1;cn>=0;cn--){var ur=A.dom.create("div");Ie.insertBefore(ur,St[cn]),Y(ur,St[cn])}return Ie?Ie.innerHTML:""},mt=function(A,Y){return Y===A},Gt=function(A){return A&&A.id==="mcepastebin"},Cn=function(A,Y){var ce=le(A);return Gt(ce)&&mt(Y,ce.innerHTML)},ar=function(A){var Y=s(null),ce="%MCEPASTEBIN%";return{create:function(){return Ll(A,Y,ce)},remove:function(){return vs(A,Y)},getEl:function(){return le(A)},getHtml:function(){return Ye(A)},getLastRng:Y.get,isDefault:function(){return Cn(A,ce)},isDefaultContent:function(Ie){return mt(ce,Ie)}}},pa=function(A,Y){var ce=ar(A);return A.on("PreInit",function(){return Rs(A,ce,Y)}),{pasteFormat:Y,pasteHtml:function(Ie,St){return bt(A,Ie,St)},pasteText:function(Ie){return xn(A,Ie)},pasteImageData:function(Ie,St){return Xo(A,Ie,St)},getDataTransferItems:Bn,hasHtmlOrText:Qn,hasContentType:wr}},Ma=function(A,Y){Y.pasteFormat.get()==="text"?(Y.pasteFormat.set("html"),Vt(A,!1)):(Y.pasteFormat.set("text"),Vt(A,!0)),A.focus()},jr=function(A,Y){A.addCommand("mceTogglePlainTextPaste",function(){Ma(A,Y)}),A.addCommand("mceInsertClipboardContent",function(ce,Ie){Ie.content&&Y.pasteHtml(Ie.content,Ie.internal),Ie.text&&Y.pasteText(Ie.text)})},La=function(A){return At.iOS===!1&&typeof A?.setData=="function"},co=function(A,Y,ce){if(La(A))try{return A.clearData(),A.setData("text/html",Y),A.setData("text/plain",ce),A.setData(wn(),Y),!0}catch{return!1}else return!1},el=function(A,Y,ce,Ie){co(A.clipboardData,Y.html,Y.text)?(A.preventDefault(),Ie()):ce(Y.html,Ie)},Cc=function(A){return function(Y,ce){var Ie=Ve(Y),St=A.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),cn=A.dom.create("div",{contenteditable:"true"},Ie);A.dom.setStyles(St,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),St.appendChild(cn),A.dom.add(A.getBody(),St);var ur=A.selection.getRng();cn.focus();var Er=A.dom.createRng();Er.selectNodeContents(cn),A.selection.setRng(Er),ze.setTimeout(function(){A.selection.setRng(ur),St.parentNode.removeChild(St),ce()},0)}},Sc=function(A){return{html:A.selection.getContent({contextual:!0}),text:A.selection.getContent({format:"text"})}},dr=function(A){return!!A.dom.getParent(A.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",A.getBody())},hl=function(A){return!A.selection.isCollapsed()||dr(A)},ef=function(A){return function(Y){hl(A)&&el(Y,Sc(A),Cc(A),function(){if(At.browser.isChrome()||At.browser.isFirefox()){var ce=A.selection.getRng();ze.setEditorTimeout(A,function(){A.selection.setRng(ce),A.execCommand("Delete")},0)}else A.execCommand("Delete")})}},zu=function(A){return function(Y){hl(A)&&el(Y,Sc(A),Cc(A),D)}},tf=function(A){A.on("cut",ef(A)),A.on("copy",zu(A))},Kv=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hf=function(A,Y){return Kv.getCaretRangeFromPoint(Y.clientX,Y.clientY,A.getDoc())},fo=function(A){var Y=A["text/plain"];return Y?Y.indexOf("file://")===0:!1},Fs=function(A,Y){A.focus(),A.selection.setRng(Y)},Gv=function(A,Y,ce){dt(A)&&A.on("dragend dragover draggesture dragdrop drop drag",function(Ie){Ie.preventDefault(),Ie.stopPropagation()}),Ne(A)||A.on("drop",function(Ie){var St=Ie.dataTransfer;St&&St.files&&St.files.length>0&&Ie.preventDefault()}),A.on("drop",function(Ie){var St=Hf(A,Ie);if(!(Ie.isDefaultPrevented()||ce.get())){var cn=Y.getDataTransferItems(Ie.dataTransfer),ur=Y.hasContentType(cn,wn());if(!((!Y.hasHtmlOrText(cn)||fo(cn))&&Y.pasteImageData(Ie,St))&&St&&Be(A)){var Er=cn["mce-internal"]||cn["text/html"]||cn["text/plain"];Er&&(Ie.preventDefault(),ze.setEditorTimeout(A,function(){A.undoManager.transact(function(){cn["mce-internal"]&&A.execCommand("Delete"),Fs(A,St),Er=Wr(Er),cn["text/html"]?Y.pasteHtml(Er,ur):Y.pasteText(Er)})}))}}}),A.on("dragstart",function(Ie){ce.set(!0)}),A.on("dragover dragend",function(Ie){Ne(A)&&ce.get()===!1&&(Ie.preventDefault(),Fs(A,Hf(A,Ie))),Ie.type==="dragend"&&ce.set(!1)})},yu=function(A){var Y=A.plugins.paste,ce=at(A);ce&&A.on("PastePreProcess",function(St){ce.call(Y,Y,St)});var Ie=gt(A);Ie&&A.on("PastePostProcess",function(St){Ie.call(Y,Y,St)})},zi=function(A,Y){A.on("PastePreProcess",function(ce){ce.content=Y(A,ce.content,ce.internal,ce.wordContent)})},xc=function(A,Y){A.on("PastePostProcess",function(ce){Y(A,ce.node)})},Ht=function(A,Y){if(!Nr(Y))return Y;var ce=[];Oe.each(A.schema.getBlockElements(),function(St,cn){ce.push(cn)});var Ie=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ce.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return Y=or(Y,[[Ie,"$1"]]),Y=or(Y,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),Y},Is=function(A,Y,ce,Ie){if(Ie||ce)return Y;var St=ut(A),cn;if(Et(A)===!1||St==="all")return Y;if(St&&(cn=St.split(/[, ]/)),cn){var ur=A.dom,Er=A.selection.getNode();Y=Y.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Fn,er,Lr,Jr){var Or=ur.parseStyle(ur.decode(Lr)),to={};if(cn==="none")return er+Jr;for(var Br=0;Br<cn.length;Br++){var Ba=Or[cn[Br]],Ra=ur.getStyle(Er,cn[Br],!0);/color/.test(cn[Br])&&(Ba=ur.toHex(Ba),Ra=ur.toHex(Ra)),Ra!==Ba&&(to[cn[Br]]=Ba)}var Hi=ur.serializeStyle(to,"span");return Hi?er+' style="'+Hi+'"'+Jr:er+Jr})}else Y=Y.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return Y=Y.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Fn,er,Lr,Jr){return er+' style="'+Lr+'"'+Jr}),Y},ni=function(A,Y){A.$("a",Y).find("font,u").each(function(ce,Ie){A.dom.remove(Ie,!0)})},nf=function(A){At.webkit&&zi(A,Is),At.ie&&(zi(A,Ht),xc(A,ni))},zl=function(A,Y){return function(ce){ce.setActive(Y.pasteFormat.get()==="text");var Ie=function(St){return ce.setActive(St.state)};return A.on("PastePlainTextToggle",Ie),function(){return A.off("PastePlainTextToggle",Ie)}}},Ns=function(A,Y){var ce=function(){return A.execCommand("mceTogglePlainTextPaste")};A.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:ce,onSetup:zl(A,Y)}),A.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:ce,onSetup:zl(A,Y)})};function V(){g.add("paste",function(A){if(d(A)===!1){var Y=s(!1),ce=s(Tt(A)?"text":"html"),Ie=pa(A,ce);return nf(A),Ns(A,Ie),jr(A,Ie),yu(A),tf(A),Gv(A,Ie,Y),h(Ie)}})}V()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.Env"),d=tinymce.util.Tools.resolve("tinymce.util.Tools"),h=function(J){return J.getParam("content_style","","string")},y=function(J){return J.getParam("content_css_cors",!1,"boolean")},k=function(J){var _=J.getParam("body_class","","hash");return _[J.id]||""},x=function(J){var _=J.getParam("body_class","","string");return _.indexOf("=")===-1?_:k(J)},T=function(J){var _=J.getParam("body_id","","hash");return _[J.id]||_},P=function(J){var _=J.getParam("body_id","tinymce","string");return _.indexOf("=")===-1?_:T(J)},I=function(J){var _="",U=J.dom.encode,te=h(J);_+='<base href="'+U(J.documentBaseURI.getURI())+'">';var Z=y(J)?' crossorigin="anonymous"':"";d.each(J.contentCSS,function(Ce){_+='<link type="text/css" rel="stylesheet" href="'+U(J.documentBaseURI.toAbsolute(Ce))+'"'+Z+">"}),te&&(_+='<style type="text/css">'+te+"</style>");var R=P(J),Q=x(J),X=g.mac?"e.metaKey":"e.ctrlKey && !e.altKey",me='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+X+")) {e.preventDefault();}}}, false);<\/script> ",xe=J.getBody().dir,fe=xe?' dir="'+U(xe)+'"':"",se="<!DOCTYPE html><html><head>"+_+'</head><body id="'+U(R)+'" class="mce-content-body '+U(Q)+'"'+fe+">"+J.getContent()+me+"</body></html>";return se},B=function(J){var _=I(J),U=J.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:_}});U.focus("close")},D=function(J){J.addCommand("mcePreview",function(){B(J)})},F=function(J){var _=function(){return J.execCommand("mcePreview")};J.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:_}),J.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:_})};function L(){s.add("preview",function(J){D(J),F(J)})}L()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.Env"),d=function(k){k.addCommand("mcePrint",function(){g.browser.isIE()?k.getDoc().execCommand("print",!1,null):k.getWin().print()})},h=function(k){var x=function(){return k.execCommand("mcePrint")};k.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:x}),k.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:x})};function y(){s.add("print",function(k){d(k),h(k),k.addShortcut("Meta+P","","mcePrint")})}y()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),d=tinymce.util.Tools.resolve("tinymce.util.Tools"),h=function(L){return L.getParam("save_enablewhendirty",!0)},y=function(L){return!!L.getParam("save_onsavecallback")},k=function(L){return!!L.getParam("save_oncancelcallback")},x=function(L,J){L.notificationManager.open({text:J,type:"error"})},T=function(L){var J=g.DOM.getParent(L.id,"form");if(!(h(L)&&!L.isDirty())){if(L.save(),y(L)){L.execCallback("save_onsavecallback",L),L.nodeChanged();return}J?(L.setDirty(!1),(!J.onsubmit||J.onsubmit())&&(typeof J.submit=="function"?J.submit():x(L,"Error: Form submit field collision.")),L.nodeChanged()):x(L,"Error: No form element found.")}},P=function(L){var J=d.trim(L.startContent);if(k(L)){L.execCallback("save_oncancelcallback",L);return}L.resetContent(J)},I=function(L){L.addCommand("mceSave",function(){T(L)}),L.addCommand("mceCancel",function(){P(L)})},B=function(L){return function(J){var _=function(){J.setDisabled(h(L)&&!L.isDirty())};return _(),L.on("NodeChange dirty",_),function(){return L.off("NodeChange dirty",_)}}},D=function(L){L.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return L.execCommand("mceSave")},onSetup:B(L)}),L.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return L.execCommand("mceCancel")},onSetup:B(L)}),L.addShortcut("Meta+S","","mceSave")};function F(){s.add("save",function(L){D(L),I(L)})}F()})();(function(){var s=function(ye){var Pe=ye,Ct=function(){return Pe},Nt=function(j){Pe=j};return{get:Ct,set:Nt}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(){return d=Object.assign||function(Pe){for(var Ct,Nt=1,j=arguments.length;Nt<j;Nt++){Ct=arguments[Nt];for(var ve in Ct)Object.prototype.hasOwnProperty.call(Ct,ve)&&(Pe[ve]=Ct[ve])}return Pe},d.apply(this,arguments)},h=function(ye){var Pe=typeof ye;return ye===null?"null":Pe==="object"&&(Array.prototype.isPrototypeOf(ye)||ye.constructor&&ye.constructor.name==="Array")?"array":Pe==="object"&&(String.prototype.isPrototypeOf(ye)||ye.constructor&&ye.constructor.name==="String")?"string":Pe},y=function(ye){return function(Pe){return h(Pe)===ye}},k=function(ye){return function(Pe){return typeof Pe===ye}},x=y("string"),T=y("array"),P=k("boolean"),I=k("number"),B=function(){},D=function(ye){return function(){return ye}},F=function(ye){return ye},L=D(!1),J=D(!0),_="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",U=D(_),te=function(){return Z},Z=function(){var ye=function(Nt){return Nt()},Pe=F,Ct={fold:function(Nt,j){return Nt()},isSome:L,isNone:J,getOr:Pe,getOrThunk:ye,getOrDie:function(Nt){throw new Error(Nt||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:Pe,orThunk:ye,map:te,each:B,bind:te,exists:L,forall:J,filter:function(){return te()},toArray:function(){return[]},toString:D("none()")};return Ct}(),R=function(ye){var Pe=D(ye),Ct=function(){return j},Nt=function(ve){return ve(ye)},j={fold:function(ve,_e){return _e(ye)},isSome:J,isNone:L,getOr:Pe,getOrThunk:Pe,getOrDie:Pe,getOrNull:Pe,getOrUndefined:Pe,or:Ct,orThunk:Ct,map:function(ve){return R(ve(ye))},each:function(ve){ve(ye)},bind:Nt,exists:Nt,forall:Nt,filter:function(ve){return ve(ye)?j:Z},toArray:function(){return[ye]},toString:function(){return"some("+ye+")"}};return j},Q=function(ye){return ye==null?Z:R(ye)},X={some:R,none:te,from:Q},me=U,xe=tinymce.util.Tools.resolve("tinymce.Env"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),se=Array.prototype.slice,Ce=Array.prototype.push,oe=function(ye,Pe){for(var Ct=ye.length,Nt=new Array(Ct),j=0;j<Ct;j++){var ve=ye[j];Nt[j]=Pe(ve,j)}return Nt},z=function(ye,Pe){for(var Ct=0,Nt=ye.length;Ct<Nt;Ct++){var j=ye[Ct];Pe(j,Ct)}},G=function(ye,Pe){for(var Ct=ye.length-1;Ct>=0;Ct--){var Nt=ye[Ct];Pe(Nt,Ct)}},he=function(ye,Pe){if(ye.length===0)return[];for(var Ct=Pe(ye[0]),Nt=[],j=[],ve=0,_e=ye.length;ve<_e;ve++){var Je=ye[ve],pt=Pe(Je);pt!==Ct&&(Nt.push(j),j=[]),Ct=pt,j.push(Je)}return j.length!==0&&Nt.push(j),Nt},Ge=function(ye,Pe,Ct){return z(ye,function(Nt,j){Ct=Pe(Ct,Nt,j)}),Ct},Me=function(ye){for(var Pe=[],Ct=0,Nt=ye.length;Ct<Nt;++Ct){if(!T(ye[Ct]))throw new Error("Arr.flatten item "+Ct+" was not an array, input: "+ye);Ce.apply(Pe,ye[Ct])}return Pe},je=function(ye,Pe){return Me(oe(ye,Pe))},tt=function(ye,Pe){var Ct=se.call(ye,0);return Ct.sort(Pe),Ct},E=Object.hasOwnProperty,Ae=function(ye,Pe){return E.call(ye,Pe)};typeof window<"u"||Function("return this;")();var Le=9,At=11,ze=1,ft=3,Xe=function(ye){return ye.dom.nodeType},ct=function(ye){return function(Pe){return Xe(Pe)===ye}},re=ct(ft),Vt=function(ye,Pe,Ct){if(x(Ct)||P(Ct)||I(Ct))ye.setAttribute(Pe,Ct+"");else throw new Error("Attribute value was not simple")},it=function(ye,Pe,Ct){Vt(ye.dom,Pe,Ct)},Oe=function(ye,Pe,Ct){return(ye.compareDocumentPosition(Pe)&Ct)!==0},dt=function(ye,Pe){return Oe(ye,Pe,Node.DOCUMENT_POSITION_PRECEDING)},Ne=function(ye,Pe){var Ct=Pe||document,Nt=Ct.createElement("div");if(Nt.innerHTML=ye,!Nt.hasChildNodes()||Nt.childNodes.length>1)throw new Error("HTML must have a single root node");return gt(Nt.childNodes[0])},Be=function(ye,Pe){var Ct=Pe||document,Nt=Ct.createElement(ye);return gt(Nt)},at=function(ye,Pe){var Ct=Pe||document,Nt=Ct.createTextNode(ye);return gt(Nt)},gt=function(ye){if(ye==null)throw new Error("Node cannot be null or undefined");return{dom:ye}},ut=function(ye,Pe,Ct){return X.from(ye.dom.elementFromPoint(Pe,Ct)).map(gt)},Et={fromHtml:Ne,fromTag:Be,fromText:at,fromDom:gt,fromPoint:ut},_n=function(ye){return ye.nodeType!==ze&&ye.nodeType!==Le&&ye.nodeType!==At||ye.childElementCount===0},Re=function(ye,Pe){var Ct=Pe===void 0?document:Pe.dom;return _n(Ct)?[]:oe(Ct.querySelectorAll(ye),Et.fromDom)},Tt=function(ye){return X.from(ye.dom.parentNode).map(Et.fromDom)},ln=function(ye){return oe(ye.dom.childNodes,Et.fromDom)},Ut=function(ye,Pe){return{element:ye,offset:Pe}},fn=function(ye,Pe){var Ct=ln(ye);return Ct.length>0&&Pe<Ct.length?Ut(Ct[Pe],0):Ut(ye,Pe)},bn=function(ye,Pe){var Ct=Tt(ye);Ct.each(function(Nt){Nt.dom.insertBefore(Pe.dom,ye.dom)})},In=function(ye,Pe){ye.dom.appendChild(Pe.dom)},sr=function(ye,Pe){bn(ye,Pe),In(Pe,ye)},yr=function(ye,Pe){var Ct=function(ve){if(!ye(ve))throw new Error("Can only get "+Pe+" value of a "+Pe+" node");return Nt(ve).getOr("")},Nt=function(ve){return ye(ve)?X.from(ve.dom.nodeValue):X.none()},j=function(ve,_e){if(!ye(ve))throw new Error("Can only set raw "+Pe+" value of a "+Pe+" node");ve.dom.nodeValue=_e};return{get:Ct,getOption:Nt,set:j}},$t=yr(re,"text"),Dt=function(ye){return $t.get(ye)},Ft=function(ye,Pe){return Re(Pe,ye)},rt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),st=function(ye,Pe){return ye.isBlock(Pe)||Ae(ye.schema.getShortEndedElements(),Pe.nodeName)},Wt=function(ye,Pe){return ye.getContentEditable(Pe)==="false"},dn=function(ye,Pe){return ye.getContentEditable(Pe)==="true"&&ye.getContentEditableParent(Pe.parentNode)==="false"},Xt=function(ye,Pe){return!ye.isBlock(Pe)&&Ae(ye.schema.getWhiteSpaceElements(),Pe.nodeName)},Ve=function(ye,Pe){return st(ye,Pe)||Wt(ye,Pe)||Xt(ye,Pe)||dn(ye,Pe)},Yt=function(ye){return ye.nodeType===3},On=function(){return{sOffset:0,fOffset:0,elements:[]}},wn=function(ye,Pe){return fn(Et.fromDom(ye),Pe)},jn=function(ye,Pe,Ct,Nt,j,ve){ve===void 0&&(ve=!0);for(var _e=ve?Pe(!1):Ct;_e;){var Je=Wt(ye,_e);if(Je||Xt(ye,_e)){var pt=Je?Nt.cef(_e):Nt.boundary(_e);if(pt)break;_e=Pe(!0);continue}else if(st(ye,_e)){if(Nt.boundary(_e))break}else Yt(_e)&&Nt.text(_e);if(_e===j)break;_e=Pe(!1)}},He=function(ye,Pe,Ct,Nt,j){if(!Ve(ye,Ct)){var ve=ye.getParent(Nt,ye.isBlock),_e=new rt(Ct,ve),Je=j?_e.next.bind(_e):_e.prev.bind(_e);jn(ye,Je,Ct,{boundary:J,cef:J,text:function(pt){j?Pe.fOffset+=pt.length:Pe.sOffset+=pt.length,Pe.elements.push(Et.fromDom(pt))}})}},Lt=function(ye,Pe,Ct,Nt,j,ve){ve===void 0&&(ve=!0);var _e=new rt(Ct,Pe),Je=[],pt=On();He(ye,pt,Ct,Pe,!1);var bt=function(){return pt.elements.length>0&&(Je.push(pt),pt=On()),!1};return jn(ye,_e.next.bind(_e),Ct,{boundary:bt,cef:function(xn){return bt(),j&&Je.push.apply(Je,j.cef(xn)),!1},text:function(xn){pt.elements.push(Et.fromDom(xn)),j&&j.text(xn,pt)}},Nt,ve),Nt&&He(ye,pt,Nt,Pe,!0),bt(),Je},_t=function(ye,Pe){var Ct=wn(Pe.startContainer,Pe.startOffset),Nt=Ct.element.dom,j=wn(Pe.endContainer,Pe.endOffset),ve=j.element.dom;return Lt(ye,Pe.commonAncestorContainer,Nt,ve,{text:function(_e,Je){_e===ve?Je.fOffset+=_e.length-j.offset:_e===Nt&&(Je.sOffset+=Ct.offset)},cef:function(_e){var Je=je(Ft(Et.fromDom(_e),"*[contenteditable=true]"),function(pt){var bt=pt.dom;return Lt(ye,bt,bt)});return tt(Je,function(pt,bt){return dt(pt.elements[0].dom,bt.elements[0].dom)?1:-1})}},!1)},an=function(ye,Pe){return Pe.collapsed?[]:_t(ye,Pe)},Un=function(ye,Pe){var Ct=ye.createRng();return Ct.selectNode(Pe),an(ye,Ct)},kr=function(ye,Pe){return je(Pe,function(Ct){return Un(ye,Ct)})},Oa=function(ye,Pe,Ct,Nt){Ct===void 0&&(Ct=0),Nt===void 0&&(Nt=ye.length);var j=Pe.regex;j.lastIndex=Ct;for(var ve=[],_e;_e=j.exec(ye);){var Je=_e[Pe.matchIndex],pt=_e.index+_e[0].indexOf(Je),bt=pt+Je.length;if(bt>Nt)break;ve.push({start:pt,finish:bt}),j.lastIndex=bt}return ve},_r=function(ye,Pe){var Ct=Ge(ye,function(Nt,j){var ve=Dt(j),_e=Nt.last,Je=_e+ve.length,pt=je(Pe,function(bt,xn){return bt.start<Je&&bt.finish>_e?[{element:j,start:Math.max(_e,bt.start)-_e,finish:Math.min(Je,bt.finish)-_e,matchId:xn}]:[]});return{results:Nt.results.concat(pt),last:Je}},{results:[],last:0}).results;return he(Ct,function(Nt){return Nt.matchId})},Ar=function(ye,Pe){return je(Pe,function(Ct){var Nt=Ct.elements,j=oe(Nt,Dt).join(""),ve=Oa(j,ye,Ct.sOffset,j.length-Ct.fOffset);return _r(Nt,ve)})},_a=function(ye,Pe){G(ye,function(Ct,Nt){G(Ct,function(j){var ve=Et.fromDom(Pe.cloneNode(!1));it(ve,"data-mce-index",Nt);var _e=j.element.dom;if(_e.length===j.finish&&j.start===0)sr(j.element,ve);else{_e.length!==j.finish&&_e.splitText(j.finish);var Je=_e.splitText(j.start);sr(Et.fromDom(Je),ve)}})})},xo=function(ye,Pe,Ct,Nt){var j=Un(ye,Ct),ve=Ar(Pe,j);return _a(ve,Nt),ve.length},oo=function(ye,Pe,Ct,Nt){var j=Ct.getBookmark(),ve=ye.select("td[data-mce-selected],th[data-mce-selected]"),_e=ve.length>0?kr(ye,ve):an(ye,Ct.getRng()),Je=Ar(Pe,_e);return _a(Je,Nt),Ct.moveToBookmark(j),Je.length},hn=function(ye){var Pe=ye.getAttribute("data-mce-index");return typeof Pe=="number"?""+Pe:Pe},or=function(ye,Pe,Ct,Nt){var j=ye.dom.create("span",{"data-mce-bogus":1});j.className="mce-match-marker";var ve=ye.getBody();return ko(ye,Pe,!1),Nt?oo(ye.dom,Ct,ye.selection,j):xo(ye.dom,Ct,ve,j)},tr=function(ye){var Pe=ye.parentNode;ye.firstChild&&Pe.insertBefore(ye.firstChild,ye),ye.parentNode.removeChild(ye)},Wr=function(ye,Pe){var Ct=[],Nt=fe.toArray(ye.getBody().getElementsByTagName("span"));if(Nt.length)for(var j=0;j<Nt.length;j++){var ve=hn(Nt[j]);ve===null||!ve.length||ve===Pe.toString()&&Ct.push(Nt[j])}return Ct},va=function(ye,Pe,Ct){var Nt=Pe.get(),j=Nt.index,ve=ye.dom;Ct=Ct!==!1,Ct?j+1===Nt.count?j=0:j++:j-1===-1?j=Nt.count-1:j--,ve.removeClass(Wr(ye,Nt.index),"mce-match-marker-selected");var _e=Wr(ye,j);return _e.length?(ve.addClass(Wr(ye,j),"mce-match-marker-selected"),ye.selection.scrollIntoView(_e[0]),j):-1},Pa=function(ye,Pe){var Ct=Pe.parentNode;ye.remove(Pe),ye.isEmpty(Ct)&&ye.remove(Ct)},Nr=function(ye,Pe){var Ct=ye.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Nt="("+Ct+")";return Pe?"(?:^|\\s|"+me()+")"+Nt+("(?=$|\\s|"+me()+")"):Nt},Fa=function(ye,Pe,Ct,Nt,j,ve){var _e=ye.selection,Je=Nr(Ct,j),pt=_e.isForward(),bt={regex:new RegExp(Je,Nt?"g":"gi"),matchIndex:1},xn=or(ye,Pe,bt,ve);if(xe.browser.isSafari()&&_e.setRng(_e.getRng(),pt),xn){var Bn=va(ye,Pe,!0);Pe.set({index:Bn,count:xn,text:Ct,matchCase:Nt,wholeWord:j,inSelection:ve})}return xn},Yn=function(ye,Pe){var Ct=va(ye,Pe,!0);Pe.set(d(d({},Pe.get()),{index:Ct}))},Do=function(ye,Pe){var Ct=va(ye,Pe,!1);Pe.set(d(d({},Pe.get()),{index:Ct}))},Ga=function(ye){var Pe=hn(ye);return Pe!==null&&Pe.length>0},Aa=function(ye,Pe,Ct,Nt,j){var ve=Pe.get(),_e=ve.index,Je,pt=_e;Nt=Nt!==!1;for(var bt=ye.getBody(),xn=fe.grep(fe.toArray(bt.getElementsByTagName("span")),Ga),Bn=0;Bn<xn.length;Bn++){var fr=hn(xn[Bn]),wr=Je=parseInt(fr,10);if(j||wr===ve.index){for(Ct.length?(xn[Bn].firstChild.nodeValue=Ct,tr(xn[Bn])):Pa(ye.dom,xn[Bn]);xn[++Bn];)if(wr=parseInt(hn(xn[Bn]),10),wr===Je)Pa(ye.dom,xn[Bn]);else{Bn--;break}Nt&&pt--}else Je>_e&&xn[Bn].setAttribute("data-mce-index",String(Je-1))}return Pe.set(d(d({},ve),{count:j?0:ve.count-1,index:pt})),Nt?Yn(ye,Pe):Do(ye,Pe),!j&&Pe.get().count>0},ko=function(ye,Pe,Ct){for(var Nt,j,ve=Pe.get(),_e=fe.toArray(ye.getBody().getElementsByTagName("span")),Je=0;Je<_e.length;Je++){var pt=hn(_e[Je]);pt!==null&&pt.length&&(pt===ve.index.toString()&&(Nt||(Nt=_e[Je].firstChild),j=_e[Je].firstChild),tr(_e[Je]))}if(Pe.set(d(d({},ve),{index:-1,count:0,text:""})),Nt&&j){var bt=ye.dom.createRng();return bt.setStart(Nt,0),bt.setEnd(j,j.data.length),Ct!==!1&&ye.selection.setRng(bt),bt}},io=function(ye,Pe){return Pe.get().count>1},Yo=function(ye,Pe){return Pe.get().count>1},ti=function(ye,Pe){var Ct=function(Je){return ko(ye,Pe,Je)},Nt=function(Je,pt,bt,xn){return xn===void 0&&(xn=!1),Fa(ye,Pe,Je,pt,bt,xn)},j=function(){return Yn(ye,Pe)},ve=function(){return Do(ye,Pe)},_e=function(Je,pt,bt){return Aa(ye,Pe,Je,pt,bt)};return{done:Ct,find:Nt,next:j,prev:ve,replace:_e}},$i=function(ye){var Pe=s(X.none()),Ct=function(){return Pe.get().each(ye)},Nt=function(){Ct(),Pe.set(X.none())},j=function(){return Pe.get().isSome()},ve=function(){return Pe.get()},_e=function(Je){Ct(),Pe.set(X.some(Je))};return{clear:Nt,isSet:j,get:ve,set:_e}},ke=function(){var ye=$i(B),Pe=function(Ct){return ye.get().each(Ct)};return d(d({},ye),{on:Pe})},qe=function(ye,Pe){var Ct=ke();ye.undoManager.add();var Nt=fe.trim(ye.selection.getContent({format:"text"})),j=function(Qn){var xr=io(ye,Pe)?Qn.enable:Qn.disable;xr("next");var ga=Yo(ye,Pe)?Qn.enable:Qn.disable;ga("prev")},ve=function(Qn){var xr=Qn.getData(),ga=Pe.get();Pe.set(d(d({},ga),{matchCase:xr.matchcase,wholeWord:xr.wholewords,inSelection:xr.inselection}))},_e=function(Qn,xr){var ga=["replace","replaceall","prev","next"],Qa=xr?Qn.disable:Qn.enable;z(ga,Qa)},Je=function(Qn){ye.windowManager.alert("Could not find the specified string.",function(){Qn.focus("findtext")})},pt=function(Qn,xr){xe.browser.isSafari()&&xe.deviceType.isTouch()&&(xr==="find"||xr==="replace"||xr==="replaceall")&&Qn.focus(xr)},bt=function(Qn){ko(ye,Pe,!1),_e(Qn,!0),j(Qn)},xn=function(Qn){var xr=Qn.getData(),ga=Pe.get();if(!xr.findtext.length){bt(Qn);return}if(ga.text===xr.findtext&&ga.matchCase===xr.matchcase&&ga.wholeWord===xr.wholewords)Yn(ye,Pe);else{var Qa=Fa(ye,Pe,xr.findtext,xr.matchcase,xr.wholewords,xr.inselection);Qa<=0&&Je(Qn),_e(Qn,Qa===0)}j(Qn)},Bn=Pe.get(),fr={findtext:Nt,replacetext:"",wholewords:Bn.wholeWord,matchcase:Bn.matchCase,inselection:Bn.inSelection},wr={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:fr,onChange:function(Qn,xr){xr.name==="findtext"&&Pe.get().count>0&&bt(Qn)},onAction:function(Qn,xr){var ga=Qn.getData();switch(xr.name){case"find":xn(Qn);break;case"replace":Aa(ye,Pe,ga.replacetext)?j(Qn):bt(Qn);break;case"replaceall":Aa(ye,Pe,ga.replacetext,!0,!0),bt(Qn);break;case"prev":Do(ye,Pe),j(Qn);break;case"next":Yn(ye,Pe),j(Qn);break;case"matchcase":case"wholewords":case"inselection":ve(Qn),bt(Qn);break}pt(Qn,xr.name)},onSubmit:function(Qn){xn(Qn),pt(Qn,"find")},onClose:function(){ye.focus(),ko(ye,Pe),ye.undoManager.add()}};Ct.set(ye.windowManager.open(wr,{inline:"toolbar"}))},Te=function(ye,Pe){ye.addCommand("SearchReplace",function(){qe(ye,Pe)})},wt=function(ye,Pe){return function(){qe(ye,Pe)}},En=function(ye,Pe){ye.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:wt(ye,Pe),icon:"search"}),ye.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:wt(ye,Pe),icon:"search"}),ye.shortcuts.add("Meta+F","",wt(ye,Pe))};function zn(){g.add("searchreplace",function(ye){var Pe=s({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Te(ye,Pe),En(ye,Pe),ti(ye,Pe)})}zn()})();(function(){var s=function(ze){var ft=ze,Xe=function(){return ft},ct=function(re){ft=re};return{get:Xe,set:ct}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(ze){return ze.hasPlugin("tinymcespellchecker",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},h=Object.hasOwnProperty,y=function(ze){for(var ft in ze)if(h.call(ze,ft))return!1;return!0},k=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=tinymce.util.Tools.resolve("tinymce.util.URI"),T=tinymce.util.Tools.resolve("tinymce.util.XHR"),P=function(ze){return ze.fire("SpellcheckStart")},I=function(ze){return ze.fire("SpellcheckEnd")},B=function(ze){var ft="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return ze.getParam("spellchecker_languages",ft)},D=function(ze){var ft=ze.getParam("language","en");return ze.getParam("spellchecker_language",ft)},F=function(ze){return ze.getParam("spellchecker_rpc_url")},L=function(ze){return ze.getParam("spellchecker_callback")},J=function(ze){var ft=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return ze.getParam("spellchecker_wordchar_pattern",ft)},_=function(ze){return ze&&ze.nodeType===1&&ze.contentEditable==="false"},U=function(ze,ft){var Xe,ct=[],re=ft.dom,Vt=ft.schema.getBlockElements(),it=ft.schema.getWhiteSpaceElements(),Oe=ft.schema.getShortEndedElements(),dt=function(rt,st){if(!rt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:rt.index,end:rt.index+rt[0].length,text:rt[0],data:st}},Ne=function(rt){if(rt.nodeType===3)return rt.data;if(it[rt.nodeName]&&!Vt[rt.nodeName])return"";if(_(rt))return`
`;var st="";if((Vt[rt.nodeName]||Oe[rt.nodeName])&&(st+=`
`),rt=rt.firstChild)do st+=Ne(rt);while(rt=rt.nextSibling);return st},Be=function(rt,st,Wt){var dn,Xt,Ve,Yt,On=[],wn=0,jn=rt,He,Lt=0;st=st.slice(0),st.sort(function(_t,an){return _t.start-an.start}),He=st.shift();e:for(;;){if((Vt[jn.nodeName]||Oe[jn.nodeName]||_(jn))&&wn++,jn.nodeType===3&&(!Xt&&jn.length+wn>=He.end?(Xt=jn,Yt=He.end-wn):dn&&On.push(jn),!dn&&jn.length+wn>He.start&&(dn=jn,Ve=He.start-wn),wn+=jn.length),dn&&Xt){if(jn=Wt({startNode:dn,startNodeIndex:Ve,endNode:Xt,endNodeIndex:Yt,innerNodes:On,match:He.text,matchIndex:Lt}),wn-=Xt.length-Yt,dn=null,Xt=null,On=[],He=st.shift(),Lt++,!He)break}else if((!it[jn.nodeName]||Vt[jn.nodeName])&&jn.firstChild){if(!_(jn)){jn=jn.firstChild;continue}}else if(jn.nextSibling){jn=jn.nextSibling;continue}for(;;)if(jn.nextSibling){jn=jn.nextSibling;break}else if(jn.parentNode!==rt)jn=jn.parentNode;else break e}},at=function(rt){var st=function(Wt,dn){var Xt=ct[dn];Xt.stencil||(Xt.stencil=rt(Xt));var Ve=Xt.stencil.cloneNode(!1);return Ve.setAttribute("data-mce-index",""+dn),Wt&&Ve.appendChild(re.doc.createTextNode(Wt)),Ve};return function(Wt){var dn,Xt,Ve,Yt=Wt.startNode,On=Wt.endNode,wn=Wt.matchIndex,jn=re.doc;if(Yt===On){var He=Yt;Ve=He.parentNode,Wt.startNodeIndex>0&&(dn=jn.createTextNode(He.data.substring(0,Wt.startNodeIndex)),Ve.insertBefore(dn,He));var Lt=st(Wt.match,wn);return Ve.insertBefore(Lt,He),Wt.endNodeIndex<He.length&&(Xt=jn.createTextNode(He.data.substring(Wt.endNodeIndex)),Ve.insertBefore(Xt,He)),He.parentNode.removeChild(He),Lt}dn=jn.createTextNode(Yt.data.substring(0,Wt.startNodeIndex)),Xt=jn.createTextNode(On.data.substring(Wt.endNodeIndex));for(var _t=st(Yt.data.substring(Wt.startNodeIndex),wn),an=0,Un=Wt.innerNodes.length;an<Un;++an){var kr=Wt.innerNodes[an],Oa=st(kr.data,wn);kr.parentNode.replaceChild(Oa,kr)}var _r=st(On.data.substring(0,Wt.endNodeIndex),wn);return Ve=Yt.parentNode,Ve.insertBefore(dn,Yt),Ve.insertBefore(_t,Yt),Ve.removeChild(Yt),Ve=On.parentNode,Ve.insertBefore(_r,On),Ve.insertBefore(Xt,On),Ve.removeChild(On),_r}},gt=function(rt){for(var st=rt.parentNode;rt.childNodes.length>0;)st.insertBefore(rt.childNodes[0],rt);st.removeChild(rt)},ut=function(rt){return rt.className.indexOf("mce-spellchecker-word")!==-1},Et=function(rt){var st=ze.getElementsByTagName("*"),Wt=[];rt=typeof rt=="number"?""+rt:null;for(var dn=0;dn<st.length;dn++){var Xt=st[dn],Ve=Xt.getAttribute("data-mce-index");Ve!==null&&Ve.length&&ut(Xt)&&(Ve===rt||rt===null)&&Wt.push(Xt)}return Wt},_n=function(rt){for(var st=ct.length;st--;)if(ct[st]===rt)return st;return-1};function Re(rt){var st=[];return Tt(function(Wt,dn){rt(Wt,dn)&&st.push(Wt)}),ct=st,this}function Tt(rt){for(var st=0,Wt=ct.length;st<Wt&&rt(ct[st],st)!==!1;st++);return this}function ln(rt){return ct.length&&Be(ze,ct,at(rt)),this}function Ut(rt,st){if(Ft&&rt.global)for(;Xe=rt.exec(Ft);)ct.push(dt(Xe,st));return this}function fn(rt){var st,Wt=Et(rt?_n(rt):null);for(st=Wt.length;st--;)gt(Wt[st]);return this}var bn=function(rt){return ct[rt.getAttribute("data-mce-index")]},In=function(rt){return Et(_n(rt))[0]};function sr(rt,st,Wt){return ct.push({start:rt,end:rt+st,text:Ft.substr(rt,st),data:Wt}),this}var yr=function(rt){var st=Et(_n(rt)),Wt=ft.dom.createRng();return Wt.setStartBefore(st[0]),Wt.setEndAfter(st[st.length-1]),Wt},$t=function(rt,st){var Wt=yr(rt);return Wt.deleteContents(),st.length>0&&Wt.insertNode(ft.dom.doc.createTextNode(st)),Wt};function Dt(){return ct.splice(0,ct.length),fn(),this}var Ft=Ne(ze);return{text:Ft,matches:ct,each:Tt,filter:Re,reset:Dt,matchFromElement:bn,elementFromMatch:In,find:Ut,add:sr,wrap:ln,unwrap:fn,replace:$t,rangeFromMatch:yr,indexOf:_n}},te=function(ze,ft){if(!ft.get()){var Xe=U(ze.getBody(),ze);ft.set(Xe)}return ft.get()},Z=function(ze,ft,Xe){return function(ct,re,Vt,it){var Oe={method:ct,lang:Xe.get()},dt="";Oe[ct==="addToDictionary"?"word":"text"]=re,k.each(Oe,function(Ne,Be){dt&&(dt+="&"),dt+=Be+"="+encodeURIComponent(Ne)}),T.send({url:new x(ft).toAbsolute(F(ze)),type:"post",content_type:"application/x-www-form-urlencoded",data:dt,success:function(Ne){var Be=JSON.parse(Ne);if(Be)Be.error?it(Be.error):Vt(Be);else{var at=ze.translate("Server response wasn't proper JSON.");it(at)}},error:function(){var Ne=ze.translate("The spelling service was not found: (")+F(ze)+ze.translate(")");it(Ne)}})}},R=function(ze,ft,Xe,ct,re,Vt,it){var Oe=L(ze),dt=Oe||Z(ze,ft,Xe);dt.call(ze.plugins.spellchecker,ct,re,Vt,it)},Q=function(ze,ft,Xe,ct,re,Vt){if(!fe(ze,Xe,ct)){var it=function(dt){ze.notificationManager.open({text:dt,type:"error"}),ze.setProgressState(!1),fe(ze,Xe,ct)},Oe=function(dt){oe(ze,Xe,ct,re,dt)};ze.setProgressState(!0),R(ze,ft,Vt,"spellcheck",te(ze,ct).text,Oe,it),ze.focus()}},X=function(ze,ft,Xe){ze.dom.select("span.mce-spellchecker-word").length||fe(ze,ft,Xe)},me=function(ze,ft,Xe,ct,re,Vt,it){ze.setProgressState(!0),R(ze,ft,re,"addToDictionary",Vt,function(){ze.setProgressState(!1),ze.dom.remove(it,!0),X(ze,Xe,ct)},function(Oe){ze.notificationManager.open({text:Oe,type:"error"}),ze.setProgressState(!1)})},xe=function(ze,ft,Xe,ct,re,Vt){ze.selection.collapse(),Vt?k.each(ze.dom.select("span.mce-spellchecker-word"),function(it){it.getAttribute("data-mce-word")===ct&&ze.dom.remove(it,!0)}):ze.dom.remove(re,!0),X(ze,ft,Xe)},fe=function(ze,ft,Xe){var ct=ze.selection.getBookmark();if(te(ze,Xe).reset(),ze.selection.moveToBookmark(ct),Xe.set(null),ft.get())return ft.set(!1),I(ze),!0},se=function(ze){var ft=ze.getAttribute("data-mce-index");return typeof ft=="number"?""+ft:ft},Ce=function(ze,ft){var Xe=[],ct=k.toArray(ze.getBody().getElementsByTagName("span"));if(ct.length)for(var re=0;re<ct.length;re++){var Vt=se(ct[re]);Vt===null||!Vt.length||Vt===ft.toString()&&Xe.push(ct[re])}return Xe},oe=function(ze,ft,Xe,ct,re){var Vt=!!re.dictionary,it=re.words;if(ze.setProgressState(!1),y(it)){var Oe=ze.translate("No misspellings found.");ze.notificationManager.open({text:Oe,type:"info"}),ft.set(!1);return}ct.set({suggestions:it,hasDictionarySupport:Vt});var dt=ze.selection.getBookmark();te(ze,Xe).find(J(ze)).filter(function(Ne){return!!it[Ne.text]}).wrap(function(Ne){return ze.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ne.text})}),ze.selection.moveToBookmark(dt),ft.set(!0),P(ze)},z=function(ze,ft,Xe,ct,re){var Vt=function(){return J(ze)},it=function(Oe){oe(ze,ft,ct,Xe,Oe)};return{getTextMatcher:ct.get,getWordCharPattern:Vt,markErrors:it,getLanguage:re.get}},G=function(ze,ft,Xe,ct,re,Vt){ze.addCommand("mceSpellCheck",function(){Q(ze,ft,Xe,ct,re,Vt)})},he=function(){return he=Object.assign||function(ft){for(var Xe,ct=1,re=arguments.length;ct<re;ct++){Xe=arguments[ct];for(var Vt in Xe)Object.prototype.hasOwnProperty.call(Xe,Vt)&&(ft[Vt]=Xe[Vt])}return ft},he.apply(this,arguments)},Ge="SpellcheckStart SpellcheckEnd",Me=function(ze,ft){var Xe=[];return k.each(ft,function(ct){Xe.push({selectable:!0,text:ct.name,data:ct.value})}),Xe},je=function(ze){return k.map(B(ze).split(","),function(ft){var Xe=ft.split("=");return{name:Xe[0],value:Xe[1]}})},tt=function(ze,ft,Xe,ct,re,Vt){var it=Me("Language",je(ze)),Oe=function(){Q(ze,ft,Xe,ct,Vt,re)},dt={tooltip:"Spellcheck",onAction:Oe,icon:"spell-check",onSetup:function(Be){var at=function(){Be.setActive(Xe.get())};return ze.on(Ge,at),function(){ze.off(Ge,at)}}},Ne=he(he({},dt),{type:"splitbutton",select:function(Be){return Be===re.get()},fetch:function(Be){var at=k.map(it,function(gt){return{type:"choiceitem",value:gt.data,text:gt.text}});Be(at)},onItemAction:function(Be,at){re.set(at)}});it.length>1?ze.ui.registry.addSplitButton("spellchecker",Ne):ze.ui.registry.addToggleButton("spellchecker",dt),ze.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Be){Be.setActive(Xe.get());var at=function(){Be.setActive(Xe.get())};return ze.on(Ge,at),function(){ze.off(Ge,at)}},onAction:Oe})},E=!0,Ae=function(ze,ft,Xe,ct,re,Vt,it,Oe){var dt=[],Ne=Xe.get().suggestions[it];k.each(Ne,function(at){dt.push({text:at,onAction:function(){ze.insertContent(ze.dom.encode(at)),ze.dom.remove(Oe),X(ze,ct,re)}})});var Be=Xe.get().hasDictionarySupport;return Be&&(dt.push({type:"separator"}),dt.push({text:"Add to dictionary",onAction:function(){me(ze,ft,ct,re,Vt,it,Oe)}})),dt.push.apply(dt,[{type:"separator"},{text:"Ignore",onAction:function(){xe(ze,ct,re,it,Oe)}},{text:"Ignore all",onAction:function(){xe(ze,ct,re,it,Oe,E)}}]),dt},Le=function(ze,ft,Xe,ct,re,Vt){var it=function(Oe){var dt=Oe;if(dt.className==="mce-spellchecker-word"){var Ne=Ce(ze,se(dt));if(Ne.length>0){var Be=ze.dom.createRng();return Be.setStartBefore(Ne[0]),Be.setEndAfter(Ne[Ne.length-1]),ze.selection.setRng(Be),Ae(ze,ft,Xe,ct,re,Vt,dt.getAttribute("data-mce-word"),Ne)}}else return[]};ze.ui.registry.addContextMenu("spellchecker",{update:it})};function At(){g.add("spellchecker",function(ze,ft){if(d(ze)===!1){var Xe=s(!1),ct=s(D(ze)),re=s(null),Vt=s(null);return tt(ze,ft,Xe,re,ct,Vt),Le(ze,ft,Vt,Xe,re,ct),G(ze,ft,Xe,re,Vt,ct),z(ze,Xe,Vt,re,ct)}})}At()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),d=tinymce.util.Tools.resolve("tinymce.EditorManager"),h=tinymce.util.Tools.resolve("tinymce.Env"),y=tinymce.util.Tools.resolve("tinymce.util.Delay"),k=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=tinymce.util.Tools.resolve("tinymce.util.VK"),T=function(L){return L.getParam("tabfocus_elements",":prev,:next")},P=function(L){return L.getParam("tab_focus",T(L))},I=g.DOM,B=function(L){L.keyCode===x.TAB&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.preventDefault()},D=function(L){var J=function(_){var U;if(!(_.keyCode!==x.TAB||_.ctrlKey||_.altKey||_.metaKey||_.isDefaultPrevented())){var te=function(X){var me=I.select(":input:enabled,*[tabindex]:not(iframe)"),xe=function(Ce){var oe=Ce;return Ce.nodeName==="BODY"||oe.type!=="hidden"&&oe.style.display!=="none"&&oe.style.visibility!=="hidden"&&xe(Ce.parentNode)},fe=function(Ce){return/INPUT|TEXTAREA|BUTTON/.test(Ce.tagName)&&d.get(_.id)&&Ce.tabIndex!==-1&&xe(Ce)};if(k.each(me,function(Ce,oe){if(Ce.id===L.id)return U=oe,!1}),X>0){for(var se=U+1;se<me.length;se++)if(fe(me[se]))return me[se]}else for(var se=U-1;se>=0;se--)if(fe(me[se]))return me[se];return null},Z=k.explode(P(L));Z.length===1&&(Z[1]=Z[0],Z[0]=":prev");var R;if(_.shiftKey?Z[0]===":prev"?R=te(-1):R=I.get(Z[0]):Z[1]===":next"?R=te(1):R=I.get(Z[1]),R){var Q=d.get(R.id||R.name);R.id&&Q?Q.focus():y.setTimeout(function(){h.webkit||window.focus(),R.focus()},10),_.preventDefault()}}};L.on("init",function(){L.inline&&I.setAttrib(L.getBody(),"tabIndex",null),L.on("keyup",B),h.gecko?L.on("keypress keydown",J):L.on("keydown",J)})};function F(){s.add("tabfocus",function(L){D(L)})}F()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(Re){var Tt=typeof Re;return Re===null?"null":Tt==="object"&&(Array.prototype.isPrototypeOf(Re)||Re.constructor&&Re.constructor.name==="Array")?"array":Tt==="object"&&(String.prototype.isPrototypeOf(Re)||Re.constructor&&Re.constructor.name==="String")?"string":Tt},d=function(Re){return function(Tt){return g(Tt)===Re}},h=function(Re){return function(Tt){return typeof Tt===Re}},y=d("string"),k=h("function"),x=function(){},T=function(Re){return function(){return Re}},P=function(Re){return Re};function I(Re){for(var Tt=[],ln=1;ln<arguments.length;ln++)Tt[ln-1]=arguments[ln];return function(){for(var Ut=[],fn=0;fn<arguments.length;fn++)Ut[fn]=arguments[fn];var bn=Tt.concat(Ut);return Re.apply(null,bn)}}var B=T(!1),D=T(!0),F=tinymce.util.Tools.resolve("tinymce.util.Tools"),L=tinymce.util.Tools.resolve("tinymce.util.XHR"),J=function(Re){return Re.getParam("template_cdate_classes","cdate")},_=function(Re){return Re.getParam("template_mdate_classes","mdate")},U=function(Re){return Re.getParam("template_selected_content_classes","selcontent")},te=function(Re){return Re.getParam("template_preview_replace_values")},Z=function(Re){return Re.getParam("content_style","","string")},R=function(Re){return Re.getParam("content_css_cors",!1,"boolean")},Q=function(Re){return Re.getParam("template_replace_values")},X=function(Re){return Re.getParam("templates")},me=function(Re){return Re.getParam("template_cdate_format",Re.translate("%Y-%m-%d"))},xe=function(Re){return Re.getParam("template_mdate_format",Re.translate("%Y-%m-%d"))},fe=function(Re){var Tt=Re.getParam("body_class","","hash");return Tt[Re.id]||""},se=function(Re){var Tt=Re.getParam("body_class","","string");return Tt.indexOf("=")===-1?Tt:fe(Re)},Ce=function(Re,Tt){if(Re=""+Re,Re.length<Tt)for(var ln=0;ln<Tt-Re.length;ln++)Re="0"+Re;return Re},oe=function(Re,Tt,ln){ln===void 0&&(ln=new Date);var Ut="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),fn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),bn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),In="January February March April May June July August September October November December".split(" ");return Tt=Tt.replace("%D","%m/%d/%Y"),Tt=Tt.replace("%r","%I:%M:%S %p"),Tt=Tt.replace("%Y",""+ln.getFullYear()),Tt=Tt.replace("%y",""+ln.getYear()),Tt=Tt.replace("%m",Ce(ln.getMonth()+1,2)),Tt=Tt.replace("%d",Ce(ln.getDate(),2)),Tt=Tt.replace("%H",""+Ce(ln.getHours(),2)),Tt=Tt.replace("%M",""+Ce(ln.getMinutes(),2)),Tt=Tt.replace("%S",""+Ce(ln.getSeconds(),2)),Tt=Tt.replace("%I",""+((ln.getHours()+11)%12+1)),Tt=Tt.replace("%p",ln.getHours()<12?"AM":"PM"),Tt=Tt.replace("%B",""+Re.translate(In[ln.getMonth()])),Tt=Tt.replace("%b",""+Re.translate(bn[ln.getMonth()])),Tt=Tt.replace("%A",""+Re.translate(fn[ln.getDay()])),Tt=Tt.replace("%a",""+Re.translate(Ut[ln.getDay()])),Tt=Tt.replace("%%","%"),Tt},z=function(Re,Tt){return function(){var ln=X(Re);k(ln)?ln(Tt):y(ln)?L.send({url:ln,success:function(Ut){Tt(JSON.parse(Ut))}}):Tt(ln)}},G=function(Re,Tt){return F.each(Tt,function(ln,Ut){k(ln)&&(ln=ln(Ut)),Re=Re.replace(new RegExp("\\{\\$"+Ut+"\\}","g"),ln)}),Re},he=function(Re,Tt){var ln=Re.dom,Ut=Q(Re);F.each(ln.select("*",Tt),function(fn){F.each(Ut,function(bn,In){ln.hasClass(fn,In)&&k(bn)&&bn(fn)})})},Ge=function(Re,Tt){return new RegExp("\\b"+Tt+"\\b","g").test(Re.className)},Me=function(Re,Tt,ln){var Ut=Re.dom,fn=Re.selection.getContent();ln=G(ln,Q(Re));var bn=Ut.create("div",null,ln),In=Ut.select(".mceTmpl",bn);In&&In.length>0&&(bn=Ut.create("div",null),bn.appendChild(In[0].cloneNode(!0))),F.each(Ut.select("*",bn),function(sr){Ge(sr,J(Re).replace(/\s+/g,"|"))&&(sr.innerHTML=oe(Re,me(Re))),Ge(sr,_(Re).replace(/\s+/g,"|"))&&(sr.innerHTML=oe(Re,xe(Re))),Ge(sr,U(Re).replace(/\s+/g,"|"))&&(sr.innerHTML=fn)}),he(Re,bn),Re.execCommand("mceInsertContent",!1,bn.innerHTML),Re.addVisual()},je=function(){return tt},tt=function(){var Re=function(Ut){return Ut()},Tt=P,ln={fold:function(Ut,fn){return Ut()},isSome:B,isNone:D,getOr:Tt,getOrThunk:Re,getOrDie:function(Ut){throw new Error(Ut||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:Tt,orThunk:Re,map:je,each:x,bind:je,exists:B,forall:D,filter:function(){return je()},toArray:function(){return[]},toString:T("none()")};return ln}(),E=function(Re){var Tt=T(Re),ln=function(){return fn},Ut=function(bn){return bn(Re)},fn={fold:function(bn,In){return In(Re)},isSome:D,isNone:B,getOr:Tt,getOrThunk:Tt,getOrDie:Tt,getOrNull:Tt,getOrUndefined:Tt,or:ln,orThunk:ln,map:function(bn){return E(bn(Re))},each:function(bn){bn(Re)},bind:Ut,exists:Ut,forall:Ut,filter:function(bn){return bn(Re)?fn:tt},toArray:function(){return[Re]},toString:function(){return"some("+Re+")"}};return fn},Ae=function(Re){return Re==null?tt:E(Re)},Le={some:E,none:je,from:Ae},At=function(Re,Tt){for(var ln=Re.length,Ut=new Array(ln),fn=0;fn<ln;fn++){var bn=Re[fn];Ut[fn]=Tt(bn,fn)}return Ut},ze=function(Re,Tt,ln){for(var Ut=0,fn=Re.length;Ut<fn;Ut++){var bn=Re[Ut];if(Tt(bn,Ut))return Le.some(bn);if(ln(bn,Ut))break}return Le.none()},ft=function(Re,Tt){return ze(Re,Tt,B)},Xe=tinymce.util.Tools.resolve("tinymce.Env"),ct=tinymce.util.Tools.resolve("tinymce.util.Promise"),re=Object.hasOwnProperty,Vt=function(Re,Tt){return it(Re,Tt)?Le.from(Re[Tt]):Le.none()},it=function(Re,Tt){return re.call(Re,Tt)},Oe={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},dt=function(Re){return Re.replace(/["'<>&]/g,function(Tt){return Vt(Oe,Tt).getOr(Tt)})},Ne=function(Re,Tt){if(Tt.indexOf("<html>")===-1){var ln="",Ut=Z(Re),fn=R(Re)?' crossorigin="anonymous"':"";F.each(Re.contentCSS,function(Ft){ln+='<link type="text/css" rel="stylesheet" href="'+Re.documentBaseURI.toAbsolute(Ft)+'"'+fn+">"}),Ut&&(ln+='<style type="text/css">'+Ut+"</style>");var bn=se(Re),In=Re.dom.encode,sr=Xe.mac?"e.metaKey":"e.ctrlKey && !e.altKey",yr='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+sr+")) {e.preventDefault();}}}, false);<\/script> ",$t=Re.getBody().dir,Dt=$t?' dir="'+In($t)+'"':"";Tt='<!DOCTYPE html><html><head><base href="'+In(Re.documentBaseURI.getURI())+'">'+ln+yr+'</head><body class="'+In(bn)+'"'+Dt+">"+Tt+"</body></html>"}return G(Tt,te(Re))},Be=function(Re,Tt){var ln=function(){if(!Tt||Tt.length===0){var Ft=Re.translate("No templates defined.");return Re.notificationManager.open({text:Ft,type:"info"}),Le.none()}return Le.from(F.map(Tt,function(rt,st){var Wt=function(dn){return dn.url!==void 0};return{selected:st===0,text:rt.title,value:{url:Wt(rt)?Le.from(rt.url):Le.none(),content:Wt(rt)?Le.none():Le.from(rt.content),description:rt.description}}}))},Ut=function(Ft){return At(Ft,function(rt){return{text:rt.text,value:rt.text}})},fn=function(Ft,rt){return ft(Ft,function(st){return st.text===rt})},bn=function(Ft){Re.windowManager.alert("Could not load the specified template.",function(){return Ft.focus("template")})},In=function(Ft){return new ct(function(rt,st){Ft.value.url.fold(function(){return rt(Ft.value.content.getOr(""))},function(Wt){return L.send({url:Wt,success:function(dn){rt(dn)},error:function(dn){st(dn)}})})})},sr=function(Ft,rt){return function(st,Wt){if(Wt.name==="template"){var dn=st.getData().template;fn(Ft,dn).each(function(Xt){st.block("Loading..."),In(Xt).then(function(Ve){rt(st,Xt,Ve)}).catch(function(){rt(st,Xt,""),st.disable("save"),bn(st)})})}}},yr=function(Ft){return function(rt){var st=rt.getData();fn(Ft,st.template).each(function(Wt){In(Wt).then(function(dn){Re.execCommand("mceInsertTemplate",!1,dn),rt.close()}).catch(function(){rt.disable("save"),bn(rt)})})}},$t=function(Ft){var rt=Ut(Ft),st=function(Xt,Ve){return{title:"Insert Template",size:"large",body:{type:"panel",items:Xt},initialData:Ve,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:yr(Ft),onChange:sr(Ft,Wt)}},Wt=function(Xt,Ve,Yt){var On=Ne(Re,Yt),wn=[{type:"selectbox",name:"template",label:"Templates",items:rt},{type:"htmlpanel",html:'<p aria-live="polite">'+dt(Ve.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],jn={template:Ve.text,preview:On};Xt.unblock(),Xt.redial(st(wn,jn)),Xt.focus("template")},dn=Re.windowManager.open(st([],{template:"",preview:""}));dn.block("Loading..."),In(Ft[0]).then(function(Xt){Wt(dn,Ft[0],Xt)}).catch(function(){Wt(dn,Ft[0],""),dn.disable("save"),bn(dn)})},Dt=ln();Dt.each($t)},at=function(Re){return function(Tt){Be(Re,Tt)}},gt=function(Re){Re.addCommand("mceInsertTemplate",I(Me,Re)),Re.addCommand("mceTemplate",z(Re,at(Re)))},ut=function(Re){Re.on("PreProcess",function(Tt){var ln=Re.dom,Ut=xe(Re);F.each(ln.select("div",Tt.node),function(fn){ln.hasClass(fn,"mceTmpl")&&(F.each(ln.select("*",fn),function(bn){ln.hasClass(bn,_(Re).replace(/\s+/g,"|"))&&(bn.innerHTML=oe(Re,Ut))}),he(Re,fn))})})},Et=function(Re){var Tt=function(){return Re.execCommand("mceTemplate")};Re.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:Tt}),Re.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:Tt})};function _n(){s.add("template",function(Re){Et(Re),gt(Re),ut(Re)})}_n()})();(function(){var s=function(j){var ve=j,_e=function(){return ve},Je=function(pt){ve=pt};return{get:_e,set:Je}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(){return d=Object.assign||function(ve){for(var _e,Je=1,pt=arguments.length;Je<pt;Je++){_e=arguments[Je];for(var bt in _e)Object.prototype.hasOwnProperty.call(_e,bt)&&(ve[bt]=_e[bt])}return ve},d.apply(this,arguments)};function h(j,ve,_e){if(_e||arguments.length===2)for(var Je=0,pt=ve.length,bt;Je<pt;Je++)(bt||!(Je in ve))&&(bt||(bt=Array.prototype.slice.call(ve,0,Je)),bt[Je]=ve[Je]);return j.concat(bt||Array.prototype.slice.call(ve))}var y=function(j){var ve=typeof j;return j===null?"null":ve==="object"&&(Array.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="Array")?"array":ve==="object"&&(String.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="String")?"string":ve},k=function(j){return function(ve){return y(ve)===j}},x=k("string"),T=k("object"),P=k("array"),I=function(){},B=function(j){return function(){return j}},D=function(j){return j},F=function(j){return function(){throw new Error(j)}},L=B(!1),J=B(!0),_=function(){return U},U=function(){var j=function(Je){return Je()},ve=D,_e={fold:function(Je,pt){return Je()},isSome:L,isNone:J,getOr:ve,getOrThunk:j,getOrDie:function(Je){throw new Error(Je||"error: getOrDie called on none.")},getOrNull:B(null),getOrUndefined:B(void 0),or:ve,orThunk:j,map:_,each:I,bind:_,exists:L,forall:J,filter:function(){return _()},toArray:function(){return[]},toString:B("none()")};return _e}(),te=function(j){var ve=B(j),_e=function(){return pt},Je=function(bt){return bt(j)},pt={fold:function(bt,xn){return xn(j)},isSome:J,isNone:L,getOr:ve,getOrThunk:ve,getOrDie:ve,getOrNull:ve,getOrUndefined:ve,or:_e,orThunk:_e,map:function(bt){return te(bt(j))},each:function(bt){bt(j)},bind:Je,exists:Je,forall:Je,filter:function(bt){return bt(j)?pt:U},toArray:function(){return[j]},toString:function(){return"some("+j+")"}};return pt},Z=function(j){return j==null?U:te(j)},R={some:te,none:_,from:Z},Q=Array.prototype.slice,X=Array.prototype.indexOf,me=function(j,ve){return X.call(j,ve)},xe=function(j,ve){return me(j,ve)>-1},fe=function(j,ve){for(var _e=j.length,Je=new Array(_e),pt=0;pt<_e;pt++){var bt=j[pt];Je[pt]=ve(bt,pt)}return Je},se=function(j,ve){for(var _e=0,Je=j.length;_e<Je;_e++){var pt=j[_e];ve(pt,_e)}},Ce=function(j,ve){for(var _e=j.length-1;_e>=0;_e--){var Je=j[_e];ve(Je,_e)}},oe=function(j,ve){for(var _e=[],Je=0,pt=j.length;Je<pt;Je++){var bt=j[Je];ve(bt,Je)&&_e.push(bt)}return _e},z=function(j,ve,_e){return Ce(j,function(Je,pt){_e=ve(_e,Je,pt)}),_e},G=function(j,ve,_e){return se(j,function(Je,pt){_e=ve(_e,Je,pt)}),_e},he=function(j,ve,_e){for(var Je=0,pt=j.length;Je<pt;Je++){var bt=j[Je];if(ve(bt,Je))return R.some(bt);if(_e(bt,Je))break}return R.none()},Ge=function(j,ve){return he(j,ve,L)},Me=function(j,ve){for(var _e=0,Je=j.length;_e<Je;++_e){var pt=j[_e];if(ve(pt,_e)!==!0)return!1}return!0},je=function(j,ve){var _e=Q.call(j,0);return _e.sort(ve),_e},tt=function(j,ve){return ve>=0&&ve<j.length?R.some(j[ve]):R.none()},E=function(j){return tt(j,0)},Ae=Object.keys,Le=Object.hasOwnProperty,At=function(j,ve){return Le.call(j,ve)},ze=function(j){if(!P(j))throw new Error("cases must be an array");if(j.length===0)throw new Error("there must be at least one case");var ve=[],_e={};return se(j,function(Je,pt){var bt=Ae(Je);if(bt.length!==1)throw new Error("one and only one name per case");var xn=bt[0],Bn=Je[xn];if(_e[xn]!==void 0)throw new Error("duplicate key detected:"+xn);if(xn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!P(Bn))throw new Error("case arguments must be an array");ve.push(xn),_e[xn]=function(){for(var fr=[],wr=0;wr<arguments.length;wr++)fr[wr]=arguments[wr];var Qn=fr.length;if(Qn!==Bn.length)throw new Error("Wrong number of arguments to case "+xn+". Expected "+Bn.length+" ("+Bn+"), got "+Qn);var xr=function(ga){var Qa=Ae(ga);if(ve.length!==Qa.length)throw new Error("Wrong number of arguments to match. Expected: "+ve.join(",")+`
Actual: `+Qa.join(","));var To=Me(ve,function(nu){return xe(Qa,nu)});if(!To)throw new Error("Not all branches were specified when using match. Specified: "+Qa.join(", ")+`
Required: `+ve.join(", "));return ga[xn].apply(null,fr)};return{fold:function(){for(var ga=[],Qa=0;Qa<arguments.length;Qa++)ga[Qa]=arguments[Qa];if(ga.length!==j.length)throw new Error("Wrong number of arguments to fold. Expected "+j.length+", got "+ga.length);var To=ga[pt];return To.apply(null,fr)},match:xr,log:function(ga){}}}}),_e},ft={generate:ze};ft.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Xe=function(j){var ve=[],_e=[];return se(j,function(Je){Je.fold(function(pt){ve.push(pt)},function(pt){_e.push(pt)})}),{errors:ve,values:_e}},ct=function(j){var ve=function(xr){return ct(j)},_e=function(xr){return ct(j)},Je=function(xr){return ct(xr(j))},pt=function(xr){return ct(j)},bt=function(xr){xr(j)},xn=function(xr){return xr(j)},Bn=function(xr,ga){return ga(j)},fr=function(xr){return xr(j)},wr=function(xr){return xr(j)},Qn=function(){return R.some(j)};return{isValue:J,isError:L,getOr:B(j),getOrThunk:B(j),getOrDie:B(j),or:ve,orThunk:_e,fold:Bn,map:Je,mapError:pt,each:bt,bind:xn,exists:fr,forall:wr,toOptional:Qn}},re=function(j){var ve=function(wr){return wr()},_e=function(){return F(String(j))()},Je=D,pt=function(wr){return wr()},bt=function(wr){return re(j)},xn=function(wr){return re(wr(j))},Bn=function(wr){return re(j)},fr=function(wr,Qn){return wr(j)};return{isValue:L,isError:J,getOr:D,getOrThunk:ve,getOrDie:_e,or:Je,orThunk:pt,fold:fr,map:bt,mapError:xn,each:I,bind:Bn,exists:L,forall:J,toOptional:R.none}},Vt=function(j,ve){return j.fold(function(){return re(ve)},ct)},it={value:ct,error:re,fromOption:Vt},Oe=function(j){return j.type==="inline-command"||j.type==="inline-format"},dt=function(j){return j.type==="block-command"||j.type==="block-format"},Ne=function(j){return je(j,function(ve,_e){return ve.start.length===_e.start.length?0:ve.start.length>_e.start.length?-1:1})},Be=function(j){var ve=function(bt){return it.error({message:bt,pattern:j})},_e=function(bt,xn,Bn){if(j.format!==void 0){var fr=void 0;if(P(j.format)){if(!Me(j.format,x))return ve(bt+" pattern has non-string items in the `format` array");fr=j.format}else if(x(j.format))fr=[j.format];else return ve(bt+" pattern has non-string `format` parameter");return it.value(xn(fr))}else return j.cmd!==void 0?x(j.cmd)?it.value(Bn(j.cmd,j.value)):ve(bt+" pattern has non-string `cmd` parameter"):ve(bt+" pattern is missing both `format` and `cmd` parameters")};if(!T(j))return ve("Raw pattern is not an object");if(!x(j.start))return ve("Raw pattern is missing `start` parameter");if(j.end!==void 0){if(!x(j.end))return ve("Inline pattern has non-string `end` parameter");if(j.start.length===0&&j.end.length===0)return ve("Inline pattern has empty `start` and `end` parameters");var Je=j.start,pt=j.end;return pt.length===0&&(pt=Je,Je=""),_e("Inline",function(bt){return{type:"inline-format",start:Je,end:pt,format:bt}},function(bt,xn){return{type:"inline-command",start:Je,end:pt,cmd:bt,value:xn}})}else return j.replacement!==void 0?x(j.replacement)?j.start.length===0?ve("Replacement pattern has empty `start` parameter"):it.value({type:"inline-command",start:"",end:j.start,cmd:"mceInsertContent",value:j.replacement}):ve("Replacement pattern has non-string `replacement` parameter"):j.start.length===0?ve("Block pattern has empty `start` parameter"):_e("Block",function(bt){return{type:"block-format",start:j.start,format:bt[0]}},function(bt,xn){return{type:"block-command",start:j.start,cmd:bt,value:xn}})},at=function(j){if(j.type==="block-command")return{start:j.start,cmd:j.cmd,value:j.value};if(j.type==="block-format")return{start:j.start,format:j.format};if(j.type==="inline-command")return j.cmd==="mceInsertContent"&&j.start===""?{start:j.end,replacement:j.value}:{start:j.start,end:j.end,cmd:j.cmd,value:j.value};if(j.type==="inline-format")return{start:j.start,end:j.end,format:j.format.length===1?j.format[0]:j.format}},gt=function(j){return{inlinePatterns:oe(j,Oe),blockPatterns:Ne(oe(j,dt))}},ut=function(j){var ve=function(Je){var pt=Xe(fe(Je,Be));if(pt.errors.length>0){var bt=pt.errors[0];throw new Error(bt.message+`:
`+JSON.stringify(bt.pattern,null,2))}j.set(gt(pt.values))},_e=function(){return h(h([],fe(j.get().inlinePatterns,at),!0),fe(j.get().blockPatterns,at),!0)};return{setPatterns:ve,getPatterns:_e}},Et=typeof window<"u"?window:Function("return this;")(),_n=function(){for(var j=[],ve=0;ve<arguments.length;ve++)j[ve]=arguments[ve];var _e=Et.console;_e&&(_e.error?_e.error.apply(_e,j):_e.log.apply(_e,j))},Re=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],Tt=function(j){var ve=j.getParam("textpattern_patterns",Re,"array");if(!P(ve))return _n("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var _e=Xe(fe(ve,Be));return se(_e.errors,function(Je){return _n(Je.message,Je.pattern)}),gt(_e.values)},ln=function(j){var ve=j.getParam("forced_root_block","p");return ve===!1?"":ve===!0?"p":ve},Ut=tinymce.util.Tools.resolve("tinymce.util.Delay"),fn=tinymce.util.Tools.resolve("tinymce.util.VK"),bn="\uFEFF",In=" ",sr=tinymce.util.Tools.resolve("tinymce.util.Tools"),yr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$t=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Dt=function(j,ve){return{container:j,offset:ve}},Ft=function(j){return j.nodeType===Node.TEXT_NODE},rt=function(j,ve,_e){if(ve&&j.isEmpty(ve)&&!_e(ve)){var Je=ve.parentNode;j.remove(ve),rt(j,Je,_e)}},st=function(j,ve,_e,Je){Je===void 0&&(Je=!0);var pt=ve.startContainer.parentNode,bt=ve.endContainer.parentNode;ve.deleteContents(),Je&&!_e(ve.startContainer)&&(Ft(ve.startContainer)&&ve.startContainer.data.length===0&&j.remove(ve.startContainer),Ft(ve.endContainer)&&ve.endContainer.data.length===0&&j.remove(ve.endContainer),rt(j,pt,_e),pt!==bt&&rt(j,bt,_e))},Wt=function(j,ve){var _e=ve.get(j);return P(_e)&&E(_e).exists(function(Je){return At(Je,"block")})},dn=function(j){return j.start.length===0},Xt=function(j,ve){var _e=R.from(j.dom.getParent(ve.startContainer,j.dom.isBlock));return ln(j)===""?_e.orThunk(function(){return R.some(j.getBody())}):_e},Ve=yr.DOM,Yt=function(j){return function(ve){return j===ve?-1:0}},On=function(j){return function(ve){return j.isBlock(ve)||xe(["BR","IMG","HR","INPUT"],ve.nodeName)||j.getContentEditable(ve)==="false"}},wn=function(j,ve,_e){if(Ft(j)&&ve>=0)return R.some(Dt(j,ve));var Je=$t(Ve);return R.from(Je.backwards(j,ve,Yt(j),_e)).map(function(pt){return Dt(pt.container,pt.container.data.length)})},jn=function(j,ve,_e){if(Ft(j)&&ve>=j.length)return R.some(Dt(j,ve));var Je=$t(Ve);return R.from(Je.forwards(j,ve,Yt(j),_e)).map(function(pt){return Dt(pt.container,0)})},He=function(j,ve,_e){if(!Ft(j))return R.none();var Je=j.textContent;if(ve>=0&&ve<=Je.length)return R.some(Dt(j,ve));var pt=$t(Ve);return R.from(pt.backwards(j,ve,Yt(j),_e)).bind(function(bt){var xn=bt.container.data;return He(bt.container,ve+xn.length,_e)})},Lt=function(j,ve,_e){if(!Ft(j))return R.none();var Je=j.textContent;if(ve<=Je.length)return R.some(Dt(j,ve));var pt=$t(Ve);return R.from(pt.forwards(j,ve,Yt(j),_e)).bind(function(bt){return Lt(bt.container,ve-Je.length,_e)})},_t=function(j,ve,_e,Je,pt){var bt=$t(j,On(j));return R.from(bt.backwards(ve,_e,Je,pt))},an=function(j,ve,_e){if(Ft(ve)&&(_e<0||_e>ve.data.length))return[];for(var Je=[_e],pt=ve;pt!==j&&pt.parentNode;){for(var bt=pt.parentNode,xn=0;xn<bt.childNodes.length;xn++)if(bt.childNodes[xn]===pt){Je.push(xn);break}pt=bt}return pt===j?Je.reverse():[]},Un=function(j,ve,_e,Je,pt){var bt=an(j,ve,_e),xn=an(j,Je,pt);return{start:bt,end:xn}},kr=function(j,ve){var _e=ve.slice(),Je=_e.pop(),pt=G(_e,function(bt,xn){return bt.bind(function(Bn){return R.from(Bn.childNodes[xn])})},R.some(j));return pt.bind(function(bt){return Ft(bt)&&(Je<0||Je>bt.data.length)?R.none():R.some({node:bt,offset:Je})})},Oa=function(j,ve){return kr(j,ve.start).bind(function(_e){var Je=_e.node,pt=_e.offset;return kr(j,ve.end).map(function(bt){var xn=bt.node,Bn=bt.offset,fr=document.createRange();return fr.setStart(Je,pt),fr.setEnd(xn,Bn),fr})})},_r=function(j,ve){return Un(j,ve.startContainer,ve.startOffset,ve.endContainer,ve.endOffset)},Ar=function(j,ve,_e){var Je=jn(ve,0,ve);Je.each(function(pt){var bt=pt.container;Lt(bt,_e.start.length,ve).each(function(xn){var Bn=j.createRng();Bn.setStart(bt,0),Bn.setEnd(xn.container,xn.offset),st(j,Bn,function(fr){return fr===ve})})})},_a=function(j,ve){var _e=j.dom,Je=ve.pattern,pt=Oa(_e.getRoot(),ve.range).getOrDie("Unable to resolve path range");return Xt(j,pt).each(function(bt){Je.type==="block-format"?Wt(Je.format,j.formatter)&&j.undoManager.transact(function(){Ar(j.dom,bt,Je),j.formatter.apply(Je.format)}):Je.type==="block-command"&&j.undoManager.transact(function(){Ar(j.dom,bt,Je),j.execCommand(Je.cmd,!1,Je.value)})}),!0},xo=function(j,ve){var _e=ve.replace(In," ");return Ge(j,function(Je){return ve.indexOf(Je.start)===0||_e.indexOf(Je.start)===0})},oo=function(j,ve){var _e=j.dom,Je=j.selection.getRng();return Xt(j,Je).filter(function(pt){var bt=ln(j),xn=bt===""&&_e.is(pt,"body")||_e.is(pt,bt);return pt!==null&&xn}).bind(function(pt){var bt=pt.textContent,xn=xo(ve,bt);return xn.map(function(Bn){return sr.trim(bt).length===Bn.start.length?[]:[{pattern:Bn,range:Un(_e.getRoot(),pt,0,pt,0)}]})}).getOr([])},hn=function(j,ve){if(ve.length!==0){var _e=j.selection.getBookmark();se(ve,function(Je){return _a(j,Je)}),j.selection.moveToBookmark(_e)}},or=0,tr=function(j){var ve=new Date,_e=ve.getTime(),Je=Math.floor(Math.random()*1e9);return or++,j+"_"+Je+or+String(_e)},Wr=function(j,ve,_e){return ve===""||j.length>=ve.length&&j.substr(_e,_e+ve.length)===ve},va=function(j,ve){return Wr(j,ve,j.length-ve.length)},Pa=function(j,ve){return j.create("span",{"data-mce-type":"bookmark",id:ve})},Nr=function(j,ve){var _e=j.createRng();return _e.setStartAfter(ve.start),_e.setEndBefore(ve.end),_e},Fa=function(j,ve,_e){var Je=Oa(j.getRoot(),_e).getOrDie("Unable to resolve path range"),pt=Je.startContainer,bt=Je.endContainer,xn=Je.endOffset===0?bt:bt.splitText(Je.endOffset),Bn=Je.startOffset===0?pt:pt.splitText(Je.startOffset);return{prefix:ve,end:xn.parentNode.insertBefore(Pa(j,ve+"-end"),xn),start:Bn.parentNode.insertBefore(Pa(j,ve+"-start"),Bn)}},Yn=function(j,ve,_e){rt(j,j.get(ve.prefix+"-end"),_e),rt(j,j.get(ve.prefix+"-start"),_e)},Do=function(j,ve,_e){return function(Je,pt){var bt=Je.data,xn=bt.substring(0,pt),Bn=xn.lastIndexOf(_e.charAt(_e.length-1)),fr=xn.lastIndexOf(_e);return fr!==-1?fr+_e.length:Bn!==-1?Bn+1:-1}},Ga=function(j,ve,_e,Je){var pt=ve.start,bt=_t(j,Je.container,Je.offset,Do(j,_e,pt),_e);return bt.bind(function(xn){if(xn.offset>=pt.length){var Bn=j.createRng();return Bn.setStart(xn.container,xn.offset-pt.length),Bn.setEnd(xn.container,xn.offset),R.some(Bn)}else{var fr=xn.offset-pt.length;return He(xn.container,fr,_e).map(function(wr){var Qn=j.createRng();return Qn.setStart(wr.container,wr.offset),Qn.setEnd(xn.container,xn.offset),Qn}).filter(function(wr){return wr.toString()===pt}).orThunk(function(){return Ga(j,ve,_e,Dt(xn.container,0))})}})},Aa=function(j,ve,_e,Je,pt,bt){if(bt===void 0&&(bt=!1),ve.start.length===0&&!bt){var xn=j.createRng();return xn.setStart(_e,Je),xn.setEnd(_e,Je),R.some(xn)}return wn(_e,Je,pt).bind(function(Bn){var fr=Ga(j,ve,pt,Bn);return fr.bind(function(wr){if(bt){if(wr.endContainer===Bn.container&&wr.endOffset===Bn.offset)return R.none();if(Bn.offset===0&&wr.endContainer.textContent.length===wr.endOffset)return R.none()}return R.some(wr)})})},ko=function(j,ve,_e){var Je=j.dom,pt=Je.getRoot(),bt=_e.pattern,xn=_e.position.container,Bn=_e.position.offset;return He(xn,Bn-_e.pattern.end.length,ve).bind(function(fr){var wr=Un(pt,fr.container,fr.offset,xn,Bn);if(dn(bt))return R.some({matches:[{pattern:bt,startRng:wr,endRng:wr}],position:fr});var Qn=io(j,_e.remainingPatterns,fr.container,fr.offset,ve),xr=Qn.getOr({matches:[],position:fr}),ga=xr.position,Qa=Aa(Je,bt,ga.container,ga.offset,ve,Qn.isNone());return Qa.map(function(To){var nu=_r(pt,To);return{matches:xr.matches.concat([{pattern:bt,startRng:nu,endRng:wr}]),position:Dt(To.startContainer,To.startOffset)}})})},io=function(j,ve,_e,Je,pt){var bt=j.dom;return wn(_e,Je,bt.getRoot()).bind(function(xn){var Bn=bt.createRng();Bn.setStart(pt,0),Bn.setEnd(_e,Je);for(var fr=Bn.toString(),wr=0;wr<ve.length;wr++){var Qn=ve[wr];if(va(fr,Qn.end)){var xr=ve.slice();xr.splice(wr,1);var ga=ko(j,pt,{pattern:Qn,remainingPatterns:xr,position:xn});if(ga.isSome())return ga}}return R.none()})},Yo=function(j,ve,_e){j.selection.setRng(_e),ve.type==="inline-format"?se(ve.format,function(Je){j.formatter.apply(Je)}):j.execCommand(ve.cmd,!1,ve.value)},ti=function(j,ve,_e,Je){var pt=Nr(j.dom,_e);st(j.dom,pt,Je),Yo(j,ve,pt)},$i=function(j,ve,_e,Je,pt){var bt=j.dom,xn=Nr(bt,Je),Bn=Nr(bt,_e);st(bt,Bn,pt),st(bt,xn,pt);var fr={prefix:_e.prefix,start:_e.end,end:Je.start},wr=Nr(bt,fr);Yo(j,ve,wr)},ke=function(j,ve){var _e=tr("mce_textpattern"),Je=z(ve,function(pt,bt){var xn=Fa(j,_e+("_end"+pt.length),bt.endRng);return pt.concat([d(d({},bt),{endMarker:xn})])},[]);return z(Je,function(pt,bt){var xn=Je.length-pt.length-1,Bn=dn(bt.pattern)?bt.endMarker:Fa(j,_e+("_start"+xn),bt.startRng);return pt.concat([d(d({},bt),{startMarker:Bn})])},[])},qe=function(j,ve,_e){var Je=j.selection.getRng();return Je.collapsed===!1?[]:Xt(j,Je).bind(function(pt){var bt=Je.startOffset-(_e?1:0);return io(j,ve,Je.startContainer,bt,pt)}).fold(function(){return[]},function(pt){return pt.matches})},Te=function(j,ve){if(ve.length!==0){var _e=j.dom,Je=j.selection.getBookmark(),pt=ke(_e,ve);se(pt,function(bt){var xn=_e.getParent(bt.startMarker.start,_e.isBlock),Bn=function(fr){return fr===xn};dn(bt.pattern)?ti(j,bt.pattern,bt.endMarker,Bn):$i(j,bt.pattern,bt.startMarker,bt.endMarker,Bn),Yn(_e,bt.endMarker,Bn),Yn(_e,bt.startMarker,Bn)}),j.selection.moveToBookmark(Je)}},wt=function(j,ve){if(!j.selection.isCollapsed())return!1;var _e=qe(j,ve.inlinePatterns,!1),Je=oo(j,ve.blockPatterns);return Je.length>0||_e.length>0?(j.undoManager.add(),j.undoManager.extra(function(){j.execCommand("mceInsertNewLine")},function(){j.insertContent(bn),Te(j,_e),hn(j,Je);var pt=j.selection.getRng(),bt=wn(pt.startContainer,pt.startOffset,j.dom.getRoot());j.execCommand("mceInsertNewLine"),bt.each(function(xn){var Bn=xn.container;Bn.data.charAt(xn.offset-1)===bn&&(Bn.deleteData(xn.offset-1,1),rt(j.dom,Bn.parentNode,function(fr){return fr===j.dom.getRoot()}))})}),!0):!1},En=function(j,ve){var _e=qe(j,ve.inlinePatterns,!0);_e.length>0&&j.undoManager.transact(function(){Te(j,_e)})},zn=function(j,ve,_e){for(var Je=0;Je<j.length;Je++)if(_e(j[Je],ve))return!0;return!1},ye=function(j,ve){return zn(j,ve,function(_e,Je){return _e===Je.keyCode&&fn.modifierPressed(Je)===!1})},Pe=function(j,ve){return zn(j,ve,function(_e,Je){return _e.charCodeAt(0)===Je.charCode})},Ct=function(j,ve){var _e=[",",".",";",":","!","?"],Je=[32];j.on("keydown",function(pt){pt.keyCode===13&&!fn.modifierPressed(pt)&&wt(j,ve.get())&&pt.preventDefault()},!0),j.on("keyup",function(pt){ye(Je,pt)&&En(j,ve.get())}),j.on("keypress",function(pt){Pe(_e,pt)&&Ut.setEditorTimeout(j,function(){En(j,ve.get())})})};function Nt(){g.add("textpattern",function(j){var ve=s(Tt(j));return Ct(j,ve),ut(ve)})}Nt()})();(function(){var s=function(B){var D=B,F=function(){return D},L=function(J){D=J};return{get:F,set:L}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(B,D){B.fire("VisualBlocks",{state:D})},h=function(B,D,F){var L=B.dom;L.toggleClass(B.getBody(),"mce-visualblocks"),F.set(!F.get()),d(B,F.get())},y=function(B,D,F){B.addCommand("mceVisualBlocks",function(){h(B,D,F)})},k=function(B){return B.getParam("visualblocks_default_state",!1,"boolean")},x=function(B,D,F){B.on("PreviewFormats AfterPreviewFormats",function(L){F.get()&&B.dom.toggleClass(B.getBody(),"mce-visualblocks",L.type==="afterpreviewformats")}),B.on("init",function(){k(B)&&h(B,D,F)})},T=function(B,D){return function(F){F.setActive(D.get());var L=function(J){return F.setActive(J.state)};return B.on("VisualBlocks",L),function(){return B.off("VisualBlocks",L)}}},P=function(B,D){var F=function(){return B.execCommand("mceVisualBlocks")};B.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:F,onSetup:T(B,D)}),B.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:F,onSetup:T(B,D)})};function I(){g.add("visualblocks",function(B,D){var F=s(!1);y(B,D,F),P(B,F),x(B,D,F)})}I()})();(function(){var s=function(He){var Lt=He,_t=function(){return Lt},an=function(Un){Lt=Un};return{get:_t,set:an}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(He){var Lt=function(){return He.get()};return{isEnabled:Lt}},h=function(He,Lt){return He.fire("VisualChars",{state:Lt})},y=function(He){var Lt=typeof He;return He===null?"null":Lt==="object"&&(Array.prototype.isPrototypeOf(He)||He.constructor&&He.constructor.name==="Array")?"array":Lt==="object"&&(String.prototype.isPrototypeOf(He)||He.constructor&&He.constructor.name==="String")?"string":Lt},k=function(He){return function(Lt){return y(Lt)===He}},x=function(He){return function(Lt){return typeof Lt===He}},T=k("string"),P=x("boolean"),I=x("number"),B=function(){},D=function(He){return function(){return He}},F=function(He){return He},L=D(!1),J=D(!0),_=function(){return U},U=function(){var He=function(an){return an()},Lt=F,_t={fold:function(an,Un){return an()},isSome:L,isNone:J,getOr:Lt,getOrThunk:He,getOrDie:function(an){throw new Error(an||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:Lt,orThunk:He,map:_,each:B,bind:_,exists:L,forall:J,filter:function(){return _()},toArray:function(){return[]},toString:D("none()")};return _t}(),te=function(He){var Lt=D(He),_t=function(){return Un},an=function(kr){return kr(He)},Un={fold:function(kr,Oa){return Oa(He)},isSome:J,isNone:L,getOr:Lt,getOrThunk:Lt,getOrDie:Lt,getOrNull:Lt,getOrUndefined:Lt,or:_t,orThunk:_t,map:function(kr){return te(kr(He))},each:function(kr){kr(He)},bind:an,exists:an,forall:an,filter:function(kr){return kr(He)?Un:U},toArray:function(){return[He]},toString:function(){return"some("+He+")"}};return Un},Z=function(He){return He==null?U:te(He)},R={some:te,none:_,from:Z},Q=function(He,Lt){for(var _t=He.length,an=new Array(_t),Un=0;Un<_t;Un++){var kr=He[Un];an[Un]=Lt(kr,Un)}return an},X=function(He,Lt){for(var _t=0,an=He.length;_t<an;_t++){var Un=He[_t];Lt(Un,_t)}},me=function(He,Lt){for(var _t=[],an=0,Un=He.length;an<Un;an++){var kr=He[an];Lt(kr,an)&&_t.push(kr)}return _t},xe=Object.keys,fe=function(He,Lt){for(var _t=xe(He),an=0,Un=_t.length;an<Un;an++){var kr=_t[an],Oa=He[kr];Lt(Oa,kr)}};typeof window<"u"||Function("return this;")();var se=3,Ce=function(He){return He.dom.nodeType},oe=function(He){return He.dom.nodeValue},z=function(He){return function(Lt){return Ce(Lt)===He}},G=z(se),he=function(He,Lt,_t){if(T(_t)||P(_t)||I(_t))He.setAttribute(Lt,_t+"");else throw new Error("Attribute value was not simple")},Ge=function(He,Lt,_t){he(He.dom,Lt,_t)},Me=function(He,Lt){var _t=He.dom.getAttribute(Lt);return _t===null?void 0:_t},je=function(He,Lt){He.dom.removeAttribute(Lt)},tt=function(He,Lt){var _t=Me(He,Lt);return _t===void 0||_t===""?[]:_t.split(" ")},E=function(He,Lt,_t){var an=tt(He,Lt),Un=an.concat([_t]);return Ge(He,Lt,Un.join(" ")),!0},Ae=function(He,Lt,_t){var an=me(tt(He,Lt),function(Un){return Un!==_t});return an.length>0?Ge(He,Lt,an.join(" ")):je(He,Lt),!1},Le=function(He){return He.dom.classList!==void 0},At=function(He){return tt(He,"class")},ze=function(He,Lt){return E(He,"class",Lt)},ft=function(He,Lt){return Ae(He,"class",Lt)},Xe=function(He,Lt){Le(He)?He.dom.classList.add(Lt):ze(He,Lt)},ct=function(He){var Lt=Le(He)?He.dom.classList:At(He);Lt.length===0&&je(He,"class")},re=function(He,Lt){if(Le(He)){var _t=He.dom.classList;_t.remove(Lt)}else ft(He,Lt);ct(He)},Vt=function(He,Lt){var _t=Lt||document,an=_t.createElement("div");if(an.innerHTML=He,!an.hasChildNodes()||an.childNodes.length>1)throw new Error("HTML must have a single root node");return dt(an.childNodes[0])},it=function(He,Lt){var _t=Lt||document,an=_t.createElement(He);return dt(an)},Oe=function(He,Lt){var _t=Lt||document,an=_t.createTextNode(He);return dt(an)},dt=function(He){if(He==null)throw new Error("Node cannot be null or undefined");return{dom:He}},Ne=function(He,Lt,_t){return R.from(He.dom.elementFromPoint(Lt,_t)).map(dt)},Be={fromHtml:Vt,fromTag:it,fromText:Oe,fromDom:dt,fromPoint:Ne},at={" ":"nbsp","­":"shy"},gt=function(He,Lt){var _t="";return fe(He,function(an,Un){_t+=Un}),new RegExp("["+_t+"]",Lt?"g":"")},ut=function(He){var Lt="";return fe(He,function(_t){Lt&&(Lt+=","),Lt+="span.mce-"+_t}),Lt},Et=gt(at),_n=gt(at,!0),Re=ut(at),Tt="mce-nbsp",ln=function(He){return'<span data-mce-bogus="1" class="mce-'+at[He]+'">'+He+"</span>"},Ut=function(He){var Lt=oe(He);return G(He)&&Lt!==void 0&&Et.test(Lt)},fn=function(He,Lt){var _t=[],an=He.dom,Un=Q(an.childNodes,Be.fromDom);return X(Un,function(kr){Lt(kr)&&(_t=_t.concat([kr])),_t=_t.concat(fn(kr,Lt))}),_t},bn=function(He,Lt){for(;He.parentNode;){if(He.parentNode===Lt)return He;He=He.parentNode}},In=function(He){return He.replace(_n,ln)},sr=function(He){return He.nodeName.toLowerCase()==="span"&&He.classList.contains("mce-nbsp-wrap")},yr=function(He,Lt){var _t=fn(Be.fromDom(Lt),Ut);X(_t,function(an){var Un=an.dom.parentNode;if(sr(Un))Xe(Be.fromDom(Un),Tt);else{for(var kr=In(He.dom.encode(oe(an))),Oa=He.dom.create("div",null,kr),_r=void 0;_r=Oa.lastChild;)He.dom.insertAfter(_r,an.dom);He.dom.remove(an.dom)}})},$t=function(He,Lt){var _t=He.dom.select(Re,Lt);X(_t,function(an){sr(an)?re(Be.fromDom(an),Tt):He.dom.remove(an,!0)})},Dt=function(He){var Lt=He.getBody(),_t=He.selection.getBookmark(),an=bn(He.selection.getNode(),Lt);an=an!==void 0?an:Lt,$t(He,an),yr(He,an),He.selection.moveToBookmark(_t)},Ft=function(He,Lt){h(He,Lt.get());var _t=He.getBody();Lt.get()===!0?yr(He,_t):$t(He,_t)},rt=function(He,Lt){Lt.set(!Lt.get());var _t=He.selection.getBookmark();Ft(He,Lt),He.selection.moveToBookmark(_t)},st=function(He,Lt){He.addCommand("mceVisualChars",function(){rt(He,Lt)})},Wt=function(He){return He.getParam("visualchars_default_state",!1)},dn=function(He){return He.getParam("forced_root_block")!==!1},Xt=function(He,Lt){He.on("init",function(){Ft(He,Lt)})},Ve=tinymce.util.Tools.resolve("tinymce.util.Delay"),Yt=function(He,Lt){var _t=Ve.debounce(function(){Dt(He)},300);dn(He)&&He.on("keydown",function(an){Lt.get()===!0&&(an.keyCode===13?Dt(He):_t())}),He.on("remove",_t.stop)},On=function(He,Lt){return function(_t){_t.setActive(Lt.get());var an=function(Un){return _t.setActive(Un.state)};return He.on("VisualChars",an),function(){return He.off("VisualChars",an)}}},wn=function(He,Lt){var _t=function(){return He.execCommand("mceVisualChars")};He.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:_t,onSetup:On(He,Lt)}),He.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:_t,onSetup:On(He,Lt)})};function jn(){g.add("visualchars",function(He){var Lt=s(Wt(He));return st(He,Lt),wn(He,Lt),Yt(He,Lt),Xt(He,Lt),d(Lt)})}jn()})();(function(){var s=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=function(Ne){return Ne},d=function(){return d=Object.assign||function(Be){for(var at,gt=1,ut=arguments.length;gt<ut;gt++){at=arguments[gt];for(var Et in at)Object.prototype.hasOwnProperty.call(at,Et)&&(Be[Et]=at[Et])}return Be},d.apply(this,arguments)},h="\uFEFF",y=function(Ne){return Ne.replace(/\uFEFF/g,"")},k=function(Ne,Be){for(var at=Ne.length,gt=new Array(at),ut=0;ut<at;ut++){var Et=Ne[ut];gt[ut]=Be(Et,ut)}return gt},x="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",T={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:x},P={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},I=[new RegExp(T.aletter),new RegExp(T.midnumlet),new RegExp(T.midletter),new RegExp(T.midnum),new RegExp(T.numeric),new RegExp(T.cr),new RegExp(T.lf),new RegExp(T.newline),new RegExp(T.extend),new RegExp(T.format),new RegExp(T.katakana),new RegExp(T.extendnumlet),new RegExp("@")],B="",D=new RegExp("^"+T.punctuation+"$"),F=/^\s+$/,L=I,J=P.OTHER,_=function(Ne){for(var Be=J,at=L.length,gt=0;gt<at;++gt){var ut=L[gt];if(ut&&ut.test(Ne)){Be=gt;break}}return Be},U=function(Ne){var Be={};return function(at){if(Be[at])return Be[at];var gt=Ne(at);return Be[at]=gt,gt}},te=function(Ne){var Be=U(_);return k(Ne,Be)},Z=function(Ne,Be){var at=Ne[Be],gt=Ne[Be+1];if(Be<0||Be>Ne.length-1&&Be!==0||at===P.ALETTER&&gt===P.ALETTER)return!1;var ut=Ne[Be+2];if(at===P.ALETTER&&(gt===P.MIDLETTER||gt===P.MIDNUMLET||gt===P.AT)&&ut===P.ALETTER)return!1;var Et=Ne[Be-1];return(at===P.MIDLETTER||at===P.MIDNUMLET||gt===P.AT)&&gt===P.ALETTER&&Et===P.ALETTER||(at===P.NUMERIC||at===P.ALETTER)&&(gt===P.NUMERIC||gt===P.ALETTER)||(at===P.MIDNUM||at===P.MIDNUMLET)&&gt===P.NUMERIC&&Et===P.NUMERIC||at===P.NUMERIC&&(gt===P.MIDNUM||gt===P.MIDNUMLET)&&ut===P.NUMERIC||at===P.EXTEND||at===P.FORMAT||Et===P.EXTEND||Et===P.FORMAT||gt===P.EXTEND||gt===P.FORMAT||at===P.CR&&gt===P.LF?!1:at===P.NEWLINE||at===P.CR||at===P.LF||gt===P.NEWLINE||gt===P.CR||gt===P.LF?!0:!(at===P.KATAKANA&&gt===P.KATAKANA||gt===P.EXTENDNUMLET&&(at===P.ALETTER||at===P.NUMERIC||at===P.KATAKANA||at===P.EXTENDNUMLET)||at===P.EXTENDNUMLET&&(gt===P.ALETTER||gt===P.NUMERIC||gt===P.KATAKANA)||at===P.AT)},R=B,Q=F,X=D,me=function(Ne){return Ne==="http"||Ne==="https"},xe=function(Ne,Be){var at;for(at=Be;at<Ne.length&&!Q.test(Ne[at]);at++);return at},fe=function(Ne,Be){var at=xe(Ne,Be+1),gt=Ne.slice(Be+1,at).join(R);return gt.substr(0,3)==="://"?at:Be},se=function(Ne,Be,at,gt){for(var ut=[],Et=[],_n=0;_n<at.length;++_n)if(Et.push(Ne[_n]),Z(at,_n)){var Re=Be[_n];if((gt.includeWhitespace||!Q.test(Re))&&(gt.includePunctuation||!X.test(Re))){var Tt=_n-Et.length+1,ln=_n+1,Ut=Be.slice(Tt,ln).join(R);if(me(Ut)){var fn=fe(Be,_n),bn=Ne.slice(ln,fn);Array.prototype.push.apply(Et,bn),_n=fn}ut.push(Et)}Et=[]}return ut},Ce=function(){return{includeWhitespace:!1,includePunctuation:!1}},oe=function(Ne,Be,at){at=d(d({},Ce()),at);for(var gt=[],ut=[],Et=0;Et<Ne.length;Et++){var _n=Be(Ne[Et]);_n!==h&&(gt.push(Ne[Et]),ut.push(_n))}var Re=te(ut);return se(gt,ut,Re,at)},z=oe,G=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),he=function(Ne,Be){for(var at=Be.getBlockElements(),gt=Be.getShortEndedElements(),ut=function(Tt){return at[Tt.nodeName]||gt[Tt.nodeName]},Et=[],_n="",Re=new G(Ne,Ne);Ne=Re.next();)Ne.nodeType===3?_n+=y(Ne.data):ut(Ne)&&_n.length&&(Et.push(_n),_n="");return _n.length&&Et.push(_n),Et},Ge=function(Ne){return Ne.replace(/\u200B/g,"")},Me=function(Ne){return Ne.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},je=function(Ne,Be){var at=Ge(he(Ne,Be).join(`
`));return z(at.split(""),g).length},tt=function(Ne,Be){var at=he(Ne,Be).join("");return Me(at)},E=function(Ne,Be){var at=he(Ne,Be).join("").replace(/\s/g,"");return Me(at)},Ae=function(Ne,Be){return function(){return Be(Ne.getBody(),Ne.schema)}},Le=function(Ne,Be){return function(){return Be(Ne.selection.getRng().cloneContents(),Ne.schema)}},At=function(Ne){return Ae(Ne,je)},ze=function(Ne){return{body:{getWordCount:At(Ne),getCharacterCount:Ae(Ne,tt),getCharacterCountWithoutSpaces:Ae(Ne,E)},selection:{getWordCount:Le(Ne,je),getCharacterCount:Le(Ne,tt),getCharacterCountWithoutSpaces:Le(Ne,E)},getCount:At(Ne)}},ft=function(Ne,Be){Ne.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Be.body.getWordCount()),String(Be.selection.getWordCount())],["Characters (no spaces)",String(Be.body.getCharacterCountWithoutSpaces()),String(Be.selection.getCharacterCountWithoutSpaces())],["Characters",String(Be.body.getCharacterCount()),String(Be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Xe=function(Ne,Be){Ne.addCommand("mceWordCount",function(){return ft(Ne,Be)})},ct=tinymce.util.Tools.resolve("tinymce.util.Delay"),re=function(Ne,Be){Ne.fire("wordCountUpdate",{wordCount:{words:Be.body.getWordCount(),characters:Be.body.getCharacterCount(),charactersWithoutSpaces:Be.body.getCharacterCountWithoutSpaces()}})},Vt=function(Ne,Be){re(Ne,Be)},it=function(Ne,Be,at){var gt=ct.debounce(function(){return Vt(Ne,Be)},at);Ne.on("init",function(){Vt(Ne,Be),ct.setEditorTimeout(Ne,function(){Ne.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",gt)},0)})},Oe=function(Ne){var Be=function(){return Ne.execCommand("mceWordCount")};Ne.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Be}),Ne.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Be})};function dt(Ne){Ne===void 0&&(Ne=300),s.add("wordcount",function(Be){var at=ze(Be);return Xe(Be,at),Oe(Be),it(Be,at,Ne),at})}dt()})();const mue=Rr({name:"TinymceImageUpload",__name:"ImgUpload",props:{fullscreen:{type:Boolean},disabled:{type:Boolean,default:!1}},emits:["uploading","done","error"],setup(s,{emit:g}){const d=s,h=g;let y=!1;const{uploadUrl:k}=cW(),{t:x}=wc(),{prefixCls:T}=ow("tinymce-img-upload"),P=yt(()=>{const{disabled:B}=d;return{disabled:B}});function I(B){const D=B.file,F=D?.status,L=D?.response?.data,J=D?.name;F==="uploading"?y||(h("uploading",J),y=!0):F==="done"?(h("done",J,L),y=!1):F==="error"&&(h("error"),y=!1)}return(B,D)=>{const F=Zk("a-button");return Yr(),Ho("div",{class:um([Jt(T),{fullscreen:s.fullscreen}])},[ue(Jt(Gy),{name:"file",multiple:"",action:Jt(k),"show-upload-list":!1,accept:".jpg,.jpeg,.gif,.png,.webp",onChange:I},{default:wa(()=>[ue(F,Lu({type:"primary"},{...P.value}),{default:wa(()=>[Ni(tu(Jt(x)("component.upload.imgUpload")),1)]),_:1},16)]),_:1},8,["action"])],2)}}});const gue=vW(mue,[["__scopeId","data-v-c65703b2"]]),pue=["advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount"],hue=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],bue=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],yue=s=>bue.includes(s);function wue(s,g,d){Object.keys(g).filter(yue).forEach(h=>{const y=g[h];typeof y=="function"&&(h==="onInit"?y(s,d):d.on(h.substring(2),k=>y(k,d)))})}const Cue=["id"],Sue=Rr({name:"Tinymce",inheritAttrs:!1,__name:"Editor",props:{options:{type:Object,default:()=>({})},value:{type:String},toolbar:{type:Array,default:hue},plugins:{type:Array,default:pue},modelValue:{type:String},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"},showImageUpload:{type:Boolean,default:!0}},emits:["change","update:modelValue","inited","init-error"],setup(s,{emit:g}){const d=s,h=g,y=tw(),k=mn(null),x=mn(!1),T=mn(aH("tiny-vue")),P=mn(null),{prefixCls:I}=ow("tinymce-container"),B=qQ(),D=yt(()=>{const fe=d.width;return mW(fe)?`${fe}px`:fe}),F=yt(()=>B.getDarkMode==="light"?"oxide":"oxide-dark"),L=yt(()=>{const fe=KQ().getLocale.value;return["zh_CN","en"].includes(fe)?fe:"zh_CN"}),J=yt(()=>{const{height:fe,options:se,toolbar:Ce,plugins:oe}=d,z="/";return{selector:`#${Jt(T)}`,height:fe,toolbar:Ce,menubar:"file edit insert view format table",plugins:oe,language_url:`${z}resource/tinymce/langs/${L.value}.js`,language:L.value,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,skin:F.value,skin_url:`${z}resource/tinymce/skins/ui/${F.value}`,content_css:`${z}resource/tinymce/skins/ui/${F.value}/content.min.css`,...se,setup:G=>{k.value=G,G.on("init",he=>Z(he))}}}),_=yt(()=>{const{options:fe}=d,se=fe&&Reflect.get(fe,"readonly"),Ce=Jt(k);return Ce&&Ce.setMode(se?"readonly":"design"),se??!1});oa(()=>y.disabled,()=>{const fe=Jt(k);fe&&fe.setMode(y.disabled?"readonly":"design")}),cee(()=>{J.value.inline||(T.value=aH("tiny-vue")),nw(()=>{setTimeout(()=>{te()},30)})}),rp(()=>{U()}),GQ(()=>{U()});function U(){L7!==null&&L7?.remove?.(Jt(J).selector)}function te(){const fe=Jt(P);fe&&(fe.style.visibility=""),L7.init(Jt(J)).then(se=>{h("inited",se)}).catch(se=>{h("init-error",se)})}function Z(fe){const se=Jt(k);if(!se)return;const Ce=d.modelValue||"";se.setContent(Ce),Q(se),wue(fe,y,Jt(k))}function R(fe,se,Ce){fe&&typeof se=="string"&&se!==Ce&&se!==fe.getContent({format:y.outputFormat})&&fe.setContent(se)}function Q(fe){const se=y.modelEvents?y.modelEvents:null,Ce=Array.isArray(se)?se.join(" "):se;oa(()=>d.modelValue,(oe,z)=>{R(fe,oe,z)}),oa(()=>d.value,(oe,z)=>{R(fe,oe,z)},{immediate:!0}),fe.on(Ce||"change keyup undo redo",()=>{const oe=fe.getContent({format:y.outputFormat});h("update:modelValue",oe),h("change",oe)}),fe.on("FullscreenStateChanged",oe=>{x.value=oe.state})}function X(fe){const se=Jt(k);if(!se)return;se.execCommand("mceInsertContent",!1,xe(fe));const Ce=se?.getContent()??"";R(se,Ce)}function me(fe,se){const Ce=Jt(k);if(!Ce)return;const z=(Ce?.getContent()??"")?.replace(xe(fe),`<img src="${se}"/>`)??"";R(Ce,z)}function xe(fe){return`[uploading:${fe}]`}return(fe,se)=>(Yr(),Ho("div",{class:um(Jt(I)),style:mH({width:D.value})},[s.showImageUpload?uP((Yr(),wo(gue,{key:0,fullscreen:x.value,disabled:_.value,onUploading:X,onDone:me},null,8,["fullscreen","disabled"])),[[lP,k.value]]):pu("",!0),J.value.inline?Uv(fe.$slots,"default",{key:2}):(Yr(),Ho("textarea",{key:1,id:T.value,ref_key:"elRef",ref:P,style:{visibility:"hidden"}},null,8,Cue))],6))}});const xue=dW(Sue),Na=new Map;Na.set("Input",tp);Na.set("InputGroup",tp.Group);Na.set("InputPassword",tp.Password);Na.set("InputSearch",tp.Search);Na.set("InputTextArea",tp.TextArea);Na.set("InputNumber",bee);Na.set("AutoComplete",Ree);Na.set("ImageUpload",Hie);Na.set("Select",nP);Na.set("ApiSelect",yie);Na.set("ApiTree",wie);Na.set("TreeSelect",zj);Na.set("ApiTreeSelect",Cie);Na.set("ApiRadioGroup",hie);Na.set("Switch",yee);Na.set("RadioButtonGroup",bie);Na.set("RadioGroup",Xu.Group);Na.set("Checkbox",gP);Na.set("CheckboxGroup",gP.Group);Na.set("ApiCascader",Sie);Na.set("Cascader",pj);Na.set("Slider",dae);Na.set("Rate",Gre);Na.set("ApiTransfer",xie);Na.set("DatePicker",kP);Na.set("MonthPicker",kP.MonthPicker);Na.set("RangePicker",kP.RangePicker);Na.set("WeekPicker",kP.WeekPicker);Na.set("TimePicker",Hj);Na.set("TimeRangePicker",Hj.TimeRangePicker);Na.set("StrengthMeter",pee);Na.set("IconPicker",pie);Na.set("InputCountDown",JQ);Na.set("Upload",vue);Na.set("FileUpload",Rie);Na.set("Divider",AW);Na.set("Editor",xue);function ule(s,g){Na.set(s,g)}function lle(s){Na.delete(s)}const{t:z7}=wc();function sle(s){return s.includes("Input")||s.includes("Complete")?z7("common.inputText"):s.includes("Picker")||s.includes("Select")||s.includes("Cascader")||s.includes("Checkbox")||s.includes("Radio")||s.includes("Switch")?z7("common.chooseText"):""}const kue=["DatePicker","MonthPicker","WeekPicker","TimePicker"];function Tue(){return[...kue,"RangePicker"]}function cle(s,g,d){Reflect.has(s,"type")||(["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(g)?s.type=d?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(g)?s.type="array":["InputNumber"].includes(g)&&(s.type="number"))}function fle(s,g){return s&&["Input","InputPassword","InputSearch","InputTextArea"].includes(s)&&g&&mW(g)?`${g}`:g}const vle=Tue(),dle=["Input","InputPassword","InputSearch","InputTextArea"],mle=["Upload","ApiSelect","ApiTransfer","ApiTree","ApiTreeSelect","ApiRadioGroup","ApiCascader","AutoComplete","RadioButtonGroup"],Jj=Symbol("form-context");function gle(s){return YQ(s,Jj)}function Eue(){return XQ(Jj)}const ple=Rr({name:"BasicFormAction",__name:"FormAction",props:{showActionButtonGroup:rr.bool.def(!0),showResetButton:rr.bool.def(!0),showSubmitButton:rr.bool.def(!0),showAdvancedButton:rr.bool.def(!0),resetButtonOptions:{type:Object,default:()=>({})},submitButtonOptions:{type:Object,default:()=>({})},actionColOptions:{type:Object,default:()=>({})},actionSpan:rr.number.def(6),isAdvanced:rr.bool,hideAdvanceBtn:rr.bool},emits:["toggleAdvanced"],setup(s,{emit:g}){const d=s,h=g,y=uee.Item,{t:k}=wc(),x=yt(()=>{const{showAdvancedButton:F,actionSpan:L,actionColOptions:J}=d,_=24-L,U=F?{span:_<6?24:_}:{};return{style:{textAlign:"right"},span:F?6:4,...U,...J}}),T=yt(()=>Object.assign({text:k("common.resetText")},d.resetButtonOptions)),P=yt(()=>Object.assign({text:k("common.queryText")},d.submitButtonOptions));function I(){h("toggleAdvanced")}const{resetAction:B,submitAction:D}=Eue();return(F,L)=>s.showActionButtonGroup?(Yr(),wo(Jt(wee),Jg(Lu({key:0},x.value)),{default:wa(()=>[Wv("div",{style:mH([{width:"100%"},{textAlign:x.value.style.textAlign}])},[ue(Jt(y),null,{default:wa(()=>[Uv(F.$slots,"resetBefore"),s.showResetButton?(Yr(),wo(Jt(h7),Lu({key:0,type:"default",class:"mr-2"},T.value,{onClick:Jt(B)}),{default:wa(()=>[Ni(tu(T.value.text),1)]),_:1},16,["onClick"])):pu("",!0),Uv(F.$slots,"submitBefore"),s.showSubmitButton?(Yr(),wo(Jt(h7),Lu({key:1,type:"primary",class:"mr-2"},P.value,{onClick:Jt(D)}),{default:wa(()=>[Ni(tu(P.value.text),1)]),_:1},16,["onClick"])):pu("",!0),Uv(F.$slots,"advanceBefore"),s.showAdvancedButton&&!s.hideAdvanceBtn?(Yr(),wo(Jt(h7),{key:2,type:"link",size:"small",onClick:I},{default:wa(()=>[Ni(tu(s.isAdvanced?Jt(k)("component.form.putAway"):Jt(k)("component.form.unfold"))+" ",1),ue(Jt(ZQ),{class:"ml-1",expand:!s.isAdvanced,up:""},null,8,["expand"])]),_:1})):pu("",!0),Uv(F.$slots,"advanceAfter")]),_:3})],4)]),_:3},16)):pu("",!0)}}),hle={model:{type:Object,default:()=>({})},labelWidth:{type:[Number,String],default:0},fieldMapToTime:{type:Array,default:()=>[]},compact:rr.bool,schemas:{type:Array,default:()=>[]},mergeDynamicData:{type:Object,default:null},baseRowStyle:{type:Object},baseColProps:{type:Object},autoSetPlaceHolder:rr.bool.def(!0),autoSubmitOnEnter:rr.bool.def(!1),submitOnReset:rr.bool,submitOnChange:rr.bool,size:rr.oneOf(["default","small","large"]),disabled:rr.bool,emptySpan:{type:[Number,Object],default:0},showAdvancedButton:rr.bool,transformDateFunc:{type:Function,default:s=>s?.format?.("YYYY-MM-DD HH:mm:ss")??s},rulesMessageJoinLabel:rr.bool.def(!0),autoAdvancedLine:rr.number.def(3),alwaysShowLines:rr.number.def(1),showActionButtonGroup:rr.bool.def(!0),actionColOptions:Object,showResetButton:rr.bool.def(!0),autoFocusFirstItem:rr.bool,resetButtonOptions:Object,showSubmitButton:rr.bool.def(!0),submitButtonOptions:Object,resetFunc:Function,submitFunc:Function,hideRequiredMark:rr.bool,labelCol:Object,layout:rr.oneOf(["horizontal","vertical","inline"]).def("horizontal"),tableAction:{type:Object},wrapperCol:Object,colon:rr.bool,labelAlign:rr.string,rowProps:Object};export{rue as A,lne as B,cne as C,ole as D,ej as E,tle as F,une as G,NW as H,ile as I,zj as J,pj as K,Gre as L,Lae as M,mle as N,pie as O,ele as P,ule as Q,Jue as R,dae as S,Hj as T,Gy as U,vue as V,lle as W,Yj as _,sle as a,dle as b,Na as c,vle as d,hle as e,gle as f,ple as g,fle as h,Que as i,Bie as j,Zue as k,Xu as l,yie as m,Ree as n,Cie as o,kP as p,bie as q,hie as r,cle as s,rle as t,Yie as u,ale as v,nle as w,kj as x,See as y,dne as z};
