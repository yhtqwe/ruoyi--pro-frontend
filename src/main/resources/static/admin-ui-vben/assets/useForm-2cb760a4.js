import{cQ as Je,cR as Xe,cS as Ye,f as N,k as t,cT as Be,d as Oe,c as ze,al as Ze,ao as $,aD as Q,D as Ge,n as L,cU as Qe,cV as Fe,af as ie,E as et,bO as U,cW as tt,cX as nt,aE as W,cY as ee,cZ as re,c_ as Z,c$ as we,b9 as q,d0 as he,d1 as st,a6 as G,d2 as ot,aK as Ee,aw as rt,at as ce,X as Ce,d3 as Pe,d4 as ae,d5 as je,d6 as at,ar as it,aL as ct,B as Se,r as z,b as lt,C as ft,o as fe,j as Ie,w as se,au as oe,h as ut,s as ue,a$ as De,aH as de,aI as me,F as dt,be as mt,b5 as pt,d7 as ht,d8 as bt}from"./index-2b36f9e3.js";import{c as Ve,N as yt,a as Re,s as gt,h as vt,d as Le,b as At,e as Ft,f as wt,g as Ct}from"./BasicForm.vue_vue_type_style_index_0_lang-da06c4a7.js";import{F as _e}from"./index-4842c089.js";import{C as Te}from"./index-cc8e0e79.js";import{D as Pt}from"./index-e3989e7b.js";import{g as be}from"./get-8e17be71.js";import{u as St}from"./uniqBy-78d0ee5d.js";import{b as It}from"./index-ab29420a.js";import{R as Dt}from"./index-0edc0e06.js";function Vt(e,c,r){var o=e.length;return r=r===void 0?o:r,!c&&r>=o?e:Je(e,c,r)}var Rt="\\ud800-\\udfff",Tt="\\u0300-\\u036f",xt="\\ufe20-\\ufe2f",Bt="\\u20d0-\\u20ff",Ot=Tt+xt+Bt,Et="\\ufe0e\\ufe0f",jt="\\u200d",Lt=RegExp("["+jt+Rt+Ot+Et+"]");function $e(e){return Lt.test(e)}function _t(e){return e.split("")}var Ne="\\ud800-\\udfff",$t="\\u0300-\\u036f",Nt="\\ufe20-\\ufe2f",Mt="\\u20d0-\\u20ff",kt=$t+Nt+Mt,Wt="\\ufe0e\\ufe0f",Ut="["+Ne+"]",ye="["+kt+"]",ge="\\ud83c[\\udffb-\\udfff]",qt="(?:"+ye+"|"+ge+")",Me="[^"+Ne+"]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="\\u200d",Ue=qt+"?",qe="["+Wt+"]?",Kt="(?:"+Ht+"(?:"+[Me,ke,We].join("|")+")"+qe+Ue+")*",Jt=qe+Ue+Kt,Xt="(?:"+[Me+ye+"?",ye,ke,We,Ut].join("|")+")",Yt=RegExp(ge+"(?="+ge+")|"+Xt+Jt,"g");function zt(e){return e.match(Yt)||[]}function Zt(e){return $e(e)?zt(e):_t(e)}function Gt(e){return function(c){c=Xe(c);var r=$e(c)?Zt(c):void 0,o=r?r[0]:c.charAt(0),v=r?Vt(r,1).join(""):c.slice(1);return o[e]()+v}}var Qt=Gt("toUpperCase");const en=Qt;function xe(e,c){return e==null?!0:Ye(e,c)}function tn(e){return"slot"in e}function nn(e){return!tn(e)}function sn(e,c){return N(()=>{const r=t(e),{labelCol:o={},wrapperCol:v={}}=r.itemProps||{},{labelWidth:y,disabledLabelWidth:s}=r,{labelWidth:A,labelCol:b,wrapperCol:P,layout:R}=t(c);if(!A&&!y&&!b||s)return o.style={textAlign:"left"},{labelCol:o,wrapperCol:v};let h=y||A;const T={...b,...o},x={...P,...v};return h&&(h=Be(h)?`${h}px`:h),{labelCol:{style:{width:h},...T},wrapperCol:{style:{width:R==="vertical"?"100%":`calc(100% - ${h})`},...x}}})}function pe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Qe(e)}const on=Oe({name:"BasicFormItem",inheritAttrs:!1,props:{schema:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},allDefaultValues:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},tableAction:{type:Object},formActionType:{type:Object},isAdvanced:{type:Boolean}},setup(e,{slots:c}){const{t:r}=ze(),{schema:o,formProps:v}=Ze(e),y=sn(o,v),s=N(()=>{const{allDefaultValues:a,formModel:f,schema:l}=e,{mergeDynamicData:u}=e.formProps;return{field:l.field,model:f,values:{...u,...a,...f},schema:l}}),A=N(()=>{const{schema:a,tableAction:f,formModel:l,formActionType:u}=e;let{componentProps:m={}}=a;return $(m)&&(m=m({schema:a,tableAction:f,formModel:l,formActionType:u})??{}),a.component==="Divider"&&(m=Object.assign({type:"horizontal"},{orientation:"left",plain:!0},m)),m}),b=N(()=>{const{disabled:a}=e.formProps,{dynamicDisabled:f}=e.schema,{disabled:l=!1}=t(A);let u=!!a||l;return Q(f)&&(u=f),$(f)&&(u=f(t(s))),u});function P(){const{show:a,ifShow:f}=e.schema,{showAdvancedButton:l}=e.formProps,u=l&&Q(e.isAdvanced)?e.isAdvanced:!0;let m=!0,w=!0;return Q(a)&&(m=a),Q(f)&&(w=f),$(a)&&(m=a(t(s))),$(f)&&(w=f(t(s))),m=m&&u,{isShow:m,isIfShow:w}}function R(){const{rules:a=[],component:f,rulesMessageJoinLabel:l,label:u,dynamicRules:m,required:w}=e.schema;if($(m))return m(t(s));let C=U(a);const{rulesMessageJoinLabel:O}=e.formProps,D=(Reflect.has(e.schema,"rulesMessageJoinLabel")?l:O)?u:"",n=f?Re(f)+D:D;function i(d,g){const V=d.message||n;return g===void 0||nt(g)||Array.isArray(g)&&g.length===0||typeof g=="string"&&g.trim()===""||typeof g=="object"&&Reflect.has(g,"checked")&&Reflect.has(g,"halfChecked")&&Array.isArray(g.checked)&&Array.isArray(g.halfChecked)&&g.checked.length===0&&g.halfChecked.length===0?Promise.reject(V):Promise.resolve()}const I=$(w)?w(t(s)):w;I&&(!C||C.length===0?C=[{required:I,validator:i}]:C.findIndex(g=>Reflect.has(g,"required"))===-1&&C.push({required:I,validator:i}));const p=C.findIndex(d=>Reflect.has(d,"required")&&!Reflect.has(d,"validator"));if(p!==-1){const d=C[p],{isShow:g}=P();if(g||(d.required=!1),f){d.message=d.message||n,(f.includes("Input")||f.includes("Textarea"))&&(d.whitespace=!0);const V=t(A)?.valueFormat;gt(d,f,V)}}const F=C.findIndex(d=>d.max);return F!==-1&&!C[F].validator&&(C[F].message=C[F].message||r("component.form.maxTip",[C[F].max])),C}function h(){if(!nn(e.schema))return null;const{renderComponentContent:a,component:f,field:l,changeEvent:u="change",valueField:m}=e.schema,w=f&&["Switch","Checkbox"].includes(f),C=`on${en(u)}`,{autoSetPlaceHolder:O,size:E}=e.formProps,D={allowClear:!0,getPopupContainer:g=>g.parentNode.parentNode,size:E,...t(A),disabled:t(b)},n={[C]:(...g)=>{const[V]=g;D[C]&&D[C](...g);const H=V?V.target:null,K=H?w?H.checked:H.value:V;e.setFormModel(l,K,e.schema)}},i=Ve.get(f);!D.disabled&&O&&f!=="RangePicker"&&f&&(D.placeholder=t(A)?.placeholder||Re(f)),D.codeField=l,D.formValues=t(s);const p={[m||(w?"checked":"value")]:e.formModel[l]},F={...D,...n,...p};if(!a)return L(i,F,null);const d=$(a)?{...a(t(s),{disabled:t(b)})}:{default:()=>a};return L(i,F,pe(d)?d:{default:()=>[d]})}function T(){const{label:a,helpMessage:f,helpComponentProps:l,subLabel:u}=e.schema,m=u?L("span",null,[a," ",L("span",{class:"text-secondary"},[u])]):a,w=$(f)?f(t(s)):f;return!w||Array.isArray(w)&&w.length===0?m:L("span",null,[m,L(tt,ie({placement:"top",class:"mx-1",text:w},l),null)])}function x(){const{itemProps:a,slot:f,render:l,field:u,suffix:m,component:w}=e.schema,{labelCol:C,wrapperCol:O}=t(y),{colon:E}=e.formProps,D={disabled:t(b)};if(w==="Divider"){let n;return L(Te,{span:24},{default:()=>[L(Pt,t(A),pe(n=T())?n:{default:()=>[n]})]})}else{const n=()=>f?Fe(c,f,t(s),D):l?l(t(s),D):h(),i=!!m,I=$(m)?m(t(s)):m;return w&&yt.includes(w)&&e.schema&&(e.schema.itemProps={autoLink:!1,...e.schema.itemProps}),L(_e.Item,ie({name:u,colon:E,class:{"suffix-item":i}},a,{label:T(),rules:R(),labelCol:C,wrapperCol:O}),{default:()=>[L("div",{style:"display:flex"},[L("div",{style:"flex:1;"},[n()]),i&&L("span",{class:"suffix"},[I])])]})}}return()=>{let a;const{colProps:f={},colSlot:l,renderColContent:u,component:m,slot:w}=e.schema;if(!m||!Ve.has(m)&&!w)return null;const{baseColProps:C={}}=e.formProps,O={...C,...f},{isIfShow:E,isShow:D}=P(),n=t(s),i={disabled:t(b)};return E&&Ge(L(Te,O,pe(a=(()=>l?Fe(c,l,n,i):u?u(n,i):x())())?a:{default:()=>[a]}),[[et,D]])}}});function rn(e,c,r){const o=/^\[(.+)\]$/;if(o.test(e)){const v=e.match(o);if(v&&v[1]){const y=v[1].split(",");return c=Array.isArray(c)?c:[c],y.forEach((s,A)=>{Z(r,s.trim(),c[A])}),!0}}}function an(e,c,r){const o=/^\{(.+)\}$/;if(o.test(e)){const v=e.match(o);if(v&&v[1]){const y=v[1].split(",");return c=W(c)?c:{},y.forEach(s=>{Z(r,s.trim(),c[s.trim()])}),!0}}}function cn({defaultValueRef:e,getSchema:c,formModel:r,getProps:o}){function v(b){if(!W(b))return{};const P={};for(const R of Object.entries(b)){let[,h]=R;const[T]=R;if(!T||ee(h)&&h.length===0||$(h))continue;const x=t(o).transformDateFunc;W(h)&&(h=x?.(h)),ee(h)&&h[0]?.format&&h[1]?.format&&(h=h.map(a=>x?.(a))),re(h)&&(h===""?h=void 0:h=h.trim()),!rn(T,h,P)&&!an(T,h,P)&&Z(P,T,h)}return y(P)}function y(b){const P=t(o).fieldMapToTime;if(!P||!Array.isArray(P))return b;for(const[R,[h,T],x="YYYY-MM-DD"]of P){if(!R||!h||!T)continue;if(!be(b,R)){xe(b,R);continue}const[a,f]=be(b,R),[l,u]=Array.isArray(x)?x:[x,x];we(a)&&Z(b,h,s(a,l)),we(f)&&Z(b,T,s(f,u)),xe(b,R)}return b}function s(b,P){return P==="timestamp"?q(b).unix():P==="timestampStartDay"?q(b).startOf("day").unix():q(b).format(P)}function A(){const b=t(c),P={};b.forEach(R=>{const{defaultValue:h,defaultValueObj:T}=R,x=Object.keys(T||{});x.length&&x.map(a=>{P[a]=T[a],r[a]===void 0&&(r[a]=T[a])}),he(h)||(P[R.field]=h,r[R.field]===void 0&&(r[R.field]=h))}),e.value=U(P)}return{handleFormValues:v,initDefault:A}}const Y=24;function ln({advanceState:e,emit:c,getProps:r,getSchema:o,formModel:v,defaultValueRef:y}){const s=rt(),{realWidthRef:A,screenEnum:b,screenRef:P}=st(),R=N(()=>{if(!e.isAdvanced)return 0;const l=t(r).emptySpan||0;if(Be(l))return l;if(W(l)){const{span:u=0}=l,m=t(P);return l[m.toLowerCase()]||u||0}return 0}),h=Ee(a,30);G([()=>t(o),()=>e.isAdvanced,()=>t(A)],()=>{const{showAdvancedButton:l}=t(r);l&&h()},{immediate:!0});function T(l,u=0,m=!1){const w=t(A),C=Number.parseInt(l.md)||Number.parseInt(l.xs)||Number.parseInt(l.sm)||l.span||Y,O=Number.parseInt(l.lg)||C,E=Number.parseInt(l.xl)||O,D=Number.parseInt(l.xxl)||E;return w<=b.LG?u+=C:w<b.XL?u+=O:w<b.XXL?u+=E:u+=D,m?(e.hideAdvanceBtn=!1,u<=Y*2?(e.hideAdvanceBtn=!0,e.isAdvanced=!0):u>Y*2&&u<=Y*(t(r).autoAdvancedLine||3)?e.hideAdvanceBtn=!1:e.isLoad||(e.isLoad=!0,e.isAdvanced=!e.isAdvanced),{isAdvanced:e.isAdvanced,itemColSum:u}):u>Y*(t(r).alwaysShowLines||1)?{isAdvanced:e.isAdvanced,itemColSum:u}:{isAdvanced:!0,itemColSum:u}}const x=ot({});function a(){let l=0,u=0;const{baseColProps:m={}}=t(r);for(const w of t(o)){const{show:C,colProps:O}=w;let E=!0;if(Q(C)&&(E=C),$(C)&&(E=C({schema:w,model:v,field:w.field,values:{...t(y),...v}})),E&&(O||m)){const{itemColSum:D,isAdvanced:n}=T({...m,...O},l);l=D||0,n&&(u=l),x[w.field]=n}}s?.proxy?.$forceUpdate(),e.actionSpan=u%Y+t(R),T(t(r).actionColOptions||{span:Y},l,!0),c("advanced-change")}function f(){e.isAdvanced=!e.isAdvanced}return{handleToggleAdvanced:f,fieldsIsAdvancedMap:x}}function fn(e,c={}){const r=/^\[(.+)\]$/;if(r.test(e)){const o=e.match(r);if(o&&o[1]){const v=o[1].split(",");if(!v.length)return;const y=[];return v.forEach((s,A)=>{Z(y,A,c[s.trim()])}),y.filter(Boolean).length?y:void 0}}}function un(e,c={}){const r=/^\{(.+)\}$/;if(r.test(e)){const o=e.match(r);if(o&&o[1]){const v=o[1].split(",");if(!v.length)return;const y={};return v.forEach(s=>{Z(y,s.trim(),c[s.trim()])}),Object.values(y).filter(Boolean).length?y:void 0}}}function dn({emit:e,getProps:c,formModel:r,getSchema:o,defaultValueRef:v,formElRef:y,schemaRef:s,handleFormValues:A}){async function b(){const{resetFunc:n,submitOnReset:i}=t(c);n&&$(n)&&await n(),t(y)&&(Object.keys(r).forEach(p=>{const F=t(o).find(V=>V.field===p),d=F?.defaultValueObj,g=Object.keys(d||{});g.length&&g.map(V=>{r[V]=d[V]}),r[p]=mn(F,v,p)}),ce(()=>O()),e("reset",Ce(r)),i&&D())}const P=()=>t(o).map(n=>[...n.fields||[],n.field]).flat(1).filter(Boolean);async function R(n){const i=P(),I=".",p=i.filter(d=>String(d).includes(I)),F=[];i.forEach(d=>{const g=t(o).find(j=>j.field===d);let V=be(n,d);const H=Reflect.has(n,d);V=vt(g?.component,V);const{componentProps:K}=g||{};let J=K;typeof K=="function"&&(J=J({formModel:t(r)}));const te=fn(d,n)||un(d,n);if(H||te){const j=te||V;if(m(d))if(Array.isArray(j)){const M=[];for(const X of j)M.push(X?q(X):null);t(r)[d]=M}else t(r)[d]=j?J?.valueFormat?j:q(j):null;else t(r)[d]=j;J?.onChange&&J?.onChange(j),F.push(d)}else p.forEach(j=>{try{const M=j.split(".").reduce((X,le)=>X[le],n);Pe(M)&&(t(r)[j]=t(M),F.push(j))}catch{Pe(v.value[j])&&(t(r)[j]=U(t(v.value[j])))}})}),w(F).catch(d=>{})}async function h(n){const i=U(t(o));if(!n)return;let I=re(n)?[n]:n;re(n)&&(I=[n]);for(const p of I)T(p,i);s.value=i}function T(n,i){if(re(n)){const I=i.findIndex(p=>p.field===n);I!==-1&&(delete r[n],i.splice(I,1))}}async function x(n,i,I=!1){const p=U(t(o)),F=Array.isArray(n)?n.map(V=>V.field):[n.field];if(p.find(V=>F.includes(V.field))){ae("There are schemas that have already been added");return}const d=p.findIndex(V=>V.field===i),g=W(n)?[n]:n;if(!i||d===-1||I){I?p.unshift(...g):p.push(...g),s.value=p,l(n);return}d!==-1&&p.splice(d+1,0,...g),l(n),s.value=p}async function a(n){let i=[];if(W(n)&&i.push(n),ee(n)&&(i=[...n]),!i.every(p=>p.component==="Divider"||Reflect.has(p,"field")&&p.field)){ae("All children of the form Schema array that need to be updated must contain the `field` field");return}s.value=i}async function f(n){let i=[];if(W(n)&&i.push(n),ee(n)&&(i=[...n]),!i.every(F=>F.component==="Divider"||Reflect.has(F,"field")&&F.field)){ae("All children of the form Schema array that need to be updated must contain the `field` field");return}const p=[];t(o).forEach(F=>{let d;if(i.forEach(g=>{F.field===g.field&&(d=g)}),d!==void 0&&F.field===d.field){const g=je(F,d);p.push(g)}else p.push(F)}),l(p),s.value=St(p,"field")}function l(n){let i=[];W(n)&&i.push(n),ee(n)&&(i=[...n]);const I={},p=u();i.forEach(F=>{F.component!=="Divider"&&Reflect.has(F,"field")&&F.field&&!he(F.defaultValue)&&(!(F.field in p)||he(p[F.field])||at(p[F.field]))&&(I[F.field]=F.defaultValue)}),R(I)}function u(){return t(y)?A(Ce(t(r))):{}}function m(n){return t(o).some(i=>i.field===n&&i.component?Le.includes(i.component):!1)}async function w(n){const i=t(y)?.validateFields(n);return A(i)}async function C(n){let i;n===void 0?i=P():i=n===Array.isArray(n)?n:void 0;const I=await t(y)?.validate(i);return A(I)}async function O(n){await t(y)?.clearValidate(n)}async function E(n,i){await t(y)?.scrollToField(n,i)}async function D(n){n&&n.preventDefault();const{submitFunc:i}=t(c);if(i&&$(i)){await i();return}if(t(y))try{const p=await C();e("submit",p)}catch(p){if(p?.outOfDate===!1&&p?.errorFields)return;throw new Error(p)}}return{handleSubmit:D,clearValidate:O,validate:C,validateFields:w,getFieldsValue:u,updateSchema:f,resetSchema:a,appendSchemaByField:x,removeSchemaByField:h,resetFields:b,setFieldsValue:R,scrollToField:E}}function mn(e,c,r){let o=U(c.value[r]);return hn(e)?o||"":(!o&&e&&pn(e)&&(o=[0,0]),!o&&e&&e.component==="ApiTree"&&(o=[]),o)}function pn(e){if(e.component==="Slider"&&e.componentProps&&"range"in e.componentProps)return!0}function hn(e){return e?.component&&At.includes(e.component)}function bn({getSchema:e,getProps:c,formElRef:r,isInitedDefault:o}){it(async()=>{if(t(o)||!t(c).autoFocusFirstItem)return;await ce();const v=t(e),y=t(r),s=y?.$el;if(!y||!s||!v||v.length===0)return;const A=v[0];if(!A.component||!A.component.includes("Input"))return;const b=s.querySelector(".ant-row:first-child input");b&&b?.focus()})}const In=Oe({name:"BasicForm",__name:"BasicForm",props:Ft,emits:["advanced-change","reset","submit","register","field-value-change"],setup(e,{emit:c}){const r=e,o=c,v=ct(),y=Se({}),s=It(),A=Se({isAdvanced:!0,hideAdvanceBtn:!1,isLoad:!1,actionSpan:6}),b=z({}),P=z(!1),R=z(),h=z(null),T=z(null),{prefixCls:x}=lt("basic-form"),a=N(()=>({...r,...t(R)})),f=N(()=>[x,{[`${x}--compact`]:t(a).compact}]),l=N(()=>{const{baseRowStyle:S={},rowProps:_}=t(a);return{style:S,..._}}),u=N(()=>({...v,...r,...t(a)})),m=N(()=>{const S=t(h)||t(a).schemas;for(const _ of S){const{defaultValue:B,component:k,componentProps:ne,isHandleDateDefaultValue:He=!0}=_,ve=ne?ne.valueFormat:null;if(He&&B&&k&&Le.includes(k))if(!Array.isArray(B))_.defaultValue=ve?q(B).format(ve):q(B);else{const Ae=[];B.forEach(Ke=>{Ae.push(q(Ke))}),_.defaultValue=Ae}}return t(a).showAdvancedButton?U(S.filter(_=>_.component!=="Divider")):U(S)}),{handleToggleAdvanced:w,fieldsIsAdvancedMap:C}=ln({advanceState:A,emit:o,getProps:a,getSchema:m,formModel:y,defaultValueRef:b}),{handleFormValues:O,initDefault:E}=cn({getProps:a,defaultValueRef:b,getSchema:m,formModel:y});bn({getSchema:m,getProps:a,isInitedDefault:P,formElRef:T});const{handleSubmit:D,setFieldsValue:n,clearValidate:i,validate:I,validateFields:p,getFieldsValue:F,updateSchema:d,resetSchema:g,appendSchemaByField:V,removeSchemaByField:H,resetFields:K,scrollToField:J}=dn({emit:o,getProps:a,formModel:y,getSchema:m,defaultValueRef:b,formElRef:T,schemaRef:h,handleFormValues:O});wt({resetAction:K,submitAction:D}),G(()=>t(a).model,()=>{const{model:S}=t(a);S&&n(S)},{immediate:!0}),G(()=>t(a).schemas,S=>{g(S??[])}),G(()=>m.value,S=>{ce(()=>{s?.redoModalHeight?.()}),!t(P)&&S?.length&&(E(),P.value=!0)}),G(()=>y,Ee(()=>{t(a).submitOnChange&&D()},300),{deep:!0});async function te(S){R.value=je(t(R)||{},S)}function j(S,_,B){y[S]=_,o("field-value-change",S,_),B&&B.itemProps&&!B.itemProps.autoLink&&p([S]).catch(k=>{})}function M(S){const{autoSubmitOnEnter:_}=t(a);if(_&&S.key==="Enter"&&S.target&&S.target instanceof HTMLElement){const B=S.target;B&&B.tagName&&B.tagName.toUpperCase()==="INPUT"&&D()}}const X={getFieldsValue:F,setFieldsValue:n,resetFields:K,updateSchema:d,resetSchema:g,setProps:te,removeSchemaByField:H,appendSchemaByField:V,clearValidate:i,validateFields:p,validate:I,submit:D,scrollToField:J};ft(()=>{E(),o("register",X)});const le=N(()=>({...a.value,...A}));return(S,_)=>(fe(),Ie(t(_e),ie(u.value,{ref_key:"formElRef",ref:T,class:f.value,model:y,onKeypress:mt(M,["enter"])}),{default:se(()=>[L(t(Dt),de(me(l.value)),{default:se(()=>[oe(S.$slots,"formHeader"),(fe(!0),ut(dt,null,ue(m.value,B=>(fe(),Ie(on,{key:B.field,"is-advanced":t(C)[B.field],"table-action":S.tableAction,"form-action-type":X,schema:B,"form-props":a.value,"all-default-values":b.value,"form-model":y,"set-form-model":j},De({_:2},[ue(Object.keys(S.$slots),k=>({name:k,fn:se(ne=>[oe(S.$slots,k,de(me(ne||{})))])}))]),1032,["is-advanced","table-action","form-action-type","schema","form-props","all-default-values","form-model"]))),128)),L(Ct,ie(le.value,{onToggleAdvanced:t(w)}),De({_:2},[ue(["resetBefore","submitBefore","advanceBefore","advanceAfter"],B=>({name:B,fn:se(k=>[oe(S.$slots,B,de(me(k||{})))])}))]),1040,["onToggleAdvanced"]),oe(S.$slots,"formFooter")]),_:3},16)]),_:3},16,["class","model","onKeypress"]))}});function Dn(e){const c=z(null),r=z(!1);async function o(){const s=t(c);return s||ae("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await ce(),s}function v(s){pt(()=>{c.value=null,r.value=null}),!(t(r)&&ht()&&s===t(c))&&(c.value=s,r.value=!0,G(()=>e,()=>{e&&s.setProps(bt(e))},{immediate:!0,deep:!0}))}return[v,{scrollToField:async(s,A)=>{(await o()).scrollToField(s,A)},setProps:async s=>{(await o()).setProps(s)},updateSchema:async s=>{(await o()).updateSchema(s)},resetSchema:async s=>{(await o()).resetSchema(s)},clearValidate:async s=>{(await o()).clearValidate(s)},resetFields:async()=>{await(await o()).resetFields()},removeSchemaByField:async s=>{await t(c)?.removeSchemaByField(s)},getFieldsValue:()=>t(c)?.getFieldsValue(),setFieldsValue:async s=>{(await o()).setFieldsValue(s)},appendSchemaByField:async(s,A,b)=>{(await o()).appendSchemaByField(s,A,b)},submit:async()=>(await o()).submit(),validate:async s=>(await o()).validate(s),validateFields:async s=>(await o()).validateFields(s)}]}export{In as _,Dn as u};
